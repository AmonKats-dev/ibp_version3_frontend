/*! For license information please see main.7ad101e0.chunk.js.LICENSE.txt */
(this["webpackJsonpibp-ui-v2"]=this["webpackJsonpibp-ui-v2"]||[]).push([[0],{1152:function(e,t,a){e.exports=a(1841)},1156:function(e,t,a){},1221:function(e,t,a){e.exports=a.p+"static/media/logo.76932b8f.png"},1222:function(e,t,a){},1393:function(e,t,a){},1469:function(e,t){},1841:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(41),i=a.n(o),l=(a(1156),a(2056)),c=a(2055),s=a(2061),u=a(11),d="token",m=a(713),p=a.n(m),f=a(952),_=a(953),g=a(954),h=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL||"http://ibpdemo-api.finance.go.ug/api/v1",v=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_ADMIN_API_URL,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_STATIC_URL||"http://ibpdemo.finance.go.ug"),b=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_APP_CONFIG||"ug",E={ug:_,jm:g,mzb:f};function j(){return E[b]}var y=function(e){return{type:"SET_USER_INFORMATION",payload:e}},O=a(198),w=a(2),x=a.n(w),k=a(9),S=a.n(k),P=function(e){var t=localStorage.getItem(d),a={};return a.headers||(a.headers=new Headers({Accept:"application/json"})),t&&a.headers.set("Authorization","Bearer ".concat(t)),O.a.fetchJson(e,a)},C={switchRole:function(e){var t=e.role_id,a=e.success,n=localStorage.getItem(d),r=new Request("".concat(h,"/auth/switch"),{method:"POST",body:JSON.stringify({role_id:t}),headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer ".concat(n)})});return fetch(r).then((function(e){if(401===e.status)throw new Error("Incorrect role identity.");if(e.status<200||e.status>=300)throw new Error(e.statusText);return e.json()})).then((function(e){var t=e.access_token,n=e.refresh_token;if(t){var r=p()(t);return localStorage.setItem(d,t),localStorage.setItem("refresh_token",n),P("".concat(h,"/users/me")).then((function(e){if(200===e.status){var t=e.json,n=t.user_roles,o=t.organization,i=Object(u.a)(Object(u.a)({},r.identity),{},{organization:o}),l=x.a.find(n,(function(e){return i.current_role&&e.role_id===i.current_role.role_id}));l&&localStorage.setItem("permissions",JSON.stringify(l.role.permissions)),localStorage.setItem("user",JSON.stringify(i)),a(y(i)),window.location.href="/"}}))}throw new Error("Incorrect username and password.")}))},login:function(e){var t=e.username,a=e.password,n=e.success,r=new Request("".concat(h,"/auth/login"),{method:"POST",body:JSON.stringify({username:t,password:a}),headers:new Headers({"Content-Type":"application/json"})});return fetch(r).then((function(e){if(401===e.status)throw new Error("Incorrect username and password.");if(e.status<200||e.status>=300)throw new Error(e.statusText);return e.json()})).then((function(e){var t=e.access_token,a=e.refresh_token;if(e.password_expired)throw n.reset(t),new Error("password_expired");if(t){var r=p()(t);return localStorage.setItem(d,t),localStorage.setItem("refresh_token",a),localStorage.removeItem("isResetPassword"),P("".concat(h,"/users/me")).then((function(e){if(200===e.status){var t=e.json,a=t.user_roles,o=t.organization,i=Object(u.a)(Object(u.a)({},r.identity),{},{organization:o}),l=x.a.find(a,(function(e){return i.current_role&&e.role_id===i.current_role.role_id}));return l&&localStorage.setItem("permissions",JSON.stringify(l.role.permissions)),localStorage.setItem("user",JSON.stringify(i)),n.dispatch(y(i)),!0}}))}throw new Error("Incorrect username and password.")}))},logout:function(){return localStorage.removeItem("refresh_token"),localStorage.removeItem(d),localStorage.removeItem("user"),localStorage.removeItem("permissions"),localStorage.removeItem("isAuthenticated"),localStorage.removeItem("ganttChartInit"),localStorage.removeItem("refresh_time"),localStorage.removeItem("isResetPassword"),localStorage.removeItem("validation"),Promise.resolve()},checkError:function(e){var t=e.status;return 401===t||403===t?(localStorage.removeItem("token"),Promise.reject()):Promise.resolve()},checkAuth:function(){return localStorage.getItem(d)?Promise.resolve():Promise.reject({redirectTo:"/no-access"})},getPermissions:function(){var e=localStorage.getItem("permissions");return e?Promise.resolve(e):Promise.resolve([])},refreshToken:function(){var e=new Request("".concat(h,"/auth/refresh"),{method:"POST",headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("refresh_token"))})});return fetch(e).then((function(e){if(e.status<200||e.status>=300)throw new Error(e.statusText);return e.json()})).then((function(e){var t=e.access_token;e.refresh_token;if(t)return localStorage.setItem(d,t),localStorage.setItem("refresh_time",S()().add("minutes",2)),t;throw new Error("Incorrect username and password.")}))}},N=a(6),A=(a(82),a(79)),D=a(19),T=a(4),F=a(1947),R=a(316),I=["name","onChange"],M=j();function W(e,t){return!!e&&(!!JSON.parse(e).includes("full_access")||JSON.parse(e).includes(t))}function L(){var e=Object(F.a)(),t=e.isLoading,a=e.permissions;return Object(n.useCallback)((function(e){if(!e)return!0;if(!t&&a){if(JSON.parse(a).includes("full_access"))return!0;if(Array.isArray(e)){var n=x.a.intersection(JSON.parse(a),e);return(null===n||void 0===n?void 0:n.length)>0}return JSON.parse(a).includes(e)}return!1}),[t,a])}function Y(e,t){if(M&&M.features_config&&M.features_config[e]){if(M.features_config[e].is_global)return!0;if(x.a.isArray(M.features_config[e].step))return M.features_config[e].step.includes(t);if(Number(M.features_config[e].step)===Number(t))return!0}return!1}var B=function(e){var t=Object(R.a)(e).input,a=(t.name,t.onChange);Object(T.a)(t,I);return a};function z(e,t){return!(!Y(e,t)||!M.features_config[e].value)&&M.features_config[e].value}var q=[{resource:"indicators",source:"",field:"targets"},{resource:"outputs",source:"indicators",field:"targets"},{resource:"outcomes",source:"indicators",field:"targets"}],U=[{resource:"outputs",source:"investments",field:"costs"},{resource:"activities",source:"investments",field:"costs"},{resource:"me_releases",source:"",field:"donor_funded"},{resource:"me_releases",source:"",field:"government_funded"},{resource:"project_options",source:"",field:"capital_expenditure"},{resource:"project_options",source:"",field:"om_cost"},{resource:"budget_allocation",source:"",field:"gov"},{resource:"budget_allocation",source:"",field:"donor"},{resource:"om_costs",source:"",field:"costs"}],V=function(e){var t=["sector","vote","vote_function","ministry","public_body"];x.a.keys(e).includes("q")&&(e.name=e.q);var a=Object(u.a)({},e);return Object.keys(e).forEach((function(n){t.includes(n)&&(a=Object(u.a)(Object(u.a)({},a),{},{organization_id:e[n]}))})),a},G=function(e){return e.project_options?(e.project_options=e.project_options.map((function(e){return e.building_blocks&&e.building_blocks.forEach((function(t){e[t.module_type.toLowerCase()]=Object(u.a)({},t)})),e})),e):e};function H(e,t){var a=function(e){if(Y("has_pimis_fields")&&e.ndp_outcome_ids){var t=x.a.cloneDeep(e.ndp_outcome_ids);e.ndp_outcome_ids=t.join(",")}return e}(function(e){if(Y("has_pimis_fields")&&e.locations){var t=x.a.cloneDeep(e.locations),a=[];return t&&t.forEach((function(e){77===e.location_parent_id&&0===e.location_ids.length&&e.location_ids.push(e.location_parent_id),e.location_ids&&e.location_ids.length>0&&(a=[].concat(Object(D.a)(a),Object(D.a)(e.location_ids.map((function(t){return{location_id:t,name:e.location&&e.location.name||e.name}})))))})),a&&a.length>0&&(e.locations=a),e}if(Y("has_ibp_fields")&&e.locations){var n=x.a.cloneDeep(e.locations),r=[];return n&&n.forEach((function(e){e.location_ids&&e.location_ids.length>0&&(r=[].concat(Object(D.a)(r),Object(D.a)(e.location_ids.map((function(t){return{location_id:t,name:e.location&&e.location.name||e.name}})))))})),r&&r.length>0&&(e.locations=r),e}return e}(function(e){if(Y("project_locations_multiselect_input")){if(!e.locations)return e;var t=e.locations.map((function(e){return e&&!e.location_id?{location_id:Number(e)}:{location_id:Number(e.location_id)}}));return x.a.isEmpty(t)||(e.locations=t),e}return e}(function(e){if(!e.om_cost)return e;var t={};return x.a.keys(e.om_cost).forEach((function(a){-1!==a.indexOf("y")&&(t[a.slice(0,-1)]=e.om_cost[a])})),x.a.isEmpty(t)||(e.om_cost=t),e}(function(e){var t=["demand_module","technical_module","environmental_module","hr_module","legal_module"];return e.project_options?(e.project_options=e.project_options.map((function(e){return e.building_blocks=[],t.forEach((function(t){e[t]&&e.building_blocks.push(Object(u.a)({module_type:t.toUpperCase()},e[t]))})),0===e.building_blocks.length&&delete e.building_blocks,e})),e):e}(function(e,t){return t.forEach((function(t){if(e[t.resource])if(t.field)x.a.isArray(e[t.resource])&&e[t.resource].forEach((function(e){if(e)if(t.source)e[t.source]&&(e[t.source]=e[t.source].map((function(e){var a={};return e&&t.field&&e[t.field]&&x.a.keys(e[t.field]).forEach((function(n){-1!==n.indexOf("y")&&(a[n.slice(0,-1)]=e[t.field][n])})),x.a.isEmpty(a)||(e[t.field]=a),e})));else{var a={};t.field&&e[t.field]&&x.a.keys(e[t.field]).forEach((function(n){-1!==n.indexOf("y")&&(a[n.slice(0,-1)]=e[t.field][n])})),x.a.isEmpty(a)||(e[t.field]=a)}return e}));else{var a={};x.a.keys(e[t.resource]).forEach((function(n){-1!==n.indexOf("y")&&(a[n.slice(0,-1)]=e[t.resource][n])})),x.a.isEmpty(a)||(e[t.resource]=a)}})),e}(e,Y("has_pimis_fields")?U:[].concat(U,q)))))));return function(e){var t,a,n,r,o,i,l,c;if(!Y("has_pimis_fields"))return e;var s=x.a.cloneDeep(e),u=null===(t=e.outcomes)||void 0===t?void 0:t.map((function(e){return e.id})),d=null===(a=e.outputs)||void 0===a?void 0:a.map((function(e){return e.id})),m=null===(n=e.components)||void 0===n?void 0:n.map((function(e){return e.id})),p=e.components?w.concat.apply(void 0,Object(D.a)(null===(r=e.components)||void 0===r?void 0:r.map((function(e){var t;return e.subcomponents?null===(t=e.subcomponents)||void 0===t?void 0:t.map((function(e){return e.id})):[]})))):[],f=null===(o=e.implementing_agencies)||void 0===o?void 0:o.map((function(e){return e.organization_id}));return e.outputs=null===(i=s.outputs)||void 0===i?void 0:i.map((function(e){var t;e.outcome_ids&&(e.outcome_ids=null===(t=e.outcome_ids)||void 0===t?void 0:t.filter((function(e){return u.includes(e)})));return e.subcomponent_id&&(e.subcomponent_id=p.includes(e.subcomponent_id)?e.subcomponent_id:null),e.component_id&&(e.component_id=m.includes(e.component_id)?e.component_id:null),e})),e.activities=null===(l=s.activities)||void 0===l?void 0:l.map((function(e){var t;e.output_ids&&(e.output_ids=null===(t=e.output_ids)||void 0===t?void 0:t.filter((function(e){return d.includes(e)})));return e})),e.components=null===(c=s.components)||void 0===c?void 0:c.map((function(e){var t;e.organization_ids&&(e.organization_ids=null===(t=e.organization_ids)||void 0===t?void 0:t.filter((function(e){return f.includes(e)})));return e})),console.log(e,"valuesvaluesvalues"),e}(t?function(e){if(Y("has_pimis_fields")){var t=x.a.cloneDeep(e);return e.indicators&&delete e.indicators,e.outcomes&&(e.outcomes=t.outcomes.map((function(e){return delete e.indicators,e}))),e.outputs&&(e.outputs=t.outputs.map((function(e){return delete e.indicators,e}))),e}return e}(a):a)}function J(e){var t=function(e,t){return t.forEach((function(t){if(e[t.resource])if(t.field)x.a.isArray(e[t.resource])&&e[t.resource].forEach((function(e){if(e)if(t.source)e[t.source]&&(e[t.source]=e[t.source].map((function(e){var a={};return e&&x.a.keys(e[t.field]).forEach((function(n){-1===n.indexOf("y")&&(a[n+"y"]=e[t.field][n])})),x.a.isEmpty(a)||(e[t.field]=a),e})));else{var a={};e&&x.a.keys(e[t.field]).forEach((function(n){-1===n.indexOf("y")&&(a[n+"y"]=e[t.field][n])})),x.a.isEmpty(a)||(e[t.field]=a)}return e}));else if(!t.source){var a={};e&&x.a.keys(e[t.resource]).forEach((function(n){-1===n.indexOf("y")&&(a[n+"y"]=e[t.resource][n])})),x.a.isEmpty(a)||(e[t.resource]=a)}})),e}(e,Y("has_pimis_fields")?U:[].concat(U,q));return function(e){if(Y("has_pimis_fields")&&e.ndp_outcome_ids){var t=x.a.cloneDeep(e.ndp_outcome_ids);e.ndp_outcome_ids=t.split(",").map((function(e){return Number(e)}))}return e}(function(e){if(Y("has_pimis_fields")&&e.locations&&e.locations.length>0){var t=x.a.cloneDeep(e.locations.map((function(e){return 77===e.location_id?Object(u.a)(Object(u.a)({},e),{},{name:e.location&&e.location.name,parent_id:e.location_id}):Object(u.a)(Object(u.a)({},e),{},{name:e.location&&e.location.name,parent_id:e.location&&e.location.parent_id})}))),a=x.a.groupBy(t,"parent_id");return x.a.keys(a)&&x.a.keys(a).length>0&&(e.locations=x.a.keys(a).map((function(e){return{location_parent_id:e,location_ids:a[e].map((function(e){return e.location_id})),name:a[e].map((function(e){return e.location&&e.location.name}))}}))),e}if(Y("has_ibp_fields")&&e.locations&&e.locations.length>0){var n=x.a.cloneDeep(e.locations.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{name:e.location&&e.location.name,parent_id:e.location&&e.location.parent_id})}))),r=x.a.groupBy(n,"parent_id");return x.a.keys(r)&&x.a.keys(r).length>0&&(e.locations=x.a.keys(r).map((function(e){return{location_parent_id:e,location_ids:r[e].map((function(e){return e.location_id})),name:r[e].map((function(e){return e.location&&e.location.name}))}}))),e}return e}(function(e){if(Y("project_locations_multiselect_input")){if(!e.locations)return e;var t=e.locations.map((function(e){return e&&e.location_id}));x.a.isEmpty(t)||(e.locations=t)}return e}(function(e){if(!e.om_cost)return e;var t={};return x.a.keys(e.om_cost).forEach((function(a){-1===a.indexOf("y")&&(t[a+"y"]=e.om_cost[a])})),x.a.isEmpty(t)||(e.om_cost=t),e}(G(t)))))}var X=function(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e instanceof File?e:e.rawFile),n.onload=function(){return t({src:n.result,title:e.name})},n.onerror=a}))},$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=localStorage.getItem(d);return t.headers||(t.headers=new Headers({Accept:"application/json"})),a&&t.headers.set("Authorization","Bearer ".concat(a)),fetch(e,t)},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=localStorage.getItem(d);return t.headers||(t.headers=new Headers({Accept:"application/json"})),a&&t.headers.set("Authorization","Bearer ".concat(a)),O.a.fetchJson(e,t)},Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K;return{getSubQuery:function(a,n){var r="".concat(e,"/").concat(a,"/").concat(n.id,"/").concat(n.entryPoint);return t(r).then((function(e){var t=e.headers,a=e.json;if(!t.has("content-range"))throw new Error("The Content-Range header is missing in the HTTP Response. The simple REST data provider expects responses for lists of resources to contain this header with the total number of results to build the pagination. If you are using CORS, did you declare Content-Range in the Access-Control-Expose-Headers header?");return{data:a,total:parseInt(t.get("content-range").split("/").pop(),10)}}))},getListOfAll:function(a,n){var r={page:1,per_page:-1,sort_field:n.sort_field||"name",sort_order:n.sort_order||"ASC"};n.filter&&(r.filter=JSON.stringify(n.filter));var o="".concat(e,"/").concat(a,"?").concat(Object(A.stringify)(r));return t(o).then((function(e){var t=e.headers,a=e.json;if(!t.has("content-range"))throw new Error("The Content-Range header is missing in the HTTP Response. The simple REST data provider expects responses for lists of resources to contain this header with the total number of results to build the pagination. If you are using CORS, did you declare Content-Range in the Access-Control-Expose-Headers header?");return{data:a,total:parseInt(t.get("content-range").split("/").pop(),10)}}))},getList:function(a,n){var r=n.pagination,o=r.page,i=r.perPage,l=n.sort,c={sort_field:l.field,sort_order:l.order,page:o,per_page:i,filter:JSON.stringify(V(n.filter))},s="".concat(e,"/").concat(a,"?").concat(Object(A.stringify)(c));return t(s).then((function(e){var t,a,r,o=e.headers,i=e.json;if(!o.has("content-range"))throw new Error("The Content-Range header is missing in the HTTP Response. The simple REST data provider expects responses for lists of resources to contain this header with the total number of results to build the pagination. If you are using CORS, did you declare Content-Range in the Access-Control-Expose-Headers header?");if(null===(t=n.filter)||void 0===t?void 0:t.is_pm_enabled){var l=i.filter((function(e){var t,a;return!0===(null===e||void 0===e||null===(t=e.workflow)||void 0===t||null===(a=t.additional_data)||void 0===a?void 0:a.is_pm_enabled)}));return{data:l,total:parseInt(l.length)}}if((null===(a=n.filter)||void 0===a?void 0:a.is_logical_framework_editable)||(null===(r=n.filter)||void 0===r?void 0:r.is_indicator_editable)){var c=i.filter((function(e){var t,a,n,r;return!0===(null===e||void 0===e||null===(t=e.workflow)||void 0===t||null===(a=t.additional_data)||void 0===a?void 0:a.is_logical_framework_editable)||!0===(null===e||void 0===e||null===(n=e.workflow)||void 0===n||null===(r=n.additional_data)||void 0===r?void 0:r.is_indicator_editable)}));return{data:c,total:parseInt(c.length)}}return{data:i,total:parseInt(o.get("content-range").split("/").pop(),10)}}))},getOne:function(a,n){return t("".concat(e,"/").concat(a,"/").concat(n.id)).then((function(e){return{data:J(e.json)}}))},getMedia:function(t){return $("".concat(e,"/").concat(t)).then((function(e){return e.blob()})).then((function(e){return{data:URL.createObjectURL(e)}}))},getMany:function(a,n){var r={filter:JSON.stringify({id:n.ids})},o="".concat(e,"/").concat(a,"?").concat(Object(A.stringify)(r));return t(o).then((function(e){return{data:e.json}}))},getManyReference:function(a,n){var r,o=n.pagination,i=o.page,l=o.perPage,c=n.sort,s=(r={sort_field:c.field,sort_order:c.order,page:i,per_page:l},Object(N.a)(r,n.target,n.id),Object(N.a)(r,"filter",n.filter&&n.filter.q?JSON.stringify(V(n.filter)):JSON.stringify(Object(u.a)({},n.filter))),r),d="".concat(e,"/").concat(a,"?").concat(Object(A.stringify)(s));return t(d).then((function(e){var t=e.headers,a=e.json;if(!t.has("content-range"))throw new Error("The Content-Range header is missing in the HTTP Response. The simple REST data provider expects responses for lists of resources to contain this header with the total number of results to build the pagination. If you are using CORS, did you declare Content-Range in the Access-Control-Expose-Headers header?");return{data:a.map((function(e){return J(e)})),total:parseInt(t.get("content-range").split("/").pop(),10)}}))},update:function(a,n){var r="project-details"===a;return n.id?t("".concat(e,"/").concat(a,"/").concat(n.id),{method:"PATCH",body:JSON.stringify(H(n.data,r))}).then((function(e){return{data:J(e.json)}})):t("".concat(e,"/").concat(a),{method:"PATCH",body:JSON.stringify(H(n.data,r))}).then((function(e){return{data:J(e.json)}}))},updateMany:function(a,n){return Promise.all(n.ids.map((function(r){return t("".concat(e,"/").concat(a,"/").concat(r),{method:"PUT",body:JSON.stringify(n.data)})}))).then((function(e){return{data:e.map((function(e){return e.json.id}))}}))},create:function(a,n){return t("".concat(e,"/").concat(a),{method:"POST",body:JSON.stringify(H(n.data))}).then((function(e){var t=e.json;return{data:Object(u.a)(Object(u.a)({},n.data),{},{id:t.id})}}))},delete:function(a,n){return t("".concat(e,"/").concat(a,"/").concat(n.id),{method:"DELETE"}).then((function(e){return{data:e.json}}))},deleteMany:function(a,n){return Promise.all(n.ids.map((function(n){return t("".concat(e,"/").concat(a,"/").concat(n),{method:"DELETE"})})))},uploadMedia:function(t,a){return X(a.data&&a.data.media).then((function(n){return a.data.media=n.src,K("".concat(e,"/").concat(t),Object(u.a)({method:"POST",body:JSON.stringify(a.data)},{})).then((function(e){return{data:e.json}})).catch((function(e){}))}))},deleteMedia:function(a,n){return t("".concat(e,"/").concat(a,"/").concat(n.data.id),{method:"DELETE"}).then((function(e){return{data:e.json}})).catch((function(e){}))},export:function(a,n){return t("".concat(e,"/export"),{method:"POST",body:JSON.stringify(n.data)}).then((function(e){var t=e.json;if("doc"===t.extension){var a=new Blob([t.file_content],{type:"text/plain"}),r=window.URL.createObjectURL(a),o=document.createElement("a"),i="".concat(n.export_name,".").concat(t.extension);o.href=r,o.download=i,o.click()}else{var l="data:application/pdf;base64,".concat(t.file_content),c=document.createElement("a"),s=n.export_name;c.href=l,c.download=s,c.click()}return{data:t}}))},downloadPIPReport:function(a){return t("".concat(e,"/reports/pip-report"),{method:"GET"}).then((function(e){var t=e.json;if("doc"===t.extension){var n=new Blob([t.file_content],{type:"text/plain"}),r=window.URL.createObjectURL(n),o=document.createElement("a"),i="".concat(a.export_name,".").concat(t.extension);o.href=r,o.download=i,o.click()}else{var l="data:application/pdf;base64,".concat(t.file_content),c=document.createElement("a"),s=a.export_name;c.href=l,c.download=s,c.click()}return{data:t}}))},custom:function(a,n){return t("".concat(e,"/").concat(a).concat(n.type?"/".concat(n.type):""),{method:n.method||"POST",body:JSON.stringify(n.query)}).then((function(e){return{data:e.json}}))},action:function(a,n){return t("".concat(e,"/").concat(a,"/").concat(n.id,"/actions"),{method:"POST",body:JSON.stringify(H(n.data))}).then((function(e){return{data:e.json}}))},ranking:function(a){return t("".concat(e,"/projects/actions"),{method:"POST",body:JSON.stringify(a.data)}).then((function(e){return{data:e.json}}))},reset:function(a,n){return t("".concat(e,"/").concat(a,"/").concat(n.id,"/reset"),{method:"GET"}).then((function(e){return{data:e.json}}))},getListOfAllProjects:function(a,n){var r={page:1,per_page:-1,sort_field:n.sort_field||"name",sort_order:n.sort_order||"ASC"};n.filter&&(r.filter=JSON.stringify(n.filter));var o="".concat(e,"/").concat(a,"?").concat(Object(A.stringify)(r));return t(o).then((function(e){e.headers;return{data:e.json}}))},integrations:function(a,n){var r={page:1,per_page:-1,sort_field:n.sort_field||"name",sort_order:n.sort_order||"ASC"};return n.filter&&(r.filter=JSON.stringify(n.filter)),t("".concat(e,"/integrations/").concat(a).concat(n.additionalData?"/".concat(n.additionalData):"","?").concat(Object(A.stringify)(r)),{method:"GET"}).then((function(e){return{data:e.json}}))},integrationsCreateLink:function(t,a){return K("".concat(e,"/integrations/").concat(t,"/link"),{method:"POST",body:JSON.stringify(a.data)}).then((function(e){return{data:e.json}})).catch((function(e){}))},integrationsUpload:function(t,a){return X(a.data&&a.data.media).then((function(n){return a.data.content=n.src,K("".concat(e,"/integrations/").concat(t),Object(u.a)({method:"POST",body:JSON.stringify(a.data)},{})).then((function(e){return{data:e.json}}))}))},achievedTargets:function(t){var a={page:1,per_page:-1,sort_field:t.sort_field||"name",sort_order:t.sort_order||"ASC"};return K("".concat(e,"/achieved-targets?").concat(Object(A.stringify)(a)),{method:"POST",body:JSON.stringify(t.data)}).then((function(e){return{data:e.json}})).catch((function(e){}))},getIntegrationData:function(a,n){var r={page:1,per_page:-1,sort_field:n.sort_field||"name",sort_order:n.sort_order||"ASC"};n.filter&&(r.filter=JSON.stringify(n.filter));var o="".concat(e,"/").concat(a,"?").concat(Object(A.stringify)(r));return t(o).then((function(e){return{data:e.json}}))},notificationsSet:function(t){return K("".concat(e,"/notifications"),{method:"POST",body:JSON.stringify(t.data)}).then((function(e){return{data:e.json}})).catch((function(e){}))},archiveUpload:function(t){return K("".concat(e,"/archiveupload"),{method:"POST",body:JSON.stringify(t.data)}).then((function(e){return{data:e.json}})).catch((function(e){}))},archiveDownload:function(a){return t("".concat(e,"/archivedownload"),{method:"GET"}).then((function(e){return{data:e.json}}))},matrixDownload:function(a){return t("".concat(e,"/matrixdownload"),{method:"POST",body:a.data}).then((function(e){return{data:e.json}}))}}},Z=a(3),ee=a(12),te=a(1974),ae=a(83),ne=a(1987),re=a(122),oe=a(547),ie=a(552),le=a(314),ce=a(1949),se=a(84),ue=a(2079),de=a(57),me=a(29),pe=a(81),fe=Object(ae.a)((function(e){return{root:{color:"#576065",display:"flex",flexDirection:"column",padding:"15px 10px 10px"},lists:{backgroundColor:e.palette.background.paper,marginTop:e.spacing(1)},nested:{paddingLeft:e.spacing(4)}}})),_e=function(e){return r.a.createElement(ce.a,Object.assign({},e,{component:me.a}))};function ge(e){var t=Object(ee.f)((function(e){return e.ui.breadCrumps})),a=Object(ee.e)(),n=fe(),o=Object(de.h)(),i=Object(pe.a)(),l=o.pathname.split("/").filter((function(e){return e})),c=["show","edit","create"],s=l.filter((function(e){return!c.includes(e)})),u=s[s.length-1]<7?i("resources.breadcrumbs.phase_".concat(s[s.length-1])):"";return r.a.createElement("div",{className:n.root},r.a.createElement(ue.a,{"aria-label":"breadcrumb"},r.a.createElement(_e,{color:"inherit",to:"/"},i("common.home")),t.length>0?t.map((function(e,t){var a=e.to,n=e.title;return a?r.a.createElement(_e,{color:"inherit",to:a,key:a,onClick:e.onClick},n):r.a.createElement(se.a,{color:"textPrimary",key:n,onClick:e.onClick},n)})):s.map((function(e,t){var n=e,o=t===s.length-1,l="/".concat(s.slice(0,t+1).join("/"));if(parseFloat(e))return null;var c="projects"===e;return"project-details"===e&&(n="projects",l="/projects"),"project"===e&&(n="projects",l="/projects"),"me-report"===e&&(n="me-reports",l+="s"),"project-indicators"===e&&(l="/reports-indicators-projects"),"indicators"===e&&(l=""),o||!l?r.a.createElement(se.a,{color:"textPrimary",key:l},i("resources.".concat(n,".name"),{smart_count:2})):r.a.createElement("div",null,r.a.createElement(_e,{color:"inherit",to:l,key:l,onClick:function(){Y("has_pimis_fields")&&a({type:"SET_PROJECT_TITLE_HEADER",payload:{data:""}})}},n&&i("resources.".concat(n,".name"),{smart_count:2})),Y("has_pimis_fields")&&c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{margin:"0px 5px"}},"/"),u))}))))}var he=a(1972),ve=a(1973),be=a(74),Ee=a(456),je=a(306),ye=a.n(je),Oe=a(232),we=a.n(Oe),xe=a(1853),ke=a(1971),Se=a(1975),Pe=a(2080),Ce=a(276),Ne=a(1852),Ae=a(1851),De=a(1969),Te=a(1970),Fe=a(8),Re=a(39),Ie=a.n(Re),Me=a(127),We=a.n(Me),Le=a(254),Ye=a.n(Le),Be=a(370),ze=a.n(Be),qe=a(153),Ue=a.n(qe),Ve=a(302),Ge=a.n(Ve),He=a(1966),Je=a(541),Xe=a.n(Je),$e=a(435),Ke=a.n($e),Qe=a(539),Ze=a.n(Qe),et=a(540),tt=a.n(et),at=a(63),nt=a.n(at),rt=a(542),ot=a.n(rt),it=a(303),lt=a.n(it),ct=a(961),st=a.n(ct),ut=a(436),dt=a.n(ut),mt=a(35),pt=a.n(mt),ft=a(437),_t=a.n(ft),gt=a(1950),ht=a(1951),vt=a(1952),bt=a(1953),Et=a(1954),jt=a(1955),yt=a(1956),Ot=a(1957),wt=a(1958),xt=a(1959),kt=a(1960),St=a(1961),Pt=a(1962),Ct=a(1963),Nt=a(1964),At=a(1965),Dt=j(),Tt={organizational_config:"edit_organizations",programs_config:"edit_programs",functions_config:"edit_functions",fund_config:"edit_funds",cost_config:"edit_costings",location_config:"edit_locations"},Ft={ministry:r.a.createElement(gt.a,null),public_body:r.a.createElement(ht.a,null),departments:r.a.createElement(ht.a,null),program:r.a.createElement(vt.a,null),sub_program:r.a.createElement(bt.a,null),function:r.a.createElement(Et.a,null),sub_function:r.a.createElement(jt.a,null),fund:r.a.createElement(yt.a,null),cost_class:r.a.createElement(Ot.a,null),cost_object:r.a.createElement(wt.a,null),cost_sub_object:r.a.createElement(wt.a,null),cost_detail_sub_object:r.a.createElement(wt.a,null),central:r.a.createElement(xt.a,null),province:r.a.createElement(kt.a,null)};function Rt(e){if(Dt&&Dt[e])return Dt[e]?Object.keys(Dt[e]).map((function(t){return{title:Dt[e][t].name,translation:"navigation.".concat(e,".").concat(t),href:"/".concat(Dt[e][t].id),icon:Ft[Dt[e][t].id],permission:Tt[e]}})):[]}var It=[{icon:r.a.createElement(Ge.a,null),permission:"list_projects",children:[{title:"Home",href:"/projects",icon:r.a.createElement(Ge.a,null),permission:"list_projects"}]},{icon:r.a.createElement(nt.a,null),permission:["pre_inv_list_projects"],children:[{title:"Pre - Investment",icon:r.a.createElement(Ke.a,null),permission:"pre_inv_list_projects",children:[{title:"Concepts",href:"/concepts",icon:r.a.createElement(Ke.a,null)},{title:"Proposals",href:"/proposals",icon:r.a.createElement(Ze.a,null)},{title:"Initiation",href:"/budjet-proposals",icon:r.a.createElement(tt.a,null)}]}]},{icon:r.a.createElement(nt.a,null),children:[{title:"Project Management",icon:r.a.createElement(Xe.a,null),permission:["list_project_management","list_projected_cash_flow","list_approved_cash_flow","list_adjusted_cash_flow","list_warrant_request","list_expenditures_data"],children:[{title:"Gantt Chart",href:"/gantt_chart",icon:r.a.createElement(Xe.a,null),permission:["list_project_management","view_project_management","create_project_management","edit_project_management"]},{title:"Projected Cash Flow ",href:"/work_plan",icon:r.a.createElement(We.a,null),permission:"list_projected_cash_flow"},{title:"Approved Cash Flow ",href:"/work_plan_approved",icon:r.a.createElement(We.a,null),permission:"list_approved_cash_flow"},{title:"Adjusted Cash Flow ",href:"/work_plan_adjusted",icon:r.a.createElement(We.a,null),permission:"list_adjusted_cash_flow"},{title:"Warrant Request",href:"/work_plan_monthly",icon:r.a.createElement(dt.a,null),permission:"list_warrant_request"},{title:"Expenditures",href:"/expenditures",icon:r.a.createElement(We.a,null),permission:"list_expenditures_data"}]}]},{icon:r.a.createElement(nt.a,null),permission:["list_log_frame"],children:[{title:"M&E Management",icon:r.a.createElement(nt.a,null),permission:["list_log_frame","list_indicators"],children:[{title:"Logical Framework",href:"/log_frame",icon:r.a.createElement(ze.a,null),permission:"list_log_frame"},{title:"Indicators",href:"/reports-indicators-projects",icon:r.a.createElement(ze.a,null),permission:"list_indicators"}]}]},{icon:r.a.createElement(nt.a,null),permission:"create_custom_report",children:[{title:"Portfolio Management",icon:r.a.createElement(nt.a,null),permission:"create_custom_report",children:[{title:"Query Builder",href:"/query_builder",icon:r.a.createElement(st.a,null),permission:"create_custom_report"}]}]},{icon:r.a.createElement(nt.a,null),permission:["list_custom_reports","list_reports"],feature:"has_report_management",children:[{title:"Reporting ",icon:r.a.createElement(nt.a,null),permission:["list_custom_reports","list_reports"],feature:"has_report_management",children:[{title:"Standard Reports",level:3,href:"/reports_list",icon:r.a.createElement(Ue.a,null),children:[{title:"Projects in Pipeline",href:"/reports-pipeline-projects",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_pipeline_report",translation:"navigation.reports.pipeline_report"},{title:"Public Investment Portfolio",href:"/reports-pipeline-projects-portfolio",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_pipeline_portfolio_report",translation:"navigation.reports.pipeline_report_portfolio"},{title:"Projects Completed",href:"/completed-report",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_completed_projects_report",translation:"navigation.reports.completed_projects_report"},{title:"Pipline of Projects",href:"/reports-pipeline-projects",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_pipeline_of_projects_report",translation:"navigation.reports.pipeline_of_projects_report"},{title:"Fiscal Load",href:"/reports-fiscal-load",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_fiscal_load_report",translation:"navigation.reports.fiscal_load_report"},{title:"Project Cost Evolution",href:"/reports-project-cost-evaluation",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_project_cost_evolution_report",translation:"navigation.reports.project_cost_evolution_report"},{title:"Project Costs and Counts at different stages of the Development Cycle",href:"/reports-project-count",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_costs_and_counts_report",translation:"navigation.reports.costs_and_counts_report"},{title:"Projects Ranking",href:"/reports-projects-ranking",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_projects_ranking_report",translation:"navigation.reports.projects_ranking_report"},{title:"Project Locations",href:"/reports-project-geo-by-phases",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_projects_location_report",translation:"navigation.reports.projects_location_report"},{title:"IBP User Action Tracking Report",href:"/reports-project-ibp-usage",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_ibp_usage_report",translation:"navigation.reports.ibp_usage_report"},{title:"Projects Scheduled for DC",href:"/reports-project-dc-report",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_projects_scheduled_dc_report",translation:"navigation.reports.projects_scheduled_dc_report"},{title:"Projects waiting for action",href:"/reports-projects-for-action",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_projects_waiting_actions_report",translation:"navigation.reports.projects_waiting_actions_report"},{title:"Stagnant Projects",href:"/reports-projects-stagnant",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_stagnant_projects_report",translation:"navigation.reports.stagnant_projects_report"},{title:"Donor Projects",href:"/reports-projects-donors",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_donors_projects_report",translation:"navigation.reports.donors_projects_report"},{title:"Submitted Projects",href:"/reports-projects-submitted",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_submitted_projects_report",translation:"navigation.reports.submitted_projects_report"},{title:"Repeated Projects",href:"/reports-projects-repeated",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_repeated_projects_report",translation:"navigation.reports.repeated_projects_report"},{title:"Projects by Categories",href:"/reports-projects-categories",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_projects_categories_report",translation:"navigation.reports.projects_categories_report"},{title:"Project Programs Counts and Costs",href:"/reports-project-programs-count",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_projects_programs_report",translation:"navigation.reports.projects_programs_report"},{title:"Project Functions Counts and Costs",href:"/reports-project-functions-count",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_projects_functions_report",translation:"navigation.reports.projects_functions_report"},{title:"NDP goals and strategies report",href:"/reports-ndp-goals",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_projects_ndp_goals_report",translation:"navigation.reports.projects_ndp_report"}]},{title:"Custom Reports",href:"/custom-reports",icon:r.a.createElement(pt.a,null),permission:"list_custom_reports"}]}]},{icon:r.a.createElement(nt.a,null),permission:"full_access",children:[{title:"Administration ",icon:r.a.createElement(nt.a,null),permission:"full_access",children:[{title:"User Management",level:3,icon:r.a.createElement(lt.a,null),permission:"edit_users",children:[{title:"Users",href:"/users",icon:r.a.createElement(lt.a,null),permission:"edit_users"},{title:"Roles",href:"/roles",icon:r.a.createElement(dt.a,null),permission:"edit_roles"},{title:"User Delegations",href:"/delegation",icon:r.a.createElement(Ye.a,null),permission:"edit_users"}]},{title:"Validations",href:"/validation",icon:r.a.createElement(St.a,null),permission:"edit_parameters"},{title:"Resources",icon:r.a.createElement(_t.a,null),permission:"create_resources",level:3,children:[{title:"Phases",href:"/phases",icon:r.a.createElement(Pt.a,null),permission:"edit_phases"},{title:"Workflow",href:"/workflows",icon:r.a.createElement(Ct.a,null),permission:"edit_workflows"},{title:"Workflow Instances",href:"/workflow-instances",icon:r.a.createElement(Ct.a,null),permission:"edit_workflows"},{title:"M&E Workflow",href:"/me-workflows",icon:r.a.createElement(ze.a,null),feature:"has_me_project_reporting",permission:"edit_workflows"},{title:"File Types",href:"/file-types",icon:r.a.createElement(Nt.a,null),permission:"edit_file_types"},{title:"Units",href:"/units",icon:r.a.createElement(nt.a,null),permission:"edit_units"},{title:"Disaggregation types",href:"/disaggregation-types",icon:r.a.createElement(nt.a,null),permission:"edit_disaggregation_type"},{title:"Formats",href:"/formats",icon:r.a.createElement(nt.a,null),permission:"edit_format"},{title:"Frequencies",href:"/frequencies",icon:r.a.createElement(nt.a,null),permission:"edit_frequency"},{title:"System Parameters",href:"/parameters",icon:r.a.createElement(St.a,null),permission:"edit_parameters"},{title:"Sectors",href:"/sectors",icon:r.a.createElement(At.a,null),permission:"edit_sectors"},{title:"Reverted Projects",href:"/reverted",icon:r.a.createElement(He.a,null),permission:"revert_project"},{title:"Recycle bin",href:"/trash",icon:r.a.createElement(He.a,null),permission:"access_deleted_project"},{title:"Goals",href:"/ndp-goals",icon:r.a.createElement(nt.a,null),permission:"list_ndp_data"},{title:"Outcomes",href:"/ndp-outcomes",icon:r.a.createElement(nt.a,null),permission:"list_ndp_data"},{title:"SDGs",href:"/ndp-sdgs",icon:r.a.createElement(nt.a,null),permission:"list_ndp_data"},{title:"MTFs",href:"/ndp-mtfs",icon:r.a.createElement(nt.a,null),permission:"list_ndp_data"},{title:"Strategies",href:"/ndp-strategies",icon:r.a.createElement(nt.a,null),permission:"list_ndp_data"}]},{title:"Classifiers",level:3,icon:r.a.createElement(nt.a,null),permission:"full_access",children:[].concat(Object(D.a)(Rt("organizational_config")),Object(D.a)(Rt("programs_config")),Object(D.a)(Rt("functions_config")),Object(D.a)(Rt("fund_config")),Object(D.a)(Rt("cost_config")),Object(D.a)(Rt("location_config")))},{title:"Integrations ",icon:r.a.createElement(nt.a,null),permission:"full_access",children:[{title:"BPMS",level:3,icon:r.a.createElement(nt.a,null),permission:"full_access",href:"/bpms"},{title:"GFMS",level:3,icon:r.a.createElement(nt.a,null),permission:"full_access",href:"/gfms"}]}]}]},{icon:r.a.createElement(ot.a,null),feature:"has_usefull_links_page",children:[{title:"Links",href:"/useful-links",icon:r.a.createElement(ot.a,null),feature:"has_usefull_links_page"}]}],Mt=a(420),Wt=a.n(Mt),Lt=a(304),Yt=a.n(Lt),Bt=a(702),zt=a.n(Bt),qt=a(963),Ut=a.n(qt),Vt=a(715),Gt=a.n(Vt),Ht=a(962),Jt=a.n(Ht),Xt=a(599),$t=a.n(Xt),Kt=j(),Qt={organizational_config:"edit_organizations",programs_config:"edit_programs",functions_config:"edit_functions",fund_config:"edit_funds",cost_config:"edit_costings",location_config:"edit_locations"};function Zt(e){if(Kt&&Kt[e])return Kt[e]?Object.keys(Kt[e]).map((function(t){return{title:Kt[e][t].name,translation:"navigation.".concat(e,".").concat(t),href:"/".concat(Kt[e][t].id),icon:r.a.createElement(nt.a,null),permission:Qt[e]}})):[]}var ea=[{title:"Dashboard",href:"/dashboard",icon:r.a.createElement(Ge.a,null),permission:"list_projects"},{title:"Projects",href:"/projects",icon:r.a.createElement(zt.a,null),permission:"list_projects"},{title:"Project Prioritization",href:"/ranking",icon:r.a.createElement(pt.a,null),permission:"full_access",feature:"project_has_project_ranking",translation:"navigation.reports.projects_ranking"},{title:"Report Manager",href:"reports_management",icon:r.a.createElement(Ue.a,null),permission:"full_access",feature:"has_report_management",children:[{title:"Report Builder",href:"/custom-reports",icon:r.a.createElement(pt.a,null),permission:"full_access"}]},{title:"Implementation Module",href:"/implementation-module",icon:r.a.createElement(Ue.a,null),feature:"has_implementation_reports",permission:"implementation_module"},{title:"Implementation Reports",href:"implement_reports",icon:r.a.createElement(Ue.a,null),feature:"has_implementation_reports",permission:["implementation_reports","list_me_reports"],children:[{title:"Public Investment Plan Report",href:"/reports-public-investment-plan",icon:r.a.createElement(pt.a,null),permission:"implementation_reports",translation:"navigation.reports.projects_public_investment_plan_report"},{title:"Project Completion Report",href:"/reports-completion-projects",icon:r.a.createElement(pt.a,null),permission:"implementation_reports",translation:"navigation.reports.projects_completion_report"},{title:"Periodic Project Monitoring Report",href:"/reports-periodic-monitoring-projects",icon:r.a.createElement(pt.a,null),permission:"list_me_reports",translation:"navigation.reports.projects_monitoring_report"},{title:"Quarterly/Semi-Annual/Annual Project Progress Report ",href:"/reports-annual-monitoring-projects",icon:r.a.createElement(pt.a,null),permission:"list_me_reports",translation:"navigation.reports.projects_progress_report"},{title:"Consolidated Projects Progress Report",href:"/reports-consolidated-monitoring-projects",icon:r.a.createElement(pt.a,null),permission:"implementation_reports",translation:"navigation.reports.projects_consolidated_monitoring_report"},{title:"MYC Report",href:"/reports-myc",icon:r.a.createElement(pt.a,null),permission:"implementation_reports",feature:"project_has_myc_report",translation:"navigation.reports.projects_myc_report"},{title:"Project Prioritization Report",href:"/reports-ranking-projects",icon:r.a.createElement(pt.a,null),permission:"implementation_reports",feature:"project_has_project_ranking_report",translation:"navigation.reports.project_ranking_report"},{title:"Appealed projects",href:"/appealed-projects",icon:r.a.createElement(pt.a,null),permission:"implementation_reports",feature:"project_has_appealed_projects_report",translation:"navigation.reports.project_appeals_report"}]},{title:"Reports",href:"reports",icon:r.a.createElement(Ue.a,null),permission:"list_reports",children:[{title:"Projects in Pipeline",href:"/reports-pipeline-projects",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_pipeline_report",translation:"navigation.reports.pipeline_report"},{title:"Public Investment Portfolio",href:"/reports-pipeline-projects-portfolio",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_pipeline_portfolio_report",translation:"navigation.reports.pipeline_report_portfolio"},{title:"Projects Completed",href:"/completed-report",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_completed_projects_report",translation:"navigation.reports.completed_projects_report"},{title:"Pipline of Projects",href:"/reports-pipeline-projects",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_pipeline_of_projects_report",translation:"navigation.reports.pipeline_of_projects_report"},{title:"Fiscal Load",href:"/reports-fiscal-load",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_fiscal_load_report",translation:"navigation.reports.fiscal_load_report"},{title:"Project Cost Evolution",href:"/reports-project-cost-evaluation",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_project_cost_evolution_report",translation:"navigation.reports.project_cost_evolution_report"},{title:"Project Costs and Counts at different stages of the Development Cycle",href:"/reports-project-count",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_costs_and_counts_report",translation:"navigation.reports.costs_and_counts_report"},{title:"Projects Ranking",href:"/reports-projects-ranking",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_projects_ranking_report",translation:"navigation.reports.projects_ranking_report"},{title:"Project Locations",href:"/reports-project-geo-by-phases",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_projects_location_report",translation:"navigation.reports.projects_location_report"},{title:"IBP User Action Tracking Report",href:"/reports-project-ibp-usage",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_ibp_usage_report",translation:"navigation.reports.ibp_usage_report"},{title:"Projects Scheduled for DC",href:"/reports-project-dc-report",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_projects_scheduled_dc_report",translation:"navigation.reports.projects_scheduled_dc_report"},{title:"Projects waiting for action",href:"/reports-projects-for-action",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_projects_waiting_actions_report",translation:"navigation.reports.projects_waiting_actions_report"},{title:"Stagnant Projects",href:"/reports-projects-stagnant",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_stagnant_projects_report",translation:"navigation.reports.stagnant_projects_report"},{title:"Donor Projects",href:"/reports-projects-donors",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_donors_projects_report",translation:"navigation.reports.donors_projects_report"},{title:"Submitted Projects",href:"/reports-projects-submitted",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_submitted_projects_report",translation:"navigation.reports.submitted_projects_report"},{title:"Repeated Projects",href:"/reports-projects-repeated",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_repeated_projects_report",translation:"navigation.reports.repeated_projects_report"},{title:"Projects by Categories",href:"/reports-projects-categories",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_projects_categories_report",translation:"navigation.reports.projects_categories_report"},{title:"Project Programs Counts and Costs",href:"/reports-project-programs-count",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_projects_programs_report",translation:"navigation.reports.projects_programs_report"},{title:"Project Functions Counts and Costs",href:"/reports-project-functions-count",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_projects_functions_report",translation:"navigation.reports.projects_functions_report"},{title:"NDP goals and strategies report",href:"/reports-ndp-goals",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_projects_ndp_goals_report",translation:"navigation.reports.projects_ndp_report"},{title:"Projects Costs Chart",href:"/reports-projects-costs-chart",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_projects_costs_chart"}]},{title:"User Management",href:"user_managment",icon:r.a.createElement(lt.a,null),permission:"edit_permissions",children:[{title:"Users",href:"/users",icon:r.a.createElement(Ye.a,null),permission:"edit_users"},{title:"Roles",href:"/roles",icon:r.a.createElement(dt.a,null),permission:"edit_roles"},{title:"User Delegations",href:"/delegation",icon:r.a.createElement(Ye.a,null),permission:"edit_users"}]},{title:"Org Structure",href:"org_structure",icon:r.a.createElement(Yt.a,null),permission:"edit_organizations",children:Zt("organizational_config")},{title:"Programs",href:"Programs",icon:r.a.createElement(Yt.a,null),permission:"edit_programs",children:Zt("programs_config")},{title:"Functions",href:"functions",icon:r.a.createElement(Yt.a,null),permission:"edit_functions",feature:"project_has_functions",children:Zt("functions_config")},{title:"Funds",href:"funds",icon:r.a.createElement(We.a,null),permission:"edit_funds",children:Zt("fund_config")},{title:"Costs",href:"costs",icon:r.a.createElement(We.a,null),permission:"edit_costings",children:Zt("cost_config")},{title:"Locations",href:"locations",icon:r.a.createElement(We.a,null),permission:"edit_locations",children:Zt("location_config")},{title:"Resources",href:"resources",icon:r.a.createElement(_t.a,null),permission:"create_resources",children:[{title:"Phases",href:"/phases",icon:r.a.createElement(nt.a,null),permission:"edit_phases"},{title:"Workflow",href:"/workflows",icon:r.a.createElement(nt.a,null),permission:"edit_workflows"},{title:"M&E Workflow",href:"/me-workflows",icon:r.a.createElement(nt.a,null),feature:"has_me_project_reporting",permission:"edit_workflows"},{title:"File Types",href:"/file-types",icon:r.a.createElement(nt.a,null),permission:"edit_file_types"},{title:"Units",href:"/units",icon:r.a.createElement(nt.a,null),permission:"edit_units"},{title:"Currency",href:"/currencies",icon:r.a.createElement(nt.a,null),permission:"edit_currencies"},{title:"Currency Rates",href:"/currency-rates",icon:r.a.createElement(Wt.a,null),permission:"edit_currency_rate_rates"},{title:"System Parameters",href:"/parameters",icon:r.a.createElement(nt.a,null),permission:"edit_parameters"},{title:"Sectors",href:"/sectors",icon:r.a.createElement(nt.a,null),permission:"edit_sectors"}]},{title:"Integrations",href:"integrations",icon:r.a.createElement(_t.a,null),permission:"full_access",children:[{title:"AMP",href:"/amp",icon:r.a.createElement(nt.a,null),permission:"full_access"},{title:"PBS",href:"/pbs",icon:r.a.createElement(nt.a,null),permission:"full_access"},{title:"NDP",href:"/ndp",icon:r.a.createElement(nt.a,null),permission:"full_access"}]},{title:"Recycle bin",href:"/trash",icon:r.a.createElement(He.a,null),permission:"access_deleted_project"},{title:"Reverted Projects",href:"/reverted",icon:r.a.createElement(He.a,null),permission:"revert_project"},{title:"Archive",href:"archive",icon:r.a.createElement(Gt.a,null),permission:"access_archive",children:[{title:"Upload Files",href:"/archive-management",icon:r.a.createElement(Jt.a,null),permission:"manage_archive"},{title:"Minutes",href:"/archive",icon:r.a.createElement(Ut.a,null),permission:"access_archive"},{title:"Decision Matrices",href:"/dc-matrix",icon:r.a.createElement($t.a,null),permission:"access_archive"}]},{title:"Implementation Data",href:"/projects",icon:r.a.createElement(Gt.a,null),permission:"list_projects",children:[{title:"PBS Projects",icon:r.a.createElement($t.a,null),permission:"list_projects",href:"/pbs-projects"},{title:"Budget Allocations",icon:r.a.createElement($t.a,null),permission:"list_projects",href:"/budget-allocations"}]}],ta=["className","onSidebarOpen","userLogout"],aa=Object(ae.a)((function(e){var t,a;return{root:{display:"flex"},drawer:(t={},Object(N.a)(t,e.breakpoints.up("md"),{width:205,flexShrink:0}),Object(N.a)(t,"zIndex",1),t),drawerPaper:{backgroundColor:Y("has_pimis_fields")?e.palette.background.sidebar_jm:e.palette.background.sidebar,width:205,flexShrink:0,whiteSpace:"nowrap",overflow:"visible"},logo:{padding:14,background:"#fff",display:"flex",alignItems:"center"},logoImage:{width:35,height:35,marginRight:15},logoImagePimis:{width:35,height:20,marginRight:15},drawerFooter:Object(u.a)(Object(u.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end",position:"absolute",bottom:0,width:"100%",backgroundColor:Y("has_pimis_fields")?e.palette.background.sidebar_jm:e.palette.background.sidebar}),drawerOpen:{width:205,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:(a={transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(8)+1},Object(N.a)(a,e.breakpoints.down("md"),{width:e.spacing(8)+1}),Object(N.a)(a,"& $navItem",{overflow:"visible"}),a),menuWrapper:{height:"calc(100vh - 130px)"},menuWrapperScrolled:{height:"calc(100vh - 130px)",overflow:"auto"},overflow:{},menuList:{},secondLevelGroup:{backgroundColor:Y("has_pimis_fields")?e.palette.background.sidebar_jm:e.palette.background.sidebar,position:"absolute",left:"calc(100%)",borderLeft:"1px solid #fff",bottom:0,opacity:0,width:255,display:"flex",flexDirection:"column",visibility:"hidden",transition:e.transitions.create("opacity",{easing:e.transitions.easing.easeInOut,duration:"450ms"})},lastLevelGroup:{bottom:"calc(100% - 40vh)"},subNavItem:{display:"block",paddingTop:"4px",paddingBottom:"4px"},navItem:{position:"relative","&:hover > $secondLevelGroup":{visibility:"visible",zIndex:9999,opacity:1},"&:hover":{background:"rgb(255 255 255 / 0.05) !important"},"& .MuiListItemIcon-root":{color:"#fff !important",minWidth:50},"& .MuiListItemText-root span":{color:"#fff !important",textTransform:"none",whiteSpace:"normal",lineHeight:"16px"}},groupItem:{"& > *":{color:"#a5a5a5",lineHeight:"10px"}},navItemActive:{backgroundColor:"rgb(255 255 255 / 0.25) !important"},button:{justifyContent:"flex-start",textTransform:"none",letterSpacing:0,width:"100%",fontWeight:e.typography.fontWeightMedium,padding:"2px 8px"},active:{backgroundColor:"#707070",fontWeight:e.typography.fontWeightBold,"& $icon":{color:e.palette.primary.main}},subLevel:{paddingLeft:e.spacing(3)}}}));var na=function(e){var t,a,o=aa(),i=Object(pe.a)(),l=Object(be.a)(),c=r.a.useState(!1),s=Object(Z.a)(c,2),u=s[0],d=s[1],m=L(),p=Object(ee.f)((function(e){return e.app.appConfig})).application_config.prefix,f=Object(ee.e)(),_=window&&window.location&&window.location.hash.split("/")[1],g=(e.className,e.onSidebarOpen,e.userLogout,Object(T.a)(e,ta),Object(n.forwardRef)((function(e,t){return r.a.createElement("div",{ref:t,style:{flexGrow:1}},r.a.createElement(me.b,Object.assign({},e,{target:"_self"})))}))),h=function(e){return function(){d(e!==u&&e)}},v=function(){switch(p){case"ug":return{full:"IBP",short:"I"};case"mzb":return{full:"ESNIP",short:"E"};case"jm":return{full:"PIMIS",short:"P"};default:return""}},b=r.a.createElement("div",null,r.a.createElement("div",{className:o.logo},r.a.createElement("img",{alt:"Logo",src:"/assets/images/".concat(p,"/").concat(Y("has_pimis_fields")?"logo":"coat_of_arms",".png"),className:Object(Fe.default)(o.logoImage,Y("has_pimis_fields")&&o.logoImagePimis)}),e.opened&&r.a.createElement(se.a,{variant:"h3",noWrap:!0},e.opened?v().full:v().short)),r.a.createElement(ke.a,null),r.a.createElement("div",{className:Object(Fe.default)(o.menuWrapper,Object(N.a)({},o.menuWrapperScrolled,!Y("has_pimis_fields")))},Y("has_pimis_fields")&&r.a.createElement("br",null),r.a.createElement(Ne.a,{className:o.menuList,bulkActionButtons:!1},function(){switch(p){case"ug":case"mzb":return ea;case"jm":return It;default:return ea}}().filter((function(e){return m(e.permission)})).filter((function(e){return!e.feature||Y(e.feature)})).map((function(t,a){var n,l,c;return t.children?r.a.createElement("div",{key:t.title+""+a},Y("has_pimis_fields")&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae.a,{className:Object(Fe.default)(o.navItem,Object(N.a)({},o.active,t.href&&t.href.indexOf(_)>-1)),disableGutters:!0,key:t.title,style:{paddingLeft:10,fontSize:10}},r.a.createElement(Te.a,{secondary:e.opened?t.title:null===(n=t.title)||void 0===n?void 0:n.split(" ")[0],style:{textAlign:"left",fontSize:10},className:o.groupItem})),function t(a,n,l){return a.filter((function(e){return m(e.permission)})).filter((function(e){return!e.feature||Y(e.feature)})).filter((function(e){return e.title})).map((function(a,c){var s;return r.a.createElement(Ae.a,{key:a.title+""+c,className:Object(Fe.default)(o.navItem,(s={},Object(N.a)(s,o.subNavItem,n),Object(N.a)(s,o.active,a.href&&a.href==="/"+_||a.children&&x.a.find(a.children,(function(e){return e.href&&e.href==="/"+_}))),s)),disableGutters:!0},r.a.createElement(Ee.a,{activeclassname:o.navItemActive,className:Object(Fe.default)(o.button,Object(N.a)({},o.subLevel,n)),component:a.href&&g,to:a.href},r.a.createElement(De.a,null,a.icon),(e.opened||l)&&r.a.createElement(Te.a,{primary:a.translation?i(a.translation):a.title,style:{textAlign:"left"}})),a.children&&r.a.createElement("div",{className:Object(Fe.default)(o.secondLevelGroup,3===a.level&&a.children.length>3&&o.lastLevelGroup)},t(a.children,!0,!0)))}))}(t.children,!0)),!Y("has_pimis_fields")&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae.a,{className:Object(Fe.default)(o.navItem,Object(N.a)({},o.active,t.href&&t.href.indexOf(_)>-1)),disableGutters:!0,key:t.title+""+a},r.a.createElement(Ee.a,{activeclassname:o.navItemActive,className:o.button,onClick:h(t.href)},r.a.createElement(De.a,null,t.icon),r.a.createElement(Te.a,{primary:t.title,style:{textAlign:"left"}}),u!==t.href?r.a.createElement(he.a,{onClick:h(t.href),style:{color:"#fff"}}):r.a.createElement(ve.a,{onClick:h(),style:{color:"#fff"}}))),r.a.createElement(xe.a,{in:u===t.href,timeout:"auto",unmountOnExit:!0},(l=t.children,c=!0,l.filter((function(e){return m(e.permission)})).filter((function(e){return!e.feature||Y(e.feature)})).map((function(e,t){return r.a.createElement(Ae.a,{className:o.navItem,disableGutters:!0,key:e.title+""+t},r.a.createElement(Ee.a,{activeclassname:o.navItemActive,className:Object(Fe.default)(o.button,Object(N.a)({},o.subLevel,c)),component:g,to:e.href},r.a.createElement(De.a,null,e.icon),r.a.createElement(Te.a,{primary:e.translation?i(e.translation):e.title})))})))))):r.a.createElement(Ae.a,{className:Object(Fe.default)(o.navItem,Object(N.a)({},o.active,t.href&&t.href.indexOf(_)>-1)),disableGutters:!0,key:t.title+""+a},r.a.createElement(Ee.a,{activeclassname:o.navItemActive,className:o.button,component:g,to:t.href,onClick:function(){Y("has_pimis_fields")&&f({type:"SET_PROJECT_TITLE_HEADER",payload:{data:""}})}},r.a.createElement(De.a,null,t.icon),r.a.createElement(Te.a,{primary:t.title})))})))),r.a.createElement(Pe.a,{smDown:!0,implementation:"css"},r.a.createElement("div",{className:o.drawerFooter},r.a.createElement(Ce.a,{onClick:e.opened?function(){e.onCloseDrawer(!1)}:function(){e.onOpenDrawer(!0)}},e.opened?r.a.createElement(ye.a,null):r.a.createElement(we.a,null)))));return r.a.createElement("div",{className:o.root},r.a.createElement(te.a,null),r.a.createElement("nav",{"aria-label":"mailbox folders"},r.a.createElement(Pe.a,{mdDown:!0,implementation:"css"},r.a.createElement(Se.a,{variant:"temporary",anchor:"rtl"===l.direction?"right":"left",open:e.mobileOpened,onClose:function(){e.onMobileOpen(!e.mobileOpened)},classes:{paper:o.drawerPaper},ModalProps:{keepMounted:!0}},b)),r.a.createElement(Pe.a,{smDown:!0,implementation:"css"},r.a.createElement(Se.a,{variant:"permanent",className:Object(Fe.default)(o.drawer,(t={},Object(N.a)(t,o.drawerOpen,e.opened),Object(N.a)(t,o.drawerClose,!e.opened),t)),classes:{paper:Object(Fe.default)(o.drawerPaper,(a={},Object(N.a)(a,o.drawerOpen,e.opened),Object(N.a)(a,o.drawerClose,!e.opened),a))}},b))))},ra=a(1086),oa=a(1978),ia=a(136),la=a.n(ia),ca=a(966),sa=a(607),ua=Object(ae.a)((function(e){return{menuItem:{width:200},icon:{marginRight:15},menu:{top:60},title:{backgroundColor:"grey",fontWeight:"bold"}}}));function da(e){var t=r.a.useState(null),a=Object(Z.a)(t,2),n=a[0],o=a[1],i=Boolean(n),l=ua();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){o(e.currentTarget)}},e.icon),r.a.createElement(ca.a,{id:"long-menu",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:i,onClose:function(){o(null)},className:l.menu},e.menu.map((function(e,t){return r.a.createElement(sa.a,{key:e.title+t,disabled:e.disabled,className:Ie()(l.menuItem,l[e.className]),onClick:e.onClick},r.a.createElement("div",{className:l.icon},e.icon," "),e.title&&r.a.createElement(se.a,{variant:"inherit"},e.title),e.component)}))))}var ma=a(425),pa=a.n(ma),fa=a(549),_a=a.n(fa),ga=a(704),ha=a.n(ga),va=a(1977),ba=a(341),Ea=a.n(ba),ja=a(424),ya=a.n(ja),Oa=Object(ae.a)((function(e){return{menuItem:{width:150},icon:{marginRight:15}}}));function wa(){var e=r.a.useState(null),t=Object(Z.a)(e,2),a=t[0],n=t[1],o=Boolean(a),i=Oa();return r.a.createElement("div",null,r.a.createElement(Ce.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){n(e.currentTarget)}},r.a.createElement(ha.a,null)),r.a.createElement(ca.a,{id:"long-menu",anchorEl:a,keepMounted:!0,open:o,onClose:function(){n(null)}},r.a.createElement(sa.a,{className:i.menuItem},r.a.createElement(va.a,{badgeContent:9999,color:"primary",className:i.icon},r.a.createElement(Ea.a,null)),r.a.createElement(se.a,{variant:"inherit"},"Notifications")),r.a.createElement(sa.a,{className:i.menuItem},r.a.createElement(ya.a,{className:i.icon}),r.a.createElement(se.a,{variant:"inherit"},"Profile")),r.a.createElement(sa.a,{className:i.menuItem},r.a.createElement(la.a,{className:i.icon}),r.a.createElement(se.a,{variant:"inherit"},"Help")),r.a.createElement(sa.a,{className:i.menuItem},r.a.createElement(pa.a,{className:i.icon}),r.a.createElement(se.a,{variant:"inherit"},"Logout"))))}var xa=a(1099),ka=Object(ae.a)((function(e){return{select:{width:150}}}));var Sa=function(e){var t=ka(),a=r.a.useState(null),o=Object(Z.a)(a,2),i=o[0],l=o[1];return Object(n.useEffect)((function(){e.currentRole&&l(e.currentRole)}),[e.currentRole]),r.a.createElement(xa.a,{className:t.select,variant:"standard",value:i,onChange:function(t){l(t.target.value),e.onSelect(t.target.value)}},e.roles&&e.roles.map((function(e){return r.a.createElement(sa.a,{key:e.role_id,value:e.role_id},e.role&&e.role.name)})))},Pa=a(1088),Ca=a(202),Na=a(309),Aa=a(353),Da="Arabic",Ta=Da,Fa="AIzaSyAXBqa642R0oZssGxLvD3rTuCHGBNnL9Z8",Ra={field:"name",order:"ASC"},Ia={INDICATORS:"INDICATORS",COST_ESTIMATES:"COST_ESTIMATES",SUMMARY:"SUMMARY",RESPONSIBLE_OFFICER:"RESPONSIBLE_OFFICER",PROJECT_BACKGROUND:"PROJECT_BACKGROUND",PROJECT_FRAMEWORK:"PROJECT_FRAMEWORK",DEMAND_ANALYSIS:"DEMAND_ANALYSIS",OPTIONS_ANALYSIS:"OPTIONS_ANALYSIS",PROJECT_APPRAISAL:"PROJECT_APPRAISAL",FIN_ANALYSIS:"FIN_ANALYSIS",COST:"COST",RESULT_MATRIX:"RESULT_MATRIX",MODULES:"MODULES",ADDITIONAL_INFO:"ADDITIONAL_INFO",OM_COSTS:"OM_COSTS",INTRODUCTION:"INTRODUCTION",ME_REPORT:"ME_REPORT",EX_POST_EVALUATION:"EX_POST_EVALUATION",NDP:"NDP",PROCUREMENT:"PROCUREMENT",RISK_ASSESSMENT:"RISK_ASSESSMENT",STAKEHOLDERS:"STAKEHOLDERS",CLIMATE_RISK_ASSESSMENT:"CLIMATE_RISK_ASSESSMENT",BUDGET_ALLOCATION:"BUDGET_ALLOCATION",BENEFICIARY:"BENEFICIARY",STRATEGIC_ALIGNMENT:"STRATEGIC_ALIGNMENT",BEHAVIOR_CHANGE:"BEHAVIOR_CHANGE",LOG_FRAMEWORK:"LOG_FRAMEWORK"},Ma={SUBMIT:"SUBMIT",APPROVE:"APPROVE",CONDITIONALLY_APPROVE:"CONDITIONALLY_APPROVE",REJECT:"REJECT",REVISE:"REVISE",ASSIGN:"ASSIGN",ALLOCATE_FUNDS:"ALLOCATE_FUNDS",COMPLETE:"COMPLETE"},Wa={SUBMIT:"SUBMIT",APPROVE:"APPROVE",REVISE:"REVISE",COMPLETE:"COMPLETE"},La={SUBMIT:"submit_project",APPROVE:"approve_project",REJECT:"reject_project",REVISE:"revise_project",ASSIGN:"assign_project"},Ya="pap_standard_user",Ba="vote_admin_user",za={1:"Project Concept",2:"Project Profile",3:"Pre-feasibility",4:"Feasibility",5:"Project Proposal"},qa={1:"#ffc107",2:"#20a8d8",3:"#6f42c1",4:"#20c997",5:"#4d7cbd",6:"#d78115",7:"#4ebd74"},Ua={DRAFT:"Draft",SUBMITTED:"Submitted",APPROVED:"Approved",REVISED:"Revised",REJECTED:"Rejected",ASSIGNED:"Assigned",COMPLETED:"Completed",ONGOING:"Ongoing",SUSPENDED:"Suspended",IN_PIPELINE:"In Pipeline",POST_EVALUATION:"Post Evaluation"},Va={DRAFT:"DRAFT",SUBMITTED:"SUBMITTED",APPROVED:"APPROVED",REVISED:"REVISED",COMPLETED:"COMPLETED",ASSIGNED:"ASSIGNED"},Ga={STATUS_REJECTED:"rejected",STATUS_APPROVED:"approved",STATUS_ASSIGNED:"assigned",STATUS_REVISED:"revised",STATUS_DRAFT:"draft",STATUS_SUBMITTED:"submitted",STATUS_IN_PIPELINE:"in pipeline",STATUS_IS_COMPLETED:"completed"},Ha={XLS:{id:"csv",icon:Aa.a},WORD:{id:"word",icon:Aa.c},PDF:{id:"pdf",icon:Aa.b}},Ja={SOCIAL_INVESTMENTS:"Social Investments",RETOOLING:"Retooling",STUDIES:"Studies",INFRASTRUCTURE:"Infrastructure"},Xa={1:"Recurrent Expenditures",4:"Deposit Funds",5:"Special Funds",6:"Capital",9:"Other Funds"},$a={1:"Voted",2:"Statutory"},Ka={0:"Not Applicable",1:"Loan",2:"Grant",3:"Government of Jamaica"},Qa=function(){var e=localStorage.getItem("validation");return e?JSON.parse(e):[{field:"behavior_knowledge_products",phases:[5],translation:"validation.behavior_knowledge_products",step:Ia.BEHAVIOR_CHANGE,app:["ug"]},{field:"behavior_project_results",phases:[5],translation:"validation.behavior_project_results",step:Ia.BEHAVIOR_CHANGE,app:["ug"]},{field:"behavior_measures",phases:[5],translation:"validation.behavior_measures",step:Ia.BEHAVIOR_CHANGE,app:["ug"]},{field:"revenue_source",phases:[1,2],translation:"validation.revenue_source",step:Ia.SUMMARY,app:["jm"]},{field:"proposed_funding_source",phases:[1,2],translation:"validation.proposed_funding_source",step:Ia.SUMMARY,app:["jm"]},{field:"summary",phases:[1,2,3,4,5],translation:"validation.summary",step:Ia.SUMMARY,app:["jm","ug"]},{field:"start_date",phases:[1,2,3,4,5],translation:"validation.start_date",step:Ia.SUMMARY,app:["jm","ug"]},{field:"end_date",phases:[1,2,3,4,5],translation:"validation.end_date",step:Ia.SUMMARY,app:["jm","ug"]},{field:"locations",phases:[1,2,3,4,5],translation:"validation.location",step:Ia.SUMMARY,app:["jm","ug"]},{field:"exec_management_plan",phases:[3,4,5],translation:"validation.exec_management_plan",step:Ia.SUMMARY,app:["jm","ug"]},{field:"project_goal",phases:[1,2,3,4,5],translation:"validation.goal",step:Ia.SUMMARY,app:["jm"]},{field:"responsible_officers",innerFields:["title","name","phone","mobile_phone","email"],phases:[1,2,3,4,5],translation:"validation.officer_title",step:Ia.RESPONSIBLE_OFFICER,app:["ug"]},{field:"work_plan_description",phases:[5],translation:"validation.work_plan_description",step:Ia.PROJECT_BACKGROUND,app:["ug"]},{field:"procurement_plan_description",phases:[5],translation:"validation.procurement_plan_description",step:Ia.PROJECT_BACKGROUND,app:["ug"]},{field:"situation_analysis",phases:[1,2,3,4,5],translation:"validation.situation_analysis",step:Ia.PROJECT_BACKGROUND,app:["ug"]},{field:"situation_analysis",phases:[1,2,3,4,5],translation:"validation.situation_analysis",step:Ia.PROJECT_BACKGROUND,app:["ug"]},{field:"problem_statement",phases:[1,2,3,4,5],translation:"validation.problem_statement",step:Ia.PROJECT_BACKGROUND,app:["jm","ug"]},{field:"problem_cause",phases:[1,2,3,4,5],translation:"validation.problem_cause",step:Ia.PROJECT_BACKGROUND,app:["jm","ug"]},{field:"problem_effects",phases:[1,2,3,4,5],translation:"validation.problem_effects",step:Ia.PROJECT_BACKGROUND,app:["jm","ug"]},{field:"justification",phases:[4],translation:"validation.justification",step:Ia.PROJECT_BACKGROUND,app:["ug"]},{field:"justification",phases:[1,2,3,4,5],translation:"validation.justification",step:Ia.PROJECT_BACKGROUND,app:["jm"]},{field:"sustainability_plan",phases:[7],translation:"validation.sustainability_plan",step:Ia.PROJECT_BACKGROUND,app:["jm"]},{field:"ndp_plan_details",phases:[2,3,4,5],translation:"validation.ndp_plan_details",step:Ia.PROJECT_BACKGROUND,app:["ug"]},{field:"stakeholders",innerFields:["name","details"],phases:[4],translation:"validation.stakeholders",step:Ia.PROJECT_BACKGROUND,app:["ug"]},{field:"stakeholder_consultation",phases:[1],translation:"validation.stakeholders",step:Ia.PROJECT_BACKGROUND,app:["jm"]},{field:"stakeholders",innerFields:["name","description","interest_level","influence_level","communication_channel","engagement_frequency","responsible_entity"],phases:[2],translation:"validation.stakeholders",step:Ia.STAKEHOLDERS,app:["jm"]},{field:"goal",phases:[1,2,3,4,5],translation:"validation.goal",step:Ia.RESULT_MATRIX,app:["ug"]},{field:"goal",phases:[2,3,4,5],translation:"validation.goal",step:Ia.RESULT_MATRIX,app:["jm"]},{field:"indicators",innerFields:["name","baseline","verification_means"],phases:[2,3,4,5],translation:"validation.goal_indicators",step:Ia.RESULT_MATRIX,app:["ug","jm"]},{field:"outcomes",innerFields:["name"],phases:[1,2,3,4,5],translation:"validation.outcomes",step:Ia.RESULT_MATRIX,app:["ug"]},{field:"outcomes",innerFields:["name"],phases:[2,3,4,5],translation:"validation.outcomes",step:Ia.RESULT_MATRIX,app:["jm"]},{field:"outcomes.indicators",innerFields:["name","baseline","verification_means","assumptions","risk_factors"],phases:[2,3,4,5],translation:"validation.outcomes_indicators",step:Ia.RESULT_MATRIX,app:["ug"]},{field:"outcomes.indicators",innerFields:["name","baseline","verification_means","assumptions","risk_factors"],phases:[2,3,4,5],translation:"validation.outcomes_indicators",step:Ia.RESULT_MATRIX,app:["jm"]},{field:"outputs",innerFields:["name","outcome_ids","organization_ids","description","unit_id"],phases:[1,2,3,4,5],translation:"validation.outputs",step:Ia.RESULT_MATRIX,app:["ug"]},{field:"outputs",innerFields:["name","outcome_ids","organization_ids","component_id","description"],phases:[2,3,4,5],translation:"validation.outputs",step:Ia.RESULT_MATRIX,app:["jm"]},{field:"outputs.indicators",innerFields:["name","baseline","verification_means","assumptions","risk_factors"],phases:[2,3,4,5],translation:"validation.outputs_indicators",step:Ia.RESULT_MATRIX,app:["ug"]},{field:"outputs.indicators",innerFields:["name","baseline","verification_means","assumptions","risk_factors"],phases:[2,3,4,5],translation:"validation.outputs_indicators",step:Ia.RESULT_MATRIX,app:["jm"]},{field:"outputs.investments",innerFields:["fund_id","costing_id"],phases:[1],translation:"validation.outputs_investments",step:Ia.RESULT_MATRIX,app:["ug"]},{field:"components.investments",innerFields:["fund_id"],phases:[2],translation:"validation.components_investments",step:Ia.COST_ESTIMATES,app:["jm"]},{field:"components.subcomponents",innerFields:["name","description"],phases:[2],translation:"validation.components_subcomponents",step:Ia.COST_ESTIMATES,app:["jm"]},{field:"activities",innerFields:["name","start_date","end_date","output_ids","description"],phases:[2,3,4,5],translation:"validation.activities",step:Ia.RESULT_MATRIX,app:["ug"]},{field:"activities.investments",innerFields:["fund_id","costing_id"],phases:[2,3,4,5],translation:"validation.activities_investments",step:Ia.RESULT_MATRIX,app:["ug"]},{field:"baseline",phases:[2,3,4,5],translation:"validation.baseline",step:Ia.RESULT_MATRIX,app:["ug"]},{field:"baseline",phases:[2,3,4,5],translation:"validation.baseline",step:Ia.RESULT_MATRIX,app:["jm"]},{field:"components",innerFields:["name","description"],phases:[1,2,3,4,5],translation:"validation.components",step:Ia.COST_ESTIMATES,app:["jm"]},{field:"rational_study",phases:[3,4,5],translation:"validation.rational_study",step:Ia.INTRODUCTION,app:["ug"]},{field:"methodology",phases:[3,4,5],translation:"validation.methodology",step:Ia.INTRODUCTION,app:["ug"]},{field:"organization_study",phases:[3,4,5],translation:"validation.organization_study",step:Ia.INTRODUCTION,app:["ug"]},{field:"om_costs",innerFields:["fund_id","costing_id"],phases:[3,4,5],translation:"validation.om_costs",step:Ia.OM_COSTS,app:["ug"]},{field:"om_costs",innerFields:["fund_id","costing_id"],phases:[2],translation:"validation.om_costs",step:Ia.OM_COSTS,app:["jm"]},{field:"national_scope",phases:[5],translation:"validation.national_scope",step:Ia.SUMMARY,app:["ug"]},{field:"procurement_modality",phases:[1,2,3,4,5],translation:"validation.procurement_modality",step:Ia.SUMMARY,app:["jm"]},{field:"me_strategies",phases:[1,2,3,4,5],translation:"validation.me_strategies",step:Ia.PROJECT_BACKGROUND,app:["jm"]},{field:"governance",phases:[1,2,3,4,5],translation:"validation.governance",step:Ia.PROJECT_BACKGROUND,app:["jm"]},{field:"ppp_similar_reference",phases:[1,2,3,4,5],translation:"validation.ppp_similar_reference",step:Ia.PROCUREMENT,app:["jm"]},{field:"ppp_interest",phases:[1,2,3,4,5],translation:"validation.ppp_interest",step:Ia.PROCUREMENT,app:["jm"]},{field:"ppp_impediments",phases:[1,2,3,4,5],translation:"validation.ppp_impediments",step:Ia.PROCUREMENT,app:["jm"]},{field:"ppp_risk_allocation",phases:[1,2,3,4,5],translation:"validation.ppp_risk_allocation",step:Ia.PROCUREMENT,app:["jm"]},{field:"ndp_strategies",phases:[1,2,3,4,5],innerFields:["ndp_goal_id","ndp_outcome_id","ndp_sdgs_ids","ndp_strategy_ids"],translation:"validation.ndp_strategy_id",step:Ia.NDP,app:["jm"]},{field:"ndp_policy_alignment",phases:[1,2,3,4,5],translation:"validation.ndp_policy_alignment",step:Ia.NDP,app:["jm"]},{field:"ndp_compliance",phases:[1,2,3,4,5],translation:"validation.ndp_compliance",step:Ia.NDP,app:["jm"]},{field:"default_option_name",phases:[1,2],translation:"validation.default_option_name",step:Ia.OPTIONS_ANALYSIS,app:["jm"]},{field:"default_option_description",phases:[1,2],translation:"validation.default_option_description",step:Ia.OPTIONS_ANALYSIS,app:["jm"]},{field:"default_option_description_impact",phases:[1,2],translation:"validation.default_option_description_impact",step:Ia.OPTIONS_ANALYSIS,app:["jm"]},{field:"project_options",phases:[1],innerFields:["name","description","swot_analysis","start_date","end_date","capital_expenditure","funding_modality"],translation:"validation.project_options",step:Ia.OPTIONS_ANALYSIS,app:["jm"]},{field:"project_options",phases:[2],innerFields:["name","description","swot_analysis","start_date","end_date","capital_expenditure","funding_modality","financial_evaluation","economic_evaluation","stakeholder_evaluations"],translation:"validation.project_options",step:Ia.OPTIONS_ANALYSIS,app:["jm"]},{field:"project_options",phases:[4],innerFields:["building_blocks","financial_evaluation","economic_evaluation","stakeholder_evaluations","risk_evaluations"],translation:"validation.project_options",step:Ia.OPTIONS_ANALYSIS,app:["ug"]},{field:"climate_risks",phases:[2],innerFields:["climate_hazard","exposure_risk","vulnerability_risk","overall_risk","vulnerability_impact"],translation:"validation.climate_risks",step:Ia.CLIMATE_RISK_ASSESSMENT,app:["jm"]},{field:"project_risks",phases:[2],innerFields:["name","impact_level","probability","score","response","owner"],translation:"validation.project_risks",step:Ia.RISK_ASSESSMENT,app:["jm"]}]},Za="MANDATORY",en=[{id:".xls",name:"Microsoft Excel (.xls)"},{id:".xlsx",name:"Microsoft Excel (.xlsx)"},{id:".doc",name:"Microsoft Word (.doc)"},{id:".docx",name:"Microsoft Word (.docx)"},{id:".csv",name:"Comma Separated File"},{id:".pdf",name:"Adobe Acrobat PDF"},{id:null,name:"ALL"}],tn={INFRASTRUCTURE:"infrastructure",ACQUISITION:"simple_acquisition",INITIAL:"initial"},an={PLANS:[{id:"Plano Quinquenal do Governo",name:"Plano Quinquenal do Governo"},{id:"Estrat\xe9gia Nacional de Desenvolvimento",name:"Estrat\xe9gia Nacional de Desenvolvimento"},{id:"Plano Estrat\xe9gico Territorial",name:"Plano Estrat\xe9gico Territorial"},{id:"Plano Estrat\xe9gico do Sector",name:"Plano Estrat\xe9gico do Sector"},{id:"Plano Nacional Plurianual de Investimento P\xfablico",name:"Plano Nacional Plurianual de Investimento P\xfablico"},{id:"Plano Econ\xf3mico e Social",name:"Plano Econ\xf3mico e Social"},{id:"Programa Regional (SADC)",name:"Programa Regional (SADC)"}],OBJECTIVES:{"Plano Quinquenal do Governo":[{id:"Prioridade I",name:"Prioridade I"},{id:"Prioridade II",name:"Prioridade II"},{id:"Prioridade III",name:"Prioridade III"},{id:"Prioridade IV",name:"Prioridade IV"},{id:"Prioridade V",name:"Prioridade V"}],"Estrat\xe9gia Nacional de Desenvolvimento":[{id:"Estrat\xe9gia 01",name:"Estrat\xe9gia 01"},{id:"Estrat\xe9gia 02",name:"Estrat\xe9gia 02"},{id:"Estrat\xe9gia 03",name:"Estrat\xe9gia 03"},{id:"Estrat\xe9gia 04",name:"Estrat\xe9gia 04"},{id:"Estrat\xe9gia 05",name:"Estrat\xe9gia 05"},{id:"Estrat\xe9gia 06",name:"Estrat\xe9gia 06"}],"Plano Estrat\xe9gico Territorial":[{id:"Objectivo Territorial 01",name:"Objectivo Territorial 01"},{id:"Objectivo Territorial 02",name:"Objectivo Territorial 02"},{id:"Objectivo Territorial 03",name:"Objectivo Territorial 03"},{id:"Objectivo Territorial 04",name:"Objectivo Territorial 04"},{id:"Objectivo Territorial 05",name:"Objectivo Territorial 05"},{id:"Objectivo Territorial 06",name:"Objectivo Territorial 06"}],"Plano Estrat\xe9gico do Sector":[{id:"Objectivo Sectorial 01",name:"Objectivo Sectorial 01"},{id:"Objectivo Sectorial 02",name:"Objectivo Sectorial 02"},{id:"Objectivo Sectorial 03",name:"Objectivo Sectorial 03"},{id:"Objectivo Sectorial 04",name:"Objectivo Sectorial 04"},{id:"Objectivo Sectorial 05",name:"Objectivo Sectorial 05"},{id:"Objectivo Sectorial 06",name:"Objectivo Sectorial 06"}],"Plano Nacional Plurianual de Investimento P\xfablico":[{id:"Objectivo 01",name:"Objectivo 01"},{id:"Objectivo 02",name:"Objectivo 02"},{id:"Objectivo 03",name:"Objectivo 03"},{id:"Objectivo 04",name:"Objectivo 04"},{id:"Objectivo 05",name:"Objectivo 05"},{id:"Objectivo 06",name:"Objectivo 06"}],"Plano Econ\xf3mico e Social":[{id:"Objectivo PES 01",name:"Objectivo PES 01"},{id:"Objectivo PES 02",name:"Objectivo PES 02"},{id:"Objectivo PES 03",name:"Objectivo PES 03"},{id:"Objectivo PES 04",name:"Objectivo PES 04"},{id:"Objectivo PES 05",name:"Objectivo PES 05"},{id:"Objectivo PES 06",name:"Objectivo PES 06"}],"Programa Regional (SADC)":[{id:"Objectivo Regional 01",name:"Objectivo Regional 01"},{id:"Objectivo Regional 02",name:"Objectivo Regional 02"},{id:"Objectivo Regional 03",name:"Objectivo Regional 03"},{id:"Objectivo Regional 04",name:"Objectivo Regional 04"},{id:"Objectivo Regional 05",name:"Objectivo Regional 05"},{id:"Objectivo Regional 06",name:"Objectivo Regional 06"}]}},nn=[{id:"Q1",name:"Q1"},{id:"Q2",name:"Q2"},{id:"Q3",name:"Q3"},{id:"Q4",name:"Q4"}],rn=[{id:"CF",name:"Contractual Financing"},{id:"AF",name:"Alternative financing"},{id:"BF",name:"Bridge Financing"},{id:"JV",name:"Joint Venture"}];function on(e){var t=Object(n.useState)(0),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(Ca.a)(),c=Object(Na.a)(),s=Object(pe.a)();Object(n.useEffect)((function(){u()}),[]);var u=function(){l.getListOfAll("notifications",{filter:{is_unread:!0},sort_field:"created_on"}).then((function(e){if(e&&e.data){var t=e.data.filter((function(e){return e.is_unread}));0!==t.length&&(x.a.isEqual(o,t)||(c(s("messages.new_messages")),i(t.length)))}}))};return r.a.createElement(ra.a,{title:s("tooltips.notifications"),placement:"bottom"},r.a.createElement(ce.a,{href:"#/notifications",underline:"none"},r.a.createElement(Ce.a,{color:"inherit"},r.a.createElement(va.a,{badgeContent:o,color:"primary"},r.a.createElement(Ea.a,{fontSize:"small"})))))}var ln=["className","onSidebarOpen","userLogout"],cn=Object(ae.a)((function(e){var t;return{root:{display:"flex","& .MuiToolbar-regular":{minHeight:Y("has_pimis_fields")?58:64,display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0px -5px 5px -5px rgba(34, 60, 80, 0.6) inset"}},appBar:(t={},Object(N.a)(t,e.breakpoints.up("md"),{width:"calc(100% - ".concat(205,"px)"),marginLeft:205}),Object(N.a)(t,"boxShadow","none"),Object(N.a)(t,"backgroundColor","#fff"),Object(N.a)(t,"color","#576065"),Object(N.a)(t,"borderBottom","1px solid #eeeeee"),Object(N.a)(t,"zIndex",10),t),appBarClose:Object(N.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(e.spacing(8)+1,"px)"),marginLeft:e.spacing(8)+1}),appBarActions:{right:e.spacing(2)},menuButton:Object(N.a)({marginRight:e.spacing(2)},e.breakpoints.up("md"),{display:"none"})}}));var sn=Object(ee.c)((function(e){return{ui:e.ui,user:e.user.userInfo,location:e.router.location.pathname}}),{userLogout:le.g})((function(e){var t=cn(),a=Object(re.a)(),n=Object(ee.e)(),o=L(),i=Object(pe.a)(),l=(e.className,e.onSidebarOpen,e.userLogout),c=(Object(T.a)(e,ln),function(){l()}),s=function(e){a.switchRole({role_id:e,success:n})};return r.a.createElement("div",{className:t.root},r.a.createElement(te.a,null),r.a.createElement(oa.a,{position:"fixed",className:Object(Fe.default)(t.appBar,Object(N.a)({},t.appBarClose,!e.opened))},r.a.createElement(Pa.a,null,r.a.createElement(Ce.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:function(){return e.onMobileOpen(!e.mobileOpened)},className:t.menuButton},r.a.createElement(_a.a,null)),r.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:20,width:"70%",marginRight:15}},r.a.createElement(se.a,{variant:"h3",noWrap:!0},Y("has_pimis_fields")?e.location&&(e.location.indexOf("project-details")>-1||e.location.indexOf("expenditure")>-1||e.location.indexOf("gfms_data")>-1||e.location.indexOf("cost-plans")>-1||e.location.indexOf("projects")>-1||e.location.indexOf("project-indicators")>-1||e.location.indexOf("project-management")>-1)&&e.headerTitle?e.headerTitle:"Public Investment Management Information System":Y("has_esnip_fields")?"Subsistema Nacional de Investimentos P\xfablicos":e.headerTitle?e.headerTitle:"Integrated Bank of Projects")),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},Y("has_pimis_fields")&&r.a.createElement(se.a,{variant:"caption",style:{color:"#546e7a"}},"Logged in as ".concat(e.user&&e.user.current_role&&e.user.current_role.role.name)),Y("has_topbar_information_block")&&r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement("p",{style:{margin:"1px 0px",fontSize:10}},"Phone: ",r.a.createElement("a",{href:"tel:0414707386"}," 0414707386 ")),r.a.createElement("p",{style:{margin:"1px 0px",fontSize:10}},"Email:",r.a.createElement("a",{href:"mailto:ibpsupport@finance.go.ug"},"ibpsupport@finance.go.ug"))),r.a.createElement("div",{className:t.appBarActions},r.a.createElement(Pe.a,{xsDown:!0,implementation:"css"},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(on,null),r.a.createElement(ra.a,{title:i("tooltips.help"),placement:"bottom"},r.a.createElement(Ce.a,{color:"inherit"},r.a.createElement(ce.a,{href:Y("has_pimis_fields")?"#":"http://ibp-help.torusline.com/",target:"_blank",underline:"none"},r.a.createElement(la.a,{fontSize:"small"})))),r.a.createElement(da,{icon:r.a.createElement(ra.a,{title:i("tooltips.user_actions"),placement:"bottom"},r.a.createElement(ya.a,null)),menu:function(){var t=[];return o("edit_profile")&&(t.push({title:"Profile",className:"title",disabled:!0}),t.push({icon:r.a.createElement(la.a,{fontSize:"small"}),component:r.a.createElement("a",{href:"#/users/".concat(e.user?e.user.id:"")},"Edit Profile")})),o("view_profile")&&!o("edit_profile")&&(t.push({title:"Profile",className:"title",disabled:!0}),t.push({icon:r.a.createElement(la.a,{fontSize:"small"}),component:r.a.createElement("a",{href:"#/users/".concat(e.user?e.user.id:"","/show")},"View Profile")})),t.push({title:"Role",className:"title",disabled:!0}),t.push({component:e.user&&e.user.current_role?r.a.createElement(Sa,{onSelect:s,roles:e.user.user_roles,currentRole:e.user.current_role.role_id}):null}),t.push({icon:r.a.createElement(pa.a,{fontSize:"small"}),title:"Sign Out",onClick:c}),Y("has_pimis_fields")&&t.push({title:"release v".concat("3.9.4"),className:"title",disabled:!0}),t}()}))),r.a.createElement(Pe.a,{smUp:!0,implementation:"css"},r.a.createElement(wa,null)))))))})),un=a(1068),dn=a(10),mn="#FFFFFF",pn={black:"#000000",white:mn,primary:{contrastText:mn,dark:dn.a.indigo[900],main:dn.a.indigo[500],light:dn.a.indigo[100]},secondary:{contrastText:mn,dark:dn.a.blue[900],main:dn.a.blue.A400,light:dn.a.blue.A400},success:{contrastText:mn,dark:dn.a.green[900],main:dn.a.green[600],light:dn.a.green[400]},info:{contrastText:mn,dark:dn.a.blue[900],main:dn.a.blue[600],light:dn.a.blue[400]},warning:{contrastText:mn,dark:dn.a.orange[900],main:dn.a.orange[600],light:dn.a.orange[400]},error:{contrastText:mn,dark:dn.a.red[900],main:dn.a.red[600],light:dn.a.red[400]},text:{primary:dn.a.blueGrey[900],secondary:dn.a.blueGrey[600],link:dn.a.blue[600]},background:{default:"#F4F6F8",paper:mn,sidebar:"#2f353a",sidebar_jm:"#011635"},icon:dn.a.blueGrey[600],divider:dn.a.grey[200],border:dn.a.grey[600]},fn={h1:{color:pn.text.primary,fontWeight:500,fontSize:"35px",letterSpacing:"-0.24px",lineHeight:"40px"},h2:{color:pn.text.primary,fontWeight:500,fontSize:"29px",letterSpacing:"-0.24px",lineHeight:"32px"},h3:{color:pn.text.primary,fontWeight:500,fontSize:"24px",letterSpacing:"-0.06px",lineHeight:"28px"},h4:{color:pn.text.primary,fontWeight:500,fontSize:"20px",letterSpacing:"-0.06px",lineHeight:"24px"},h5:{color:pn.text.primary,fontWeight:500,fontSize:"16px",letterSpacing:"-0.05px",lineHeight:"20px"},h6:{color:pn.text.primary,fontWeight:500,fontSize:"14px",letterSpacing:"-0.05px",lineHeight:"20px"},subtitle1:{color:pn.text.primary,fontSize:"16px",letterSpacing:"-0.05px",lineHeight:"25px"},subtitle2:{color:pn.text.secondary,fontWeight:400,fontSize:"14px",letterSpacing:"-0.05px",lineHeight:"21px"},body1:{color:pn.text.primary,fontSize:"14px",letterSpacing:"-0.05px",lineHeight:"21px"},body2:{color:pn.text.secondary,fontSize:"12px",letterSpacing:"-0.04px",lineHeight:"18px"},button:{color:pn.text.primary,fontSize:"14px"},caption:{color:pn.text.secondary,fontSize:"11px",letterSpacing:"0.33px",lineHeight:"13px"},overline:{color:pn.text.secondary,fontSize:"11px",fontWeight:500,letterSpacing:"0.33px",lineHeight:"13px",textTransform:"uppercase"}},_n={MuiButton:{contained:{boxShadow:"0 1px 1px 0 rgba(0,0,0,0.14), 0 2px 1px -1px rgba(0,0,0,0.12), 0 1px 3px 0 rgba(0,0,0,0.20)",backgroundColor:"#FFFFFF"}},MuiIconButton:{root:{color:pn.icon,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.03)"}}},MuiPaper:{elevation1:{boxShadow:"0 0 0 1px rgba(63,63,68,0.05), 0 1px 3px 0 rgba(63,63,68,0.15)"}},MuiTableCell:{root:Object(u.a)(Object(u.a)({},fn.body1),{},{borderBottom:"1px solid ".concat(pn.divider),verticalAlign:"top"}),head:{fontWeight:"bold"}},MuiTableHead:{root:{backgroundColor:dn.a.grey[50]}},MuiTypography:{gutterBottom:{marginBottom:8}},MuiListItem:{root:{paddingTop:0,paddingBottom:0}},MuiOutlinedInput:{input:{padding:"18.5px 32px 18.5px 14px","&.Mui-disabled":{background:"#f4f4f4"}}},MuiStep:{horizontal:{position:"relative"}},MuiInputLabel:{root:{color:"rgba(0, 0, 0, 0.30)"},shrink:{color:"#000000"}}},gn=Object(un.a)({palette:pn,typography:fn,overrides:_n,zIndex:{appBar:1200,drawer:1100},breakpoints:{values:{xs:0,sm:600,md:960,appl:1024,lg:1280,xl:1920}}}),hn=a(88),vn=a(89),bn=a(214),En=a(213),jn=a(2087),yn=a(1982),On=a(1981),wn=a(18),xn=a(228),kn=a.n(xn),Sn=a(256),Pn=a.n(Sn),Cn=a(99),Nn=a.n(Cn),An=a(2085),Dn=["user","classes"],Tn=Object(wn.a)({avatar:{width:25,height:25,left:10,position:"absolute",background:"#fff"}})((function(e){e.user;var t=e.classes,a=Object(T.a)(e,Dn);return r.a.createElement(An.a,{className:t.avatar},a.children)})),Fn=a(134),Rn=a.n(Fn),In=a(1979),Mn=a(135),Wn=a.n(Mn),Ln=a(1980),Yn=a(207),Bn=a.n(Yn),zn=function(e,t,a){return r.a.createElement("p",{className:a.headerTitle},r.a.createElement("strong",null,e),r.a.createElement("strong",null,function(e){switch(e){case"CREATE":return" create ";case"SUBMIT":return" has submitted ";case"APPROVE":return" has approved ";case"REJECT":return" has rejected ";case"REVISE":return Y("has_pimis_fields")?" has returned for revision ":" has revised ";case"ASSIGN":return" has assigned user";case"REVERT":return" has reverted ";default:return""}}(t)))},qn=Object(wn.a)({root:{padding:"10px 15px"},item:{width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",padding:"10px",paddingLeft:"45px",position:"relative"},status:{position:"absolute",height:"100%",width:"30px",right:0,top:0},submit:{backgroundColor:"rgba(128, 128, 128, 0.5)"},approve:{backgroundColor:"rgba(0, 128, 0, 0.5)"},reject:{backgroundColor:"rgba(255, 0, 0, 0.8)"},revise:{backgroundColor:"rgba(255, 165, 0, 0.8)"},assign:{backgroundColor:"rgba(232, 232, 0, 0.7)"},revert:{backgroundColor:"rgba(128, 0, 128, 0.5)"},create:{backgroundColor:"rgba(128, 0, 128, 0.5)"},header:{fontWeight:"bold",fontSize:"16px"},title:{fontWeight:"bold",fontSize:"14px"},subtitle:{fontWeight:"normal",fontSize:"12px",margin:"0",whiteSpace:"normal",width:"85%"},footer:{fontSize:"10px",margin:"0"},headerTitle:{margin:0}})((function(e){var t=e.event,a=e.classes,n=Object(pe.a)(),o=L();return r.a.createElement(Ae.a,{className:a.root},r.a.createElement(In.a,{className:a.item},r.a.createElement(Ln.a,null,r.a.createElement(Tn,null,function(e){switch(e){case"CREATE":case"SUBMIT":case"APPROVE":return r.a.createElement(Wn.a,{style:{fill:"#3f51b5"}});case"REJECT":return r.a.createElement(Rn.a,{style:{fill:"#3f51b5"}});case"REVISE":return r.a.createElement(Bn.a,{style:{fill:"#3f51b5"}});case"ASSIGN":return r.a.createElement(Nn.a,{style:{fill:"#3f51b5"}});case"REVERT":return r.a.createElement(Pn.a,{style:{fill:"#3f51b5"}});default:return null}}(t.project_action))),r.a.createElement(Te.a,{primary:r.a.createElement("div",null,r.a.createElement("div",{className:a.title},zn(t.user.full_name,t.project_action,a)),r.a.createElement("div",{className:a.subtitle},t.assigned_user_id?"Assigned User: ".concat(t.assigned_user&&t.assigned_user.full_name):""),r.a.createElement("div",{className:a.subtitle},t.workflow&&t.workflow.role?"Role: ".concat(t.workflow&&t.workflow.role.name):""),r.a.createElement("div",{className:a.subtitle},t.phase_id?"Phase: ".concat(t.phase.name):""),r.a.createElement("div",{className:a.subtitle},t.reason?"Comments: ".concat(t.reason):""),r.a.createElement("br",null),t.files&&0!==t.files.length&&r.a.createElement("div",{className:a.subtitle},r.a.createElement("span",null,"Files:"),r.a.createElement("br",null),r.a.createElement("ul",{style:{paddingLeft:"15px"}},t.files.filter((function(e){return e.meta&&!e.meta.project_analysis})).map((function(e){return r.a.createElement("li",null,r.a.createElement("a",{href:e.link},e.title))})),!Y("has_pimis_fields")&&o("view_project_analysis")&&(t.files&&0!==t.files.length?t.files.filter((function(e){return e.meta&&e.meta.project_analysis})).map((function(e){return r.a.createElement("li",null,r.a.createElement("p",{style:{marginBottom:2}},n("printForm.attachments.project_analysis")),r.a.createElement("a",{href:e.link},e.title))})):null)))),secondary:r.a.createElement("div",{className:a.footer},S()(t.created_on).format("DD.MM.YYYY HH:mm").toLocaleString())}),function(e,t){return r.a.createElement("div",{class:"".concat(t.status," ").concat(t[e.toLowerCase()])})}(t.project_action,a)))})),Un=function(e,t){return new Date(t).valueOf()-new Date(e).valueOf()},Vn=function(e){var t=e.reduce((function(e,t){var a=function(e){var t=S()(e.created_on),a=new Date(t);return a.setMilliseconds(0),a.setSeconds(0),a.setMinutes(0),a.setHours(0),a.toISOString()}(t);return e[a]||(e[a]=[]),e[a]=e[a].concat(t),e}),{});return{days:Object.keys(t).sort(Un),eventsByDay:t}},Gn=function(e){Object(bn.a)(a,e);var t=Object(En.a)(a);function a(){var e;Object(hn.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={expanded:null,eventsByPhaseDays:[]},e.handleChange=function(t){return function(a,n){e.setState({expanded:!!n&&t})}},e}return Object(vn.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.events,t=x.a.groupBy(e,"phase_id"),a=x.a.sortBy(x.a.keys(t).map((function(e){return Object(u.a)({phase:e,phaseName:t[e]&&t[e][0].phase.name},Vn(t[e]))})),"phase").reverse();this.state.expanded||0===a.length||this.setState({expanded:x.a.first(a).phase,eventsByPhaseDays:a})}},{key:"render",value:function(){var e=this,t=this.state,a=t.expanded,n=t.eventsByPhaseDays,o=this.props,i=o.classes;o.translate;return r.a.createElement("div",{className:i.root},n.map((function(t){return r.a.createElement(jn.a,{expanded:a===t.phase,onChange:e.handleChange(t.phase)},r.a.createElement(On.a,{expandIcon:r.a.createElement(kn.a,null)},r.a.createElement(se.a,{className:i.heading},t.phase&&t.phaseName)),r.a.createElement(yn.a,{className:i.details},t.days.map((function(e){return r.a.createElement("div",{key:e,className:i.day},r.a.createElement(se.a,{variant:"subheading",gutterBottom:!0},r.a.createElement("italic",null,new Date(e).toLocaleDateString("en",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))),r.a.createElement(Ne.a,null,(a=t.eventsByDay[e],x.a.sortBy(a,(function(e){return S()(e.created_on)})).reverse()).map((function(e){return r.a.createElement(qn,{event:e,key:e.id})}))));var a}))))})))}}]),a}(n.Component),Hn=Object(wn.a)((function(e){return{root:{width:600,margin:"auto"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0,fontWeight:"bold"},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},details:{display:"block"}}}))(Gn);var Jn=function(e){var t=Object(n.useState)([]),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(!0),c=Object(Z.a)(l,2),s=c[0],u=c[1],d=Object(pe.a)(),m=Object(Ca.a)(),p=Object(ee.f)((function(e){return e.ui.rightPanelContent}));return Object(n.useEffect)((function(){p&&m.getListOfAll("timeline",{sort_field:"id",filter:{project_id:p.data.id}}).then((function(e){u(!1),i(e.data)})).catch((function(e){u(!1)}))}),[e.project]),s?r.a.createElement("h3",null,"Loading..."):0===o.length?r.a.createElement("h3",null,d("timeline.no_data")):r.a.createElement(Hn,{events:o,translate:d})},Xn=a(77),$n=a(381),Kn=a(1985),Qn=a(2072),Zn=a(1071),er=Object(ae.a)((function(e){return{buttonsContainer:{width:"100%",display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"10px 25px"},buttons:{width:"100px",fontSize:"16px",display:"flex",justifyContent:"flex-end"},icon:{cursor:"pointer",margin:"0px 5px",color:e.palette.primary.main}}}));function tr(e,t){var a,n;a=new Blob([e],{type:"text/csv"}),(n=document.createElement("a")).download=t,n.href=window.URL.createObjectURL(a),n.style.display="none",document.body.appendChild(n),n.click()}function ar(e){return"\n<table class=\"footer_table\" style='margin-left:50in;'>\n<tr style='height:1pt;mso-height-rule:exactly'>\n  <td>\n    <div style='mso-element:footer' id=f1>\n        <img src=\"".concat(v,"/assets/images/").concat(e,'/coat_of_arms.png" width="28" height="24" />\n        <span style=\'font-size:10.0pt; mso-tab-count: 1\'>\n          ').concat(function(e){switch(e){case"ug":return"This is a property of the Government of Uganda";case"jm":return"This is a property of the Government of Jamaica";default:return""}}(e),'\n        </span>\n        <span style=\'font-size:10.0pt mso-tab-count: 5\'>\n          Page \n        </span>\n        <span style=\'margin-left:10px;\'></span>\n        <span style=\'mso-field-code:PAGE\'></span>\n        <w:sdtPr></w:sdtPr>\n        <table class="footer_table" width="100%" border="0" cellspacing="0" cellpadding="0" >\n          <tr valign="middle">\n            <td align="left"></td>\n        </tr></table></div>\n    </td>\n  </tr>\n</table>\n')}var nr=function(e){var t=er(),a=Object(Ca.a)(),n=r.a.useState(!1),o=Object(Z.a)(n,2),i=(o[0],o[1]),l=Object(ee.f)((function(e){return e.app.appConfig})),c=Object(pe.a)(),s=l.application_config.prefix,u=L(),d=function(t,a){return Y("has_pimis_fields")?'<html>\n      <body>        \n        <div id="title_content" style="width: 100%; text-align: center;">\n          <div>\n            <img src="'.concat(v,"/assets/images/").concat(s,'/coat_of_arms.png" width="350px"/>\n          </div>\n          <br />\n          <h1 style="font-size: 30px;">Government of Jamaica</h1>\n          <h2 style="font-size: 35px;">').concat(e.title,'</h2>\n        </div>\n        \n        <div class="pageBreak"></div>\n        <span><br clear=all style=\'page-break-before:always;mso-break-type:section-break\' /></span>\n        <div class="page-break"></div>\n\n        \x3c!-- HTML Content --\x3e\n        <div id=\'page_content\' class="page_content">\n          ').concat(t.innerHTML,"\n        </div>\n        ").concat("word"===a?ar(s):"","\n      </body>\n    </html>"):'<html>\n          <body>        \n            <div id="title_content" style="width: 100%; text-align: center;">\n              <div>\n                <img src="'.concat(v,"/assets/images/").concat(s,'/coat_of_arms.png" height="150px width="150px" />\n              </div>\n              <br />\n              <h1 style="font-size: 20px;">Government of Uganda</h1>\n              <h2 style="font-size: 25px">').concat(e.title,'</h2>\n            </div>\n\n            <div class="pageBreak"></div>\n            <span><br clear=all style=\'page-break-before:always;mso-break-type:section-break\' /></span>\n            <div class="page-break"></div>\n          \n            \x3c!-- HTML Content --\x3e\n            <div id=\'page_content\' class="page_content">\n              ').concat(t.innerHTML,"\n            </div>\n              ").concat("word"===a?ar(s):"","\n          </body>\n        </html>")},m=function(t){return function(){var n=document.getElementById(e.reportId);if(t!==Ha.XLS.id){if(n){var r=n.cloneNode(!0);i(!0),a.export("projects",{export_name:"".concat(e.title),data:{content:n?d(r):"",style:"".concat("\n.gantt_task_line {\n  border-radius: 2px;\n  position: absolute;\n  box-sizing: border-box;\n  background-color: #3db9d3;\n  border: 1px solid #2898b0;\n}\n\n.gantt-chart-table th {\n  border-left: 1px solid #c8ced3;\n}\n\n.gantt-chart-table td {\n  padding: 3px 0px !important;\n  border-left: 1px solid #c8ced3;\n}\n\n.gantt-chart-table .title {\n  padding-left: 15px !important;\n}\n\n.gantt-chart-table .filled-cell {\n  background: blue;\n  padding: 12px 0px;\n}\n\n.pageBreak{\n  page-break-before: always;\n  -pdf-keep-with-next: false;\n  mso-break-type:section-break;\n}\n\n.bordered td {\n  padding: 0.25rem;\n  vertical-align: top;\n  border: 1px solid #c8ced3;\n}\n\n.bordered th {\n  padding: 0.25rem;\n  vertical-align: top;\n  border: 1px solid #c8ced3;\n}\n\n.filled-row {\n  background-color: rgba(0, 0, 0, 0.05);\n  font-weight: bold;\n}\n\n.content-area {\n  margin-bottom: 55px;\n}\n\n.content-area_subtitle{\n  margin-bottom: 2px;\n}\n\n.content-area_title {\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n\n.footer-left {\n  text-align:left;\n  width: 50pt;\n}\n\n.footer-center {\n    text-align:center;\n}\n\n.footer-right {\n    text-align:right;\n}\n\n.footer_img {\n  margin-right: 10px;\n}\n\n.footer_img img {\n  padding-right: 30px;\n  width: 45px;\n  height: 45px;\n}\n\n.MuiTableRow-root {\n  outline: 0;\n  vertical-align: middle;\n}\n\n.MuiTableCell-body {\n  color: #263238;\n}\n\n.MuiTableCell-root {\n  color: #263238;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  font-size: 12px;\n  text-align: left;\n  font-weight: 400;\n  outline: 1px solid black;\n}\n\n.MuiTableCell-head {\n  color: #263238;\n  text-align: center;\n  font-weight: bold;\n  background-color: #fafafa;\n  font-size: 12px;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n.MuiTableHead-root {\n  background-color: #fafafa;\n}\n.MuiTableCell-alignCenter {\n  text-align: center;\n}\n\nli {\n  margin: 0;\n}\n"),export_type:t,instance:s}}).then((function(e){i(!1)})).catch((function(e){i(!1)}))}}else!function(e,t){for(var a=[],n=document.querySelectorAll("table tr"),r=0;r<n.length;r++){for(var o=[],i=n[r].querySelectorAll("td, th"),l=0;l<i.length;l++){var c=i[l].innerText.replace(/,/g,"");o.push(c||"")}a.push(o.join(","))}tr(a.join("\n"),t)}(0,"".concat(e.title,".csv"))}};return u("export")?r.a.createElement("div",{className:e.className||t.buttonsContainer},r.a.createElement("div",{className:t.buttons},e.exportTypes.map((function(e){return r.a.createElement(ra.a,{title:c("buttons.export_".concat(e.id)),placement:"left"},r.a.createElement(Zn.a,{icon:e.icon,size:"2x",onClick:m(e.id),className:t.icon}))})))):null},rr=a(1089),or=a(139),ir=a.n(or),lr=["demand_module","technical_module","environmental_module","hr_module","legal_module"],cr=Y("has_pimis_fields")?["financial_evaluation","economic_evaluation","stakeholder_evaluations"]:["financial_evaluation","economic_evaluation","stakeholder_evaluations","risk_evaluations"],sr=function(e){return x.a.keys(e).filter((function(t){return e[t]&&0!==e[t].length})).map((function(t){return"".concat(t,": ").concat(e[t].join(", "))}))},ur=function(e,t){var a=e.project_options,n=["advantage","disadvantage","description","score"],r={},o="validation.project_options.building_blocks";return a.forEach((function(e){r[e.name]=[]})),a.forEach((function(a,i){lr.forEach((function(i){n.forEach((function(n){a[i]?Y("has_legacy_ndp",e.phase_id)?a[i].description||r[a.name].push("".concat(t("".concat(o,".modules.").concat(i)),"(").concat(t("".concat(o,".","description")),")")):a[i][n]||r[a.name].includes(n)||r[a.name].push("".concat(t("".concat(o,".modules.").concat(i)),"(").concat(t("".concat(o,".").concat(n)),")")):r[a.name].includes("".concat(t("".concat(o,".modules.").concat(i)),"(").concat(t("validation.project_options.all_fields"),")"))||r[a.name].push("".concat(t("".concat(o,".modules.").concat(i)),"(").concat(t("validation.project_options.all_fields"),")"))}))}))})),sr(r)},dr=function(e,t){var a=e.project_options,n={},r=["appraisal_methodology","summary"],o=["name","impact_sign","beneficiary","description"],i="validation.project_options";return a.forEach((function(e){n[e.name]=[]})),a.filter((function(e){return e.is_shortlisted})).forEach((function(e,a){cr.forEach((function(a){if(e[a])if("financial_evaluation"===a||"economic_evaluation"===a)r.forEach((function(r){e[a][r]?("financial_evaluation"===a&&("appraisal_methodology"===r&&"cba"===e[a][r]&&(e[a].fnpv||n[e.name].push("".concat(t("".concat(i,".").concat(a,".title")),"(").concat(t("".concat(i,".").concat(a,".fnpv")),")")),e[a].irr||n[e.name].push("".concat(t("".concat(i,".").concat(a,".title")),"(").concat(t("".concat(i,".").concat(a,".irr")),")"))),"appraisal_methodology"===r&&"cea"===e[a][r]&&(e[a].criterias&&0!==e[a].criterias.length||n[e.name].push("".concat(t("".concat(i,".").concat(a,".title")),"(").concat(t("".concat(i,".").concat(a,".criterias")),")")))),"economic_evaluation"===a&&("appraisal_methodology"===r&&"cba"===e[a][r]&&(e[a].enpv||n[e.name].push("".concat(t("".concat(i,".").concat(a,".title")),"(").concat(t("".concat(i,".").concat(a,".enpv")),")")),e[a].err||n[e.name].push("".concat(t("".concat(i,".").concat(a,".title")),"(").concat(t("".concat(i,".").concat(a,".err")),")"))),"appraisal_methodology"===r&&"cea"===e[a][r]&&(e[a].criterias&&0!==e[a].criterias.length||n[e.name].push("".concat(t("".concat(i,".").concat(a,".title")),"(").concat(t("".concat(i,".").concat(a,".criterias")),")"))))):n[e.name].includes(r)||n[e.name].push("".concat(t("".concat(i,".").concat(a,".title")),"(").concat(t("".concat(i,".").concat(a,".").concat(r)),")"))}));else if(0===e[a].length)n[e.name].includes("".concat(t("".concat(i,".").concat(a,".title")),"(").concat(t("".concat(i,".all_fields")),")"))||n[e.name].push("".concat(t("".concat(i,".").concat(a,".title")),"(").concat(t("".concat(i,".all_fields")),")"));else{var l="stakeholder_evaluations"===a?o:null;e[a].forEach((function(r){l&&l.map((function(o){r[o]||n[e.name].push("".concat(t("".concat(i,".").concat(a,".title")),"(").concat(t("".concat(i,".").concat(a,".").concat(o)),")"))}))}))}else n[e.name].includes("".concat(t("".concat(i,".").concat(a,".name")),"(").concat(t("".concat(i,".all_fields")),")"))||n[e.name].push("".concat(t("".concat(i,".").concat(a,".name")),"(").concat(t("".concat(i,".all_fields")),")"))}))})),sr(n)},mr=function(e,t){var a=e.project_options,n=["name","description","funding_modality","cost"];Y("has_pimis_fields")&&(n=["name","description","funding_modality","is_shortlisted"]),Y("has_esnip_fields")&&(n=["name","description","funding_modality","cost","is_shortlisted"]);var r={};return a.forEach((function(e){r[e.name]=[]})),a.forEach((function(e,a){n.forEach((function(a){e[a]||r[e.name].includes(a)||r[e.name].push(t("".concat("validation.project_options.summary",".").concat(a)))}))})),sr(r)},pr=function(e,t,a){if(e&&Y("validate_options",e.phase_id))return!0;if((e=G(e))&&e.project_options&&0!==e.project_options.length){var n="".concat(a("validation.empty_fields"),":"),r=0,o=mr(e,a),i=ur(e,a),l=dr(e,a);(function(e){e.project_options})(e);return 0!==o.length&&(n+=" ".concat(o.join(", ")),r+=1),0!==i.length&&(n+=" ".concat(i.join(", ")),r+=1),0!==l.length&&(n+=" ".concat(l.join(", ")),r+=1),r>0&&n}return a("validation.options_appraisal_empty")},fr=function(e,t){var a=e.project_options;return x.a.groupBy(a,"score")},_r=function(e){if(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}return e},gr=function(e){return e?e.replace(/,/g,""):e},hr=function(e){return e?e.toFixed(2)+"%":"-"},vr=function(e){return e&&"undefined"!==typeof e&&0!==e?Y("has_ibp_fields")?ir()(e).format("0,0"):ir()(e).format("0,0.00"):"-"},br=function(e){return e&&"undefined"!==typeof e&&0!==e?ir()(e).format("0,0"):"-"},Er=function(e,t){return e?e?t?S()(e).format(t):S()(e).format("DD-MM-YYYY"):e:"-"},jr=function(e){return x.a.isArray(e)?e.map((function(e){return{id:e,name:e}})):x.a.keys(e).map((function(t){return{id:t,name:e[t]}}))},yr=function(e,t){var a=[];return t&&t.project_organization&&(a=x.a.concat(e.implementing_agencies&&e.implementing_agencies.map((function(e){return e.organization}))).map((function(e){return{id:e.id,name:e.name}}))),x.a.uniqBy(a,(function(e){return e.id}))||[]},Or=function(e){return e?"".concat(e.name&&e.name.length>100?e.name.slice(0,100)+"...":e.name):null},wr=a(1983),xr=a(1984),kr=a(970),Sr=a.n(kr),Pr=a(177),Cr=a.n(Pr),Nr=Object(ae.a)((function(e){return{root:{width:500,height:"80vh",margin:"auto",position:"relative"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0,fontWeight:"bold"},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},details:{display:"block"},footer:{position:"absolute",bottom:0,left:0,right:0},button:{marginTop:15},item:{padding:"10px 5px",margin:"10px 0px",position:"relative",paddingRight:30,"&:hover $contentActions":{visibility:"visible"}},divider:{margin:"5px auto"},contentItem:{display:"flex"},contentActions:{position:"absolute",right:0,top:20,display:"flex",flexDirection:"row",visibility:"hidden"},actionIcon:{cursor:"pointer",marginRight:10},subtitle:{fontSize:8},contentItemIcon:{marginRight:10}}}));var Ar=function(e){var t=Object(n.useState)(!1),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(""),c=Object(Z.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)(null),m=Object(Z.a)(d,2),p=m[0],f=m[1],_=Nr(),g=Object(Ca.a)(),h=Object(Na.a)(),v=Object(rr.a)(),b=Object(pe.a)(),E=L(),j=Object(ee.f)((function(e){return e.user})).userInfo;Object(n.useMemo)((function(){p&&u(p.content)}),[p]);var y=function(e){return!e.is_public||(t=e,j&&Number(j.id)===Number(t.created_by)||E("full_access"));var t};return r.a.createElement("div",{className:_.root},E("view_comment")&&r.a.createElement(nr,{reportId:"comments-container",title:"Projects Comments",exportTypes:[Ha.PDF,Ha.WORD]}),e.data&&0===e.data.length?b("comments.empty"):r.a.createElement("div",{className:_.content,id:"comments-container"},e.data&&e.data.map((function(e){return r.a.createElement("div",{key:e.id,className:_.item},r.a.createElement("div",{className:_.contentItem},e.is_public?r.a.createElement(Sr.a,{className:_.contentItemIcon}):r.a.createElement(Cr.a,{className:_.contentItemIcon}),r.a.createElement("div",null,r.a.createElement(se.a,{variant:"h5"},e.content),r.a.createElement(se.a,{variant:"span",className:_.subtitle},Er(e.created_on)))),y(e)&&r.a.createElement("div",{className:_.contentActions},E("edit_comment")&&r.a.createElement(ra.a,{title:b("comments.edit_comment"),placement:"top"},r.a.createElement(wr.a,{className:_.actionIcon,onClick:(a=e,function(){f(a),i(a.is_public)})})),E("delete_comment")&&r.a.createElement(ra.a,{title:b("comments.delete_comment"),placement:"top"},r.a.createElement(xr.a,{className:_.actionIcon,onClick:(t=e.id,function(){g.delete("comments",{id:t}).then((function(e){e.data&&(h(b("comments.deleted")),v())})).catch((function(e){h(e,"error")}))})}))),r.a.createElement(ke.a,{className:_.divider}));var t,a}))),E("edit_comment")&&r.a.createElement("div",{className:_.footer},r.a.createElement($n.a,{multiline:!0,rows:3,fullWidth:!0,variant:"outlined",onChange:function(e){u(e.target.value)},value:s}),r.a.createElement(Kn.a,{control:r.a.createElement(Qn.a,{checked:o,onChange:function(e){i(e.target.checked)}}),label:"Public note"}),r.a.createElement(Ee.a,{variant:"contained",fullWidth:!0,color:"primary",onClick:function(){p?g.update("comments",{id:p.id,data:{content:s,project_id:e.projectId,is_public:o}}).then((function(e){e.data&&(h(b("comments.edited")),u(""),i(!1),f(null),v())})).catch((function(e){h(e,"error")})):g.create("comments",{data:{content:s,project_id:e.projectId,is_public:o}}).then((function(e){e.data&&(h(b("comments.created")),u(""),i(!1),v())})).catch((function(e){h(e,"error")}))},className:_.button,disabled:!s},b("buttons.save"))))};var Dr=function(e){var t=Object(n.useState)([]),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(!0),c=Object(Z.a)(l,2),s=c[0],u=c[1],d=Object(pe.a)(),m=Object(Ca.a)(),p=Object(ee.f)((function(e){return e.ui.rightPanelContent}));return Object(n.useEffect)((function(){p&&m.getListOfAll("comments",{sort_field:"id",filter:{project_id:p.data.id}}).then((function(e){u(!1),i(e.data)})).catch((function(e){u(!1)}))}),[e.project]),s?r.a.createElement("h3",null,"Loading..."):r.a.createElement(Ar,{data:o,translate:d,projectId:p.data.id})},Tr=Object(ae.a)((function(e){return{container:{padding:"35px 25px",position:"relative"},title:{fontWeight:"bold",fontSize:"25px",textTransform:"uppercase",marginBottom:"15px"},btnClose:{position:"fixed",right:"20px",top:"15px"},content:{},eventDescriptionTitle:{marginBottom:"4px"},iconWrapper:{background:"#3f51b5",borderRadius:"50%",padding:"10px"}}}));function Fr(e){var t=Tr(),a=Object(pe.a)(),n=Object(ee.f)((function(e){return e.ui})).rightPanelContent;if(!n)return null;switch(n.type){case"TIMELINE":return r.a.createElement("div",{className:t.container},r.a.createElement("p",{className:t.title},a("timeline.title")),r.a.createElement("br",null),r.a.createElement("div",{className:t.btnClose},r.a.createElement(Xn.a,{label:a("buttons.close"),onClick:e.onToggleDrawer})),r.a.createElement("div",{className:t.content},r.a.createElement(Jn,e)));case"COMMENTS":return r.a.createElement("div",{className:t.container},r.a.createElement("p",{className:t.title},a("comments.title")),r.a.createElement("br",null),r.a.createElement("div",{className:t.btnClose},r.a.createElement(Xn.a,{label:a("buttons.close"),onClick:e.onToggleDrawer})),r.a.createElement("div",{className:t.content},r.a.createElement(Dr,e)));default:return null}}var Rr=function(e){var t=Tr();return r.a.createElement(Se.a,{anchor:"right",open:e.open,onClose:e.onToggleDrawer,classes:t.timelineContainer},r.a.createElement("div",{tabIndex:0,role:"button"},r.a.createElement(Fr,e)))},Ir=function(e){return{type:"RIGHT_PANEL_CONTENT",payload:{data:e}}},Mr=function(e){return{type:"SHOW_RIGHT_PANEL",payload:{data:e}}},Wr=function(e){return{type:"SET_BREADCRUMPS",payload:{data:e}}},Lr=a(1082),Yr=a(1091),Br=(a(1221),a(1222),Object(ae.a)((function(e){return{backdrop:{zIndex:9999,color:"#fff"}}}))),zr=function(){var e=Br();return r.a.createElement(Lr.a,{className:e.backdrop,open:!0},r.a.createElement(Yr.a,{disableShrink:!0}))},qr=a(729),Ur=a(1988),Vr=a(971),Gr=a(1861),Hr=a(1862),Jr=a(1863),Xr=a(1864),$r=function(e){var t=e.showModal,a=e.handleClose,n=e.handleLogout,o=e.remainingTime;return r.a.createElement(Gr.a,{fullWidth:!0,maxWidth:"xs",open:t,onClose:a,disableBackdropClick:!0,disableEscapeKeyDown:!0},r.a.createElement(Hr.a,null,r.a.createElement(se.a,{variant:"h6",style:{marginLeft:20}},"You have been idle.")),r.a.createElement(Jr.a,null,r.a.createElement(ke.a,null),r.a.createElement(se.a,{variant:"h5",style:{margin:20}},"You will be logged out soon. Do you want to stay?"),r.a.createElement(ke.a,null)),r.a.createElement(Xr.a,null,r.a.createElement(Ee.a,{variant:"contained",color:"primary",onClick:n,style:{backgroundColor:"orangered"}}," Sign out (".concat(o," sec)")),r.a.createElement(Ee.a,{variant:"contained",color:"primary",onClick:a},"Continue")))},Kr=a(975),Qr=a.n(Kr),Zr=a(1986),eo=function(e){Object(bn.a)(a,e);var t=Object(En.a)(a);function a(e){var n;return Object(hn.a)(this,a),(n=t.call(this,e)).state={error:null,errorInfo:null},n}return Object(vn.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t}),console.log(e,t)}},{key:"render",value:function(){var e=window.localStorage.getItem("permissions")&&JSON.parse(window.localStorage.getItem("permissions")),t=e&&e.includes("full_access");return this.state.errorInfo?r.a.createElement("div",{style:{padding:"50px",fontSize:"18px",color:"#cdcdcd",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},r.a.createElement(Qr.a,{style:{color:"#cdcdcd",fontSize:"250px"}}),r.a.createElement("h2",null,"Something went wrong."),r.a.createElement(Ee.a,{href:"/",variant:"text",startIcon:r.a.createElement(Zr.a,null)},"Refresh"),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Check error details below"),r.a.createElement("details",{style:{whiteSpace:"pre-wrap",height:"80%",overflow:"auto"}},this.state.error&&this.state.error.toString(),r.a.createElement("br",null),this.state.errorInfo.componentStack))):this.props.children}}]),a}(r.a.Component),to=Object(ae.a)((function(e){var t;return{root:{display:"flex"},content:{flexGrow:1,padding:e.spacing(3),paddingTop:e.spacing(9)},container:(t={padding:0,margin:0,width:"100%"},Object(N.a)(t,e.breakpoints.up("lg"),{width:"85vw"}),Object(N.a)(t,e.breakpoints.down("lg"),{width:"80vw"}),t)}}));var ao=Object(ee.c)((function(e){return{headerTitle:e.ui.headerTitle,rightPanelOpened:e.ui.rightPanelVisible,isLoading:e.admin.loading,project:e.admin.resources.projects&&e.admin.resources.projects.data}}),{userLogout:le.g})((function(e){var t=to(),a=Object(re.a)(),o=Object(oe.a)(),i=Object(qr.a)("(max-width:600px)",{noSsr:!0}),l=r.a.useState(15),c=Object(Z.a)(l,2),s=c[0],d=c[1],m=r.a.useState(null),p=Object(Z.a)(m,2),f=p[0],_=p[1],g=r.a.useState(!0),h=Object(Z.a)(g,2),v=h[0],b=h[1],E=r.a.useState({timeout:9e5,showModal:!1,userLoggedIn:!1,isTimedOut:!1}),j=Object(Z.a)(E,2),y=j[0],O=j[1],w=r.a.useState(i),x=Object(Z.a)(w,2),k=x[0],S=x[1],P=Object(ee.e)(),C=null;Object(ee.f)((function(e){return e.app.appConfig})).application_config.prefix,Object(n.useEffect)((function(){0===s&&D()}),[s]);var N=function(){b(!0)},A=function(){b(!1)};function D(){O(Object(u.a)(Object(u.a)({},y),{},{showModal:!1})),clearInterval(f),_(null),o()}return r.a.createElement(ne.a,{theme:gn},r.a.createElement(Vr.a,{ref:function(e){C=e},element:document,onActive:function(e){y.showModal||O(Object(u.a)(Object(u.a)({},y),{},{isTimedOut:!1}))},onIdle:function(e){O(Object(u.a)(Object(u.a)({},y),{},{showModal:!0,isTimedOut:!0}));var t=setInterval((function(){d((function(e){return e-1}))}),1e3);_(t)},onAction:function(e){y.showModal||O(Object(u.a)(Object(u.a)({},y),{},{isTimedOut:!1}))},debounce:250,timeout:y.timeout,stopOnIdle:!0,crossTab:{emitOnAllTabs:!1}}),r.a.createElement("div",{className:t.root},r.a.createElement(te.a,null),r.a.createElement(sn,Object.assign({opened:v,mobileOpened:k,onMobileOpen:S,onOpenDrawer:N,onCloseDrawer:A},e)),r.a.createElement(na,Object.assign({opened:v,mobileOpened:k,onOpenDrawer:N,onCloseDrawer:A,onMobileOpen:S},e)),r.a.createElement("main",{className:t.content},r.a.createElement(eo,null,r.a.createElement(Ur.a,{className:t.container,maxWidth:!1},Y("has_pimis_fields")&&r.a.createElement(ge,e),e.children,r.a.createElement(ie.a,null)))),r.a.createElement(Rr,{open:e.rightPanelOpened,onToggleDrawer:function(){P(Mr(!1)),P(Ir(null))},project:e.project}),e.isLoading&&r.a.createElement(zr,null),r.a.createElement($r,{showModal:y.showModal,handleClose:function(){O(Object(u.a)(Object(u.a)({},y),{},{showModal:!1,isTimedOut:!1})),C.reset(),clearInterval(f),_(null),a.refreshToken(),d(15)},handleLogout:D,remainingTime:s})))})),no=a(1025),ro=a.n(no),oo=a(112),io=a(188),lo=a(2101),co=a(2105),so=a(2109),uo=a(2108),mo=a(2104),po=a(2110),fo=a(2062),_o=a(2107),go=a(2084),ho=a(2102),vo=a(372),bo=a.n(vo),Eo=a(374),jo=a.n(Eo),yo=a(373),Oo=a.n(yo),wo=a(371),xo=a.n(wo),ko=a(2106),So=a(2103);function Po(e){var t=Object(io.a)(),a=e.count,n=e.page,o=e.rowsPerPage,i=e.onPageChange;return r.a.createElement(lo.a,{sx:{flexShrink:0,ml:2.5}},r.a.createElement(ho.a,{onClick:function(e){i(e,0)},disabled:0===n,"aria-label":"first page"},"rtl"===t.direction?r.a.createElement(xo.a,null):r.a.createElement(bo.a,null)),r.a.createElement(ho.a,{onClick:function(e){i(e,n-1)},disabled:0===n,"aria-label":"previous page"},"rtl"===t.direction?r.a.createElement(Oo.a,null):r.a.createElement(jo.a,null)),r.a.createElement(ho.a,{onClick:function(e){i(e,n+1)},disabled:n>=Math.ceil(a/o)-1,"aria-label":"next page"},"rtl"===t.direction?r.a.createElement(jo.a,null):r.a.createElement(Oo.a,null)),r.a.createElement(ho.a,{onClick:function(e){i(e,Math.max(0,Math.ceil(a/o)-1))},disabled:n>=Math.ceil(a/o)-1,"aria-label":"last page"},"rtl"===t.direction?r.a.createElement(bo.a,null):r.a.createElement(xo.a,null)))}function Co(e){var t=Object(n.useState)(r.a.createElement(So.a,null)),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(0),c=Object(Z.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)(5),m=Object(Z.a)(d,2),p=m[0],f=m[1],_=function(e,t){u(t)},g=function(e){f(parseInt(e.target.value,10)),u(0)};return Object(n.useEffect)((function(){var t=e.files.map((function(e){return t=e.title,a=e.programme,n=e.minutes_date,r=e.link,{title:t,programme:a,minutes_date:n,link:r};var t,a,n,r})),a=s>0?Math.max(0,(1+s)*p-t.length):0;i(r.a.createElement(mo.a,{component:go.a},r.a.createElement(co.a,{sx:{minWidth:500},"aria-label":"custom pagination table"},r.a.createElement(ko.a,null,r.a.createElement(_o.a,null,r.a.createElement(uo.a,{sx:{textDecoration:"underline",fontWeight:"bold"}},"DC Minutes"),r.a.createElement(uo.a,{align:"left",sx:{textDecoration:"underline",fontWeight:"bold"}},"Programme"),r.a.createElement(uo.a,{align:"left",sx:{textDecoration:"underline",fontWeight:"bold"}},"Month/Year"))),r.a.createElement(so.a,null,(p>0?t.slice(s*p,s*p+p):t).map((function(e){return r.a.createElement(_o.a,{key:e.name,sx:{cursor:"pointer",":hover":{backgroundColor:"aliceblue"}}},r.a.createElement(uo.a,{component:"th",scope:"row",style:{width:300}},e.title),r.a.createElement(uo.a,{style:{width:140},align:"left"},e.programme),r.a.createElement(uo.a,{style:{width:100},align:"left"},function(e){var t=e.slice(0,4),a=new Date(e).toLocaleDateString("default",{month:"long"});return"".concat(a," ").concat(t)}(e.minutes_date)),r.a.createElement(uo.a,{style:{width:60},align:"left"},r.a.createElement("a",{href:e.link},"Download")))})),a>0&&r.a.createElement(_o.a,{style:{height:53*a}},r.a.createElement(uo.a,{colSpan:6}))),r.a.createElement(po.a,null,r.a.createElement(_o.a,null,r.a.createElement(fo.a,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:5,count:t.length,rowsPerPage:p,page:s,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onPageChange:_,onRowsPerPageChange:g,ActionsComponent:Po}))))))}),[s,p]),r.a.createElement(r.a.Fragment,null,o)}a(486);function No(){No=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(P){c=function(e,t,a){return e[t]=a}}function s(e,t,a,r){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new x(r||[]);return n(i,"_invoke",{value:j(e,a,l)}),i}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(P){return{type:"throw",arg:P}}}e.wrap=s;var d={};function m(){}function p(){}function f(){}var _={};c(_,o,(function(){return this}));var g=Object.getPrototypeOf,h=g&&g(g(k([])));h&&h!==t&&a.call(h,o)&&(_=h);var v=f.prototype=m.prototype=Object.create(_);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var r;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(r,i){!function n(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}(n,o,r,i)}))}return r=r?r.then(i,i):i()}})}function j(e,t,a){var n="suspendedStart";return function(r,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw o;return S()}for(a.method=r,a.arg=o;;){var i=a.delegate;if(i){var l=y(i,a);if(l){if(l===d)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var c=u(e,t,a);if("normal"===c.type){if(n=a.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(n="completed",a.method="throw",a.arg=c.arg)}}}function y(e,t){var a=t.method,n=e.iterator[a];if(void 0===n)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),d;var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,n(v,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,a,n,r,o){void 0===o&&(o=Promise);var i=new E(s(t,a,n,r),o);return e.isGeneratorFunction(a)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,l,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return i.type="throw",i.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),w(a),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;w(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:k(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),d}},e}var Ao=localStorage.getItem(d);function Do(e){return To.apply(this,arguments)}function To(){return(To=Object(oo.a)(No().mark((function e(t){var a;return No().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(h).concat(t.endpoint),{method:"GET",headers:{Authorization:"Bearer ".concat(Ao)}});case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fo=a(1092);function Ro(){Ro=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(P){c=function(e,t,a){return e[t]=a}}function s(e,t,a,r){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new x(r||[]);return n(i,"_invoke",{value:j(e,a,l)}),i}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(P){return{type:"throw",arg:P}}}e.wrap=s;var d={};function m(){}function p(){}function f(){}var _={};c(_,o,(function(){return this}));var g=Object.getPrototypeOf,h=g&&g(g(k([])));h&&h!==t&&a.call(h,o)&&(_=h);var v=f.prototype=m.prototype=Object.create(_);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var r;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(r,i){!function n(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}(n,o,r,i)}))}return r=r?r.then(i,i):i()}})}function j(e,t,a){var n="suspendedStart";return function(r,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw o;return S()}for(a.method=r,a.arg=o;;){var i=a.delegate;if(i){var l=y(i,a);if(l){if(l===d)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var c=u(e,t,a);if("normal"===c.type){if(n=a.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(n="completed",a.method="throw",a.arg=c.arg)}}}function y(e,t){var a=t.method,n=e.iterator[a];if(void 0===n)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),d;var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,n(v,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,a,n,r,o){void 0===o&&(o=Promise);var i=new E(s(t,a,n,r),o);return e.isGeneratorFunction(a)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,l,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return i.type="throw",i.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),w(a),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;w(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:k(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),d}},e}function Io(){return(Io=Object(oo.a)(Ro().mark((function e(t){var a,n;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem(d),(n={}).headers||(n.headers=new Headers({Accept:"application/json"})),a&&n.headers.set("Authorization","Bearer ".concat(a)),e.next=6,fetch(t,n);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mo(){var e=Object(n.useState)(r.a.createElement(Fo.a,null)),t=Object(Z.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)(null),l=Object(Z.a)(i,2),c=l[0],s=l[1],u=Object(n.useState)(null),d=Object(Z.a)(u,2),m=d[0],p=d[1],f=Object(n.useState)(null),_=Object(Z.a)(f,2),g=_[0],v=_[1];return Object(n.useEffect)((function(){Do({endpoint:"/programs"}).then((function(e){console.log(e),o(r.a.createElement("select",{className:"archive-programs-dropdown",onChange:function(e){p(e.target.value)}},r.a.createElement("option",{key:"Select Programme"},"Select Programme"),e.map((function(e){return r.a.createElement("option",{key:e.id},e.name)}))))}))}),[]),r.a.createElement("div",{className:"archive-page-div"},r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"DC Minutes")),r.a.createElement("div",{className:"archive-filter-div"},a,r.a.createElement("input",{className:"archive-date-picker",type:"number",min:1960,placeholder:"YYYY",onChange:function(e){v("".concat(e.target.value))}}),r.a.createElement("button",{className:"search-button",onClick:function(e){"Select Programme"!=m&&g?function(e){return Io.apply(this,arguments)}("".concat(h,"/dc_minutes?filter=%7B%22year%22%3A%22").concat(g,"%22%2C%22programme%22%3A%22").concat(m.replace(" ","%20".trim()),"%22%7D")).then((function(e){return e})).then((function(e){return e.json()})).then((function(e){s(r.a.createElement(Co,{files:e}))})).catch((function(e){return console.log(e)})):alert("Please choose valid Programme and Year in the filters")}},"Search")),r.a.createElement("div",{className:"archive-table-div"},c))}var Wo=a(2063),Lo=a(2081),Yo=a(2064),Bo=a(2088),zo=a(1991),qo=a(2058);function Uo(){Uo=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(P){c=function(e,t,a){return e[t]=a}}function s(e,t,a,r){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new x(r||[]);return n(i,"_invoke",{value:j(e,a,l)}),i}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(P){return{type:"throw",arg:P}}}e.wrap=s;var d={};function m(){}function p(){}function f(){}var _={};c(_,o,(function(){return this}));var g=Object.getPrototypeOf,h=g&&g(g(k([])));h&&h!==t&&a.call(h,o)&&(_=h);var v=f.prototype=m.prototype=Object.create(_);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var r;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(r,i){!function n(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}(n,o,r,i)}))}return r=r?r.then(i,i):i()}})}function j(e,t,a){var n="suspendedStart";return function(r,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw o;return S()}for(a.method=r,a.arg=o;;){var i=a.delegate;if(i){var l=y(i,a);if(l){if(l===d)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var c=u(e,t,a);if("normal"===c.type){if(n=a.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(n="completed",a.method="throw",a.arg=c.arg)}}}function y(e,t){var a=t.method,n=e.iterator[a];if(void 0===n)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),d;var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,n(v,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,a,n,r,o){void 0===o&&(o=Promise);var i=new E(s(t,a,n,r),o);return e.isGeneratorFunction(a)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,l,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return i.type="throw",i.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),w(a),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;w(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:k(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),d}},e}function Vo(){var e=Object(n.useState)(null),t=Object(Z.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)(null),l=Object(Z.a)(i,2),c=l[0],s=l[1],u=Object(n.useState)(null),d=Object(Z.a)(u,2),m=d[0],p=d[1],f=Object(n.useState)(r.a.createElement(So.a,null)),_=Object(Z.a)(f,2),g=_[0],h=_[1],v=Object(n.useState)("minutes"),b=Object(Z.a)(v,2),E=b[0],j=b[1],y=Object(n.useState)(!1),O=Object(Z.a)(y,2),w=O[0],x=O[1];return Object(n.useEffect)((function(){Do({endpoint:"/programs"}).then((function(e){h(r.a.createElement("select",{className:"archive-programs-dropdown-upload",onChange:function(e){s(e.target.value)},hidden:w},r.a.createElement("option",{key:"Select Programme"},"Select Programme"),e.map((function(e){return r.a.createElement("option",{key:e.id},e.name)}))))}))}),[w]),r.a.createElement("div",{className:"archive-home"},r.a.createElement("div",{className:"archive-management-component"},r.a.createElement("h2",{className:"archive-upload-title"},"Upload Document to the Archive"),r.a.createElement(Bo.a,{sx:{marginLeft:"auto",marginRight:"auto",width:"50%",fontSize:"12pt"}},r.a.createElement(zo.a,{id:"demo-row-radio-buttons-group-label"},"Document Type"),r.a.createElement(Lo.a,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",onChange:function(e){var t=e.target.value;"minutes"===t?x(!1):(x(!0),s("Null")),j(t)},defaultValue:"minutes"},r.a.createElement(Yo.a,{value:"minutes",control:r.a.createElement(Wo.a,{on:!0}),label:"Minutes"}),r.a.createElement(Yo.a,{value:"matrix",control:r.a.createElement(Wo.a,null),label:"Decisions Matrix"}))),r.a.createElement("input",{className:"archive-date-input",type:"date",name:"Meeting Date",title:"Date",required:!0,onChange:function(e){o("".concat(e.target.value)),console.log(a)}}),g,r.a.createElement("input",{className:"archive-file-picker",type:"file",accept:".pdf",name:"DC Minutes",required:!0,onChange:function(e){p(e.target.files[0])}}),r.a.createElement("button",{className:"archive-upload-button",type:"submit",name:"Upload File",onClick:function(){if(null==a||null==c||null==m||a.includes("dd")||a.includes("mm")||a.includes("yyyy"))alert("Invalid input. Please input valid date, programme, and file in order to upload file.");else if("minutes"===E)!function(e){Go.apply(this,arguments)}({dc_document:m,programme:c,date:a});else if("matrix"===E){!function(e){Ho.apply(this,arguments)}({dc_document:m,date:a})}}},"Upload")))}function Go(){return(Go=Object(oo.a)(Uo().mark((function e(t){return Uo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Jo(t.dc_document).then((function(e){console.log(t.dc_document);var a="".concat(h,"/dc_minutes"),n=localStorage.getItem(d),r=t.date.slice(0,4),o={headers:{enctype:"multipart/form-data",Authorization:"Bearer ".concat(n)}};qo.a.post(a,{dc_minutes:e,title:t.dc_document.name,file_name:t.dc_document.name,programme:t.programme,minutes_date:t.date,year:r},o).then((function(e){alert(e.statusText),window.location.reload()}))}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ho(){return(Ho=Object(oo.a)(Uo().mark((function e(t){return Uo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Jo(t.dc_document).then((function(e){console.log(t.dc_document);var a="".concat(h,"/dc_matrix"),n=localStorage.getItem(d),r=t.date.slice(0,4),o={headers:{enctype:"multipart/form-data",Authorization:"Bearer ".concat(n)}};qo.a.post(a,{dc_matrix:e,title:t.dc_document.name,file_name:t.dc_document.name,matrix_date:t.date,year:r},o).then((function(e){alert(e.statusText),window.location.reload()}))}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jo(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}}))}var Xo=a(1033),$o=a.n(Xo),Ko=a(1026),Qo=a.n(Ko),Zo=a(1038),ei=a.n(Zo),ti=a(1069),ai=a(1095),ni=a(1096),ri=a(2e3),oi=a(1995),ii=a(1996),li=a(1997),ci=a(1992),si=a(1998),ui=a(1999),di=a(2059),mi=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{textAlign:"left",fontSize:"15px",fontWeight:"bold",paddingLeft:"30px",margin:"10px auto"}}})),pi=function(e){var t=e.loading,a=e.loaded;return 0===e.total&&!t&&a?n.createElement(di.a,{textAlign:"center",m:3},n.createElement(se.a,{variant:"h5",paragraph:!0},"No projects are in Completed status")):n.createElement(ti.a,e)};var fi=function(e){var t=n.useState([]),a=Object(Z.a)(t,2),r=(a[0],a[1]),o=Object(pe.a)(),i=mi(),l=Object(Ca.a)(),c=Object(ai.a)();n.useEffect((function(){l.getListOfAll("organizations",{}).then((function(e){e&&e.data&&r(x.a.sortBy(e.data,"name"))}))}),[]);var s=function(e){return function(){c("/projects/".concat(e,"/show"))}},u=function(){var e=Object(ni.a)(),t=e.ids,a=e.data;e.basePath;return n.createElement("div",{style:{margin:"1em"}},n.createElement(oi.a,null,n.createElement(ii.a,null,n.createElement(li.a,{className:i.filledRow},n.createElement(ci.a,null,"Code"),n.createElement(ci.a,null,"Name"),n.createElement(ci.a,null,"Submission Date"),n.createElement(ci.a,null,"Status"),n.createElement(ci.a,null,"Phase"))),n.createElement(si.a,null,t.map((function(e){return n.createElement(li.a,{key:a[e].id,onClick:s(a[e].id)},n.createElement(ci.a,null,a[e].code),n.createElement(ci.a,null,a[e].name),n.createElement(ci.a,null,Er(a[e].created_on)),n.createElement(ci.a,null,o("timeline.".concat(a[e].project_status.toLowerCase()))),n.createElement(ci.a,null,a[e].phase&&a[e].phase.name))})))))};return n.createElement(ui.a,{container:!0,spacing:3},n.createElement(nr,{reportId:"report-container",title:o("resources.".concat(e.location.pathname.slice(1,e.location.pathname.length),".name")),exportTypes:[Ha.WORD,Ha.PDF,Ha.XLS]}),n.createElement(ui.a,{item:!0,xs:12},n.createElement(se.a,{variant:"h4",style:{marginBottom:20}},o("resources.".concat(e.location.pathname.slice(1,e.location.pathname.length),".name"))),n.createElement(In.a,null,n.createElement(ri.a,Object.assign({},e,{basePath:"/projects",resource:"projects",bulkActionButtons:!1,actions:!1,filter:{project_status:"COMPLETED"},pagination:n.createElement(pi,null),sort:{field:"id",order:"DESC"}}),n.createElement(u,null)))))},_i=(a(404),a(13)),gi=a.n(_i),hi=function(e,t,a){function n(t,a){var n=S()(e).startOf("year"),r=1,o=[];do{var i=n.add(a?-1:1,"years"),l=i.clone().add(1,"years");o.push({id:i.format("YYYY-MM-DD"),name:"FY".concat(i.format("YYYY"),"/").concat(l.format("YY"))}),r+=1}while(Math.abs(r)!==t);return o}var r=S()(e).startOf("year"),o=r.clone().add(1,"years"),i=n(t||4,!0).reverse(),l=n(10,!1);return e&&!a?[{id:r.format("YYYY-MM-DD"),name:"FY".concat(r.format("YYYY"),"/").concat(o.format("YY"))}].concat(Object(D.a)(l)):[].concat(Object(D.a)(i),[{id:r.format("YYYY-MM-DD"),name:"FY".concat(r.format("YYYY"),"/").concat(o.format("YY"))}],Object(D.a)(l))},vi=function(e){function t(e,t){var a=S()().startOf("year"),n=1,r=[];do{var o=a.add(t?-1:1,"years"),i=o.clone().add(1,"years");r.push({id:o.format("YYYY-MM-DD"),name:"FY".concat(o.format("YYYY"),"/").concat(i.format("YY"))}),n+=1}while(Math.abs(n)!==e);return r}var a=S()().startOf("year"),n=a.clone().add(1,"years"),r=t(e||4,!0).reverse(),o=t(10,!1);return[].concat(Object(D.a)(r),[{id:a.format("YYYY-MM-DD"),name:"FY".concat(a.format("YYYY"),"/").concat(n.format("YY"))}],Object(D.a)(o))},bi=function(e,t){function a(e,t){var a=S()().startOf("year"),n=1,r=[];do{var o=a.add(t?-1:1,"years"),i=o.clone().add(1,"years");r.push({id:o.format("YYYY-MM-DD 00:00:00"),name:"FY".concat(o.format("YYYY"),"/").concat(i.format("YY"))}),n+=1}while(Math.abs(n)!==e);return r}var n=S()().startOf("year"),r=n.clone().add(1,"years"),o=a(10,!0).reverse(),i=a(10,!1);return[].concat(Object(D.a)(o),[{id:n.format("YYYY-MM-DD"),name:"FY".concat(n.format("YYYY"),"/").concat(r.format("YY"))}],Object(D.a)(i))},Ei=function(e,t){function a(t,a){var n=S()(e).startOf("year"),r=n.clone().add(1,"years"),o=0,i=[{id:n.format("YYYY-MM-DD"),name:"FY".concat(n.format("YYYY"),"/").concat(r.format("YY"))}];if(0===t)return i;do{var l=n.add(1,"years"),c=l.clone().add(1,"years");i.push({id:l.format("YYYY-MM-DD"),name:"FY".concat(l.format("YYYY"),"/").concat(c.format("YY"))}),o+=1}while(Math.abs(o)!==t);return i}if(e&&t&&e!==t){var n=S()(e,"YYYY");return a(S()(t,"YYYY").diff(n,"years"))}return a(0)},ji=function(e,t){function a(t,a){var n=S()(e).startOf("year"),r=(n.clone().add(1,"years"),0),o=[{id:n.format("YYYY-MM-DD"),name:n.format("YYYY")}];if(0===t)return o;do{var i=n.add(1,"years");i.clone().add(1,"years");o.push({id:i.format("YYYY-MM-DD"),name:i.format("YYYY")}),r+=1}while(Math.abs(r)!==t);return o}if(e&&t&&e!==t){var n=S()(e,"YYYY");return a(S()(t,"YYYY").diff(n,"years"))}return a(0)},yi=function(e){var t=z("fiscal_year_start_date");if(!t)return e;var a=S()(e),n=a.format("YYYY"),r=a.format("MM-DD"),o=S()("".concat(t,"/").concat(n),"DD/MM/YYYY");return a.isSameOrAfter(o)?"".concat(Number(n),"-").concat(r):"".concat(Number(n)-1,"-").concat(r)},Oi=function(e,t){function a(t,a){var n=S()(e,"YYYY"),r=n.clone().add(1,"years"),o=0,i=[{id:n.format("YYYY"),name:"FY".concat(n.format("YYYY"),"/").concat(r.format("YY"))}];if(0===t)return i;do{var l=n.add(1,"years"),c=l.clone().add(1,"years");i.push({id:l.format("YYYY"),name:"FY".concat(l.format("YYYY"),"/").concat(c.format("YY"))}),o+=1}while(Math.abs(o)!==t||isNaN(t));return i}if(e&&t&&e!==t){var n=S()(yi(e),"YYYY");return a(S()(yi(t),"YYYY").diff(n,"years"))}return a(0)},wi=function(e){var t=S()(e).startOf("year"),a=t.clone().add(1,"years");return{id:t.format("YYYY-MM-DD"),name:"FY".concat(t.format("YYYY"),"/").concat(a.format("YY"))}},xi=function(e){var t=S()(e,"YYYY").startOf("year"),a=t.clone().add(1,"years");return{id:t.format("YYYY-MM-DD"),name:"FY".concat(t.format("YYYY"),"/").concat(a.format("YY"))}},ki=function(e){if(Ta===Da)return e;var t=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],a="";if(String(e).indexOf(".")>-1)return String(e).split(".").map((function(e){var n=3;a="";for(var r=String(+e).split("");n--;)a=(t[+r.pop()+10*n]||"")+a;return Array(+r.join("")+1).join("M")+a})).join(".");var n=String(+e).split(""),r=3;for(a="";r--;)a=(t[+n.pop()+10*r]||"")+a;return Array(+n.join("")+1).join("M")+a},Si=function(e){if(e){if(x.a.isArray(e)){var t=e[0],a=e[e.length-1];return Oi(t,a)}return wi(e)}return[]},Pi=function(e){var t=Oi(e.start_date,e.end_date),a=0;return e.activities&&e.activities.length>0&&e.activities.forEach((function(e){e.investments&&e.investments.length>0&&t.forEach((function(t){e.investments.forEach((function(e){e.costs[Number(t.id)]&&(a+=parseFloat(e.costs[Number(t.id)]))}))}))})),x.a.isNaN(a)?0:a},Ci=function(e){var t=0,a=Oi(e.start_date,e.end_date);return e.outputs&&e.outputs.length>0&&e.outputs.forEach((function(e){e.investments&&e.investments.length>0&&a.forEach((function(a){e.investments&&e.investments.forEach((function(e){(null===e||void 0===e?void 0:e.costs)&&e.costs[Number(a.id)]&&(t+=parseFloat(e.costs[Number(a.id)]))}))}))})),x.a.isNaN(t)?0:t},Ni=function(e,t){return e&&"undefined"!==typeof e&&0!==e?Y("has_ibp_fields")?ir()(e).format("0,0"):ir()(e).format("0,0.00"):"-"},Ai=function(e,t,a){return e&&"undefined"!==typeof e&&0!==parseFloat(e)?ir()(e/1e3).format("0,0.".concat(Object(w.repeat)("0",t))):"-"},Di=function(e,t){return e?"undefined"!==typeof e&&0!==e?e>1e6?ir()(e/1e6).format("0,0.00")+"M":e>1e3?ir()(e/1e3).format("0,0.00")+"K":ir()(e).format("0,0.00"):void 0:"0"},Ti=function(e,t){var a=S()(e).startOf("year"),n=a.clone().add(1,"years"),r=S()(t).startOf("year"),o=r.clone().add(1,"years"),i=r.diff(a,"years");return"Start Date: FY".concat(a.format("YYYY"),"/").concat(n.format("YY"),", \n    End Date: FY").concat(r.format("YYYY"),"/").concat(o.format("YY"),", \n    Duration years: ").concat(i+1," years")},Fi=a(2004),Ri=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),Ii=function(e){var t=Ri(),a=Object(pe.a)(),n=e.customRecord,o=(e.customBasePath,H(n)),i={},l=0,c=e.counter||4,s=Oi(o.start_date,o.end_date);if(!o)return null;return r.a.createElement("div",{className:"landscapeSection"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,e.title?e.title:r.a.createElement(r.a.Fragment,null,ki(c),". ",a("printForm.investments.title"))),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",t.bordered,t.table),style:{width:"100%"}},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,{rowSpan:"2",style:{width:55}}),r.a.createElement(ci.a,{rowSpan:"2",style:{width:75}},a("printForm.investments.code")),r.a.createElement(ci.a,{rowSpan:"2"}," ",a("printForm.investments.name")),r.a.createElement(ci.a,{colSpan:s.length},"Period"),r.a.createElement(ci.a,{rowSpan:"2",style:{width:130}},a("printForm.investments.total")),r.a.createElement(ci.a,{rowSpan:"2",style:{width:130}},a("printForm.investments.funds"))),r.a.createElement(li.a,{className:t.filledRow},s.map((function(e){return r.a.createElement(ci.a,{style:{width:100}},e.name)}))),o.outputs.map((function(e,n){var l,c=[],u={},d=0,m=(l=e.id,o.activities.filter((function(e){return e.output_ids.includes(l)}))).map((function(e,t){var o=0;return[r.a.createElement(li.a,null,r.a.createElement(ci.a,null,ki("".concat(n+1,".").concat(t+1))),r.a.createElement(ci.a,{colSpan:"2"},"".concat(a("printForm.project_framework.activity",{smart_count:1})," ").concat(t+1,": ").concat(e.name)),s.map((function(t){u[t.id]||(u[t.id]=0);var a=e.investments.map((function(e){return e.costs})),n=x.a.sumBy(a,(function(e){return"undefined"!==typeof e[t.id]?parseFloat(e[t.id]):0}));return o+=n||0,u[t.id]+=n,r.a.createElement(ci.a,{style:{width:110}},Ni(n))})),r.a.createElement(ci.a,{style:{width:130}},isNaN(o)?"-":Ni(o)),r.a.createElement(ci.a,{style:{width:100}})),e.investments&&e.investments.map((function(e,a){var o=0;return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,ki("".concat(n+1,".").concat(t+1,".").concat(a+1))),r.a.createElement(ci.a,null,e.costing&&e.costing.code),r.a.createElement(ci.a,null,e.costing&&e.costing.name),s.map((function(t){var a="undefined"!==typeof e.costs[Number(t.id)]?parseFloat(e.costs[Number(t.id)]):0;return o+=a||0,r.a.createElement(ci.a,null,Ni(a))})),r.a.createElement(ci.a,{style:{width:130}},Ni(o)),r.a.createElement(ci.a,{style:{width:120}},e.fund&&"".concat(e.fund.code,"-").concat(e.fund.name)))}))]}));return c.push(r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,{variant:"head"},ki(n+1)),r.a.createElement(ci.a,{colSpan:"2",variant:"head"},"".concat(a("printForm.project_framework.output",{smart_count:1})," ").concat(n+1,": ").concat(e.name)),s.map((function(e){return i[e.id]||(i[e.id]=0),d+=u[e.id]?u[e.id]:0,i[e.id]+=u[e.id]?u[e.id]:0,r.a.createElement(ci.a,{variant:"head"},isNaN(u[e.id])?"-":Ni(u[e.id]))})),r.a.createElement(ci.a,{variant:"head"},isNaN(d)?"-":Ni(d)),r.a.createElement(ci.a,{style:{width:120}}))),c.push(m),c})),r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,{colSpan:"3",variant:"head"},a("printForm.investments.total_costs")),s.map((function(e){return l+=i[e.id]?i[e.id]:0,r.a.createElement(ci.a,{variant:"head"},isNaN(i[e.id])?"-":Ni(i[e.id]))})),r.a.createElement(ci.a,{variant:"head"},isNaN(l)?"-":Ni(l)),r.a.createElement(ci.a,{style:{width:120}})))))))},Mi=function(e){var t,a,n=Object(pe.a)(),o=e.customRecord,i=e.counter,l=void 0===i?1:i;return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(l),"."," ",n("printForm.project_info.additional_info")),gi()(o.other_info),(null===o||void 0===o||null===(t=o.additional_data)||void 0===t?void 0:t.has_other_financing)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Project is financed by other sources: ".concat((null===(a=Object(w.find)(rn,(function(e){var t;return e.id===(null===o||void 0===o||null===(t=o.additional_data)||void 0===t?void 0:t.other_finance_source)})))||void 0===a?void 0:a.name)||"")))))},Wi=function(e){var t=e.customRecord,a=e.counter,n=void 0===a?1:a,o=Object(pe.a)();return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",{className:"content-area_title"},ki(n),".   ",o("printForm.project_info.executive_summary")),gi()(t.exec_management_plan)))},Li={backgroundColor:"blue",padding:"12px 0px",width:150},Yi=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"},filledCell:{background:"blue",padding:"12px 0px"}}}));var Bi=function(e){var t=e.record,a=e.counter,n=Yi();function o(t){return e.record&&e.record.activities&&e.record.activities.filter((function(e){return e&&e.output_ids.includes(t)}))}var i=Oi(t.start_date,t.end_date);return r.a.createElement("div",{className:"landscapeSection"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(a),". Gantt Chart"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("gantt-chart-table","bordered",n.bordered,n.table),style:{width:"100%"}},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:n.filledRow},r.a.createElement(ci.a,{style:{textAlign:"center",width:600}},"Output / Activity Title"),i&&i.map((function(e){return r.a.createElement(ci.a,{style:{width:150}},e.name)}))),t&&t.outputs.map((function(e,t){var a=[];return a.push(r.a.createElement(li.a,{className:n.filledRow},r.a.createElement(ci.a,{className:"title",colSpan:i.length+1},"Output ".concat(t+1,": ").concat(e.name)))),o(e.id)&&(a=x.a.concat(a,o(e.id).map((function(e,t){for(var a=S()(e.start_date,"YYYY-MM-DD").format("YYYY"),n=S()(e.end_date,"YYYY-MM-DD").format("YYYY"),o=[],l=Number(a);l<=Number(n);l++)o.push(Number(l));return r.a.createElement(li.a,null,r.a.createElement(ci.a,{className:"title",style:{width:600}},"Activity ".concat(t+1,": ").concat(e.name)),i&&i.map((function(e){var t=o.includes(Number(e.id))?Li:{width:150};return r.a.createElement(ci.a,{style:t},r.a.createElement("div",null))})))})))),a})))))))},zi=Object(ae.a)((function(e){return{Table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),qi=function(e){var t=Object(pe.a)(),a=zi(),n=e.customRecord,o=e.counter;return x.a.isEmpty(n.implementing_agencies)?null:r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,o&&"".concat(ki(o),"."),t("printForm.background.implementing_agencies")),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",a.bordered,a.table)},r.a.createElement(si.a,null,n.implementing_agencies&&n.implementing_agencies.map((function(e){return e.organization?function(e,t){if(n.outputs){var a=n.outputs.filter((function(t){return t.organization_ids.includes(Number(e))}));if(a&&a.length>0)return r.a.createElement(r.a.Fragment,null,a.map((function(e){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e.name),r.a.createElement(ci.a,null,"".concat(t.organization.code," - ").concat(t.organization.name))," ")})))}return r.a.createElement(r.a.Fragment,null,r.a.createElement(ci.a,null,"-"),r.a.createElement(ci.a,null,"".concat(t.organization.code," - ").concat(t.organization.name)))}(e.organization_id,e):null})))))))},Ui=function(e){var t=e.customRecord,a=e.counter,n=Object(pe.a)();return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,a?"".concat(ki(a),"."):""," ",n("printForm.introduction.title")),r.a.createElement("div",null,gi()(t.rational_study),gi()(t.methodology),gi()(t.organization_study))))},Vi=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),Gi=function(e){var t=Object(pe.a)(),a=e.customRecord,n=e.counter,o=Vi();return a&&!a.maintenance_period?r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,n?"".concat(ki(n),"."):""," ",t("printForm.background.om_costs")),r.a.createElement("div",null,"Project has no Operation & Maintenance period"))):Y("has_multiple_om_costs")?a&&!x.a.isEmpty(a.om_costs)?r.a.createElement("div",{className:"landscapeSection"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,n?"".concat(ki(n),"."):""," ",t("printForm.background.om_costs")),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",o.bordered,o.table),style:{width:"100%"}},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Cost Classification Code"),r.a.createElement(ci.a,null,"Cost Classification Name"),a&&a.om_costs&&a.om_costs[0]&&a.om_costs[0].costs&&x.a.keys(a.om_costs[0].costs).map((function(e){return r.a.createElement(ci.a,null,wi(S()(e,"YYYY-MM-DD")).name)})),r.a.createElement(ci.a,null,"Source of Funds"))),r.a.createElement(si.a,null,a.om_costs&&a.om_costs.map((function(e){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e&&e.costing&&"".concat(e.costing.code)),r.a.createElement(ci.a,null,e&&e.costing&&"".concat(e.costing.name)),e&&e.costs&&x.a.keys(e.costs).map((function(t){return r.a.createElement(ci.a,null,Ni(e.costs[t]))})),r.a.createElement(ci.a,null,e&&e.fund&&"".concat(e.fund.code," - ").concat(e.fund.name)))}))))))):null:a&&!x.a.isEmpty(a.om_cost)?r.a.createElement("div",{className:"landscapeSection"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,n?"".concat(ki(n),"."):""," ",t("printForm.background.om_costs")),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",o.bordered,o.table),style:{width:"100%"}},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Cost Classification Code"),r.a.createElement(ci.a,null,"Cost Classification Name"),a&&a.om_cost&&x.a.keys(a.om_cost).map((function(e){return r.a.createElement(ci.a,null,wi(S()(e,"YYYY-MM-DD")).name)})),r.a.createElement(ci.a,null,"Source of Funds"))),r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,a&&a.om_costing&&"".concat(a.om_costing.code)),r.a.createElement(ci.a,null,a&&a.om_costing&&"".concat(a.om_costing.name)),a&&a.om_cost&&x.a.keys(a.om_cost).map((function(e){return r.a.createElement(ci.a,null,Ni(a.om_cost[e]))})),r.a.createElement(ci.a,null,a&&a.om_fund&&"".concat(a.om_fund.code," - ").concat(a.om_fund.name)))))))):null},Hi=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),Ji=function(e){var t=e.customRecord,a=e.subCounter,n=Object(pe.a)(),o=t.project_options,i=Hi();return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(a||5),"."," ",n("printForm.options.economical_evaluation.title")),r.a.createElement("div",null,r.a.createElement("p",null,n("printForm.options.economical_evaluation.summary")),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",i.bordered,i.table)},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:"filled-row"},r.a.createElement(ci.a,{style:{width:120}}),o&&o.filter((function(e){return e.is_shortlisted||e.is_preferred})).map((function(e,t){return r.a.createElement(ci.a,null,e.name)}))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.options.economical_evaluation.enpv")),o&&o.filter((function(e){return e.is_shortlisted||e.is_preferred})).map((function(e,t){return r.a.createElement(ci.a,null,e.economic_evaluation&&Ni(e.economic_evaluation.enpv))}))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.options.economical_evaluation.err")),o&&o.filter((function(e){return e.is_shortlisted||e.is_preferred})).map((function(e,t){return r.a.createElement(ci.a,null,e.economic_evaluation&&e.economic_evaluation.err+"%"||"-")}))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.options.cba_cea")),o&&o.filter((function(e){return e.is_shortlisted||e.is_preferred})).map((function(e,t){return e.economic_evaluation?e.economic_evaluation&&"CBA"===e.economic_evaluation.appraisal_methodology?r.a.createElement(ci.a,null,n("printForm.options.economical_evaluation.cba")):r.a.createElement(ci.a,null,r.a.createElement("p",null,n("printForm.options.economical_evaluation.cea")),e.economic_evaluation&&e.economic_evaluation.criteria&&0!==e.economic_evaluation.criteria.length&&e.economic_evaluation.criteria.map((function(e){return r.a.createElement("div",{className:"inner-table"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"cell_title"},n("printForm.options.criterias.criteria_title"),":"),r.a.createElement("div",{className:"cell"},e.title)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"cell_title"},n("printForm.options.criterias.criteria_value"),":"),r.a.createElement("div",{className:"cell"},e.criteria_value)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"cell_title"},n("printForm.options.criterias.measure_unit"),":"),r.a.createElement("div",{className:"cell"},e.measure_unit)))}))):r.a.createElement(ci.a,null,"-")}))))))),r.a.createElement("div",null,o&&o.filter((function(e){return e.is_shortlisted||e.is_preferred})).map((function(e,t){return r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,"".concat(n("printForm.options.detailed_analysis")," ").concat(e.name))),e.economic_evaluation?gi()(e.economic_evaluation.summary):n("printForm.options.detailed_analysis_empty"))})))))},Xi=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),$i=function(e){var t=e.customRecord,a=e.subCounter,n=Object(pe.a)(),o=t.project_options,i=Xi();return t?r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(a||4),"."," ",n("printForm.options.financial_evaluation.title")),r.a.createElement("div",null,r.a.createElement("p",null,n("printForm.options.financial_evaluation.summary")),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",i.bordered,i.table)},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:"filled-row"},r.a.createElement(ci.a,{style:{width:120}}),o&&o.filter((function(e){return e.is_shortlisted||e.is_preferred})).map((function(e,t){return r.a.createElement(ci.a,null,e.name)}))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.options.financial_evaluation.fnpv")),o&&o.filter((function(e){return e.is_shortlisted||e.is_preferred})).map((function(e,t){return r.a.createElement(ci.a,null,e.financial_evaluation&&Ni(e.financial_evaluation.fnpv))}))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.options.financial_evaluation.irr")),o&&o.filter((function(e){return e.is_shortlisted||e.is_preferred})).map((function(e,t){return r.a.createElement(ci.a,null,e.financial_evaluation&&e.financial_evaluation.irr+"%"||"-")}))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.options.cba_cea")),o&&o.filter((function(e){return e.is_shortlisted||e.is_preferred})).map((function(e,t){return e.financial_evaluation?e.financial_evaluation&&"CBA"===e.financial_evaluation.appraisal_methodology?r.a.createElement(ci.a,null,n("printForm.options.economical_evaluation.cba")):r.a.createElement(ci.a,null,r.a.createElement("p",null,n("printForm.options.economical_evaluation.cea")),e.financial_evaluation&&e.financial_evaluation.criterias&&0!==e.financial_evaluation.criterias.length&&e.financial_evaluation.criterias.map((function(e){return r.a.createElement("div",{className:"inner-table"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"cell_title"},n("printForm.options.criterias.criteria_title"),":"),r.a.createElement("div",{className:"cell"},e.title)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"cell_title"},n("printForm.options.criterias.criteria_value"),":"),r.a.createElement("div",{className:"cell"},e.criteria_value)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"cell_title"},n("printForm.options.criterias.measure_unit"),":"),r.a.createElement("div",{className:"cell"},e.measure_unit)))}))):r.a.createElement(ci.a,null,"-")}))))))),r.a.createElement("div",null,o&&o.filter((function(e){return e.is_shortlisted||e.is_preferred})).map((function(e,t){return r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,"".concat(n("printForm.options.detailed_analysis")," ").concat(e.name))),e.financial_evaluation?gi()(e.financial_evaluation.summary):n("printForm.options.detailed_analysis_empty"))}))))):null},Ki=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),Qi=function(e){var t=e.customRecord,a=e.subCounter,n=t.project_options,o=Ki(),i=Object(pe.a)();return n?r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(a||6),"."," ",i("printForm.options.stakeholder_evaluations.title")),n&&n.filter((function(e){return e.is_shortlisted||e.is_preferred})).map((function(e,t){return e.stakeholder_evaluations&&0===e.stakeholder_evaluations.length?r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,"".concat(i("printForm.options.stakeholder_evaluations.analysis")," ").concat(e.name,":"))),r.a.createElement("p",null,i("printForm.options.stakeholder_evaluations.empty"))):r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",o.bordered,o.table)},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:"filled-row"},r.a.createElement(ci.a,null,i("printForm.options.stakeholder_evaluations.number")),r.a.createElement(ci.a,null,i("printForm.options.stakeholder_evaluations.name")),r.a.createElement(ci.a,null,i("printForm.options.stakeholder_evaluations.impact_sign")),r.a.createElement(ci.a,null,i("printForm.options.stakeholder_evaluations.beneficiary")),r.a.createElement(ci.a,null,i("printForm.options.stakeholder_evaluations.description"))),e.stakeholder_evaluations&&e.stakeholder_evaluations.map((function(e,t){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,ki(t+1)),r.a.createElement(ci.a,null,e.name),r.a.createElement(ci.a,null,e.impact_sign),r.a.createElement(ci.a,null,e.beneficiary),r.a.createElement(ci.a,null,gi()(e.description)))})))))})))):null},Zi=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),el=function(e){var t=Object(pe.a)(),a=Zi(),n=e.customRecord,o=e.subCounter,i=n.project_options;return i?r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(o||7),"."," ",t("printForm.options.risk_evaluations.title")),i&&i.filter((function(e){return e.is_shortlisted||e.is_preferred})).map((function(e,n){return r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,"".concat(t("printForm.options.risk_evaluations.analysis")," ").concat(e.name,":"))),!e.risk_evaluations||e.risk_evaluations&&0===e.risk_evaluations.length?r.a.createElement("p",null,t("printForm.options.risk_evaluations.empty")):r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",a.bordered,a.table)},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:"filled-row"},r.a.createElement(ci.a,null,t("printForm.options.risk_evaluations.description")),r.a.createElement(ci.a,null,t("printForm.options.risk_evaluations.occurrence")),r.a.createElement(ci.a,null,t("printForm.options.risk_evaluations.impact")),r.a.createElement(ci.a,null,t("printForm.options.risk_evaluations.mitigation_plan"))),e.risk_evaluations&&e.risk_evaluations.map((function(e){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e.description),r.a.createElement(ci.a,null,e.occurrence),r.a.createElement(ci.a,null,e.impact),r.a.createElement(ci.a,null,e.mitigation_plan))}))))))})))):null},tl=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),al=function(e){var t=e.customRecord,a=e.subCounter,n=Object(pe.a)(),o=tl();return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(a),". ",n("printForm.options.title")),r.a.createElement("div",null,t&&!t.project_options||t.project_options&&0===t.project_options.length?null:r.a.createElement("div",null,r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",o.bordered,o.table)},r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{rowSpan:"2"},n("printForm.options.name")),r.a.createElement(ci.a,{rowSpan:"2"},n("printForm.options.cost")),r.a.createElement(ci.a,{rowSpan:"2"},n("printForm.options.funding_modality")),r.a.createElement(ci.a,{rowSpan:"2"},n("printForm.options.score")),r.a.createElement(ci.a,{colSpan:"5"},n("printForm.options.modular_scores"))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.options.demand_module")),r.a.createElement(ci.a,null,n("printForm.options.tech_module")),r.a.createElement(ci.a,null,n("printForm.options.environmental_module")),r.a.createElement(ci.a,null,n("printForm.options.hr_module")),r.a.createElement(ci.a,null,n("printForm.options.legal_module"))),t&&t.project_options&&t.project_options.map((function(e){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement("p",null,e.name),r.a.createElement("span",{style:{fontStyle:"italic"}},gi()(e.description))),r.a.createElement(ci.a,null,Ni(e.cost)),r.a.createElement(ci.a,null,n("resources.project_options.fields.funding_modality.".concat(e.funding_modality))),r.a.createElement(ci.a,null,e.score),r.a.createElement(ci.a,null,e.demand_module&&e.demand_module.score),r.a.createElement(ci.a,null,e.technical_module&&e.technical_module.score),r.a.createElement(ci.a,null,e.environmental_module&&e.environmental_module.score),r.a.createElement(ci.a,null,e.hr_module&&e.hr_module.score),r.a.createElement(ci.a,null,e.legal_module&&e.legal_module.score))})))))))))},nl=function(e){var t=Object(pe.a)(),a=e.customRecord,n=a.project_options,o=[{name:t("resources.project_options.fields.building_blocks.modules.demand_module"),id:"demand_module"},{name:t("resources.project_options.fields.building_blocks.modules.technical_module"),id:"technical_module"},{name:t("resources.project_options.fields.building_blocks.modules.environmental_module"),id:"environmental_module"},{name:t("resources.project_options.fields.building_blocks.modules.hr_module"),id:"hr_module"},{name:t("resources.project_options.fields.building_blocks.modules.legal_module"),id:"legal_module"}];return a?r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},n&&a.project_options.map((function(e){return r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement("strong",null,"".concat(t("printForm.options.detailed_analysis")," ").concat(e.name))),o.map((function(a){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("strong",null,a.name)),e[a.id]&&r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("p",{className:"content-area_subtitle"},t("printForm.options.description"),":"),gi()(e[a.id].description)),r.a.createElement("li",null,r.a.createElement("p",{className:"content-area_subtitle"},t("printForm.options.advantage"),":"),gi()(e[a.id].advantage)),r.a.createElement("li",null,r.a.createElement("p",{className:"content-area_subtitle"},t("printForm.options.disadvantage"),":"),gi()(e[a.id].disadvantage))))})))})))):null},rl=function(e){var t=Object(pe.a)(),a=e.customRecord,n=e.subCounter,o=a.project_options;if(!o)return null;var i=x.a.find(o,(function(e){return e.is_preferred}));return i?r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(n||8),".  ",t("printForm.options.justification.title")),r.a.createElement("h5",null,t("printForm.options.justification.alternative")," ",r.a.createElement("b",null,i.name)," ",t("printForm.options.justification.alternative_text")),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("h2",null,ki((n||8)+".1.")," ",t("printForm.options.justification.description")),gi()(i.description)),r.a.createElement("div",null,r.a.createElement("h2",null,ki((n||8)+".2.")," ",t("printForm.options.justification.details")),gi()(i.justification)),r.a.createElement("div",null,r.a.createElement("h2",null,ki((n||8)+".3.")," ",t("printForm.options.justification.modality")),gi()(i.modality_justification)))):r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(n||8),".  ",t("printForm.options.justification.title")),r.a.createElement("h5",null,t("printForm.options.justification.best_options_empty"))))},ol=function(e){var t=Object(pe.a)(),a=e.customRecord,n=Number(e.counter),o=[{name:t("resources.project_options.fields.building_blocks.modules.demand_module"),id:"demand_module"},{name:t("resources.project_options.fields.building_blocks.modules.technical_module"),id:"technical_module"},{name:t("resources.project_options.fields.building_blocks.modules.environmental_module"),id:"environmental_module"},{name:t("resources.project_options.fields.building_blocks.modules.hr_module"),id:"hr_module"},{name:t("resources.project_options.fields.building_blocks.modules.legal_module"),id:"legal_module"}],i=a.project_options;return a&&i?r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},i.map((function(e){return o.map((function(a,o){var i=x.a.find(e.building_blocks,(function(e){return e.module_type===a.id.toUpperCase()}));return r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(n+o),". ",a.name),i?r.a.createElement("div",null,r.a.createElement("p",{className:"content-area_subtitle"},t("printForm.options.description"),":"),gi()(i.description)):r.a.createElement("div",null,r.a.createElement("p",{className:"content-area_subtitle"},t("printForm.options.description"),":"),"-"))}))})),r.a.createElement($i,Object.assign({subCounter:Number(n)+o.length},e)),r.a.createElement(Ji,Object.assign({subCounter:Number(n)+o.length+1},e)),r.a.createElement(Qi,Object.assign({subCounter:Number(n)+o.length+2},e)),r.a.createElement(el,Object.assign({subCounter:Number(n)+o.length+3},e)))):null},il=a(570),ll=a.n(il),cl=function(e){var t=e.customRecord,a=r.a.useState([]),o=Object(Z.a)(a,2),i=(o[0],o[1]),l=r.a.useState([]),c=Object(Z.a)(l,2),s=c[0],u=c[1],d=Object(pe.a)(),m=Y("has_pimis_fields"),p=Object(Ca.a)(),f=Object(ee.f)((function(e){return e.ui})).isExporting,_=Object(n.useRef)();null===_||void 0===_||_.current;r.a.useEffect((function(){p.getListOfAll("locations",{}).then((function(e){i(e.data)})),p.getListOfAll("interventions",{}).then((function(e){u(e.data)}))}),[]);var g=e.counter||1,h=[];if(!t)return null;if(m)return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(g),". ",d("printForm.background.title")),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,ki(g+".1.")," ",d("printForm.background.stakeholder_consultation"))),gi()(t.stakeholder_consultation)),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,ki(g+".1.")," ",d("printForm.background.situation_analysis"))),gi()(t.situation_analysis)),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,ki(g+".1.")," ",d("printForm.background.problem_statement"))),gi()(t.problem_statement)),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,ki(g+".1.")," ",d("printForm.background.problem_cause"))),gi()(t.problem_cause)),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,ki(g+".1.")," ",d("printForm.background.problem_effects"))),gi()(t.problem_effects)),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,ki(g+".1.")," ",d("printForm.background.justification"))),gi()(t.justification)),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,ki(g+".1.")," ",d("printForm.background.me_strategies"))),gi()(t.me_strategies)),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,ki(g+".8.")," ",d("printForm.background.risk_assessment"))),gi()(t.risk_assessment)),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,ki(g+".1.")," ",d("printForm.background.governance"))),gi()(t.governance)),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,ki(g+".7.")," ",d("printForm.background.technical_description"))),gi()(t.summary))));var v="https://maps.googleapis.com/maps/api/staticmap";if(v+="?center=0.18,32.37",v+="&size=700x300&scale=2",v+="&maptype=roadmap",v+="&zoom=6",v+="&key="+Fa,t&&t.geo_location&&t.geo_location.indexOf(",")>-1){try{h=[].concat(Object(D.a)(h),Object(D.a)(JSON.parse(t.geo_location).map((function(e){return"".concat(String(e.lat),",").concat(String(e.lng))}))))}catch(b){console.log(b)}v="https://maps.googleapis.com/maps/api/staticmap",v+="?center=0.18,32.37",v+="&size=700x300&scale=2",v+="&maptype=roadmap",v+="&zoom=6",v+="&markers="+h.join("|"),v+="&key="+Fa}return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area",ref:_},r.a.createElement("h2",null,ki(g),". ",d("printForm.background.title")),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,ki(g+".1.")," ",d("printForm.background.situation_analysis"))),gi()(t.situation_analysis)),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,ki(g+".2.")," ",d("printForm.background.problem_statement"))),gi()(t.problem_statement)),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,ki(g+".2.1.")," ",d("printForm.background.problem_cause"))),gi()(t.problem_cause)),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,ki(g+".2.2.")," ",d("printForm.background.problem_effects"))),gi()(t.problem_effects)),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,ki(g+".3.")," ",d("printForm.background.strategic_fit"))),gi()(t.strategic_fit)),r.a.createElement("div",null,t&&t.in_ndp?r.a.createElement(sl,Object.assign({},e,{interventions:s})):r.a.createElement(ul,Object.assign({},e,{interventions:s}))),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,ki(g+".4.")," ",d("printForm.background.justification"))),gi()(t.justification)),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,ki(g+".5.")," ",d("printForm.background.stakeholders"))),t.stakeholders.map((function(e){return r.a.createElement("div",null,r.a.createElement("p",null,"Name: "),r.a.createElement("p",null,e.name),e.responsibilities&&r.a.createElement("div",{style:{fontStyle:"italic"}},r.a.createElement("p",null,"Responsibilities:"),gi()(e.responsibilities)))})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,d("printForm.background.affected_population"))),gi()(t.affected_population))),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,ki(g+".6.")," ",d("printForm.background.location")),Y("project_has_google_map")&&r.a.createElement(Xn.a,{label:e.showMap?d("buttons.hide_map"):d("buttons.show_map"),onClick:e.onShowMap,className:"static_map_btn",style:{marginLeft:"15px"}},r.a.createElement(ll.a,null))),(e.showMap||f)&&r.a.createElement("p",null,r.a.createElement("img",{id:"map_img",className:"static_map",width:"650px",height:"400px",src:v,alt:"GeoMap of Project Location"})),x.a.isEmpty(t.locations)?t.additional_data&&t.additional_data.location?gi()(t.additional_data.location):null:t.locations.map((function(e){var t;return r.a.createElement("p",null,e&&e.location?"".concat((null===(t=e.location.parent)||void 0===t?void 0:t.name)+" - "||!1," ").concat(e.location.name):"-")}))),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,ki(g+".7.")," ",d("printForm.background.technical_description"))),gi()(t.summary)),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,ki(g+".9.")," ",d("printForm.background.national_scope"))),gi()(t.national_scope)),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,ki(g+".10.")," ",d("printForm.background.procurement_plan_description"))),gi()(t.procurement_plan_description)),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,ki(g+".11.")," ",d("printForm.background.work_plan_description"))),gi()(t.work_plan_description))))},sl=function(e){var t=e.customRecord,a=e.interventions,n=Object(pe.a)();return t?"core"===t.ndp_type?r.a.createElement("div",null,r.a.createElement("p",{style:{fontWeight:"bold"}},n("printForm.background.ndp_project_name"),":"),r.a.createElement("p",null,t.ndp_name),r.a.createElement("p",{style:{fontWeight:"bold"}},n("printForm.background.ndp_page_no"),":"),r.a.createElement("p",null,t.ndp_page_no),r.a.createElement("p",{style:{fontWeight:"bold"}},n("printForm.background.details"),":"),gi()(t.ndp_plan_details)):r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("p",{style:{fontWeight:"bold"}},n("printForm.background.ndp_focus_area"),":"),r.a.createElement("p",null,t.ndp_focus_area)),r.a.createElement("div",null,r.a.createElement("p",{style:{fontWeight:"bold"}},n("printForm.background.ndp_intervention"),":"),r.a.createElement("p",null,t.ndp_intervention),a.filter((function(e){return!!t.intervention_ids&&t.intervention_ids.includes(e.id)})).map((function(e){return r.a.createElement("p",{key:e.id},e.name)}))),r.a.createElement("div",null,r.a.createElement("p",{style:{fontWeight:"bold"}},n("printForm.background.details"),":"),gi()(t.ndp_plan_details))):null},ul=function(e){var t=e.customRecord,a=Object(pe.a)();return t?r.a.createElement("div",null,r.a.createElement("p",null,a("printForm.background.strategic")),gi()(t.ndp_strategic_directives),r.a.createElement("p",null,a("printForm.background.details")),gi()(t.ndp_plan_details)):null},dl=Object(ae.a)((function(e){return{table:{minWidth:700,width:"55%"},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),ml=function(e){var t=Object(pe.a)(),a=e.customRecord,n=e.counter,o=function(e){var t=[];return e.forEach((function(e){return x.a.concat(e.investments.forEach((function(e){return x.a.keys(e.costs).forEach((function(e){t.push(e)}))})))})),x.a.uniq(x.a.flatten(t))}(a.activities),i=dl();var l=a.outputs.map((function(e){return(t=e.id,a.activities.filter((function(e){return e.output_ids.includes(t)}))).map((function(e){return e.investments.map((function(e){var t=0;return o.forEach((function(a){t+=e.costs[a]?parseFloat(e.costs[a]):0})),e.fund?{fund_id:e.fund.id,fund_label:"".concat(e.fund.code," - ").concat(e.fund.name),total:t}:{}}))}));var t})),c=[].concat.apply([],l),s=x.a.groupBy(x.a.flatten(c),"fund_label");return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(n),". ",t("printForm.funding.title")),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",i.bordered,i.table)},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:"filled-row"},r.a.createElement(ci.a,null,t("printForm.funding.fund")),r.a.createElement(ci.a,null,t("printForm.funding.ugx"))),x.a.keys(s).map((function(e){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e),r.a.createElement(ci.a,null,vr(x.a.sumBy(s[e],(function(e){return parseFloat(e.total)})))))})))))))};function pl(e,t){return e.activities.filter((function(e){return e.output_ids.includes(t)}))}var fl=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),_l=function(e,t){var a=e.outcomes.filter((function(e){return t.outcome_ids.includes(e.id)}));return a&&0!==a.length?a.map((function(e){return e.name})).join(", "):"-"},gl=function(e){var t=fl(),a=Object(pe.a)(),n=e.customRecord,o=(e.customBasePath,e.counter||3),i=H(n),l=Oi(i.start_date,i.end_date);return r.a.createElement("div",{className:"landscapeSection"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(o),"."," ",a("printForm.project_framework.title_logical")),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",t.bordered,t.table),style:{width:"100%"}},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,{rowspan:"2",style:{width:350}},a("printForm.project_framework.goal")),r.a.createElement(ci.a,{rowspan:"2",style:{width:200}},a("printForm.result_matrix.indicator_title")),r.a.createElement(ci.a,{colspan:l.length+1,style:{width:200}},a("printForm.result_matrix.indicator")),r.a.createElement(ci.a,{rowspan:"2",style:{width:200}},a("printForm.result_matrix.means")),r.a.createElement(ci.a,{rowspan:"2",style:{width:200}},a("printForm.result_matrix.assumption")),r.a.createElement(ci.a,{rowspan:"2",style:{width:200}},a("printForm.result_matrix.risks"))),r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{width:120}},"".concat(a("printForm.result_matrix.baseline")," ").concat(i.baseline?wi(S()(i.baseline,"YYYY-MM-DD")).name:""," (SMART)")),l.map((function(e){return r.a.createElement(ci.a,{style:{width:200}},r.a.createElement("strong",null,"".concat(a("printForm.result_matrix.target")," ").concat(e.name," (SMART)")))}))),i&&i.indicators&&0!==i.indicators.length?i.indicators.map((function(e,t){return r.a.createElement(li.a,null,0===t?r.a.createElement(ci.a,{style:{width:350},rowspan:i.indicators.length},"".concat(a("printForm.result_matrix.project_goal"),": ").concat(i.goal)):null,r.a.createElement(ci.a,{style:{width:350}},"Indicator ".concat(t+1,": ").concat(e.name)),r.a.createElement(ci.a,{style:{width:250}},e.baseline),l.map((function(t){return r.a.createElement(ci.a,{style:{width:200}},e.targets[Number(t.id)])})),r.a.createElement(ci.a,{style:{width:200}},e.verification_means),r.a.createElement(ci.a,{style:{width:200}}),r.a.createElement(ci.a,{style:{width:200}}))})):r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{width:350},colSpan:l.length+2+5},"".concat(a("printForm.result_matrix.project_goal"),": ").concat(i.goal))),r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,{colSpan:l.length+2+4},r.a.createElement("b",null,a("printForm.project_framework.outcome",{smart_count:2})))),i&&i.outcomes&&i.outcomes.map((function(e,t){return e.indicators&&0!==e.indicators.length?e.indicators.map((function(n,o){return r.a.createElement(li.a,null,0===o?r.a.createElement(ci.a,{rowspan:e.indicators.length,style:{width:200}},r.a.createElement("p",null,"".concat(a("printForm.project_framework.outcome",{smart_count:1})," ").concat(t+1,": ").concat(e.name)),r.a.createElement("div",{style:{fontSize:"12px",fontStyle:"italic"}},gi()(e.description))):null,r.a.createElement(ci.a,{style:{width:150}},"Indicator ".concat(o+1,": ").concat(n.name)),r.a.createElement(ci.a,{style:{width:200}},n.baseline),l.map((function(e){return r.a.createElement(ci.a,{style:{width:150}},n.targets[Number(e.id)])})),r.a.createElement(ci.a,{style:{width:200}},n.verification_means),r.a.createElement(ci.a,{style:{width:200}},n.assumptions),r.a.createElement(ci.a,{style:{width:200}},n.risk_factors))})):r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:l.length+2+5},r.a.createElement("p",null,"".concat(a("printForm.project_framework.outcome",{smart_count:1})," ").concat(t+1,": ").concat(e.name)),r.a.createElement("div",{style:{fontSize:"12px",fontStyle:"italic"}},gi()(e.description))))})),r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,{colSpan:l.length+2+4},r.a.createElement("b",null,a("printForm.project_framework.output",{smart_count:2})))),i&&i.outputs&&i.outputs.map((function(e,t){return e.indicators&&0!==e.indicators.length?e.indicators.map((function(n,o){return r.a.createElement(li.a,null,0===o?r.a.createElement(ci.a,{rowspan:e.indicators.length,style:{width:350}},r.a.createElement("p",null,"".concat(a("printForm.project_framework.output",{smart_count:1})," ").concat(t+1,": ").concat(e.name)),r.a.createElement("div",{style:{fontSize:"12px",fontStyle:"italic"}},gi()(e.description))):null,r.a.createElement(ci.a,{style:{width:200}},"Indicator ".concat(o+1,": ").concat(n.name)),r.a.createElement(ci.a,null,n.baseline),l.map((function(e){return r.a.createElement(ci.a,{style:{width:200}},n.targets[Number(e.id)])})),r.a.createElement(ci.a,{style:{width:200}},n.verification_means),r.a.createElement(ci.a,{style:{width:200}},n.assumptions),r.a.createElement(ci.a,{style:{width:200}},n.risk_factors))})):r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:l.length+2+5,style:{width:350}},r.a.createElement("p",null,"".concat(a("printForm.project_framework.output",{smart_count:1})," ").concat(t+1,": ").concat(e.name)),r.a.createElement("div",{style:{fontSize:"12px",fontStyle:"italic"}},gi()(e.description))))}))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",t.bordered,t.table)},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,null,a("printForm.result_matrix.activities_title"))),i&&i.outputs&&i.outputs.map((function(e,a){return[r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,null,r.a.createElement("p",{style:{marginBottom:"5px"}},r.a.createElement("strong",null,e.name)),r.a.createElement("p",{style:{fontSize:"12px",fontStyle:"italic",marginBottom:"5px"}},"(",_l(i,e),")"))),pl(i,e.id)&&r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement("ul",null,pl(i,e.id).map((function(e,t){return r.a.createElement("li",null,r.a.createElement("p",null,"".concat(a+1,".").concat(t+1)," ",e.name),r.a.createElement("p",{style:{fontSize:"12px",fontStyle:"italic"}},gi()(e.description)))})))))]})))))))))},hl=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"pageBreak"}),r.a.createElement("span",null,r.a.createElement("br",{className:"page-break"})))},vl=function(e){var t=Object(pe.a)(),a=Object(ee.f)((function(e){return e.app.appConfig})),n={};return e.project&&e.project[e.field]&&function t(r){return r&&r.level&&(n[r.level]={id:r.id,code:r.code,name:r.name,label:a[e.config][r.level].id}),r&&r.parent?t(r.parent):r}(e.project[e.field]),x.a.keys(n).map((function(e){return[r.a.createElement(li.a,null,r.a.createElement(ci.a,null,t("resources.projects.fields.".concat(n[e].label,".code"),{smart_count:1}),":"," "),r.a.createElement(ci.a,null,n[e].code)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,t("resources.projects.fields.".concat(n[e].label,".name"),{smart_count:1}),":"," "),r.a.createElement(ci.a,null,n[e].name))]}))},bl=["details","project"],El=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),jl=function(e){var t,a,o,i=e.details,l=e.project,c=Object(T.a)(e,bl),s=Object(pe.a)(),u=El();Object(ee.f)((function(e){return e.admin.resources["project-details"]}));function d(e){if(Y("has_pimis_fields")){if(e){var t=e.replace("(","").replace(")",""),a=t&&t.slice(0,3),n=t&&t.slice(3,t.length+2);return"(".concat(a,")").concat(n)}return e}return e}var m=i&&Y("project_report_total_cost_show",i.phase_id)?String(Pi(i)).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1,")+" ".concat(s("titles.currency")):String(Ci(i)).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1,")+" ".concat(s("titles.currency"));return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement(se.a,{variant:"h2",style:{marginLeft:15,marginBottom:15}},l.name),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",u.bordered,u.table)},r.a.createElement(si.a,null,r.a.createElement(vl,Object.assign({},c,{field:"project_organization",config:"organizational_config",project:l})),r.a.createElement(vl,Object.assign({},c,{field:"program",config:"programs_config",project:l})),r.a.createElement(vl,Object.assign({},c,{field:"function",config:"functions_config",project:l})),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,s("printForm.project_info.project_title"),":"),r.a.createElement(ci.a,null,l.name)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,s("printForm.project_info.project_code"),":"),r.a.createElement(ci.a,null,l.budget_code)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,s("printForm.project_info.project_duration"),":"),r.a.createElement(ci.a,null,Ti(i.start_date,i.end_date))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Actual Cost",":"),r.a.createElement(ci.a,null,m)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,s("printForm.project_info.officer"),":"),r.a.createElement(ci.a,null,i.responsible_officers&&i.responsible_officers.map((function(e){return r.a.createElement(n.Fragment,null,r.a.createElement("p",null,s("printForm.project_info.responsible_officers.title"),": ",e.title?e.title:"-"),r.a.createElement("p",null,s("printForm.project_info.responsible_officers.name"),": ",e.name?e.name:"-"),r.a.createElement("p",null,s("printForm.project_info.responsible_officers.mobile_phone"),":"," ",e.mobile_phone?d(e.mobile_phone):"-"),r.a.createElement("p",null,s("printForm.project_info.responsible_officers.phone"),": ",e.phone?d(e.phone):"-"),r.a.createElement("p",null,s("printForm.project_info.responsible_officers.email"),": ",e.email?e.email:"-"))})))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Project location ",":"),r.a.createElement(ci.a,null,null===i||void 0===i||null===(t=i.locations)||void 0===t||null===(a=t.map((function(e){var t;return null===(t=e.location)||void 0===t?void 0:t.name})))||void 0===a?void 0:a.join(", "))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Project start Date ",":"),r.a.createElement(ci.a,null,null===(o=wi(null===i||void 0===i?void 0:i.start_date))||void 0===o?void 0:o.name)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Project completion date  ",":"),r.a.createElement(ci.a,null,Er(l.submission_date))))))))},yl=function(e){e.customRecord;var t=e.counter,a=void 0===t?1:t;Object(pe.a)();return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",{className:"content-area_title"},ki(a),".1 Physical Performance"," "),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small"},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Output"),r.a.createElement(ci.a,null,"Original Description "),r.a.createElement(ci.a,null,"Actual Specifications / Description"),r.a.createElement(ci.a,null,"Initial Completion Date"),r.a.createElement(ci.a,null,"Actual Completion Date"),r.a.createElement(ci.a,null,"Specific Output Related Challenges "))),r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null))))),r.a.createElement("h2",{className:"content-area_title"},ki(a),".2 Outcome performance"," "),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small"},r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Short Term Outcomes"),r.a.createElement(ci.a,null,"What short term outcomes have been achieved by the project")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Impact"),r.a.createElement(ci.a,null,"What long-term impact is expected from the project. ")))))))},Ol=function(e){var t=e.customRecord,a=e.counter,n=void 0===a?1:a,o=(Object(pe.a)(),function(e){var t=x.a.flatMap(e.activities.map((function(e){return e.investments.map((function(e){return e.costs}))}))),a={};return t.forEach((function(e){Object.keys(e).forEach((function(t){a[t]=a[t]?a[t]+parseFloat(e[t]):parseFloat(e[t])}))})),a}(t)),i=function(e){var t=["budget_allocation","budget_appropriation","budget_supplemented","financial_execution"],a={};return e.me_reports.filter((function(e){return"ANNUAL"===e.frequency})).map((function(e){var a={};return e.me_activities.forEach((function(e){t.forEach((function(t){var n=e[t]?parseFloat(e[t]):0;a[t]=a[t]?a[t]+n:n}))})),Object(N.a)({},e.year,a)})).forEach((function(e){Object.keys(e).forEach((function(n){a[n]=a[n]?Object(u.a)({},a[n]):{},t.forEach((function(t){var r=e[n][t]?parseFloat(e[n][t]):0;a[n][t]=a[n][t]?a[n][t]+r:r}))}))})),a}(t),l=[2020,2021,2022,2023];return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",{className:"content-area_title"},ki(n)," Budget Performance"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small"},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null),l.map((function(e){return r.a.createElement(ci.a,null,e)})))),r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Planned cost "),l.map((function(e){return r.a.createElement(ci.a,null,o[e]&&vr(o[e]))}))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Budget allocated"),l.map((function(e){return r.a.createElement(ci.a,null,i[e]&&vr(i[e].budget_allocation))}))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Budget appropriated "),l.map((function(e){return r.a.createElement(ci.a,null,i[e]&&vr(i[e].budget_appropriation))}))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Budget Released"),l.map((function(e){return r.a.createElement(ci.a,null,i[e]&&vr(i[e].budget_allocation+i[e].budget_supplemented))}))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Budget Spent"),l.map((function(e){return r.a.createElement(ci.a,null,i[e]&&vr(i[e].financial_execution))}))))))))},wl=function(e){e.customRecord;var t=e.counter,a=void 0===t?1:t;Object(pe.a)();return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",{className:"content-area_title"},ki(a)," Challenges encountered and recommendations"),r.a.createElement("div",null,"Describe the problems encountered during project implementation, risks actualized and they affected project implementation, what measures were implemented to address the problems. Outline the lessons learned during the implementation of this intervention.")))},xl=function(e){e.customRecord;var t=e.counter,a=void 0===t?1:t;Object(pe.a)();return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",{className:"content-area_title"},ki(a)," Lessons learnt"),r.a.createElement("div",null,"These may include highlights of project implementation as well as from other parties. Specific recommendations and gaps for future consideration should also be included in this part section.")))},kl=function(e){e.customRecord;var t=e.counter,a=void 0===t?1:t;Object(pe.a)();return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",{className:"content-area_title"},ki(a)," Post-project tasks / future considerations"),r.a.createElement("div",null,"List any continuing development and operational objectives. What actions still need to be completed, and who is responsible for completing them? List any additional outstanding project activities?")))},Sl=function(e){e.customRecord;var t=e.counter,a=void 0===t?1:t;Object(pe.a)();return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",{className:"content-area_title"},ki(a)," Sustainability plan"),r.a.createElement("div",null,"Sustainability plan Describe post implementation project maintenance plan, schedule, and indicate annual O&M cost.")))};Object(ae.a)((function(e){return{root:{display:"flex"},content:{flexGrow:1,padding:e.spacing(3),paddingTop:e.spacing(8)},ganttChartTable:{"& th":{borderLeft:"3px solid #c8ced3"},"& td":{padding:"3px 0px !important",borderLeft:"1px solid #c8ced3"},"& .title":{paddingLeft:"15px !important"},"& .filledCell":{background:"blue",padding:"12px 0px"}},button:{marginLeft:15}}}));var Pl=function(e){var t=Object(n.useState)(null),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(null),c=Object(Z.a)(l,2),s=c[0],u=c[1],d=Object(Ca.a)();return Object(n.useEffect)((function(){var t,a;d.getOne("project-details",{id:null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id}).then((function(e){e&&e.data&&i(H(e.data))}))}),[]),Object(n.useEffect)((function(){o&&d.getOne("projects",{id:o.project_id}).then((function(e){e&&e.data&&u(e.data)}))}),[o]),o&&s?r.a.createElement(In.a,{style:{padding:"30px"}},r.a.createElement("div",{id:"docx",className:"export_container"},r.a.createElement(jl,Object.assign({},e,{details:o,project:s})),r.a.createElement(hl,null),r.a.createElement("div",null,r.a.createElement(Wi,Object.assign({counter:"1"},e,{customRecord:o})),r.a.createElement(hl,null),r.a.createElement(Ui,Object.assign({counter:"1"},e,{customRecord:o})),r.a.createElement(hl,null),r.a.createElement(yl,Object.assign({counter:"2"},e,{customRecord:o})),r.a.createElement(hl,null),r.a.createElement(Ol,Object.assign({counter:"3"},e,{customRecord:o})),r.a.createElement(hl,null),r.a.createElement(wl,Object.assign({counter:"4"},e,{customRecord:o})),r.a.createElement(hl,null),r.a.createElement(xl,Object.assign({counter:"5"},e,{customRecord:o})),r.a.createElement(hl,null),r.a.createElement(kl,Object.assign({counter:"6"},e,{customRecord:o})),r.a.createElement(hl,null),r.a.createElement(Sl,Object.assign({counter:"7"},e,{customRecord:o})),r.a.createElement(hl,null)))):null},Cl=a(2006),Nl=a(1067),Al=a(451),Dl=a(2005),Tl=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{textAlign:"left",fontSize:"15px",fontWeight:"bold",paddingLeft:"30px",margin:"10px auto"}}})),Fl=function(e){var t=e.loading,a=e.loaded;return 0===e.total&&!t&&a?n.createElement(di.a,{textAlign:"center",m:3},n.createElement(se.a,{variant:"h5",paragraph:!0},"No projects are in Pipeline status")):n.createElement(ti.a,e)};var Rl=function(e){var t=Object(pe.a)();return Tl(),n.createElement(ui.a,{container:!0,spacing:3},n.createElement(ui.a,{item:!0,xs:12},n.createElement(se.a,{variant:"h4",style:{marginBottom:20}},t("resources.".concat(e.location.pathname.slice(1,e.location.pathname.length),".name"))),n.createElement(In.a,null,n.createElement(ri.a,Object.assign({},e,{basePath:"/projects",resource:"projects",bulkActionButtons:!1,actions:!1,filter:{phase_id:7,project_status:"COMPLETED"},pagination:n.createElement(Fl,null),sort:{field:"id",order:"DESC"}}),n.createElement(Nl.a,{rowClick:!1},n.createElement(Al.a,{source:"code"}),n.createElement(Al.a,{source:"name"}),n.createElement(Dl.a,{source:"created_on",label:t("resources.projects.fields.created_at"),render:function(e){return e?Er(e.created_on):null}}),n.createElement(Dl.a,{source:"status",label:t("resources.projects.fields.status"),render:function(e){return e?t("timeline.".concat(e.project_status.toLowerCase())):null}}),n.createElement(Dl.a,{source:"status",label:t("resources.projects.fields.phase_id"),render:function(e){return e?e.phase&&e.phase.name:null}}),n.createElement(Dl.a,{render:function(e){if(!e)return null;var t=e.project_completion?"#/project-completion/".concat(e.project_completion.id,"/show"):"#/project-completion/".concat(e.current_project_detail.id,"/create"),a=e.project_completion?n.createElement(Cl.a,null):n.createElement(wr.a,null);return n.createElement(Xn.a,{href:t,label:"Completion Report",startIcon:a})}}))))))},Il=["record","reportType"],Ml=function(e){var t=e.record,a=e.reportType,r=Object(T.a)(e,Il),o=Object(Ca.a)(),i=Object(ai.a)(),l=Object(Na.a)();return n.createElement(Ee.a,Object.assign({},r,{color:"primary",startIcon:n.createElement(Nn.a,null),onClick:function(){o.getListOfAll("project-details",{filter:{project_id:Number(t.id)},sort_field:"id"}).then((function(e){var t=x.a.maxBy(e.data,"id");i("/project/".concat(null===t||void 0===t?void 0:t.id,"/me-reports/").concat(a))})).catch((function(e){l(e.message,"error")}))}}),"M&E REPORT")},Wl=["record","reportType","link","title"],Ll=function(e){var t=e.record,a=(e.reportType,e.link),r=e.title,o=Object(T.a)(e,Wl),i=Object(Ca.a)(),l=Object(ai.a)();return n.createElement(Ee.a,Object.assign({},o,{color:"primary",startIcon:n.createElement(Nn.a,null),onClick:function(){i.getListOfAll("project-details",{filter:{project_id:Number(t.id)},sort_field:"id"}).then((function(e){var t=x.a.maxBy(e.data,"id");l("/implementation-module/".concat(null===t||void 0===t?void 0:t.id,"/").concat(a))})).catch((function(e){console.log(e)}))}}),r)},Yl=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{textAlign:"left",fontSize:"15px",fontWeight:"bold",paddingLeft:"30px",margin:"10px auto"}}})),Bl=function(e){var t=e.loading,a=e.loaded;return 0===e.total&&!t&&a?n.createElement(di.a,{textAlign:"center",m:3},n.createElement(se.a,{variant:"h5",paragraph:!0},"No projects are in Pipeline status")):n.createElement(ti.a,e)};var zl=function(e){var t=Object(pe.a)();return Yl(),n.createElement(ui.a,{container:!0,spacing:3},n.createElement(ui.a,{item:!0,xs:12},n.createElement(se.a,{variant:"h4",style:{marginBottom:20}},t("resources.".concat(e.location.pathname.slice(1,e.location.pathname.length),".name"))),n.createElement(In.a,null,n.createElement(ri.a,Object.assign({},e,{basePath:"/projects",resource:"projects",bulkActionButtons:!1,actions:!1,filter:{phase_id:7},pagination:n.createElement(Bl,null),sort:{field:"id",order:"DESC"}}),n.createElement(Nl.a,{rowClick:!1},n.createElement(Al.a,{source:"code"}),n.createElement(Al.a,{source:"name"}),n.createElement(Dl.a,{source:"created_on",label:t("resources.projects.fields.created_at"),render:function(e){return e?Er(e.created_on):null}}),n.createElement(Dl.a,{source:"status",label:t("resources.projects.fields.status"),render:function(e){return e?t("timeline.".concat(e.project_status.toLowerCase())):null}}),n.createElement(Dl.a,{source:"status",label:t("resources.projects.fields.phase_id"),render:function(e){return e?e.phase&&e.phase.name:null}}),n.createElement(Ll,Object.assign({},e,{link:"contingency-liability-report",title:"Contingency Liability Report"})))))))},ql=["details","project"],Ul=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),Vl=function(e){var t=e.details,a=(e.project,Object(T.a)(e,ql),Object(pe.a)(),Ul()),n=t&&x.a.maxBy(t.me_reports,"id"),o=null===n||void 0===n?void 0:n.me_liabilities;return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement(se.a,{variant:"h2",style:{marginLeft:15,marginBottom:15}},"Contingency Liability Report"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",a.bordered,a.table)},r.a.createElement(si.a,null,(null===o||void 0===o?void 0:o.length)>0?o.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Description"),r.a.createElement(ci.a,null,e.description)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Amount"),r.a.createElement(ci.a,null,e.amount)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Due date:"),r.a.createElement(ci.a,null,e.due_date)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Cause of Liability: "),r.a.createElement(ci.a,null,"-")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Type of liability:"),r.a.createElement(ci.a,null,"-")))})):r.a.createElement(r.a.Fragment,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Description"),r.a.createElement(ci.a,null,"Report description")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Amount"),r.a.createElement(ci.a,null,"1500")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Due date:"),r.a.createElement(ci.a,null,"21/10/2021")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Cause of Liability: "),r.a.createElement(ci.a,null,"Cause")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Type of liability:"),r.a.createElement(ci.a,null,"Liability"))))))))};Object(ae.a)((function(e){return{root:{display:"flex"},content:{flexGrow:1,padding:e.spacing(3),paddingTop:e.spacing(8)},ganttChartTable:{"& th":{borderLeft:"3px solid #c8ced3"},"& td":{padding:"3px 0px !important",borderLeft:"1px solid #c8ced3"},"& .title":{paddingLeft:"15px !important"},"& .filledCell":{background:"blue",padding:"12px 0px"}},button:{marginLeft:15}}}));var Gl=function(e){var t=Object(n.useState)(null),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(null),c=Object(Z.a)(l,2),s=c[0],u=c[1],d=Object(Ca.a)();return Object(n.useEffect)((function(){var t,a;d.getOne("project-details",{id:null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id}).then((function(e){e&&e.data&&i(e.data)}))}),[]),Object(n.useEffect)((function(){o&&d.getOne("projects",{id:o.project_id}).then((function(e){e&&e.data&&u(e.data)}))}),[o]),o&&s?r.a.createElement(In.a,{style:{padding:"30px"}},r.a.createElement("div",{id:"docx",className:"export_container"},r.a.createElement(Vl,Object.assign({},e,{details:o,project:s})),r.a.createElement(hl,null))):null};function Hl(e){var t=0;return x.a.keys(e).forEach((function(a){e[a]&&(t+=Number(e[a]))})),t}function Jl(e){var t={};function a(e){return e&&e.level&&(t[e.level]=e.id),e&&e.parent?a(e.parent):e}return x.a.groupBy(e,(function(e){return a(e.project_organization)&&a(e.project_organization).name}))}function Xl(e){var t={};return x.a.groupBy(e,(function(e){return function e(a){return a&&a.level&&(t[a.level]=a.id),a&&a.parent?e(a.parent):a}(e.program).name}))}function $l(e){var t={};return x.a.groupBy(e,(function(e){return function e(a){return a&&a.level&&(t[a.level]=a.id),a&&a.parent?e(a.parent):a}(e.function).name}))}var Kl=a(66),Ql=["record"];var Zl=function(e){var t=e.record,a=(Object(T.a)(e,Ql),Object(n.useState)({})),o=Object(Z.a)(a,2),i=o[0],l=o[1],c=Object(n.useState)(!0),s=Object(Z.a)(c,2),u=s[0],d=s[1],m=Object(Ca.a)(),p=Object(pe.a)();return Object(n.useEffect)((function(){t&&t.id&&m.getListOfAll("project-details",{sort_field:"id",filter:{project_id:t.id}}).then((function(e){var t=e.data.map((function(e){var t={},a=0;return e.activities.forEach((function(e){e.investments.forEach((function(e){a+=Hl(e.costs)}))})),e.outputs.forEach((function(e){e.investments.forEach((function(e){a+=Hl(e.costs)}))})),t.totalCost=a,t.phase_id=e.phase_id,t})),a=x.a.groupBy(t,"phase_id"),n=x.a.keys(za).map((function(e){return{name:p("resources.phases.phase_".concat(e)),cost:a[e]?x.a.first(a[e]).totalCost:0}}));l(n),d(!1)}))}),[t]),r.a.createElement("div",{style:{width:"100%",minWidth:"960px",height:"250px"}},r.a.createElement(se.a,{variant:"h2"},"".concat(t&&t.name||"-"," (").concat(p("titles.currency"),")")),u?r.a.createElement(se.a,{variant:"h5"},"Data is Loading, please wait..."):!x.a.isEmpty(i)&&r.a.createElement(Kl.f,null,r.a.createElement(Kl.b,{height:250,data:i,margin:{top:35,right:30,left:35,bottom:25}},r.a.createElement(Kl.c,{strokeDasharray:"3 3"}),r.a.createElement(Kl.h,{dataKey:"name"}),r.a.createElement(Kl.i,null),r.a.createElement(Kl.g,null),r.a.createElement(Kl.a,{dataKey:"cost",fill:"#8884d8"}))))},ec=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{textAlign:"left",fontSize:"15px",fontWeight:"bold",paddingLeft:"30px",margin:"10px auto"},card:{width:"100%"}}})),tc=function(e){var t=e.loading,a=e.loaded;return 0===e.total&&!t&&a?n.createElement(di.a,{textAlign:"center",m:3},n.createElement(se.a,{variant:"h5",paragraph:!0},"No projects")):n.createElement(ti.a,e)};var ac=function(e){var t=Object(pe.a)(),a=ec(),r=(Object(Ca.a)(),z("has_pipeline_report")||-1);return n.createElement(ui.a,{container:!0,spacing:3},n.createElement(nr,{reportId:"report-container",title:"Cost Evolution Report",exportTypes:[Ha.WORD,Ha.PDF,Ha.XLS]}),n.createElement(ui.a,{item:!0,xs:12,id:"report-container"},n.createElement(se.a,{variant:"h4",style:{marginBottom:20}},t("resources.".concat(e.location.pathname.slice(1,e.location.pathname.length),".name"))),n.createElement(In.a,{className:a.card},n.createElement(ri.a,Object.assign({},e,{basePath:"/projects",resource:"projects",bulkActionButtons:!1,actions:!1,filter:{phase_id:r},sort:{field:"id",order:"DESC"},pagination:n.createElement(tc,null)}),n.createElement(Nl.a,{rowClick:"show",expand:n.createElement(Zl,e)},n.createElement(Al.a,{source:"code"}),n.createElement(Al.a,{source:"name"}),n.createElement(Dl.a,{source:"created_on",label:t("resources.projects.fields.created_at"),render:function(e){return e?Er(e.created_on):null}}),n.createElement(Dl.a,{source:"status",label:t("resources.projects.fields.status"),render:function(e){return e?t("timeline.".concat(e.project_status.toLowerCase())):null}}),n.createElement(Dl.a,{source:"status",label:t("resources.projects.fields.phase_id"),render:function(e){return e?e.phase&&e.phase.name:null}}))))))},nc=Object(ae.a)((function(e){return{root:{textAlign:"center",marginTop:50,backgroundColor:"#fff",padding:50},link:{outline:"1px solid #c8e7f2",color:"#3f50b5",backgroundColor:"#fff",padding:"25px",fontSize:"16px",display:"flex",flexDirection:"column",alignItems:"center",width:155,height:155,"&:hover":{backgroundColor:"#f4fbff",cursor:"pointer"}},report:{justifyContent:"space-between",width:195,height:180},title:{marginBottom:30},icon:{"& > *":{fontSize:54,marginBottom:10}},links:{paddingTop:20,display:"flex",gap:50,alignItems:"center",justifyContent:"flex-start",flexWrap:"wrap"},linksGroup:{display:"flex",flexDirection:"column",alignItems:"flex-start",marginBottom:"30px"}}})),rc=function(e){var t=nc(),a=Object(ai.a)(),n=L();return r.a.createElement("div",{className:t.root},e.links&&e.links.map((function(o){return r.a.createElement("div",{className:t.linksGroup},r.a.createElement(se.a,{variant:"h4",className:t.title},o.title),r.a.createElement("div",{className:t.links},o.items.filter((function(e){var t=!e.feature||Y(e.feature),a=!e.permission||n(e.permission);return t&&a})).map((function(n){return r.a.createElement("div",{onClick:(o=n.link,function(){a(o)}),className:Ie()(t.link,Object(N.a)({},t.report,e.isReport))},r.a.createElement("div",{className:t.icon},n.icon),n.name);var o}))))})))},oc=function(e){var t=e.active,a=e.payload,n=e.label;return t&&a&&a.length?r.a.createElement("div",{style:{background:"#fff",border:"1px solid #ccc",padding:"0px 15px"}},r.a.createElement("p",{style:{marginBottom:2}},"".concat(n)),r.a.createElement("p",{style:{fontWeight:"bold"}},Di(parseFloat(a[0].value)))):null};function ic(e){var t=Object(n.useState)(1),a=Object(Z.a)(t,2),o=(a[0],a[1]),i=Object(ai.a)();if(!e.data)return null;return r.a.createElement(Kl.f,null,r.a.createElement(Kl.b,{width:350,height:200,data:e.data,margin:{top:20,right:30,left:20,bottom:40}},r.a.createElement(Kl.h,{dataKey:e.dimension}),r.a.createElement(Kl.i,{allowDecimals:!1}),r.a.createElement(Kl.g,{content:r.a.createElement(oc,null)}),r.a.createElement(Kl.a,{dataKey:e.measure,onClick:function(e,t){o(t);var a={phase_id:t+1};i("/projects?filter=".concat(encodeURI(JSON.stringify(a)),"&page=1&per_page=10&sort_field=id&sort_order=ASC"))}},e.data.map((function(e,t){return r.a.createElement(Kl.d,{key:"cell-".concat(t),fill:qa[t+1]})})))))}var lc=a(1870),cc=(a(996),Object(ae.a)((function(e){return{root:{height:"100%"},avatar:{height:56,width:56},differenceIcon:{color:dn.a.red[900]},differenceValue:{color:dn.a.red[900],marginRight:e.spacing(1)}}})),function(e){var t=e.active,a=e.payload,n=e.label;return t&&a&&a.length?r.a.createElement("div",{style:{background:"#fff",border:"1px solid #ccc",padding:"0px 15px"}},r.a.createElement("p",{style:{marginBottom:2}},"".concat(n)),r.a.createElement("p",{style:{fontWeight:"bold"}},Di(parseFloat(a[0].value)))):null});function sc(e){var t=Object(n.useState)(),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(ai.a)();if(!e.data)return null;function c(){return function(e,t,a,n,r){var o=e.filter((function(e){return!t||!x.a.isEmpty(e.costs)})).filter((function(e){return!x.a.isEmpty(e[n])})).filter((function(e){return!!a||!x.a.isEmpty(e[n].parent)}));t&&(o=o.map((function(e){var t=0;return x.a.keys(e.costs).forEach((function(a){t+=parseFloat(e.costs[a])})),e.cost=t,e}))),a&&(o=o.filter((function(e){return!(!e[n]||!e[n].parent)&&e[n].parent.id===a})));var i=x.a.groupBy(o,(function(e){return a?e[n].name:e[n].parent&&e[n].parent.name}));return x.a.keys(i).map((function(e){var t;return t={},Object(N.a)(t,n,e),Object(N.a)(t,"name",e),Object(N.a)(t,"count",i[e].length),Object(N.a)(t,"cost",x.a.sumBy(i[e],(function(e){return Number(e.cost)}))),Object(N.a)(t,"id",x.a.find(r,(function(t){return t.name===e}))&&x.a.find(r,(function(t){return t.name===e})).id),t}))}(e.data,!0,o,e.dimension,e.items)}return r.a.createElement(Kl.f,null,r.a.createElement(Kl.b,{width:350,height:200,data:c(),margin:{top:20,right:30,left:40,bottom:40}},r.a.createElement(Kl.h,{dataKey:"name"}),r.a.createElement(Kl.i,{allowDecimals:!1,tickFormatter:function(t){return"cost"===e.measure?Di(parseFloat(t)):t}}),r.a.createElement(Kl.g,{content:r.a.createElement(cc,null)}),r.a.createElement(Kl.a,{dataKey:e.measure,onClick:function(t,a){if(o){i(null);var n=Object(N.a)({},e.field,t.id);e.onGoingProjects&&(n.project_status="ONGOING"),l("/projects?filter=".concat(encodeURI(JSON.stringify(n)),"&page=1&per_page=10&sort_field=id&sort_order=ASC"))}else i(t.id)}},c().map((function(e,t){return r.a.createElement(Kl.d,{key:"cell-".concat(t),fill:qa[2]})})))))}function uc(e){var t=Object(ai.a)();if(!e.data)return null;function a(){return function(e,t,a,n){var r=e.filter((function(e){var a;return!t||!x.a.isEmpty(null===e||void 0===e||null===(a=e.current_project_detail)||void 0===a?void 0:a.investment_stats)}));t&&(r=r.map((function(e){return e.cost=e.current_project_detail.investment_stats.total_cost,e})));var o=x.a.groupBy(r,(function(e){return a&&e[n]?e[n].id:e[n].parent&&e[n].parent.id}));return x.a.keys(o).map((function(e){var t;return t={},Object(N.a)(t,n,e),Object(N.a)(t,"count",o[e].length),Object(N.a)(t,"cost",x.a.sumBy(o[e],(function(e){return Number(e.cost)}))),t}))}(e.data,!0,1,e.dimension).map((function(t){return t.name=function(t){var a=x.a.find(e.items,(function(e){return Number(e.id)===Number(t)}));return a?a.name:t}(t[e.dimension]),t}))}return r.a.createElement(Kl.f,null,r.a.createElement(Kl.b,{width:350,height:200,data:a(),margin:{top:20,right:30,left:100,bottom:140}},r.a.createElement(Kl.h,{dataKey:"name",angle:-45,textAnchor:"end",interval:0,tickFormatter:function(e){return e&&e.slice(0,25)+"..."}}),r.a.createElement(Kl.i,{allowDecimals:!1,tickFormatter:function(t){return"cost"===e.measure?Di(parseFloat(t)):t}}),r.a.createElement(Kl.g,{content:r.a.createElement(oc,null)}),r.a.createElement(Kl.a,{dataKey:e.measure,onClick:function(a,n){var r=Object(N.a)({},e.field,a[e.dimension]);e.onGoingProjects&&(r.project_status="ONGOING"),t("/projects?filter=".concat(encodeURI(JSON.stringify(r)),"&page=1&per_page=10&sort_field=id&sort_order=ASC"))}},a().map((function(e,t){return r.a.createElement(Kl.d,{key:"cell-".concat(t),fill:qa[2]})})))))}var dc=a(574),mc=a.n(dc),pc=a(379),fc=["basePath","label","record","icon","id","link"],_c=function(e){return e.stopPropagation()},gc=function(e){var t=e.basePath,a=void 0===t?"":t,n=e.label,o=void 0===n?"ra.action.show":n,i=e.record,l=void 0===i?{}:i,c=e.icon,s=void 0===c?r.a.createElement(mc.a,null):c,u=(e.id,e.link),d=Object(T.a)(e,fc),m=function(e,t){var a=x.a.maxBy(e,(function(e){return e.phase_id})),n=t.current_role.role.phase_ids;return a&&n.includes(a.phase_id)?a.phase_id:x.a.maxBy(e,(function(e){return Number(e)}))}(l,Object(ee.f)((function(e){return e.user.userInfo})));return(!m||m<=0)&&(m=l.phase_id),r.a.createElement(Xn.a,Object.assign({component:me.a,to:u||Object(pc.a)(a,l.id)+"/show/"+l.phase_id,label:o,onClick:_c},d),s)};function hc(e){if(!e.data)return null;var t=x.a.sumBy(e.data,(function(e){return parseFloat(e.total_count)}));return r.a.createElement("div",null,e.data.map((function(e,a){var n=100*e.total_count/t;return r.a.createElement("div",{style:{backgroundColor:qa[a+1],padding:25,marginBottom:15,border:"1px solid #c8ced3",borderRadius:5,color:"#FFF"}},r.a.createElement(se.a,{variant:"h3",style:{marginBottom:5,color:"#fff",fontWeight:"bold"}},e.total_count),r.a.createElement(se.a,{style:{marginBottom:10,color:"#fff"},variant:"h5"},e.phase_name),r.a.createElement(Fo.a,{variant:"determinate",value:n,color:"secondary"}))})))}var vc=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{textAlign:"left",fontSize:"15px",fontWeight:"bold",paddingLeft:"30px",margin:"10px auto"}}}));var bc=function(e){var t=e.loading,a=e.loaded;return 0===e.total&&!t&&a?n.createElement(di.a,{textAlign:"center",m:3},n.createElement(se.a,{variant:"h5",paragraph:!0},"No projects are awaiting your action")):n.createElement(ti.a,e)};var Ec=function(e){var t=n.useState([]),a=Object(Z.a)(t,2),r=a[0],o=a[1],i=n.useState([]),l=Object(Z.a)(i,2),c=l[0],s=l[1],u=Object(pe.a)(),d=vc(),m=Object(Ca.a)(),p=Object(ee.f)((function(e){return e.user.userInfo}));return n.useEffect((function(){m.custom("reports",{type:"projects-count",method:"GET"}).then((function(e){e&&o(e.data)})),m.getListOfAll("organizations",{filter:{is_hidden:!1}}).then((function(e){e&&s(e.data)}))}),[]),n.createElement(ui.a,{container:!0,spacing:3},n.createElement(ui.a,{item:!0,xs:Y("has_barchart_dashboard")?6:8},n.createElement(se.a,{className:d.title},"Projects waiting for your action"),n.createElement(ri.a,Object.assign({},e,{basePath:"/projects",resource:"projects",bulkActionButtons:!1,actions:!1,filter:{action:"PENDING",is_deleted:!1},perPage:Y("has_pimis_fields")?5:20,pagination:n.createElement(bc,null)}),n.createElement(Nl.a,null,n.createElement(Al.a,{source:"code"}),n.createElement(Al.a,{source:"name"}),n.createElement(Dl.a,{source:"created_on",label:u("resources.projects.fields.created_at"),render:function(e){return e?Er(e.created_on):null}}),n.createElement(Dl.a,{source:"status",label:u("resources.projects.fields.status"),render:function(e){return e?u("timeline.".concat(e.project_status.toLowerCase())):null}}),n.createElement(gc,null)))),Y("has_barchart_dashboard")?n.createElement(ui.a,{item:!0,xs:6},n.createElement(se.a,{className:d.title},"Projects by Phases"),n.createElement(In.a,{style:{width:"100%",height:"360px"}},n.createElement(ic,{data:r,organizations:c,dimension:"phase_name",measure:"total_count"}))):n.createElement(ui.a,{item:!0,xs:4},n.createElement(se.a,{className:d.title},"Projects by Phases"),n.createElement(hc,{data:r,organizations:c,dimension:"phase_name",measure:"total_count"})),p&&p.current_role&&7!==Number(p.current_role.role_id)&&n.createElement(n.Fragment,null))},jc=a(1023),yc=a.n(jc),Oc=a(722),wc=a.n(Oc),xc=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{textAlign:"left",fontSize:"15px",fontWeight:"bold",paddingLeft:"30px",margin:"10px auto"}}})),kc=function(e){var t=e.loading,a=e.loaded;return 0===e.total&&!t&&a?n.createElement(di.a,{textAlign:"center",m:3},n.createElement(se.a,{variant:"h5",paragraph:!0},"No projects are in this status")):n.createElement(ti.a,e)};var Sc=function(e){var t=n.useState([]),a=Object(Z.a)(t,2),r=a[0],o=a[1],i=Object(pe.a)(),l=Object(Ca.a)();return xc(),n.useEffect((function(){l.getListOfAll("funds",{}).then((function(e){o(e.data)}))}),[]),n.createElement(ui.a,{container:!0,spacing:3},n.createElement(nr,{reportId:"report-container",title:"Donors Projects",exportTypes:[Ha.WORD,Ha.PDF,Ha.XLS]}),n.createElement(ui.a,{item:!0,xs:12,id:"report-container"},n.createElement(se.a,{variant:"h4",style:{marginBottom:20}},i("resources.".concat(e.location&&e.location.pathname.slice(1,e.location&&e.location.pathname.length),".name"))),n.createElement(ri.a,Object.assign({},e,{basePath:"/projects",resource:"projects",bulkActionButtons:!1,actions:!1,pagination:n.createElement(kc,null),filters:!1,perPage:20,filter:{is_donor_funded:!0},sort:{field:"id",order:"DESC"}}),n.createElement(Nl.a,{rowClick:"show"},n.createElement(Al.a,{source:"code"}),n.createElement(Al.a,{source:"name"}),n.createElement(Dl.a,{source:"created_on",label:i("resources.projects.fields.created_at"),render:function(e){return e?Er(e.created_on):null}}),n.createElement(Dl.a,{source:"status",label:i("resources.projects.fields.status"),render:function(e){return e?i("timeline.".concat(e.project_status.toLowerCase())):null}}),n.createElement(Dl.a,{source:"status",label:i("resources.projects.fields.phase_id"),render:function(e){return e?e.phase&&e.phase.name:null}}),n.createElement(Dl.a,{source:"status",label:"Donors",render:function(e){return e&&e.fund_ids&&e.fund_ids.split(",").map((function(e){return n.createElement("p",{style:{margin:1}},function(e){var t=x.a.find(r,(function(t){return Number(t.id)===Number(e)}));return t?"".concat(t.code," - ").concat(t.name):"-"}(e))}))}})))))},Pc=a(997),Cc=a(978),Nc=function(e,t){var a=x.a.cloneDeep(e).map((function(e){var t={};return t.code=e.code,t.name=e.name,t.phase=e.phase.name,t.submission_date=Er(e.submission_date),t.status=Ua[e.project_status],t.workflow=e.workflow?e.workflow.status_msg:"-",t.user=e.user&&e.user.full_name,t})),n=Object(Pc.unparse)({data:a,fields:["code","name","submission_date","user","status","phase","workflow"]});Object(Cc.a)(n,"projects")};function Ac(e){var t=e.record,a=Object(pe.a)(),n=L();if(Y("has_pimis_fields")&&t&&t.workflow)return r.a.createElement(r.a.Fragment,null,t.workflow.status_msg);if(t&&t.workflow){var o="COMPLETED"===t.project_status?a("messages.project_is_completed"):t.workflow.status_msg;return t.workflow.is_ipr?n("view_ipr_actions")?r.a.createElement(r.a.Fragment,null,o):r.a.createElement(r.a.Fragment,null,a("timeline.not_pap_status")):r.a.createElement(r.a.Fragment,null,o)}return null}var Dc=["record"],Tc=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{fontWeight:"bold",margin:"10px 10px 20px 10px"},subtitle:{margin:"10px auto"},buttonsContainer:{width:"155px",display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"10px 25px",float:"right"},buttons:{width:"100px",fontSize:"16px",display:"flex",justifyContent:"space-around"},titleColumn:{width:"25%"},select:{margin:"0px 15px 15px 0px"}}}));var Fc=function(e){e.record,Object(T.a)(e,Dc);var t=Object(pe.a)(),a=Object(n.useState)([]),o=Object(Z.a)(a,2),i=o[0],l=o[1],c=Object(Ca.a)(),s=Tc();Object(n.useEffect)((function(){c.getListOfAllProjects("reports/projects-min-report",{sort_field:"id",filter:{phase_id:5}}).then((function(e){if(e&&e.data){var t=e.data.filter((function(e){return S()(e.end_date).isAfter(S()().startOf("year"))}));l(t)}}))}),[]);var u=Ei(S()(),S()().add(4,"years"));return r.a.createElement(r.a.Fragment,null,r.a.createElement(nr,{reportId:"report-container",title:"Fiscal Load",exportTypes:[Ha.WORD,Ha.PDF,Ha.XLS]}),r.a.createElement(In.a,{id:"report-container",style:{overflow:"auto"}},r.a.createElement(oi.a,null,r.a.createElement(ii.a,null,r.a.createElement(li.a,{className:s.filledRow},r.a.createElement(ci.a,{width:"120px"},"Project ID"),r.a.createElement(ci.a,{align:"center"},t("printForm.reports.vote_id")),r.a.createElement(ci.a,{className:s.titleColumn},t("printForm.reports.title")),r.a.createElement(ci.a,{align:"center"},t("printForm.reports.status")),r.a.createElement(ci.a,{align:"center"},t("printForm.reports.total_cost")),u&&u.map((function(e){return r.a.createElement(ci.a,{align:"center"},e.name)})))),r.a.createElement(si.a,null,i.map((function(e){var t,a,n,o,i;return e.totalRow=0,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e.code),r.a.createElement(ci.a,{align:"center"},e.phase&&(null===(t=e.project_organization)||void 0===t?void 0:t.parent)&&"".concat(null===(a=e.project_organization)||void 0===a||null===(n=a.parent)||void 0===n?void 0:n.code," - ").concat(null===(o=e.project_organization)||void 0===o||null===(i=o.parent)||void 0===i?void 0:i.name)),r.a.createElement(ci.a,null,e.name),r.a.createElement(ci.a,{align:"center"},e.workflow&&r.a.createElement(Ac,{record:e})),r.a.createElement(ci.a,{align:"center"},vr(e.total_costs)),u&&e&&e.costs&&u.map((function(t){var a=S()(t.id).format("YYYY");return e.costs[a]&&(e.totalRow+=Number(e.costs[a])),r.a.createElement(ci.a,{align:"center"},vr(e.costs[a]))})))}))))))},Rc=a(358),Ic=a.n(Rc),Mc=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{textAlign:"left",fontSize:"15px",fontWeight:"bold",paddingLeft:"30px",margin:"10px auto"},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"},table:{minWidth:700},titleRow:{cursor:"pointer","&:hover":{backgroundColor:"#f3f6f8"}},backButton:{marginBottom:20,position:"absolute",right:0,top:0,cursor:"pointer",display:"flex",alignItems:"center"}}}));var Wc=function(e){var t=n.useState([]),a=Object(Z.a)(t,2),r=a[0],o=a[1],i=n.useState(null),l=Object(Z.a)(i,2),c=l[0],s=l[1],u=n.useState([]),d=Object(Z.a)(u,2),m=d[0],p=d[1],f=n.useState([]),_=Object(Z.a)(f,2),g=(_[0],_[1],n.useState([])),h=Object(Z.a)(g,2),v=(h[0],h[1]),b=Object(pe.a)(),E=Mc(),j=Object(Ca.a)(),y=Object(ee.f)((function(e){return e.app.appConfig}));n.useEffect((function(){j.getListOfAll("organizations",{}).then((function(e){e&&e.data&&v(x.a.sortBy(e.data,"name"))})),j.getListOfAll("phases",{sort_field:"sequence"}).then((function(e){e&&e.data&&o(e.data)})),j.custom("reports",{type:"pivot",method:"GET"}).then((function(e){e&&e.data&&p(e.data.filter((function(e){return e.function})))}))}),[]);var O=$l(m),w=x.a.groupBy(m,(function(e){return e.phase&&e.phase.id})),k=0,S=0,P=function(e){return function(){s(e)}};function C(){return c?x.a.groupBy(O[c],(function(e){return e&&e.function&&e.function.name})):O}function N(){return c?x.a.groupBy(O[c],(function(e){return e.phase&&e.phase.id})):w}return n.createElement(ui.a,{container:!0,spacing:3},n.createElement(nr,{reportId:"report-container",title:"Projects by Functions",exportTypes:[Ha.WORD,Ha.PDF,Ha.XLS]}),n.createElement(ui.a,{item:!0,xs:12,id:"report-container"},n.createElement("div",{style:{position:"relative"}},n.createElement(se.a,{variant:"h4",style:{marginBottom:20}},b("resources.".concat(e.location.pathname.slice(1,e.location.pathname.length),".name"))),c&&n.createElement(se.a,{variant:"h5",className:E.backButton,onClick:function(){return s(null)}},n.createElement(Ic.a,null),"back")),n.createElement(In.a,null,n.createElement("div",{className:"landscapeSection"},n.createElement(Fi.a,null,n.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",E.bordered,E.table),style:{width:"100%"}},n.createElement(ii.a,null,n.createElement(li.a,{className:E.filledRow},n.createElement(ci.a,null,y.functions_config[1].name,"Name"),r.map((function(e){return n.createElement(ci.a,{colspan:"2"},e.name)})),n.createElement(ci.a,{colspan:"2"},"Total")),n.createElement(li.a,null,n.createElement(ci.a,null),r.map((function(e){return[n.createElement(ci.a,null,"Count"),n.createElement(ci.a,null,"Cost (",b("titles.currency"),")")]})),n.createElement(ci.a,null,"Count"),n.createElement(ci.a,null,"Cost (",b("titles.currency"),")"))),n.createElement(si.a,null,!c&&x.a.keys(O).map((function(e){var t=x.a.groupBy(O[e],(function(e){return e.phase&&e.phase.id})),a=0,o=0;return n.createElement(li.a,{className:E.titleRow,onClick:P(e)},n.createElement(ci.a,null,e),r.map((function(e){var r=t[e.sequence]&&t[e.sequence].filter((function(e){return!x.a.isEmpty(e.costs)})).map((function(e){return{totalCost:Hl(e.costs)}}));return a+=t[e.sequence]?t[e.sequence].length:0,o+=x.a.sumBy(r,"totalCost"),[n.createElement(ci.a,null,t[e.sequence]?t[e.sequence].length:0),n.createElement(ci.a,null,Ni(x.a.sumBy(r,"totalCost")))]})),n.createElement(ci.a,{variant:"head"},a),n.createElement(ci.a,{variant:"head"},Ni(o)))})),c&&x.a.keys(C()).map((function(e){var t=x.a.groupBy(C()[e],(function(e){return e.phase&&e.phase.id})),a=0,o=0;return n.createElement(li.a,{className:E.titleRow,onClick:function(){return s(null)}},n.createElement(ci.a,null,e),r.map((function(e){var r=t[e.sequence]&&t[e.sequence].filter((function(e){return!x.a.isEmpty(e.costs)})).map((function(e){return{totalCost:Hl(e.costs)}}));return a+=t[e.sequence]?t[e.sequence].length:0,o+=x.a.sumBy(r,"totalCost"),[n.createElement(ci.a,null,t[e.sequence]?t[e.sequence].length:0),n.createElement(ci.a,null,Ni(x.a.sumBy(r,"totalCost")))]})),n.createElement(ci.a,{variant:"head"},a),n.createElement(ci.a,{variant:"head"},Ni(o)))})),n.createElement(li.a,null,n.createElement(ci.a,{variant:"head"},"Total (",b("titles.currency"),")"),!c&&r.map((function(e){var t=w[e.sequence]&&w[e.sequence].filter((function(e){return!x.a.isEmpty(e.costs)})).map((function(e){return{totalCost:Hl(e.costs)}}));return k+=w[e.sequence]?w[e.sequence].length:0,S+=x.a.sumBy(t,"totalCost"),[n.createElement(ci.a,{variant:"head"},w[e.sequence]?w[e.sequence].length:0),n.createElement(ci.a,{variant:"head"},Ni(x.a.sumBy(t,"totalCost")))]})),c&&r.map((function(e){var t=N()[e.sequence]&&N()[e.sequence].filter((function(e){return!x.a.isEmpty(e.costs)})).map((function(e){return{totalCost:Hl(e.costs)}}));return k+=N()[e.sequence]?N()[e.sequence].length:0,S+=x.a.sumBy(t,"totalCost"),[n.createElement(ci.a,{variant:"head"},N()[e.sequence]?N()[e.sequence].length:0),n.createElement(ci.a,{variant:"head"},Ni(x.a.sumBy(t,"totalCost")))]})),n.createElement(ci.a,{variant:"head"},k),n.createElement(ci.a,{variant:"head"},Ni(S))))))))))},Lc=a(359),Yc=Lc.Gantt.getGanttInstance();var Bc=function(e){var t=Object(n.useState)(null),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(de.g)(),c=Object(pe.a)();return Object(n.useEffect)((function(){var t=S()(e.record.start_date),a=S()(e.record.end_date).diff(t,"years")+1;if(e&&e.record){var n,r,o,l,c,s,u,d,m,p,f,_={id:e.record.project_id,name:(null===(n=e.record)||void 0===n||null===(r=n.project)||void 0===r?void 0:r.name)||"Project",project:{id:e.record.project_id,text:(null===(o=e.record)||void 0===o||null===(l=o.project)||void 0===l?void 0:l.name)||"Project",parent:null,start_date:S()(e.record.start_date).format("YYYY"),duration:0===a?1:a,open:!0,type:Yc.config.types.task},components:null===(c=e.record)||void 0===c||null===(s=c.components)||void 0===s?void 0:s.map((function(t){var a={hideResources:!0};return a.text=t.name,a.parent=e.record.project_id,a.id=1e4+t.id,a.total_cost=0,a.owner=[],a.open=!0,a.type=Yc.config.types.project,a.subcomponents=t.subcomponents,a})),subcomponents:w.concat.apply(void 0,Object(D.a)(null===(u=e.record)||void 0===u||null===(d=u.components)||void 0===d?void 0:d.map((function(e){var t;return(null===e||void 0===e||null===(t=e.subcomponents)||void 0===t?void 0:t.map((function(t){var a={hideResources:!0};return a.text=t.name,a.parent=1e4+e.id,a.id=1e4+t.id,a.type=Yc.config.types.project,a})))||[]})))),outputs:null===(m=e.record.outputs)||void 0===m?void 0:m.map((function(t){var a,n,r=0,o=(a=e.record,n=t.id,a.activities.filter((function(e){return e.output_ids.includes(n)})));o&&o.forEach((function(e){x.a.sumBy(e.investments,(function(e){return x.a.keys(e.costs).forEach((function(t){r+=Number(e.costs[t])}))}))}));var i={};return i.text=t.name,i.open=!0,i.id=1e3+t.id,i.totalCost=r,i.parent=1e4+t.subcomponent_id,i.parent=t.subcomponent_id?1e4+t.subcomponent_id:1e4+t.component_id,i.type=Yc.config.types.project,i})),activities:null===(p=e.record)||void 0===p||null===(f=p.activities)||void 0===f?void 0:f.map((function(t){var a,n,r=0;x.a.sumBy(t.investments,(function(e){return x.a.keys(e.costs).forEach((function(t){r+=Number(e.costs[t])}))}));var o=Object(w.find)(null===(a=e.project)||void 0===a||null===(n=a.current_project_detail)||void 0===n?void 0:n.outputs,(function(e){return Number(e.id)===Number(t.output_ids[0])})),i=S()(t.start_date),l=S()(t.end_date).diff(i,"years"),c={};return c.has_subcomponent=Boolean(null===o||void 0===o?void 0:o.subcomponent_id),c.text=t.name,c.parent=1e3+t.output_ids[0],c.start_date=S()(t.start_date).format("YYYY"),c.duration=0===l?1:l+1,c.totalCost=r,c.type=Yc.config.types.task,c}))};_.project.totalCost=x.a.sumBy(_.outputs,"totalCost"),i(_)}}),[e]),Object(n.useEffect)((function(){var t;o&&(null===(t=o.activities)||void 0===t?void 0:t.length)>0&&(Yc.clearAll(),Yc.parse({data:[o.project].concat(Object(D.a)(o.components),Object(D.a)(o.subcomponents),Object(D.a)(o.outputs),Object(D.a)(o.activities))}),Yc.refreshData(),Yc.templates.task_row_class=function(t,a,n){return n.id===e.record.project_id?"highlighted_row":""},Yc.templates.grid_row_class=function(t,a,n){return n.id===e.record.project_id?"highlighted_row":""})}),[o]),Object(n.useEffect)((function(){Yc.config.columns=[{name:"text",label:Y("has_pimis_fields")?"Project / Component / SubComponent / Output/Activity":"Project / Outputs / Activities",tree:!0,width:500,resize:!0}];var e={columns:[{align:"center",fontWeight:"bold",name:"total_cost",width:100,label:"Total Cost (".concat(c("titles.currency"),")"),template:function(e){return Di(e.totalCost)}}]};Yc.config.layout={css:"gantt_container",rows:[{cols:[{view:"grid",width:320,scrollY:"scrollVer"},{resizer:!0,width:1},{view:"timeline",scrollX:"scrollHor",scrollY:"scrollVer"},{resizer:!0,width:1},{view:"grid",width:140,bind:"task",scrollY:"scrollVer",config:e},{view:"scrollbar",id:"scrollVer"}]},{view:"scrollbar",id:"scrollHor",height:20}]},Yc.config.scale_unit="year",Yc.config.step=1,Yc.config.date_scale="%Y",Yc.config.min_column_width=33,Yc.config.duration_unit="year",Yc.config.duration_step=1,Yc.config.scale_height=70,Yc.config.readonly=!0,Yc.config.round_dnd_dates=!1,Yc.config.date_format="%Y",Yc.templates.task_text=function(){return""}}),[]),Object(n.useEffect)((function(){return localStorage.getItem("ganttChartInit")&&"project"!==localStorage.getItem("ganttChartInit")&&(localStorage.removeItem("ganttChartInit"),l.go(0)),Yc.init("gantt_here"),localStorage.setItem("ganttChartInit","project"),function(){localStorage.setItem("ganttChartInit","project")}}),[]),localStorage.getItem("ganttChartInit")&&"project"!==localStorage.getItem("ganttChartInit")?null:r.a.createElement("div",{className:"landscapeSection gantt_container"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(e.counter),". Gantt Chart"),r.a.createElement("div",{style:{width:"100%",height:"550px"}},r.a.createElement("div",{id:"gantt_here",style:{width:"100%",height:"100%"}}))))},zc=a(1035),qc=a.n(zc),Uc=a(2007),Vc=["ids","data","basePath","translate"],Gc=function(e){var t=e.ids,a=e.data,n=(e.basePath,e.translate),o=Object(T.a)(e,Vc),i=function(e){var t=S()(e);return S()().diff(t,"days")},l=x.a.sortBy(t.map((function(e){return a[e]})).filter((function(e){return e&&e.current_step>1})),(function(e){return e.timeline&&i(e.timeline.created_at)})).reverse();if(o.grouppedBySector){var c=x.a.groupBy(l,(function(e){return e&&e.project_organization&&e.project_organization.parent&&e.project_organization.parent.name}));return r.a.createElement("div",{style:{margin:"1em"}},r.a.createElement("table",{style:{width:"100%"},cellSpacing:0,className:"bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"15%"}},n("resources.projects.fields.project_no")),r.a.createElement("th",{style:{width:"30%"}},n("resources.projects.fields.title")),r.a.createElement("th",{style:{width:"30%"}},n("resources.projects.fields.vote_id")),r.a.createElement("th",{style:{width:"20%"}},n("resources.projects.fields.status")),r.a.createElement("th",{style:{width:"15%"}},"Time waiting for Decision as at ".concat(S()().format("Do MMMM YYYY")," ")),r.a.createElement("th",{style:{width:"15%"}},n("resources.projects.fields.created_at")))),r.a.createElement("tbody",null,x.a.keys(c).map((function(e){return[r.a.createElement("tr",null,r.a.createElement("td",{colSpan:6,style:{textAlign:"center",fontWeight:"bold",textTransform:"uppercase"}},e)),c[e].map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",{style:{width:"150px"}},e.code),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.project_organization&&e.project_organization.name),r.a.createElement("td",null,e.workflow&&r.a.createElement(Ac,{record:e})),r.a.createElement("td",null,e.current_timeline&&"".concat(i(e.current_timeline.created_on)," days")),r.a.createElement("td",null,e.current_timeline&&Er(e.current_timeline.created_on,!1)))}))]})))))}return r.a.createElement("div",{style:{margin:"1em"},id:"report-container"},r.a.createElement("table",{style:{width:"100%"},cellSpacing:0,className:"bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"10%"}},n("resources.projects.fields.project_no")),r.a.createElement("th",{style:{width:"10%"}},n("resources.projects.fields.sector_id")),r.a.createElement("th",{style:{width:"20%"}},n("resources.projects.fields.title")),r.a.createElement("th",{style:{width:"20%"}},n("resources.projects.fields.vote_id")),r.a.createElement("th",{style:{width:"20%"}},n("resources.projects.fields.phase_id")),r.a.createElement("th",{style:{width:"10%"}},n("resources.projects.fields.status")),r.a.createElement("th",{style:{width:"10%"}},n("resources.projects.fields.created_at")))),r.a.createElement("tbody",null,l.map((function(e){return[r.a.createElement("tr",null,r.a.createElement("td",{style:{width:"150px"}},e.project_no),r.a.createElement("td",null,e.department&&e.department.sector&&e.department.sector.name),r.a.createElement("td",null,e.title),r.a.createElement("td",null,e.department&&e.department.vote&&e.department.vote.name),r.a.createElement("td",null,e.phase),r.a.createElement("td",null,e.workflow&&e.workflow.status),r.a.createElement("td",null,e.timeline&&Er(e.timeline.created_at,!1)))]})))))};Gc.defaultProps={data:{},ids:[]};Object(Uc.a)(Gc);var Hc=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{textAlign:"left",fontSize:"15px",fontWeight:"bold",paddingLeft:"30px",margin:"10px auto"}}}));var Jc=function(e){var t=n.useState([]),a=Object(Z.a)(t,2),r=a[0],o=a[1],i=n.useState([]),l=Object(Z.a)(i,2),c=(l[0],l[1],n.useState([])),s=Object(Z.a)(c,2),u=(s[0],s[1],Object(pe.a)()),d=(Hc(),Object(Ca.a)());Object(n.useEffect)((function(){d.getListOfAllProjects("reports/projects-min-report",{sort_field:"id"}).then((function(e){if(e&&e.data){var t=x.a.sortBy(e.data.filter((function(e){return e&&e.current_step>1})),(function(e){return e.current_timeline&&m(e.current_timeline.created_on)})).reverse(),a=x.a.groupBy(t,(function(e){return e&&e.project_organization&&e.project_organization.parent&&e.project_organization.parent.name}));o(a)}}))}),[]);var m=function(e){var t=S()(e);return S()().diff(t,"days")};return n.createElement(ui.a,{container:!0,spacing:3},n.createElement(nr,{reportId:"report-container",title:"IBP User Action Tracking Report",exportTypes:[Ha.WORD,Ha.PDF,Ha.XLS]}),n.createElement(ui.a,{item:!0,xs:12,id:"report-container"},n.createElement(se.a,{variant:"h4",style:{marginBottom:20}},u("resources.".concat(e.location.pathname.slice(1,e.location.pathname.length),".name"))),n.createElement(In.a,null,n.createElement("div",{style:{margin:"1em"}},n.createElement("table",{style:{width:"100%"},cellSpacing:0,className:"bordered"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",{style:{width:"15%"}},u("resources.projects.fields.project_no")),n.createElement("th",{style:{width:"30%"}},u("resources.projects.fields.title")),n.createElement("th",{style:{width:"30%"}},u("resources.projects.fields.vote_id")),n.createElement("th",{style:{width:"20%"}},u("resources.projects.fields.status")),n.createElement("th",{style:{width:"20%"}},u("resources.projects.fields.total_costs")),n.createElement("th",{style:{width:"15%"}},"Time waiting for Decision as at ".concat(S()().format("Do MMMM YYYY")," ")),n.createElement("th",{style:{width:"15%"}},u("resources.projects.fields.created_at")))),n.createElement("tbody",null,x.a.keys(r).map((function(e){return[n.createElement("tr",null,n.createElement("td",{colSpan:7,style:{textAlign:"center",fontWeight:"bold",textTransform:"uppercase"}},e)),r[e].map((function(e){return n.createElement("tr",null,n.createElement("td",{style:{width:"150px"}},e.code),n.createElement("td",null,e.name),n.createElement("td",null,e.project_organization&&e.project_organization.name),n.createElement("td",null,e.workflow&&n.createElement(Ac,{record:e})),n.createElement("td",null,e.total_costs&&Ni(e.total_costs)),n.createElement("td",null,e.current_timeline&&"".concat(m(e.current_timeline.created_on)," days")),n.createElement("td",null,e.current_timeline&&Er(e.current_timeline.created_on,!1)))}))]}))))))))},Xc=a(1027),$c=a.n(Xc),Kc=a(1029),Qc=a.n(Kc),Zc=a(577),es=a(2069),ts=a(2082),as=a(2073),ns=a(2008),rs=a(530),os=a(2009),is=a(731),ls=Object(ae.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},tabContainer:{display:"flex",flexDirection:"column"},form:{"& .MuiCardContent-root":{padding:0}},inputWrapper:{display:"flex",alignItems:"center",width:"90%",minWidth:"250px",position:"relative"},inputWrapperFullWidth:{width:"100%"},content:{width:"100%"},contentBoolean:{width:"initial"},contentDisabled:{pointerEvents:"none","& .ra-rich-text-input":{pointerEvents:"none"}},icon:{marginLeft:e.spacing(2),marginBottom:e.spacing(2)},iconRight:{position:"absolute",top:e.spacing(2),right:0}}})),cs=function(e){var t,a,n=Object(pe.a)(),o=ls(),i=Ie()((t={},Object(N.a)(t,o.icon,!0),Object(N.a)(t,o.iconRight,e.textArea),t)),l=Ie()((a={},Object(N.a)(a,o.content,!0),Object(N.a)(a,o.contentBoolean,e.bool),Object(N.a)(a,o.contentDisabled,e.disabled),a));return r.a.createElement("div",{className:o.inputWrapper,style:e.style},r.a.createElement("div",{className:l},r.a.createElement(is.a,{variant:"outlined",className:o.formControl,fullWidth:e.fullWidth,required:e.required,error:e.error},e.children)),e.tooltipText&&r.a.createElement(ra.a,{title:n(e.tooltipText)||e.tooltipText,placement:"right"},r.a.createElement(la.a,{className:i})))},ss=["details","record"],us=[{id:"Government of Uganda",name:"Government of Uganda"},{id:"Donor",name:"External financing"}],ds=[{id:"Government of Jamaica",name:"Government of Jamaica"},{id:"Donor",name:"Donors"}];function ms(e,t){return e&&e.me_activities?x.a.findIndex(e.me_activities,(function(e){return e.activity_id===t})):x.a.findIndex(e.activities,(function(e){return e.id===t}))}var ps=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}}));var fs=function(e){var t=e.details,a=e.record,o=Object(T.a)(e,ss),i=(Object(F.a)().permissions,Object(pe.a)(),B({name:"me_activities"}),B({name:"activity_status"}),ps());return r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,a&&"ANNUAL"===a.frequency?"Financial Progress reporting for the quarter - ".concat(a.quarter,", ").concat(wi("01-01-"+a.year).name," "):"Financial Progress reporting until ".concat(a.quarter,", ").concat(wi("01-01-"+a.year).name," (cumulative)")),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",i.bordered,i.table)},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:i.filledRow},r.a.createElement(ci.a,null,"Output / Activity"),r.a.createElement(ci.a,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.me-reports.fields.approved_budget"}," ","Initial Budget")),r.a.createElement(ci.a,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.me-reports.fields.revised_budget"}," ","Approved Budget")),r.a.createElement(ci.a,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.me-reports.fields.budget_released"}," ","Budget Released")),r.a.createElement(ci.a,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.me-reports.fields.release_spent"},"Budget Spent")),r.a.createElement(ci.a,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.me-reports.fields.source_of_funds"},"Source of Funds"))),t&&t.outputs&&t.outputs.map((function(e,t){var n=function(e,t){return e&&e.me_activities?e.me_activities.filter((function(e){return e&&e.activity?e.activity.output_ids&&e.activity.output_ids.includes(t):e.output_ids&&e.output_ids.includes(t)})):[]}(a,e.output_id||e.id);return[r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:6,variant:"head"},"Output ",t+1,": ",e.name))].concat(Object(D.a)(n&&n.map((function(e,t){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Activity ",t+1,":"," ",e.name||e.activity&&e.activity.name),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{label:!1,variant:"outlined",margin:"none",source:"me_activities[".concat(ms(a,e.activity_id),"].budget_appropriation"),style:{minWidth:"50px",width:"auto"},format:_r,parse:gr,validate:[Object(rs.h)()]})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{label:!1,variant:"outlined",margin:"none",source:"me_activities[".concat(ms(a,e.activity_id),"].budget_allocation"),style:{minWidth:"50px",width:"auto"},format:_r,parse:gr,validate:[Object(rs.h)()]})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{label:!1,variant:"outlined",margin:"none",source:"me_activities[".concat(ms(a,e.activity_id),"].budget_supplemented"),style:{minWidth:"50px",width:"auto"},format:_r,parse:gr,validate:[Object(rs.h)()]})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{label:!1,variant:"outlined",margin:"none",source:"me_activities[".concat(ms(a,e.activity_id),"].financial_execution"),style:{minWidth:"50px",width:"auto"},format:_r,parse:gr,validate:[Object(rs.h)()]})),r.a.createElement(ci.a,null,r.a.createElement(os.a,{className:o.classes.textInput,source:"me_activities[".concat(ms(a,e.activity_id),"].fund_source"),choices:Y("has_pimis_fields")?ds:us,variant:"outlined",margin:"none",validate:[Object(rs.j)()],label:!1,style:{minWidth:"100px",width:"auto"}})))}))))}))))),r.a.createElement("br",null))},_s=a(20),gs=["record","projectDetails"],hs=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),vs=[{id:"NOT_SATISFACTORY",name:"Not Satisfactory"},{id:"MODERATELY_SATISFACTORY",name:"Moderately Satisfactory"},{id:"SATISFACTORY",name:"Satisfactory"}],bs=function(e){e.record;var t=e.projectDetails,a=Object(T.a)(e,gs),n=hs(),o=Object(pe.a)(),i=Object(_s.f)().values;if(!t)return null;var l=Oi(t.start_date,t.end_date);return r.a.createElement("div",{className:"landscapeSection"},r.a.createElement("div",{className:"content-area"},a.hideTitle?null:r.a.createElement("h2",null,"Table 1: Physical Monitoring"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",n.bordered,n.table),style:{width:"100%"}},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:n.filledRow},r.a.createElement(ci.a,{rowspan:"2"},o("printForm.project_framework.goal")),r.a.createElement(ci.a,{rowspan:"2"},o("printForm.result_matrix.indicator_title")),r.a.createElement(ci.a,{colspan:l.length+1},o("printForm.result_matrix.indicator")),r.a.createElement(ci.a,{rowspan:2},r.a.createElement(cs,{tooltipText:"tooltips.resources.me-reports.fields.target"},"Achieved Target"))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"".concat(o("printForm.result_matrix.baseline")," ").concat(t.baseline&&wi(S()(t.baseline,"YYYY-MM-DD")).name)),l.map((function(e){return r.a.createElement(ci.a,null,r.a.createElement("strong",null,"".concat(o("printForm.result_matrix.target")," ").concat(e.name)))}))),r.a.createElement(li.a,{className:n.filledRow},r.a.createElement(ci.a,{colSpan:l.length+1+2+4},o("printForm.project_framework.output",{smart_count:2}))),t&&t.outputs&&t.outputs.map((function(e,t){return e.indicators&&0!==e.indicators.length?e.indicators.map((function(a,n){return r.a.createElement(li.a,null,0===n?r.a.createElement(ci.a,{rowSpan:e.indicators.length},r.a.createElement("p",null,"".concat(o("printForm.project_framework.output",{smart_count:1})," ").concat(t+1,": ").concat(e.name))):null,r.a.createElement(ci.a,null,"Indicator ".concat(n+1,": ").concat(a.name)),r.a.createElement(ci.a,null,a.baseline),l.map((function(e){return r.a.createElement(ci.a,null,a.targets[Number(e.id)])})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{label:!1,variant:"outlined",margin:"none",source:"me_outputs[".concat(t,"].indicators[").concat(n,"].target"),style:{width:"220px"}})))})):r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:l.length+1+2+5},r.a.createElement("p",null,"".concat(o("printForm.project_framework.output",{smart_count:1})," ").concat(t+1,": ").concat(e.name))))}))))),r.a.createElement("br",null),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",n.bordered,n.table)},r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{variant:"head"},"Output Name"),r.a.createElement(ci.a,{variant:"head"},r.a.createElement(cs,{tooltipText:"tooltips.resources.me-reports.fields.output_progress"},"Output Progress")),r.a.createElement(ci.a,{variant:"head"},r.a.createElement(cs,{tooltipText:"tooltips.resources.me-reports.fields.risk_description"},"Risk Description"," ")),r.a.createElement(ci.a,{variant:"head"},r.a.createElement(cs,{tooltipText:"tooltips.resources.me-reports.fields.risk_response"},"Risk Response"," "))),t&&t.outputs&&t.outputs.map((function(e,t){return[r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{width:"30%"}},e.name),r.a.createElement(ci.a,{style:{width:"10%"}},r.a.createElement(ns.a,{fullWidth:!0,label:!1,variant:"outlined",margin:"none",source:"me_outputs[".concat(t,"].output_progress")}),r.a.createElement(os.a,{choices:vs,label:"resources.me-reports.fields.status",source:"me_outputs[".concat(t,"].output_status"),variant:"outlined",margin:"none",fullWidth:!0})),r.a.createElement(ci.a,{style:{width:"30%"}},r.a.createElement(ns.a,{label:!1,variant:"outlined",margin:"none",source:"me_outputs[".concat(t,"].risk_description"),rows:5,multiline:!0,fullWidth:!0})),r.a.createElement(ci.a,{style:{width:"30%"}},r.a.createElement(ns.a,{label:!1,variant:"outlined",margin:"none",source:"me_outputs[".concat(t,"].risk_response"),multiline:!0,rows:5,fullWidth:!0}))),i&&i.me_outputs&&i.me_outputs[t]&&"NOT_SATISFACTORY"===i.me_outputs[t].output_status?r.a.createElement(li.a,null,r.a.createElement(ci.a,null),r.a.createElement(ci.a,{colSpan:3},r.a.createElement(cs,{tooltipText:"tooltips.resources.me-reports.fields.challenges_measures"},r.a.createElement(ns.a,{label:"Challenges and Measures",variant:"outlined",margin:"none",source:"me_outputs[".concat(t,"].challenges"),rows:5,multiline:!0,fullWidth:!0})))):null]})))))))};var Es=function(e){return r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,function(){var t=e.record;return t&&"ANNUAL"===t.frequency?"Physical Progress reporting for the quarter - ".concat(t.quarter,", ").concat(wi("01-01-"+t.year).name," "):"Physical Progress reporting until ".concat(t.quarter,", ").concat(wi("01-01-"+t.year).name," (cumulative)")}()),r.a.createElement(bs,Object.assign({},e,{projectDetails:e.details,hideTitle:!0})))},js=a(2010),ys=a(2011),Os=["getSource","scopedFormData","formData"],ws=[{id:"Q1",name:"Q1"},{id:"Q2",name:"Q2"},{id:"Q3",name:"Q3"},{id:"Q4",name:"Q4"}],xs=[{id:"Monitoring",name:"Monitoring"},{id:"Evaluation",name:"Evaluation"},{id:"Assessment",name:"Assessment"},{id:"Rapid Appraisal",name:"Rapid Appraisal"},{id:"Others",name:"Others"}];var ks=function(e){Object(pe.a)();var t=B({name:"me_releases"}),a=B({name:"year"}),o=B({name:"frequency"}),i=B({name:"me_outputs"}),l=B({name:"me_activities"}),c=Object(ee.f)((function(e){return e.user.userInfo}));return r.a.createElement(js.a,null,(function(s){s.getSource,s.scopedFormData;var u=s.formData;Object(T.a)(s,Os);if(u&&c&&c.organization_id&&(u.organization_id=c.organization_id),u.project_detail_id=e.details.id,u.contract_signed_date=e.projectData&&e.projectData.signed_date,!u.me_releases){t([{release_type:"PLANNED"},{release_type:"ACTUAL"}])}if(u.start_date&&a(S()(u.start_date).format("YYYY")),"undefined"===typeof e.isYearReport||u.frequency||o(e.isYearReport?"ANNUAL":"CUSTOM"),e.isNew){if(e.details.outputs&&(!u.me_outputs||u.me_outputs&&0===u.me_outputs.length)){var d=x.a.cloneDeep(e.details.outputs).map((function(e){return e.output_id=e.id,e.output_progress=0,delete e.id,e}));i(d)}if(e.details.activities&&(!u.me_activities||u.me_activities&&0===u.me_activities.length)){var m=x.a.cloneDeep(e.details.activities).map((function(e){return e.activity_id=e.id,delete e.id,e}));l(m)}}return r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.me-reports.fields.year",bool:!0},r.a.createElement(os.a,{source:"year",variant:"outlined",validate:[Object(rs.j)()],margin:"none",choices:Oi(e.details.start_date,e.details.end_date),className:e.classes.textInput})),r.a.createElement(cs,{tooltipText:"tooltips.resources.me-reports.fields.quarter",bool:!0},r.a.createElement(os.a,{source:"quarter",variant:"outlined",validate:[Object(rs.j)()],margin:"none",choices:ws,className:e.classes.textInput})),r.a.createElement(cs,{tooltipText:"tooltips.resources.me-reports.fields.data_collection_type",fullWidth:!0},r.a.createElement(ns.a,{label:"resources.me-reports.fields.data_collection_type",variant:"outlined",margin:"none",validate:[Object(rs.j)()],source:"data_collection_type"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.me-reports.fields.me_type",fullWidth:!0},r.a.createElement(os.a,{choices:xs,label:"resources.me-reports.fields.me_type",variant:"outlined",margin:"none",source:"me_type",validate:[Object(rs.j)()]})),r.a.createElement(cs,{tooltipText:"tooltips.resources.me-reports.fields.effectiveness_date"},r.a.createElement(ys.a,{source:"effectiveness_date",variant:"outlined",margin:"none"})),e.isYearReport||"ANNUAL"===u.frequency?r.a.createElement(cs,{tooltipText:"tooltips.resources.me-reports.fields.disbursement",fullWidth:!0},r.a.createElement(ns.a,{label:"resources.me-reports.fields.disbursement",variant:"outlined",margin:"none",source:"disbursement",validate:[Object(rs.j)(),Object(rs.h)()]})):null,r.a.createElement(cs,{tooltipText:"tooltips.resources.me-reports.fields.signed_date"},r.a.createElement(ys.a,{source:"contract_signed_date",variant:"outlined",margin:"none"})))}))},Ss=a(2111),Ps=a(2060),Cs=["getSource","scopedFormData","formData"],Ns=["formData","scopedFormData","getSource"],As=[{id:"No issues",name:"No issues"},{id:"Right of way acquisition",name:"Right of way acquisition"},{id:"Delayed procurement",name:"Delayed procurement"},{id:"Delayed payment to contractor",name:"Delayed payment to contractor"},{id:"Delayed issuance of objection by the funder",name:"Delayed issuance of objection by the funder"},{id:"Inadequate counterpart funding",name:"Inadequate counterpart funding"},{id:"Other",name:"Other"}];var Ds=function(e){Object(F.a)().permissions;var t=Object(pe.a)();return r.a.createElement(js.a,null,(function(a){a.getSource,a.scopedFormData,a.formData,Object(T.a)(a,Cs);return r.a.createElement(n.Fragment,null,r.a.createElement("h1",null,"Coordination Issues"),r.a.createElement(Ss.a,{source:"issues",label:!1},r.a.createElement(Ps.a,null,r.a.createElement(js.a,null,(function(a){a.formData;var o=a.scopedFormData,i=a.getSource;Object(T.a)(a,Ns);return r.a.createElement(n.Fragment,null,r.a.createElement(os.a,{className:e.classes.textInput,source:i("issue"),choices:As,variant:"outlined",margin:"none",label:!1,options:{fullWidth:"true"},fullWidth:!0}),o&&"Other"===o.issue&&r.a.createElement(ns.a,{source:i("issues_other"),variant:"outlined",margin:"none"}),o&&"No issues"!==o.issue&&r.a.createElement(r.a.Fragment,null,r.a.createElement(cs,{fullWidth:!0,textArea:!0,tooltipText:"tooltips.resources.me-reports.fields.issue_challenges"},r.a.createElement(ns.a,{label:t("resources.me-reports.fields.challenges"),variant:"outlined",margin:"none",source:i("challenges"),validate:Object(rs.j)(),rows:5,multiline:!0,fullWidth:!0})),r.a.createElement(cs,{fullWidth:!0,textArea:!0,tooltipText:"tooltips.resources.me-reports.fields.issue_recommendations"},r.a.createElement(ns.a,{label:t("resources.me-reports.fields.recommendations"),variant:"outlined",margin:"none",source:i("recommendations"),validate:Object(rs.j)(),rows:5,multiline:!0,fullWidth:!0}))))})))))}))},Ts=["getSource","scopedFormData","formData"];var Fs=function(e){var t=Object(pe.a)();return r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData,e.formData,Object(T.a)(e,Ts);return r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.me-reports.fields.challenges",fullWidth:!0},r.a.createElement(ns.a,{label:t("resources.me-reports.fields.challenges"),variant:"outlined",margin:"none",source:"challenges",validate:Object(rs.j)(),rows:5,multiline:!0,fullWidth:!0})),r.a.createElement(cs,{tooltipText:"tooltips.resources.me-reports.fields.recommendations",fullWidth:!0},r.a.createElement(ns.a,{label:t("resources.me-reports.fields.recommendations"),variant:"outlined",margin:"none",source:"recommendations",validate:Object(rs.j)(),rows:5,multiline:!0,fullWidth:!0})),r.a.createElement(cs,{tooltipText:"tooltips.resources.me-reports.fields.lessons_learned",fullWidth:!0},r.a.createElement(ns.a,{label:t("resources.me-reports.fields.lessons_learned"),variant:"outlined",margin:"none",source:"lessons_learned",validate:Object(rs.j)(),rows:5,multiline:!0,fullWidth:!0})),r.a.createElement(cs,{tooltipText:"tooltips.resources.me-reports.fields.remarks",fullWidth:!0},r.a.createElement(ns.a,{label:t("resources.me-reports.fields.remarks"),variant:"outlined",margin:"none",source:"remarks",validate:Object(rs.j)(),rows:5,multiline:!0,fullWidth:!0})),r.a.createElement(cs,{tooltipText:"tooltips.resources.me-reports.fields.overall_project_rating",fullWidth:!0},r.a.createElement(ns.a,{label:t("resources.me-reports.fields.overall_project_rating"),variant:"outlined",margin:"none",source:"overall_project_rating",validate:Object(rs.j)(),rows:5,multiline:!0,fullWidth:!0})))}))},Rs=["getSource","scopedFormData","formData"];var Is=function(e){Object(pe.a)();var t=B({name:"me_releases"}),a=B({name:"year"}),o=B({name:"frequency"});return r.a.createElement(js.a,null,(function(i){i.getSource,i.scopedFormData;var l=i.formData;Object(T.a)(i,Rs);if(l.project_detail_id=e.details.id,!l.me_releases){t([{release_type:"PLANNED"},{release_type:"ACTUAL"}])}return l.start_date&&a(S()(l.start_date).format("YYYY")),"undefined"!==typeof e.isYearReport&&o(e.isYearReport?"ANNUAL":"CUSTOM"),r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.me-reports.fields.summary",fullWidth:!0},r.a.createElement(ns.a,{label:"Executive summary",variant:"outlined",margin:"none",source:"summary",validate:Object(rs.j)(),rows:5,multiline:!0,fullWidth:!0})),r.a.createElement(cs,{tooltipText:"tooltips.resources.me-reports.fields.rational_study",fullWidth:!0},r.a.createElement(ns.a,{label:"Introduction",variant:"outlined",margin:"none",source:"rational_study",validate:Object(rs.j)(),rows:5,multiline:!0,fullWidth:!0})),r.a.createElement(cs,{tooltipText:"tooltips.resources.me-reports.fields.methodology",fullWidth:!0},r.a.createElement(ns.a,{variant:"outlined",margin:"none",source:"methodology",validate:Object(rs.j)(),rows:5,multiline:!0,fullWidth:!0})),r.a.createElement(cs,{tooltipText:"tooltips.resources.me-reports.fields.environmental_issues",fullWidth:!0},r.a.createElement(ns.a,{variant:"outlined",margin:"none",source:"environmental_issues",validate:Object(rs.j)(),rows:5,multiline:!0,fullWidth:!0})))}))},Ms=["basePath","data","projectDetailId"],Ws=Object(ae.a)((function(e){return{textInput:{marginRight:10,width:"200px"}}})),Ls=function(e){e.basePath,e.data;var t=e.projectDetailId,a=Object(T.a)(e,Ms),o=Object(n.useState)([]),i=Object(Z.a)(o,2),l=i[0],c=i[1],s=(Object(pe.a)(),Object(_s.f)()),u=s.hasValidationErrors,d=s.values,m=Object(Na.a)(),p=Object(Ca.a)();function f(){if(d&&"ANNUAL"===d.frequency){if(0===l.filter((function(e){return Number(e.year)===Number(d.year)})).length)return!1;var e=l.filter((function(e){return Number(e.year)===Number(d.year)&&"DRAFT"===e.report_status&&e.quarter===d.quarter})),t=l.filter((function(e){return Number(e.year)===Number(d.year)&&"DRAFT"!==e.report_status&&e.quarter===d.quarter}));if(e&&e.length>0)return"You have already created a report for Quarter ".concat(d.quarter[1],", ").concat(d.year,", please submit it first.");if(t&&t.length>0)return"You have already Quarter ".concat(d.quarter[1],", ").concat(d.year,", submitted report, please review it first.");if(l&&l.length>0){var a=l.filter((function(e){return Number(e.year)===Number(d.year)&&"DRAFT"!==e.report_status&&"Q1"!==d.quarter&&e.quarter==="Q".concat(d.quarter[1]-1)}));if(a&&0===a.length)return"You have to submit a report for the previous quarter/s before submitting a report for this quarter."}}return!1}Object(n.useEffect)((function(){t&&p.getListOfAll("me-reports",{filter:{project_detail_id:""+t,frequency:"ANNUAL"},sort_field:"id"}).then((function(e){e&&e.data&&c(e.data)}))}),[t]);return r.a.createElement(Zc.a,null,r.a.createElement(Ee.a,{onClick:function(){t&&a.history.push("/project/".concat(t,"/me-reports"))}},"Cancel"),r.a.createElement(Ee.a,{color:"primary",variant:"contained",onClick:function(){u?(a.handleSubmitWithRedirect(a.redirect),m("Validation errors","error")):f()?m(f(),"error"):a.handleSubmitWithRedirect(a.redirect)}},"Create Report"))},Ys=function(e){var t=Object(n.useState)({}),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(),c=Object(Z.a)(l,2),s=(c[0],c[1]),u=Object(n.useState)(),d=Object(Z.a)(u,2),m=d[0],p=d[1],f=Object(Ca.a)(),_=Ws(),g=e.match&&e.match.params&&"true"===e.match.params.year;Object(n.useEffect)((function(){e.location&&e.match&&e.match.params&&e.match.params.id&&(e.match.params.id||e.history.back(),e.match.params.id&&(s(e.match.params.id),f.getOne("projects",{id:e.match.params.id}).then((function(e){e&&e.data&&p(e.data)})),f.getListOfAll("project-details",{sort_field:"id",filter:{project_id:e.match.params.id}}).then((function(e){if(e&&e.data){var t=x.a.maxBy(e.data,(function(e){return e.id}));i(H(t))}}))))}),[]);var h=function(e,t,a){return"/me-reports/".concat(t,"/1")};return r.a.createElement(es.a,Object.assign({},e,{redirect:h,basePath:"/me-reports",resource:"me-reports",undoable:!1}),r.a.createElement(ts.a,{redirect:h,toolbar:r.a.createElement(Ls,Object.assign({},e,{projectDetailId:o&&o.id}))},r.a.createElement(as.a,{label:"Summary"},r.a.createElement(ks,Object.assign({},e,{classes:_,details:o,projectData:m,isYearReport:g,isNew:!0})))))},Bs=a(1001),zs=a(2016),qs=a(277),Us=a(2070),Vs=a(1875),Gs=a(264),Hs=a(720),Js=a.n(Hs),Xs={label:"ra.action.export",record:{},icon:r.a.createElement(Js.a,null),id:0,printId:""};function $s(e){var t=Object(Ca.a)(),a=Object(pe.a)(),o=Object(n.useState)(null),i=Object(Z.a)(o,2),l=i[0],c=i[1],s=Object(n.useState)(!1),u=Object(Z.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)(!1),f=Object(Z.a)(p,2),_=f[0],g=f[1],h=L(),b=Object(ee.f)((function(e){return e.app.appConfig})).application_config.prefix;Object(F.a)().permissions;function E(e){return"\n  <table class=\"footer_table\" style='margin-left:50in;'>\n  <tr style='height:1pt;mso-height-rule:exactly'>\n    <td>\n      <div style='mso-element:footer' id=f1>\n          <img src=\"".concat(v,"/assets/images/").concat(e,'/coat_of_arms.png" width="28" height="24" />\n          <span style=\'font-size:10.0pt; mso-tab-count: 1\'>\n            ').concat(function(e){switch(e){case"ug":return"This is a property of the Government of Uganda";case"jm":return"This is a property of the Government of Jamaica";default:return""}}(e),'\n          </span>\n          <span style=\'font-size:10.0pt mso-tab-count: 5\'>\n            Page \n          </span>\n          <span style=\'margin-left:10px;\'></span>\n          <span style=\'mso-field-code:PAGE\'></span>\n          <w:sdtPr></w:sdtPr>\n          <table class="footer_table" width="100%" border="0" cellspacing="0" cellpadding="0" >\n            <tr valign="middle">\n              <td align="left"></td>\n          </tr></table></div>\n      </td>\n    </tr>\n</table>\n')}Object(n.useEffect)((function(){if(d&&l){var t=e.printId,a=e.record;"html"===l?w(t,a):O(t,a)}}),[l,d]);var j=Object(ee.e)(),y=function(t){return Y("has_pimis_fields")?'<html>\n      <body>        \n        <div id="title_content" style="width: 100%; text-align: center;">\n          <div>\n            <img src="'.concat(v,"/assets/images/").concat(b,'/coat_of_arms.png" width="350px"/>\n          </div>\n          <br />\n          <h1 style="font-size: 30px;">Government of Jamaica</h1>\n          <h2 style="font-size: 35px;">').concat(e.title||e.record&&e.record.project_organization&&e.record.project_organization.parent&&e.record.project_organization.parent.name,'</h2>\n          <h2 style="font-size: 35px;">').concat(e.record.name,'</h2>\n          <h1 style="font-size: 35px;">').concat(e.phase?a("resources.phases.phase_".concat(e.phase)):"",'</h1>\n        </div>\n        \n        <div class="pageBreak"></div>\n        <span><br clear=all style=\'page-break-before:always;mso-break-type:section-break\' /></span>\n        <div class="page-break"></div>\n\n        \x3c!-- HTML Content --\x3e\n        <div id=\'page_content\' class="page_content">\n          ').concat(t.innerHTML,"\n        </div>\n        ").concat("word"===l?E(b):"","\n      </body>\n    </html>"):'<html>\n          <body>        \n            <div id="title_content" style="width: 100%; text-align: center;">\n              <div>\n                <img src="'.concat(v,"/assets/images/").concat(b,'/coat_of_arms.png" height="750px" />\n              </div>\n              <br />\n              <h1 style="font-size: 20px;">Government of Uganda</h1>\n              ').concat(e.record&&e.record.program?'<h2 style="font-size: 25px">'.concat(e.record.program.name,"</h2>"):"","</h2>\n              ").concat(e.record&&e.record.project_organization?'<h2 style="font-size: 25px">'.concat(e.record.project_organization.name,"</h2>"):"",'</h2>\n              <h2 style="font-size: 25px">').concat(e.title||e.record&&e.record.name,'</h2>\n              <h1 style="font-size: 25px">').concat(e.phase?a("resources.phases.phase_".concat(e.phase)):"",'</h1>\n            </div>\n\n            <div class="pageBreak"></div>\n            <span><br clear=all style=\'page-break-before:always;mso-break-type:section-break\' /></span>\n            <div class="page-break"></div>\n          \n            \x3c!-- HTML Content --\x3e\n            <div id=\'page_content\' class="page_content">\n              ').concat(t.innerHTML,"\n            </div>\n              ").concat("word"===l?E(b):"","\n          </body>\n        </html>")},O=function(a,n){var r=document.getElementById(a).cloneNode(!0),o=r.getElementsByClassName("static_map_btn")[0],i=r.getElementsByClassName("me_report_btn")[0],s=r.getElementsByClassName("gantt_container")[0];s&&s.parentNode&&s.parentNode.removeChild(s),o&&o.parentNode&&o.parentNode.removeChild(o),i&&i.parentNode&&i.parentNode.removeChild(i),t.export("projects",{export_name:e.title||"".concat(n.code,"-").concat(n.name),data:{content:document.getElementById(a)?y(r):"",style:"\n          .gantt_task_line {\n            border-radius: 2px;\n            position: absolute;\n            box-sizing: border-box;\n            background-color: #3db9d3;\n            border: 1px solid #2898b0;\n          }\n\n          .pageBreak{\n            page-break-before: always;\n            -pdf-keep-with-next: false;\n            mso-break-type:section-break;\n          }\n\n          .bordered td {\n            padding: 0.25rem;\n            vertical-align: top;\n            border: 1px solid #c8ced3;\n          }\n\n          .bordered th {\n            padding: 0.25rem;\n            vertical-align: top;\n            border: 1px solid #c8ced3;\n          }\n        \n        .filled-row {\n            background-color: rgba(0, 0, 0, 0.05);\n            font-weight: bold;\n        }\n        \n        .content-area {\n            margin-bottom: 35px;\n        }\n        \n        .content-area_subtitle{\n            margin-bottom: 2px;\n        }\n\n        .content-area_title {\n            margin-top: 20px;\n            margin-bottom: 20px;\n          }\n\n          .footer-left {\n            text-align:left;\n            width: 50pt;\n          }\n\n          .footer-center {\n              text-align:center;\n          }\n\n          .footer-right {\n              text-align:right;\n          }\n\n          .footer_img {\n            margin-right: 10px;\n          }\n\n          .footer_img img {\n            padding-right: 30px;\n            width: 45px;\n            height: 45px;\n          }\n\n          .MuiTableRow-root {\n            outline: 0;\n            vertical-align: middle;\n          }\n\n          .MuiTableCell-body {\n            color: #263238;\n          }\n\n          .MuiTableCell-root {\n            color: #263238;\n            padding-top: 5px;\n            padding-bottom: 5px;\n            font-size: 12px;\n            text-align: left;\n            font-weight: 400;\n            outline: 1px solid black;\n          }\n\n          .MuiTableCell-head {\n            color: #263238;\n            text-align: center;\n            font-weight: bold;\n            background-color: #fafafa;\n            font-size: 12px;\n            padding-top: 5px;\n            padding-bottom: 5px;\n            padding-left: 5px;\n            padding-right: 5px;\n          }\n          \n          .MuiTableHead-root {\n            background-color: #fafafa;\n          }\n          .MuiTableCell-alignCenter {\n            text-align: center;\n          }\n\n          li {\n            margin: 0;\n          }\n\n          figure table td { \n            padding: 0.25rem;\n            vertical-align: top;\n            border: 1px solid #c8ced3;\n            min-width: 50px;\n          }\n          \n          ",export_type:l||"pdf",instance:b}}).then((function(e){m(!1),c(null),j({type:"SET_IS_EXPORTING",payload:{data:!1}})})).catch((function(e){m(!1),c(null),j({type:"SET_IS_EXPORTING",payload:{data:!1}})}))},w=function(t,n){var r=document.getElementById(t).cloneNode(!0),o=r.getElementsByClassName("static_map_btn")[0],i=r.getElementsByClassName("me_report_btn")[0];o&&o.parentNode&&o.parentNode.removeChild(o),i&&i.parentNode&&i.parentNode.removeChild(i);var l=document.createElement("a");l.setAttribute("download","".concat(n.code,"-").concat(n.name,".html")),l.setAttribute("href","data:text/html;charset=utf-8,"+encodeURIComponent(function(t){return Y("has_pimis_fields")?'<html>\n      <head>\n      <style>\n              .gantt_task_line {\n                border-radius: 2px;\n                position: absolute;\n                box-sizing: border-box;\n                background-color: #3db9d3;\n                border: 1px solid #2898b0;\n              }\n    \n              .pageBreak{\n                page-break-before: always;\n                -pdf-keep-with-next: false;\n                mso-break-type:section-break;\n              }\n    \n              .bordered td {\n                padding: 0.25rem;\n                vertical-align: top;\n                border: 1px solid #c8ced3;\n                outline: none;\n              }\n    \n              .bordered th {\n                padding: 0.25rem;\n                vertical-align: top;\n                border: 1px solid #c8ced3;\n                outline: none;\n              }\n            \n            .filled-row {\n                background-color: rgba(0, 0, 0, 0.05);\n                font-weight: bold;\n            }\n            \n            .content-area {\n                margin-bottom: 55px;\n            }\n            \n            .content-area_subtitle{\n                margin-bottom: 2px;\n            }\n    \n            .content-area_title {\n                margin-top: 20px;\n                margin-bottom: 20px;\n              }\n    \n              .footer-left {\n                text-align:left;\n                width: 50pt;\n              }\n    \n              .footer-center {\n                  text-align:center;\n              }\n    \n              .footer-right {\n                  text-align:right;\n              }\n    \n              .footer_img {\n                margin-right: 10px;\n              }\n    \n              .footer_img img {\n                padding-right: 30px;\n                width: 45px;\n                height: 45px;\n              }\n    \n              .MuiTableRow-root {\n                outline: 0;\n                vertical-align: middle;\n              }\n    \n              .MuiTableCell-body {\n                color: #263238;\n              }\n    \n              .MuiTableCell-root {\n                color: #263238;\n                padding-top: 5px;\n                padding-bottom: 5px;\n                font-size: 12px;\n                text-align: left;\n                font-weight: 400;\n                outline: 1px solid black;\n              }\n    \n              .MuiTableCell-head {\n                color: #263238;\n                text-align: center;\n                font-weight: bold;\n                background-color: #fafafa;\n                font-size: 12px;\n                padding-top: 5px;\n                padding-bottom: 5px;\n                padding-left: 5px;\n                padding-right: 5px;\n              }\n              \n              .MuiTableHead-root {\n                background-color: #fafafa;\n              }\n              .MuiTableCell-alignCenter {\n                text-align: center;\n              }\n    \n              li {\n                margin: 0;\n              }\n    \n              figure table td { \n                padding: 0.25rem;\n                vertical-align: top;\n                border: 1px solid #c8ced3;\n                outline: none;\n              }\n      </style>\n      </head>\n      <body>        \n        <div id="title_content" style="width: 100%; text-align: center;">\n          <div>\n            <img src="'.concat(v,"/assets/images/").concat(b,'/coat_of_arms.png" width="250px" height="250px"/>\n          </div>\n          <br />\n          <h1 style="font-size: 30px;">Government of Jamaica</h1>\n          <h2 style="font-size: 30px;">').concat(e.record&&e.record.project_organization&&e.record.project_organization.parent&&e.record.project_organization.parent.name,'</h2>\n          <h2 style="font-size: 30px;">').concat(e.record&&e.record.name,'</h2>\n          <h1 style="font-size: 30px;">').concat(a("resources.phases.phase_".concat(e.phase)),"</h1>\n        </div>\n      \n        \x3c!-- HTML Content --\x3e\n        <div id='page_content' class=\"page_content\">\n          ").concat(t.innerHTML,"\n        </div>\n      </body>\n    </html>"):'<html>\n          <head>\n          <style>\n                  .gantt_task_line {\n                    border-radius: 2px;\n                    position: absolute;\n                    box-sizing: border-box;\n                    background-color: #3db9d3;\n                    border: 1px solid #2898b0;\n                  }\n        \n                  .pageBreak{\n                    page-break-before: always;\n                    -pdf-keep-with-next: false;\n                    mso-break-type:section-break;\n                  }\n        \n                  .bordered td {\n                    padding: 0.25rem;\n                    vertical-align: top;\n                    border: 1px solid #c8ced3;\n                    outline: none;\n                  }\n        \n                  .bordered th {\n                    padding: 0.25rem;\n                    vertical-align: top;\n                    border: 1px solid #c8ced3;\n                    outline: none;\n                  }\n                \n                .filled-row {\n                    background-color: rgba(0, 0, 0, 0.05);\n                    font-weight: bold;\n                }\n                \n                .content-area {\n                    margin-bottom: 55px;\n                }\n                \n                .content-area_subtitle{\n                    margin-bottom: 2px;\n                }\n        \n                .content-area_title {\n                    margin-top: 20px;\n                    margin-bottom: 20px;\n                  }\n        \n                  .footer-left {\n                    text-align:left;\n                    width: 50pt;\n                  }\n        \n                  .footer-center {\n                      text-align:center;\n                  }\n        \n                  .footer-right {\n                      text-align:right;\n                  }\n        \n                  .footer_img {\n                    margin-right: 10px;\n                  }\n        \n                  .footer_img img {\n                    padding-right: 30px;\n                    width: 45px;\n                    height: 45px;\n                  }\n        \n                  .MuiTableRow-root {\n                    outline: 0;\n                    vertical-align: middle;\n                  }\n        \n                  .MuiTableCell-body {\n                    color: #263238;\n                  }\n        \n                  .MuiTableCell-root {\n                    color: #263238;\n                    padding-top: 5px;\n                    padding-bottom: 5px;\n                    font-size: 12px;\n                    text-align: left;\n                    font-weight: 400;\n                    outline: 1px solid black;\n                  }\n        \n                  .MuiTableCell-head {\n                    color: #263238;\n                    text-align: center;\n                    font-weight: bold;\n                    background-color: #fafafa;\n                    font-size: 12px;\n                    padding-top: 5px;\n                    padding-bottom: 5px;\n                    padding-left: 5px;\n                    padding-right: 5px;\n                  }\n                  \n                  .MuiTableHead-root {\n                    background-color: #fafafa;\n                  }\n                  .MuiTableCell-alignCenter {\n                    text-align: center;\n                  }\n        \n                  li {\n                    margin: 0;\n                  }\n\n                  figure table td { \n                    padding: 0.25rem;\n                    vertical-align: top;\n                    border: 1px solid #c8ced3;\n                    outline: none;\n                  }\n          </style>\n          </head>\n          <body>        \n            <div id="title_content" style="width: 100%; text-align: center;">\n              <div>\n                <img src="'.concat(v,"/assets/images/").concat(b,'/coat_of_arms.png" height="350" />\n              </div>\n              <br />\n          <h1 style="font-size: 30px;">Government of Uganda</h1>\n          <h2 style="font-size: 30px">').concat(e.record&&e.record.project_organization&&e.record.project_organization.parent.name,'</h2>\n              <h2 style="font-size: 30px">').concat(e.record&&e.record.project_organization&&e.record.project_organization.name,'</h2>\n              <h2 style="font-size: 30px">').concat(e.record&&e.record.name,'</h2>\n              <h1 style="font-size: 30px">').concat(a("resources.phases.phase_".concat(e.phase)),"</h1>\n            </div>\n          \n            \x3c!-- HTML Content --\x3e\n            <div id='page_content' class=\"page_content\">\n              ").concat(t.innerHTML,"\n            </div>\n          </body>\n        </html>")}(r))),l.click(),m(!1),c(null)};return r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(Xn.a,{component:"span",label:"ra.action.export",onClick:function(){var t=e.printId,a=e.record;if(j({type:"SET_IS_EXPORTING",payload:{data:!0}}),"html"===l)return w(t,a);Y("export_project_word",e.phase)&&(h("export_project_word_always")||h("export_project_word")&&e.record&&e.record.project_status===Ga.STATUS_DRAFT.toUpperCase()?g(!0):O(t,a))}},d?r.a.createElement(Yr.a,{style:{marginRight:"10px"},size:25,thickness:2}):r.a.createElement(Js.a,null)),Y("export_project_word",e.phase)&&_&&r.a.createElement("div",{style:{position:"absolute",top:5}},r.a.createElement(xa.a,{style:{"min-width":"0px",fontSize:"0.8125rem",color:"#3f51b5","border-bottom":"none","padding-left":"3px",width:100},value:l,onChange:function(e){e.stopPropagation(),g(!1),c(e.target.value),m(!0)},open:_,onClose:function(){g(!1)}},h("export_project_pdf")&&r.a.createElement(sa.a,{value:"pdf"},"PDF"),!e.meReport&&(h("export_project_word")||h("export_project_word_always"))&&r.a.createElement(sa.a,{value:"word"},"WORD"),!e.meReport&&h("export_project_html")&&r.a.createElement(sa.a,{value:"html"},"HTML"))))}$s.defaultProps=Xs;var Ks=$s,Qs=function(e){return e&&e.project_id?n.createElement(Xn.a,{href:"#/project/".concat(e.project_id,"/me-report/create/").concat(e.yearReport||!1),label:e.yearReport?"Create Quarter Report":"Create Periodical Report",startIcon:n.createElement(Nn.a,null)}):null},Zs=["basePath","data","resource","location","projectId","id"],eu=function(e){e.basePath,e.data,e.resource,e.location;var t=e.projectId,a=(e.id,Object(T.a)(e,Zs)),n=L();return r.a.createElement(Gs.a,{style:{position:"relative",width:"100%"}},n(a.yearReport?"me_create_year_report":"me_create_periodical_report")&&n("create_me_report")&&!a.disableCreate&&r.a.createElement(Qs,Object.assign({},a,{project_id:t,style:{color:"#3f50b5"}})))},tu=Object(ae.a)((function(e){return{root:{display:"flex"},content:{flexGrow:1,padding:e.spacing(3),paddingTop:e.spacing(8)},ganttChartTable:{"& th":{borderLeft:"3px solid #c8ced3"},"& td":{padding:"3px 0px !important",borderLeft:"1px solid #c8ced3"},"& .title":{paddingLeft:"15px !important"},"& .filledCell":{background:"blue",padding:"12px 0px"}},button:{marginLeft:15},actions:{width:"100%",marginBottom:20}}}));function au(e){return r.a.createElement("div",null,r.a.createElement(se.a,{variant:"h4",style:{textAlign:"center"}},"No reports"),r.a.createElement(eu,Object.assign({projectId:e.projectId,yearReport:e.yearReport},e)))}var nu=function(e){var t,a,o,i,l=Object(n.useState)({}),c=Object(Z.a)(l,2),s=c[0],u=c[1],d=r.a.useState(0),m=Object(Z.a)(d,2),p=m[0],f=m[1],_=tu(),g=Object(Ca.a)(),h=L(),v=e.location&&e.match&&e.match.params&&e.match.params.id;function b(){var t,a,n,r;if(Y("has_pimis_fields"))return s.project&&("COMPLETED"===s.project.project_status||"POST_EVALUATION"===s.project.project_status);var o="periodical"===(null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.report_type)||"quarter"===(null===(n=e.match)||void 0===n||null===(r=n.params)||void 0===r?void 0:r.report_type)||s.project&&("COMPLETED"===s.project.project_status||"POST_EVALUATION"===s.project.project_status);return h("create_me_report")&&!o}return Object(n.useEffect)((function(){var t,a,n,r;"quarter"===(null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.report_type)&&f(1),"periodical"===(null===(n=e.match)||void 0===n||null===(r=n.params)||void 0===r?void 0:r.report_type)&&f(0),g.getOne("project-details",{id:v}).then((function(e){e&&e.data&&u(e.data)}))}),[]),r.a.createElement("div",{className:_.reportContainer},r.a.createElement("div",{className:_.actions},r.a.createElement(Xn.a,{href:"/#/projects/".concat(s.project_id,"/show"),label:"Back to Project"})),r.a.createElement(qs.a,null,r.a.createElement(Us.a,{value:p,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){f(t)}},"quarter"!==(null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.report_type)&&h("me_list_periodical_report")&&r.a.createElement(Vs.a,{label:"Periodical Reports"}),"periodical"!==(null===(o=e.match)||void 0===o||null===(i=o.params)||void 0===i?void 0:i.report_type)&&h("me_list_year_report")&&r.a.createElement(Vs.a,{label:"Quarterly Reports"})),function(){switch(p){case 0:return r.a.createElement(ri.a,{basePath:"/me-reports",resource:"me-reports",filter:{project_detail_id:v,frequency:"CUSTOM"},bulkActionButtons:!1,exporter:!1,actions:r.a.createElement(eu,{projectId:s.project_id,disableCreate:b()}),empty:r.a.createElement(au,{projectId:s.project_id,disableCreate:b()})},r.a.createElement(Nl.a,null,r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Al.a,{source:"report_status"}),r.a.createElement(Bs.a,{source:"created_on"}),r.a.createElement(Dl.a,{label:"Created by",render:function(e){return e.user&&"".concat(e.user.full_name)}}),r.a.createElement(Dl.a,{label:"Department",render:function(e){return e.user&&e.user.organization&&"".concat(e.user.organization.name)}}),r.a.createElement(Al.a,{source:"year"}),r.a.createElement(Al.a,{source:"quarter"}),h("me_show_periodical_report")&&r.a.createElement(zs.a,null)));case 1:return r.a.createElement(ri.a,{basePath:"/me-reports",resource:"me-reports",filter:{project_detail_id:v,frequency:"ANNUAL"},bulkActionButtons:!1,empty:r.a.createElement(au,{projectId:s.project_id,yearReport:!0,disableCreate:b()}),exporter:!1,actions:r.a.createElement(eu,{projectId:s.project_id,yearReport:!0,disableCreate:b()})},r.a.createElement(Nl.a,null,r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Al.a,{source:"report_status"}),r.a.createElement(Bs.a,{source:"created_on"}),r.a.createElement(Dl.a,{label:"Created by",render:function(e){return e.user&&"".concat(e.user.full_name)}}),r.a.createElement(Dl.a,{label:"Department",render:function(e){return e.user&&e.user.organization&&"".concat(e.user.organization.name)}}),r.a.createElement(Al.a,{source:"year"}),r.a.createElement(Al.a,{source:"quarter"}),h("me_show_year_report")&&r.a.createElement(zs.a,null)))}}()))},ru=a(2066),ou=a(2092),iu=["classes"],lu=function(e,t,a){return"/projects/".concat(t,"/show/").concat(a.phase_id)},cu=function(e){e.classes;var t=Object(T.a)(e,iu),a=Object(pe.a)();return r.a.createElement(ru.a,{undoable:!1,actions:!1,redirect:!1,resource:"projects",basePath:"/projects",id:t.match.params.id},r.a.createElement(ou.a,{redirect:lu},r.a.createElement(se.a,{variant:"h4",style:{marginLeft:15,marginBottom:20}},"Description"),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project.myc_data.funding_source"},r.a.createElement(ns.a,{label:a("resources.project.myc_data.funding_source"),source:"myc_data.funding_source",variant:"outlined",margin:"none"})),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project.myc_data.start_date"},r.a.createElement(os.a,{label:a("resources.project.myc_data.start_date"),options:{fullWidth:"true"},source:"myc_data.start_date",choices:vi(2),variant:"outlined",margin:"none"})),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project.myc_data.end_date"},r.a.createElement(os.a,{label:a("resources.project.myc_data.end_date"),options:{fullWidth:"true"},source:"myc_data.end_date",choices:vi(2),variant:"outlined",margin:"none"})),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project.myc_data.status"},r.a.createElement(ns.a,{label:a("resources.project.myc_data.status"),source:"myc_data.status",variant:"outlined",margin:"none"})),r.a.createElement(se.a,{variant:"h4",style:{marginLeft:15,marginBottom:20}},"Classification"),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project.myc_data.classification"},r.a.createElement(os.a,{label:a("resources.project.myc_data.classification"),options:{fullWidth:"true"},source:"myc_data.classification",choices:jr(Ja),variant:"outlined",margin:"none"})),r.a.createElement(se.a,{variant:"h4",style:{marginLeft:15,marginBottom:20}},"Cummulative Expenditure to end of FY 0"),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project.myc_data.start_spending"},r.a.createElement(ns.a,{label:a("resources.project.myc_data.start_spending"),source:"myc_data.start_spending",variant:"outlined",margin:"none",format:_r,parse:gr,validate:Object(rs.h)()})),r.a.createElement(se.a,{variant:"h4",style:{marginLeft:15,marginBottom:20}},"Approved Budget"),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project.myc_data.approved_budget"},r.a.createElement(ns.a,{label:a("resources.project.myc_data.approved_budget"),source:"myc_data.approved_budget",variant:"outlined",margin:"none",format:_r,parse:gr,validate:Object(rs.h)()})),r.a.createElement(se.a,{variant:"h4",style:{marginLeft:15,marginBottom:20}},"Estimates for next budget year (FY21-22)"),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project.myc_data.estimate_areas"},r.a.createElement(ns.a,{label:a("resources.project.myc_data.estimate_areas"),source:"myc_data.estimate_areas",variant:"outlined",margin:"none",format:_r,parse:gr,validate:Object(rs.h)()})),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project.myc_data.counterpart_funding"},r.a.createElement(ns.a,{label:a("resources.project.myc_data.counterpart_funding"),source:"myc_data.counterpart_funding",variant:"outlined",margin:"none",format:_r,parse:gr,validate:Object(rs.h)()})),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project.myc_data.cash_required"},r.a.createElement(ns.a,{label:a("resources.project.myc_data.cash_required"),source:"myc_data.cash_required",variant:"outlined",margin:"none",format:_r,parse:gr,validate:Object(rs.h)()})),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project.myc_data.arrears_contractual"},r.a.createElement(ns.a,{label:a("resources.project.myc_data.arrears_contractual"),source:"myc_data.arrears_contractual",variant:"outlined",margin:"none",format:_r,parse:gr,validate:Object(rs.h)()})),r.a.createElement(se.a,{variant:"h4",style:{marginLeft:15,marginBottom:20}},"Multi Year Project estimates"),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project.myc_data.estimate_f2"},r.a.createElement(ns.a,{label:a("resources.project.myc_data.estimate_f2"),source:"myc_data.estimate_f2",variant:"outlined",margin:"none",format:_r,parse:gr,validate:Object(rs.h)()})),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project.myc_data.estimate_f3"},r.a.createElement(ns.a,{label:a("resources.project.myc_data.estimate_f3"),source:"myc_data.estimate_f3",variant:"outlined",margin:"none",format:_r,parse:gr,validate:Object(rs.h)()})),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project.myc_data.estimate_f4"},r.a.createElement(ns.a,{label:a("resources.project.myc_data.estimate_f4"),source:"myc_data.estimate_f4",variant:"outlined",margin:"none",format:_r,parse:gr,validate:Object(rs.h)()})),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project.myc_data.estimate_f5"},r.a.createElement(ns.a,{label:a("resources.project.myc_data.estimate_f5"),source:"myc_data.estimate_f5",variant:"outlined",margin:"none",format:_r,parse:gr,validate:Object(rs.h)()})),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project.myc_data.outstanding_commitments"},r.a.createElement(ns.a,{label:a("resources.project.myc_data.outstanding_commitments"),source:"myc_data.outstanding_commitments",variant:"outlined",margin:"none",format:_r,parse:gr,validate:Object(rs.h)()})),r.a.createElement(se.a,{variant:"h4",style:{marginLeft:15,marginBottom:20}},"Cummulative expenditure to end June FY0 + Approved budget + Total Estimates"),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project.myc_data.cumulative_expenditure"},r.a.createElement(ns.a,{label:a("resources.project.myc_data.cumulative_expenditure"),source:"myc_data.cumulative_expenditure",variant:"outlined",margin:"none",format:_r,parse:gr,validate:Object(rs.h)()})),r.a.createElement(se.a,{variant:"h4",style:{marginLeft:15,marginBottom:20}},"Total Project Value"),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project.myc_data.approved_project_costs"},r.a.createElement(ns.a,{label:a("resources.project.myc_data.approved_project_costs"),source:"myc_data.approved_project_costs",variant:"outlined",margin:"none",format:_r,parse:gr,validate:Object(rs.h)()})),r.a.createElement(se.a,{variant:"h4",style:{marginLeft:15,marginBottom:20}},"Additional justification provided by the MDA"),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project.myc_data.mda_comments"},r.a.createElement(ns.a,{source:"myc_data.mda_comments",variant:"outlined",margin:"none",label:a("resources.project.myc_data.mda_comments")}))))},su=(a(518),a(664),a(419),a(427)),uu=a.n(su),du=a(428),mu=a.n(du);function pu(e,t){var a=t.organizational_config,n=t.programs_config,r=t.functions_config;return e.map((function(e){var t={};return e.project_organization&&function e(n){return n&&n.level&&a[n.level]&&(t[a[n.level].name]=n.name),n&&n.parent?e(n.parent):n}(e.project_organization),Object(u.a)(Object(u.a)({},e),t)})).map((function(e){var t={};return e.program&&function e(a){return a&&a.level&&n[a.level]&&(t[n[a.level].name]=a.name),a&&a.parent?e(a.parent):a}(e.program),Object(u.a)(Object(u.a)({},e),t)})).map((function(e){var t={};return e.function&&function e(a){return a&&a.level&&r[a.level]&&(t[r[a.level].name]=a.name),a&&a.parent?e(a.parent):a}(e.function),Object(u.a)(Object(u.a)({},e),t)})).map((function(e){return delete e.program,delete e.function,delete e.project_organization,e})).map((function(e){var t,a;return e.TotalCost=(null===(t=e.current_project_detail)||void 0===t||null===(a=t.investment_stats)||void 0===a?void 0:a.total_cost)||0,e.TotalCount=1,e.Phase="".concat(e.phase.sequence,". ").concat(e.phase.name),e.PhaseSequence=e.phase.sequence,e.Name=e.name,e.Code=e.code,e.Status=e.project_status,delete e.phase,delete e.costs,delete e.id,delete e.ranking_data,delete e.program,delete e.project_status,delete e.name,delete e.code,e}))}function fu(e,t){var a=t.organizational_config,n=t.programs_config,r=t.functions_config;return e.map((function(e){var t={};return e.project_organization&&function e(n){return n&&n.level&&a[n.level]&&(t[a[n.level].name]=n.name),n&&n.parent?e(n.parent):n}(e.project_organization),Object(u.a)(Object(u.a)({},e),t)})).map((function(e){var t={};return e.program&&function e(a){return a&&a.level&&n[a.level]&&(t[n[a.level].name]=a.name),a&&a.parent?e(a.parent):a}(e.program),Object(u.a)(Object(u.a)({},e),t)})).map((function(e){var t={};return e.function&&function e(a){return a&&a.level&&r[a.level]&&(t[r[a.level].name]=a.name),a&&a.parent?e(a.parent):a}(e.function),Object(u.a)(Object(u.a)({},e),t)})).map((function(e){return delete e.program,delete e.function,delete e.project_organization,e})).map((function(e){var t,a,n,r,o,i,l,c,s,u,d,m;e.TotalCost=(null===(t=e.current_project_detail)||void 0===t||null===(a=t.investment_stats)||void 0===a?void 0:a.total_cost)||0,e.TotalCount=1,e.Phase="".concat(e.phase&&e.phase.sequence,". ").concat(e.phase&&e.phase.name),e.Name=e.name,e.Code=e.code,e.Status=e.project_status,e.Classification=null===(n=e.current_project_detail)||void 0===n?void 0:n.classification,e.ImplementingAgencies=null===(r=e.current_project_detail)||void 0===r?void 0:r.implementing_agencies,e.StartDate=null===(o=e.current_project_detail)||void 0===o?void 0:o.start_date,e.EndDate=null===(i=e.current_project_detail)||void 0===i?void 0:i.end_date,e.NdpType=null===(l=e.current_project_detail)||void 0===l?void 0:l.ndp_type,e.Enpv=null===(c=e.ranking_data)||void 0===c?void 0:c.enpv,e.Err=null===(s=e.ranking_data)||void 0===s?void 0:s.err,e.Fnpv=null===(u=e.ranking_data)||void 0===u?void 0:u.fnpv,e.Irr=null===(d=e.ranking_data)||void 0===d?void 0:d.irr;var p,f=0;"object"===(null===(m=e.current_project_detail)||void 0===m?void 0:m.om_cost)&&(x.a.keys(null===(p=e.current_project_detail)||void 0===p?void 0:p.om_cost).forEach((function(t){var a;f+=parseFloat(null===(a=e.current_project_detail)||void 0===a?void 0:a.om_cost[t])})),e.TotalCost=f);return e.OmCosts=f,delete e.phase,delete e.costs,delete e.id,delete e.ranking_data,delete e.program,delete e.project_status,delete e.name,delete e.code,e}))}function _u(e){return e?(null===e||void 0===e?void 0:e.code)?(null===e||void 0===e?void 0:e.code.slice(0,2))+" - "+(null===e||void 0===e?void 0:e.name):null===e||void 0===e?void 0:e.name:""}mu()(uu.a);var gu=function(e){var t=Object(n.useState)([]),a=Object(Z.a)(t,2),o=(a[0],a[1]),i=Object(Ca.a)(),l=Object(pe.a)(),c=Object(ee.f)((function(e){return e.app.appConfig})).organizational_config;return Object(n.useEffect)((function(){i.custom("reports",{type:"pivot",method:"GET"}).then((function(e){e&&e.data&&o(pu(e.data,c))}))}),[]),r.a.createElement(ui.a,{container:!0,spacing:3},r.a.createElement(ui.a,{item:!0,xs:12},r.a.createElement(se.a,{variant:"h2",align:"center"},"Cost, Scope, Time Deviation"),r.a.createElement("div",null,r.a.createElement(xa.a,{placeholder:"Sector"},r.a.createElement(sa.a,null,"Test"))),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content"},r.a.createElement("div",{class:"project-view box box-primary"},r.a.createElement("div",{class:"box-body table-responsive no-padding"},r.a.createElement(oi.a,{id:"w0",class:"table table-striped table-bordered detail-view"},r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Implementing Agency"),r.a.createElement(ci.a,null,"UNRA")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Project Name"),r.a.createElement(ci.a,null,"Masaka-Bukakata Road")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Start date"),r.a.createElement(ci.a,null,"2015-01-01")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"End date"),r.a.createElement(ci.a,null,"2020-01-01")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Year in progress"),r.a.createElement(ci.a,null,"3")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Overall estimated project cost"),r.a.createElement(ci.a,null,"UGX 150 bln")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Budget appropriation for current year"),r.a.createElement(ci.a,null,"UGX 30 bln")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Actual budget release to date"),r.a.createElement(ci.a,null,"UGX 90 bln")))),r.a.createElement(oi.a,{class:"table table-striped table-bordered detail-view"},r.a.createElement(li.a,null,r.a.createElement(ci.a,{colspan:"2",align:"center"},r.a.createElement("b",null,"Physical Progress"))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Expected: 70%"),r.a.createElement(ci.a,null,"Actual: 60%"))),r.a.createElement(oi.a,{class:"table table-striped table-bordered detail-view"},r.a.createElement(li.a,null,r.a.createElement(ci.a,{colspan:"3",align:"center"},r.a.createElement("b",null,"Outputs progress"))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Total: 25 km of asphalt road constructed"),r.a.createElement(ci.a,null,"Expected to date: 18 km of asphalt road constructed"),r.a.createElement(ci.a,null,"Actual: 16 km of asphalt road constructed"))),r.a.createElement("div",null,r.a.createElement("h3",null,"MTEF")),r.a.createElement(oi.a,{class:"table table-striped table-bordered detail-view"},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{class:"tg-0lax",colspan:"10",align:"center"},r.a.createElement("b",null,"GoU (",l("titles.currency"),")")),r.a.createElement(ci.a,{class:"tg-0lax",colspan:"10",align:"center"},r.a.createElement("b",null,"External Sources (",l("titles.currency"),")"))),r.a.createElement(li.a,null,r.a.createElement(ci.a,{class:"tg-0lax",colspan:"5",align:"center"},"FY Budget Estimates"),r.a.createElement(ci.a,{class:"tg-0lax",colspan:"5",align:"center"},"FY Actual Releases"),r.a.createElement(ci.a,{class:"tg-0lax",colspan:"5",align:"center"},"FY Budget Estimates"),r.a.createElement(ci.a,{class:"tg-0lax",colspan:"5",align:"center"},"FY Actual Releases"))),r.a.createElement(li.a,null,r.a.createElement(ci.a,{class:"tg-0lax"},"2015"),r.a.createElement(ci.a,{class:"tg-0lax"},"2016"),r.a.createElement(ci.a,{class:"tg-0lax"},"2017"),r.a.createElement(ci.a,{class:"tg-0lax"},"2018"),r.a.createElement(ci.a,{class:"tg-0lax"},"2019"),r.a.createElement(ci.a,{class:"tg-0lax"},"2015"),r.a.createElement(ci.a,{class:"tg-0lax"},"2016"),r.a.createElement(ci.a,{class:"tg-0lax"},"2017"),r.a.createElement(ci.a,{class:"tg-0lax"},"2018"),r.a.createElement(ci.a,{class:"tg-0lax"},"2019"),r.a.createElement(ci.a,{class:"tg-0lax"},"2015"),r.a.createElement(ci.a,{class:"tg-0lax"},"2016"),r.a.createElement(ci.a,{class:"tg-0lax"},"2017"),r.a.createElement(ci.a,{class:"tg-0lax"},"2018"),r.a.createElement(ci.a,{class:"tg-0lax"},"2019"),r.a.createElement(ci.a,{class:"tg-0lax"},"2015"),r.a.createElement(ci.a,{class:"tg-0lax"},"2016"),r.a.createElement(ci.a,{class:"tg-0lax"},"2017"),r.a.createElement(ci.a,{class:"tg-0lax"},"2018"),r.a.createElement(ci.a,{class:"tg-0lax"},"2019")),r.a.createElement(li.a,null,r.a.createElement(ci.a,{class:"tg-0lax"},"1.04"),r.a.createElement(ci.a,{class:"tg-0lax"},"1.04"),r.a.createElement(ci.a,{class:"tg-0lax"},"1.04"),r.a.createElement(ci.a,{class:"tg-0lax"},"1.04"),r.a.createElement(ci.a,{class:"tg-0lax"},"1.04"),r.a.createElement(ci.a,{class:"tg-0lax"},"0.78"),r.a.createElement(ci.a,{class:"tg-0lax"},"0.78"),r.a.createElement(ci.a,{class:"tg-0lax"},"0.78"),r.a.createElement(ci.a,{class:"tg-0lax"},"0"),r.a.createElement(ci.a,{class:"tg-0lax"},"0"),r.a.createElement(ci.a,{class:"tg-0lax"},"8.3"),r.a.createElement(ci.a,{class:"tg-0lax"},"8.3"),r.a.createElement(ci.a,{class:"tg-0lax"},"8.3"),r.a.createElement(ci.a,{class:"tg-0lax"},"8.3"),r.a.createElement(ci.a,{class:"tg-0lax"},"8.3"),r.a.createElement(ci.a,{class:"tg-0lax"},"8.3"),r.a.createElement(ci.a,{class:"tg-0lax"},"8.3"),r.a.createElement(ci.a,{class:"tg-0lax"},"8.3"),r.a.createElement(ci.a,{class:"tg-0lax"},"0"),r.a.createElement(ci.a,{class:"tg-0lax"},"0"))),r.a.createElement("hr",null),r.a.createElement(oi.a,{class:"table table-striped table-bordered detail-view"},r.a.createElement(li.a,null,r.a.createElement(ci.a,{colspan:"4",align:"center"},r.a.createElement("b",null,"Current implementation progress/Actions in the year under review"))),r.a.createElement(li.a,null,r.a.createElement(ci.a,{align:"center"},r.a.createElement("b",null,"Q1")),r.a.createElement(ci.a,{align:"center"},r.a.createElement("b",null,"Q2")),r.a.createElement(ci.a,{align:"center"},r.a.createElement("b",null,"Q3")),r.a.createElement(ci.a,{align:"center"},r.a.createElement("b",null,"Q4"))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Construction of 10th km"),r.a.createElement(ci.a,null,"Construction of 11th km"),r.a.createElement(ci.a,null,"Construction of 12th km"),r.a.createElement(ci.a,null,"Final paving and commissioning of the section")))),r.a.createElement("hr",null),r.a.createElement(oi.a,{class:"table table-striped table-bordered detail-view"},r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Donor name"),r.a.createElement(ci.a,null,"World Bank")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Key implementation challenges"),r.a.createElement(ci.a,null,"Time and treasury disbursement delays")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Necessary corrective actions"),r.a.createElement(ci.a,null,"Improved disbursement rate")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Remarks"),r.a.createElement(ci.a,null,"None")))))))))},hu=a(1028),vu=a.n(hu),bu=a(1039),Eu=a.n(bu),ju=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{textAlign:"left",fontSize:"15px",fontWeight:"bold",paddingLeft:"30px",margin:"10px auto"}}})),yu=function(e){var t=e.loading,a=e.loaded;return 0===e.total&&!t&&a?n.createElement(di.a,{textAlign:"center",m:3},n.createElement(se.a,{variant:"h5",paragraph:!0},"No projects are in Completed status")):n.createElement(ti.a,e)};var Ou=function(e){var t=n.useState([]),a=Object(Z.a)(t,2),r=(a[0],a[1]),o=Object(pe.a)(),i=ju(),l=Object(Ca.a)();Object(ai.a)(),n.useEffect((function(){l.getListOfAll("organizations",{}).then((function(e){e&&e.data&&r(x.a.sortBy(e.data,"name"))}))}),[]);var c=function(){var e=Object(ni.a)(),t=e.ids,a=e.data;e.basePath;return n.createElement("div",{style:{margin:"1em",overflow:"auto"}},n.createElement(oi.a,{style:{overflow:"auto"}},n.createElement(ii.a,null,n.createElement(li.a,{className:i.filledRow},n.createElement(ci.a,{style:{minWidth:350}},"Project Code and Name"," "),n.createElement(ci.a,{style:{minWidth:100}},"Funding Source"),n.createElement(ci.a,{style:{minWidth:100}},"Start Date"),n.createElement(ci.a,{style:{minWidth:100}},"End Date"),n.createElement(ci.a,{style:{minWidth:100}},"Project Status"),n.createElement(ci.a,{style:{minWidth:100}},"Project Classification"),n.createElement(ci.a,{style:{minWidth:100}},"Spending since start of project"),n.createElement(ci.a,{style:{minWidth:100}},"Approved Budget FY 1"),n.createElement(ci.a,{style:{minWidth:100}},"Estimate of Arrears at end of the current FY 1"),n.createElement(ci.a,{style:{minWidth:100}},"Counterpart Funding signed agreements only (value FY 1)"),n.createElement(ci.a,{style:{minWidth:100}},"Cash Required for Commitments (FY 1)"),n.createElement(ci.a,{style:{minWidth:100}},"Arrears + All Contractual Commitments (FY 1 )"),n.createElement(ci.a,{style:{minWidth:100}},"FY-2 "),n.createElement(ci.a,{style:{minWidth:100}},"FY 3"),n.createElement(ci.a,{style:{minWidth:100}},"FY 4"),n.createElement(ci.a,{style:{minWidth:100}},"FY 5"),n.createElement(ci.a,{style:{minWidth:100}},"Outstanding Commitments"),n.createElement(ci.a,{style:{minWidth:100}},"Cumulative expenditure"),n.createElement(ci.a,{style:{minWidth:100}},"Approved Project Costs by DC as indicated in the PIP"),n.createElement(ci.a,{style:{minWidth:100}},"Comments from MDA"))),n.createElement(si.a,null,t.filter((function(e){return a[e]&&a[e].myc_data})).map((function(e){var t=a[e];return n.createElement(li.a,{key:t.id},n.createElement(ci.a,null,"".concat(t.code," - ").concat(t.name)),n.createElement(ci.a,null,t.myc_data.funding_source),n.createElement(ci.a,null,Er(t.myc_data.start_date)),n.createElement(ci.a,null,Er(t.myc_data.end_date)),n.createElement(ci.a,null,t.myc_data.status),n.createElement(ci.a,null,t.myc_data.classification),n.createElement(ci.a,null,t.myc_data.start_spending&&Ni(t.myc_data.start_spending)),n.createElement(ci.a,null,t.myc_data.approved_budget&&Ni(t.myc_data.approved_budget)),n.createElement(ci.a,null,t.myc_data.estimate_areas&&Ni(t.myc_data.estimate_areas)),n.createElement(ci.a,null,t.myc_data.counterpart_funding&&Ni(t.myc_data.counterpart_funding)),n.createElement(ci.a,null,t.myc_data.cash_required&&Ni(t.myc_data.cash_required)),n.createElement(ci.a,null,t.myc_data.arrears_contractual&&Ni(t.myc_data.arrears_contractual)),n.createElement(ci.a,null,t.myc_data.estimate_f2&&Ni(t.myc_data.estimate_f2)),n.createElement(ci.a,null,t.myc_data.estimate_f3&&Ni(t.myc_data.estimate_f3)),n.createElement(ci.a,null,t.myc_data.estimate_f4&&Ni(t.myc_data.estimate_f4)),n.createElement(ci.a,null,t.myc_data.estimate_f5&&Ni(t.myc_data.estimate_f5)),n.createElement(ci.a,null,t.myc_data.outstanding_commitments&&Ni(t.myc_data.outstanding_commitments)),n.createElement(ci.a,null,t.myc_data.cumulative_expenditure&&Ni(t.myc_data.cumulative_expenditure)),n.createElement(ci.a,null,t.myc_data.approved_project_costs&&Ni(t.myc_data.approved_project_costs)),n.createElement(ci.a,null,t.myc_data.mda_comments))})))))};return n.createElement(ui.a,{container:!0,spacing:3},n.createElement(nr,{reportId:"report-container",title:o("resources.".concat(e.location.pathname.slice(1,e.location.pathname.length),".name")),exportTypes:[Ha.WORD,Ha.PDF,Ha.XLS]}),n.createElement(ui.a,{item:!0,xs:12},n.createElement(se.a,{variant:"h4",style:{marginBottom:20}},o("resources.".concat(e.location.pathname.slice(1,e.location.pathname.length),".name"))),n.createElement(In.a,{style:{overflow:"auto"}},n.createElement(ri.a,Object.assign({},e,{basePath:"/projects",resource:"projects",bulkActionButtons:!1,actions:!1,filter:{phase_id:7},pagination:n.createElement(yu,null),sort:{field:"id",order:"DESC"}}),n.createElement(c,null)))))},wu=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{textAlign:"left",fontSize:"15px",fontWeight:"bold",paddingLeft:"30px",margin:"10px auto"},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"},table:{minWidth:700},titleRow:{cursor:"pointer","&:hover":{backgroundColor:"#f3f6f8"}},backButton:{marginBottom:20,position:"absolute",right:0,top:0,cursor:"pointer",display:"flex",alignItems:"center"}}}));var xu=function(e){var t=n.useState(0),a=Object(Z.a)(t,2),r=a[0],o=a[1],i=n.useState({}),l=Object(Z.a)(i,2),c=l[0],s=l[1],d=n.useState(null),m=Object(Z.a)(d,2),p=(m[0],m[1]),f=n.useState([]),_=Object(Z.a)(f,2),g=_[0],h=_[1],v=n.useState([]),b=Object(Z.a)(v,2),E=(b[0],b[1],Object(pe.a)()),j=wu(),y=Object(Ca.a)();Object(ee.f)((function(e){return e.app.appConfig})),n.useEffect((function(){y.custom("reports",{type:"ndp-report",method:"GET"}).then((function(e){e&&e.data&&h(e.data)}))}),[]);var O=x.a.groupBy(g,(function(e){return e.ndp_goal_name})),w=x.a.groupBy(g,(function(e){return e.ndp_outcome_name})),k=0,S=0,P=function(e){return function(){r<2?(p(e),s(Object(u.a)(Object(u.a)({},c),{},Object(N.a)({},r+1,e))),o(r+1)):(p(null),o(0))}};function C(){return 1===r?x.a.groupBy(O[c[r]],(function(e){return e.ndp_outcome_name})):2===r?x.a.groupBy(w[c[r]],(function(e){return e.ndp_strategy_name})):O}return n.createElement(ui.a,{container:!0,spacing:3},n.createElement(nr,{reportId:"report-container",title:"National Development Projects",exportTypes:[Ha.WORD,Ha.PDF,Ha.XLS]}),n.createElement(ui.a,{item:!0,xs:12,id:"report-container"},n.createElement("div",{style:{position:"relative"}},n.createElement(se.a,{variant:"h4",style:{marginBottom:20}},E("resources.".concat(e.location.pathname.slice(1,e.location.pathname.length),".name"))),r>0&&n.createElement(se.a,{variant:"h5",className:j.backButton,onClick:function(){r>0&&(o(r-1),s(Object(u.a)(Object(u.a)({},c),{},Object(N.a)({},r,null))))}},n.createElement(Ic.a,null),"back")),n.createElement(In.a,null,n.createElement("div",{className:"landscapeSection"},n.createElement(Fi.a,null,n.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",j.bordered,j.table),style:{width:"100%"}},n.createElement(ii.a,null,n.createElement(li.a,{className:j.filledRow},n.createElement(ci.a,null,"Name"),n.createElement(ci.a,null,"Cost (",E("titles.currency"),")"),n.createElement(ci.a,null,"Count"))),n.createElement(si.a,null,x.a.keys(C()).map((function(e){return S+=x.a.sumBy(C()[e],(function(e){return e.costs})),k+=x.a.sumBy(C()[e],(function(e){return e.total_count})),n.createElement(li.a,{className:j.titleRow,onClick:P(e)},n.createElement(ci.a,null,e),n.createElement(ci.a,null,Ni(x.a.sumBy(C()[e],(function(e){return e.costs})))),n.createElement(ci.a,null,x.a.sumBy(C()[e],(function(e){return e.total_count}))))})),n.createElement(li.a,null,n.createElement(ci.a,{variant:"head"},"Total (",E("titles.currency"),")"),n.createElement(ci.a,{variant:"head"},Ni(S)),n.createElement(ci.a,{variant:"head"},k)))))))))},ku=a(2003),Su=a(2093),Pu=a(608),Cu=a(2090),Nu=a(2083),Au=Object(ae.a)((function(e){return{filterInput:{width:"200px","& .MuiFormHelperText-root ":{display:"none"}},filters:{"& .MuiDrawer-paperAnchorRight":{width:"38%"}}}})),Du=function(e,t){return e.filter((function(e){return!t||e.parent_id===t}))},Tu=function(e){var t,a,r=Au();if(Number(e.level)&&(t="".concat(Number(e.level)-1)),a=e.items.filter((function(t){return Number(e.level)===Number(t.level)})),e.filterValues&&!x.a.isEmpty(e.filterValues)){x.a.keys(e.filterValues).forEach((function(e){}));var o=e.config[t]&&e.config[t].id;e.filterValues[o]&&(a=a.filter((function(t){return Number(t.parent_id)===Number(e.filterValues[o])})))}if(a&&0===a.length)return n.createElement(os.a,{className:r.filterInput,source:e.source,label:"Not Available",variant:"outlined",margin:"none",disabled:!0});var i=a.filter((function(e){return e.is_hidden})),l=a.filter((function(e){return!e.is_hidden}));return n.createElement(os.a,{className:r.filterInput,choices:[].concat(Object(D.a)(i),Object(D.a)(l)),source:e.source,label:e.label,variant:"outlined",margin:"none",onChange:e.onChange,value:e.filterValue,disabled:e.disabled})},Fu=function(e){var t=n.useState([]),a=Object(Z.a)(t,2),r=a[0],o=a[1],i=n.useState([]),l=Object(Z.a)(i,2),c=l[0],s=l[1],d=n.useState([]),m=Object(Z.a)(d,2),p=m[0],f=m[1],_=n.useState({organizations:null,programs:null,functions:null}),g=Object(Z.a)(_,2),h=g[0],v=g[1],b=Object(Ca.a)(),E=Au();n.useEffect((function(){b.getListOfAll("organizations",{}).then((function(e){f(e.data)})).catch((function(e){console.log(e)})),b.getListOfAll("programs",{}).then((function(e){o(e.data)})).catch((function(e){console.log(e)})),b.getListOfAll("functions",{}).then((function(e){s(e.data)})).catch((function(e){console.log(e)}))}),[]);var j=Object(ni.a)(),y=j.displayedFilters,O=j.filterValues,w=j.setFilters,k=j.hideFilter,S=L(),P=Object(ee.f)((function(e){return e.app.appConfig})),C=P.organizational_config,A=P.programs_config,D=P.functions_config;if(y&&!y.main)return null;var T=function(){w({},[])},F=function(e,t){return function(a){v((function(n){return Object(u.a)(Object(u.a)({},n),{},Object(N.a)({},e,Object(u.a)(Object(u.a)({},n[e]),{},Object(N.a)({},t,a.target.value))))}))}};return n.createElement(Se.a,{anchor:"right",open:y&&y.main,onClose:function(){return k("main")},className:E.filters},n.createElement(se.a,{variant:"h3",style:{textAlign:"right",padding:"15px 25px"}},"Filters Panel"),n.createElement(_s.b,{onSubmit:function(e){if(Object.keys(e).length>0){var t={};Object.keys(e).forEach((function(a){switch(a){case"function":case"sub_function":t.function_id=e[a];break;case"program":case"sub_program":t.program_id=e[a];break;case"ministry":case"departments":case"public_body":t.organization_id=e[a];break;default:t[a]=e[a]}})),w(t)}else k("main")},initialValues:O},(function(t){var a=t.handleSubmit;return n.createElement("form",{onSubmit:a,style:{padding:25}},n.createElement(di.a,{display:"flex",flexDirection:"column",mb:1,gridGap:"10px",gridRowGap:"10px"},n.createElement(se.a,{variant:"h5"},"Projects Filter"),n.createElement(di.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",gridGap:10,flexWrap:"wrap"},n.createElement(ns.a,{label:"Project Title",source:"name",alwaysOn:!0,variant:"outlined",margin:"none"}),S("full_access")&&n.createElement(ns.a,{label:"Project Number",source:"code",alwaysOn:!0,variant:"outlined",margin:"none"})),n.createElement(se.a,{variant:"h5"},"Organization Filter"),n.createElement(di.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",gridGap:10,flexWrap:"wrap"},C&&x.a.keys(C).map((function(t){var a;return n.createElement(Tu,Object.assign({},e,{level:t,source:C[t].id,label:C[t].name,items:1==t?p:Du(p,h.organizations&&h.organizations[t-1]),config:C,onChange:F("organizations",t),filterValue:h.organizations&&h.organizations[t],disabled:t>1&&!(null===h||void 0===h||null===(a=h.organizations)||void 0===a?void 0:a[t-1])}))}))),n.createElement(se.a,{variant:"h5"},"Program Filter"),n.createElement(di.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",gridGap:10,flexWrap:"wrap"},A&&x.a.keys(A).map((function(t){return n.createElement(Tu,Object.assign({},e,{level:t,source:A[t].id,label:A[t].name,items:1==t?r:Du(r,h.programs&&h.programs[1]),config:A,onChange:F("programs",t),filterValue:h.programs&&h.programs[t]}))}))),n.createElement(se.a,{variant:"h5"},"Functions Filter"),n.createElement(di.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",gridGap:10,flexWrap:"wrap"},D&&x.a.keys(D).map((function(t){return n.createElement(Tu,Object.assign({},e,{level:t,source:D[t].id,label:D[t].name,items:1==t?c:Du(c,h.functions&&h.functions[1]),config:D,onChange:F("functions",t),filterValue:h.functions&&h.functions[t]}))}))),!e.disablePhaseFilter&&n.createElement(n.Fragment,null,n.createElement(se.a,{variant:"h5"},"Phase Filter"),n.createElement(Nu.a,{sort:{field:"sequence",order:"ASC"},perPage:-1,source:"phase_id",reference:"phases",variant:"outlined",margin:"none",allowEmpty:!0},n.createElement(os.a,{optionText:"name",variant:"outlined",margin:"none"}))),n.createElement(se.a,{variant:"h5"},"Project Status Filter"),n.createElement(os.a,{variant:"outlined",margin:"none",source:"project_status",choices:x.a.keys(Ua).map((function(e){return{id:e,name:Ua[e]}}))}),n.createElement(se.a,{variant:"h5"},"Project dates"),n.createElement(di.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",gridGap:10,flexWrap:"wrap"},n.createElement(os.a,{source:"start_date",choices:vi(),variant:"outlined",margin:"none",className:E.filterInput}),n.createElement(os.a,{source:"end_date",choices:vi(),variant:"outlined",margin:"none",className:E.filterInput})),n.createElement(se.a,{variant:"h5"},"Projects creation dates"),n.createElement("br",null),n.createElement(di.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",gridGap:10,flexWrap:"wrap"},n.createElement(ys.a,{source:"created_on_start",variant:"outlined",margin:"none"}),n.createElement(ys.a,{source:"created_on_end",variant:"outlined",margin:"none"})),n.createElement(se.a,{variant:"h5"},"Projects submissions dates"),n.createElement("br",null),n.createElement(di.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",gridGap:10,flexWrap:"wrap"},n.createElement(ys.a,{source:"submission_date_start",variant:"outlined",margin:"none"}),n.createElement(ys.a,{source:"submission_date_end",variant:"outlined",margin:"none"})),n.createElement(di.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",mr:2},n.createElement(di.a,{component:"span",mr:2,mb:1.5},n.createElement(Ee.a,{variant:"contained",color:"primary",type:"submit"},"Apply Filters")),n.createElement(di.a,{component:"span",mb:1.5},n.createElement(Ee.a,{variant:"outlined",onClick:T},"Clear Filters")))))})))},Ru=a(568),Iu=a.n(Ru),Mu=a(1005),Wu=a.n(Mu),Lu=a(1006),Yu=a.n(Lu),Bu=a(1007),zu=a.n(Bu),qu=a(1008),Uu=a.n(qu),Vu=a(1009),Gu=a.n(Vu),Hu=a(1010),Ju=a.n(Hu),Xu=a(1004),$u=a.n(Xu),Ku=function(){var e=Object(ni.a)(),t=e.filterValues,a=e.showFilter;return r.a.createElement(Ee.a,{size:"small",color:"primary",onClick:function(){return a("main")},startIcon:r.a.createElement(Iu.a,null),endIcon:function(){var e=Object.keys(t).length;if(0===e)return null;if(e>9)return r.a.createElement($u.a,null);switch(e){case 1:return r.a.createElement(Ke.a,null);case 2:return r.a.createElement(Ze.a,null);case 3:return r.a.createElement(tt.a,null);case 4:return r.a.createElement(Wu.a,null);case 5:return r.a.createElement(Yu.a,null);case 6:return r.a.createElement(zu.a,null);case 7:return r.a.createElement(Uu.a,null);case 8:return r.a.createElement(Gu.a,null);case 9:return r.a.createElement(Ju.a,null);default:return null}}()},"Filters")},Qu=["className","exporter","filters","maxResults"],Zu=function(e){var t=e.className,a=(e.exporter,e.filters),r=(e.maxResults,Object(T.a)(e,Qu)),o=Object(F.a)().permissions,i=Object(ni.a)(),l=i.resource,c=i.displayedFilters,s=i.filterValues,u=i.basePath,d=i.showFilter,m=Object(ee.f)((function(e){return e.user.userInfo})),p=Object(ee.f)((function(e){return e.app.appConfig}));return n.createElement(di.a,{width:"100%"},n.createElement(Gs.a,Object.assign({className:t},Object(Pu.c)(r),{style:{display:"flex",alignItems:"end",paddingTop:"15px !important"}}),a&&Object(n.cloneElement)(a,{resource:l,showFilter:d,displayedFilters:c,filterValues:s,context:"button"}),function(){if(p){var t=x.a.max(x.a.keys(p.organizational_config)),a=!!Y("has_pimis_fields")||Number(m.organization.level)===Number(t);if(m&&m.organization&&a&&W(o,"create_project")&&!e.disableCreate)return!0}return!1}()&&n.createElement(ku.a,{basePath:u}),n.createElement(Cu.a,null),Y("has_filter_panel")&&n.createElement(Ku,null)),Y("has_filter_panel")&&n.createElement(Fu,e))},ed=a(2017),td=Object(ae.a)((function(e){return{filterInput:{"& .MuiFormHelperText-root ":{display:"none"}}}}));var ad=function(e){var t,a,n=td();if(Number(e.level)&&(t="".concat(Number(e.level)-1)),a=e.organizations.filter((function(t){return Number(e.level)===Number(t.level)})),e.filterValues&&!x.a.isEmpty(e.filterValues)){x.a.keys(e.filterValues).forEach((function(e){}));var o=e.organizational_config[t]&&e.organizational_config[t].id;e.filterValues[o]&&(a=a.filter((function(t){return Number(t.parent_id)===Number(e.filterValues[o])})))}return r.a.createElement(os.a,{className:n.filterInput,choices:a,source:e.source,label:e.label,variant:"outlined",margin:"none"})},nd=function(e){var t=Object(ee.f)((function(e){return e.app.appConfig})),a=t.organizational_config,n=t.programs_config,o=(t.functions_config,L()("view_ipr_actions")?{is_hidden:!1}:{is_hidden:!1,is_ipr:!1});return Y("has_filter_panel")?r.a.createElement(ed.a,Object.assign({},e,{variant:"outlined",margin:"none",style:{alignItems:"center",flex:"none"}}),r.a.createElement(ns.a,{label:"Project Number",source:"code",alwaysOn:!0,variant:"outlined",margin:"none"}),r.a.createElement(ns.a,{label:"Project Title",source:"name",alwaysOn:!0,variant:"outlined",margin:"none"})):r.a.createElement(ed.a,Object.assign({},e,{variant:"outlined",margin:"none",style:{alignItems:"center",flex:"none"}}),r.a.createElement(ns.a,{label:"Project Number",source:"code",alwaysOn:!0,variant:"outlined",margin:"none"}),r.a.createElement(ns.a,{label:"Project Title",source:"name",alwaysOn:!0,variant:"outlined",margin:"none"}),a&&x.a.keys(a).map((function(t){return r.a.createElement(ad,Object.assign({},e,{level:t,source:a[t].id,label:a[t].name,organizations:e.organizations,organizational_config:a}))})),n&&x.a.keys(n).map((function(t){return r.a.createElement(ad,Object.assign({},e,{level:t,source:"".concat(n[t].id,"_id"),label:n[t].name,organizations:e.programs,organizational_config:n}))})),!e.disablePhaseFilter&&r.a.createElement(Nu.a,{sort:{field:"sequence",order:"ASC"},perPage:-1,source:"phase_id",reference:"phases",allowEmpty:!0},r.a.createElement(os.a,{optionText:"name"})),r.a.createElement(Nu.a,{perPage:-1,source:"workflow_id",reference:"workflows",allowEmpty:!0,label:"Workflow Status",filter:o},r.a.createElement(os.a,{optionText:"status_msg"})),r.a.createElement(os.a,{source:"project_status",choices:x.a.keys(Ua).map((function(e){return{id:e,name:Ua[e]}}))}),r.a.createElement(os.a,{source:"start_date",choices:vi()}),r.a.createElement(os.a,{source:"end_date",choices:vi()}),r.a.createElement(ys.a,{source:"created_on_start"}),r.a.createElement(ys.a,{source:"created_on_end"}),r.a.createElement(ys.a,{source:"submission_date_start"}),r.a.createElement(ys.a,{source:"submission_date_end"}))};Object(ae.a)((function(e){return{filterInput:{"& .MuiFormHelperText-root ":{display:"none"}}}}));var rd=a(1036),od=a.n(rd),id=a(1031),ld=a.n(id),cd=a(1872),sd=a(217),ud=a.n(sd),dd=["basePath","className","classes","label","icon","variant"],md=n.createElement(ud.a,null),pd=Object(ae.a)((function(e){return{floating:{color:e.palette.getContrastText(e.palette.primary.main),margin:0,top:"auto",right:20,bottom:60,left:"auto",position:"fixed",zIndex:1e3},floatingLink:{color:"inherit"}}}),{name:"RaCreateButton"}),fd=Object(n.memo)((function(e){var t=e.basePath,a=void 0===t?"":t,r=e.className,o=(e.classes,e.label),i=void 0===o?"ra.action.create":o,l=e.icon,c=void 0===l?md:l,s=e.variant,u=Object(T.a)(e,dd),d=pd(e),m=Object(pe.a)();return Object(qr.a)((function(e){return e.breakpoints.down("sm")}))?n.createElement(cd.a,Object.assign({component:me.a,color:"primary",className:Ie()(d.floating,r),to:{pathname:"".concat(a,"/create"),state:{record:{level:e.level,redirect:e.basePath,config:e.config,field:e.field}}},"aria-label":i&&m(i)},u),c):n.createElement(Xn.a,Object.assign({component:me.a,to:{pathname:"".concat(a,"/create"),state:{record:{level:e.level,redirect:e.basePath,config:e.config,field:e.field}}},className:r,label:i,variant:s},u),c)}),(function(e,t){return e.basePath===t.basePath&&e.label===t.label&&e.translate===t.translate&&e.to===t.to})),_d={organizations:"create_organization",programs:"create_program",functions:"create_function",funds:"create_fund",costings:"create_costing",locations:"create_location"},gd=function(e){e.currentSort;var t=e.resource,a=(e.displayedFilters,e.filterValues,e.hasCreate,e.basePath,e.selectedIds,e.showFilter,e.total,e.level),n=e.config,o=e.field,i=e.hasEditAccess;return r.a.createElement(Gs.a,null,i&&r.a.createElement(fd,{basePath:"/"+t,level:a,config:n,field:o}))},hd=function(e){var t=Object(qr.a)((function(e){return e.breakpoints.down("xs")})),a=L();return r.a.createElement(ri.a,Object.assign({filter:{level:e.level},actions:r.a.createElement(gd,{resource:e.resource,level:e.level,config:e.config,field:e.field,hasEditAccess:e.resource&&a(_d[e.resource])})},e,{bulkActionButtons:!1}),t?r.a.createElement(Su.a,{primaryText:function(e){return e.username},secondaryText:function(e){return"".concat(e.full_name)},tertiaryText:function(e){return e.roles}}):r.a.createElement(Nl.a,null,r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Al.a,{source:"code"}),r.a.createElement(Al.a,{source:"name"}),r.a.createElement(Al.a,{source:"parent_id"}),r.a.createElement(Al.a,{source:"level"}),r.a.createElement(zs.a,{basePath:e.resource})))},vd=a(2091),bd=a(734);var Ed=function(e){return r.a.createElement(bd.a,{label:function(e){if(Object(w.isString)(e))switch(e){case"UNDERFUNDED":case"NOT_SATISFACTORY":return"Not Satisfactory";case"MODERATELY_SATISFACTORY":return"Moderately Satisfactory";case"SATISFACTORY":return"Satisfactory";default:return""}return e<1?"Satisfactory":e>=1&&e<=25?"Moderately Satisfactory":e>25?"Not Satisfactory":void 0}(e.value),style:{color:"white",borderRadius:10,backgroundColor:function(){if(Object(w.isString)(e.value))switch(e.value){case"UNDERFUNDED":case"NOT_SATISFACTORY":return"red";case"MODERATELY_SATISFACTORY":return"yellow";case"SATISFACTORY":return"green";default:return""}return 100-e.value<1?"green":100-e.value>=1&&100-e.value<=25?"yellow":100-e.value>25?"red":void 0}()}})},jd=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{textAlign:"left",fontSize:"15px",fontWeight:"bold",paddingLeft:"30px",margin:"10px auto"},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}}));var yd=function(e){var t=n.useState("physical_progress"),a=Object(Z.a)(t,2),r=a[0],o=a[1],i=n.useState(1),l=Object(Z.a)(i,2),c=l[0],s=l[1],u=n.useState([]),d=Object(Z.a)(u,2),m=d[0],p=d[1],f=n.useState([]),_=Object(Z.a)(f,2),g=(_[0],_[1],n.useState([])),h=Object(Z.a)(g,2),v=(h[0],h[1],Object(pe.a)()),b=jd(),E=Object(Ca.a)();n.useEffect((function(){E.custom("reports",{type:"psip-report",method:"GET"}).then((function(e){e&&e.data&&p(e.data)}))}),[]);var j=function(e){return function(){x.a.isEmpty(r)?o(e):e===r?s(!c):o(e)}};return n.createElement(ui.a,{container:!0,spacing:3},n.createElement(ui.a,{item:!0,xs:12},n.createElement(se.a,{variant:"h4",style:{marginBottom:20}},v("resources.".concat(e.location.pathname.slice(1,e.location.pathname.length),".name"))),n.createElement(In.a,null,n.createElement(oi.a,null,n.createElement(ii.a,null,n.createElement(li.a,{className:b.filledRow},n.createElement(ci.a,null,"Code"),n.createElement(ci.a,null,"Name"),n.createElement(ci.a,null,"Sector"),n.createElement(ci.a,null,"Vote"),n.createElement(ci.a,{style:{cursor:"pointer"}},n.createElement(vd.a,{active:"physical_progress"===r,direction:c?"desc":"asc",onClick:j("physical_progress")},"Physical Progress")),n.createElement(ci.a,{style:{cursor:"pointer"}},n.createElement(vd.a,{active:"financial_progress"===r,direction:c?"desc":"asc",onClick:j("financial_progress")},"Financial Progress")),n.createElement(ci.a,null,"Costs (",v("titles.currency"),")"))),n.createElement(si.a,null,m&&function(e){if(x.a.isEmpty(r))return e.sortBy(e,(function(e){return e.progress[r]}));var t=x.a.sortBy(e,(function(e){return e.progress[r]})).reverse();return c?t.reverse():t}(m).map((function(e){return e.total_cost=0,x.a.keys(e.costs).map((function(t){e.total_cost+=e.costs[t]})),n.createElement(li.a,null,n.createElement(ci.a,null,e.code),n.createElement(ci.a,null,e.name),n.createElement(ci.a,null,e.project_organization.parent.name),n.createElement(ci.a,null,e.project_organization.name),n.createElement(ci.a,null,e.progress&&n.createElement(Ed,{value:e.progress.physical_progress})),n.createElement(ci.a,null,e.progress&&n.createElement(Ed,{value:e.progress.financial_progress})),n.createElement(ci.a,null,Ni(e.total_cost)))})),n.createElement(li.a,{className:b.filledRow},n.createElement(ci.a,{style:{fontWeight:"bold"}},"Total"),n.createElement(ci.a,null),n.createElement(ci.a,null),n.createElement(ci.a,null),n.createElement(ci.a,null),n.createElement(ci.a,null),n.createElement(ci.a,{style:{fontWeight:"bold"}},Ni(x.a.sumBy(m,(function(e){return parseFloat(e.total_cost)}))))))))))};var Od=function(e){return r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"75vh"}},r.a.createElement("svg",{version:"1.1",x:"0px",y:"0px",width:"419.931px",height:"419.931px",viewBox:"0 0 419.931 419.931",fill:"#c6c7c7"},r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M282.895,352.367c-2.176-1.324-4.072-3.099-5.579-5.25c-0.696-0.992-1.284-2.041-1.771-3.125H28.282V100.276h335.624 v159.138c7.165,0.647,13.177,5.353,15.701,11.797c2.235-1.225,4.726-1.982,7.344-2.213c1.771-0.154,3.53-0.044,5.236,0.293 V39.561c0-12.996-10.571-23.569-23.566-23.569H23.568C10.573,15.992,0,26.565,0,39.561v309.146 c0,12.996,10.573,23.568,23.568,23.568h257.179c-2.007-4.064-2.483-8.652-1.302-13.066 C280.126,356.67,281.304,354.354,282.895,352.367z M338.025,55.569c0-4.806,3.896-8.703,8.702-8.703h8.702 c4.807,0,8.702,3.896,8.702,8.703v9.863c0,4.806-3.896,8.702-8.702,8.702h-8.702c-4.807,0-8.702-3.896-8.702-8.702V55.569z M297.56,55.569c0-4.806,3.896-8.703,8.702-8.703h8.703c4.807,0,8.702,3.896,8.702,8.703v9.863c0,4.806-3.896,8.702-8.702,8.702 h-8.703c-4.806,0-8.702-3.896-8.702-8.702V55.569z M257.094,55.569c0-4.806,3.897-8.703,8.702-8.703h8.702 c4.807,0,8.703,3.896,8.703,8.703v9.863c0,4.806-3.896,8.702-8.703,8.702h-8.702c-4.805,0-8.702-3.896-8.702-8.702V55.569z"}),r.a.createElement("path",{d:"M419.875,335.77l-2.615-14.83c-0.353-1.997-2.256-3.331-4.255-2.979l-13.188,2.324c-1.583-3.715-3.605-7.195-6.005-10.38 l8.614-10.268c0.626-0.744,0.931-1.709,0.847-2.68c-0.086-0.971-0.554-1.867-1.3-2.494l-11.534-9.68 c-0.746-0.626-1.713-0.93-2.683-0.845c-0.971,0.085-1.867,0.552-2.493,1.298l-8.606,10.26c-3.533-1.8-7.312-3.188-11.271-4.104 v-13.392c0-2.028-1.645-3.674-3.673-3.674h-15.06c-2.027,0-3.673,1.646-3.673,3.674v13.392 c-3.961,0.915-7.736,2.304-11.271,4.104l-8.608-10.259c-1.304-1.554-3.62-1.756-5.175-0.453l-11.535,9.679 c-0.746,0.627-1.213,1.523-1.299,2.494c-0.084,0.971,0.22,1.937,0.846,2.683l8.615,10.266c-2.396,3.184-4.422,6.666-6.005,10.38 l-13.188-2.325c-1.994-0.351-3.901,0.982-4.255,2.979l-2.614,14.83c-0.169,0.959,0.05,1.945,0.607,2.744 c0.561,0.799,1.41,1.342,2.37,1.511l13.198,2.326c0.215,4.089,0.927,8.045,2.073,11.812l-11.6,6.695 c-0.844,0.485-1.459,1.289-1.712,2.229c-0.252,0.941-0.119,1.943,0.367,2.787l7.529,13.041c0.485,0.844,1.289,1.459,2.229,1.711 c0.313,0.084,0.632,0.125,0.951,0.125c0.639,0,1.272-0.166,1.836-0.492l11.609-6.703c2.73,2.925,5.812,5.517,9.18,7.709 l-4.584,12.593c-0.332,0.916-0.289,1.926,0.123,2.809s1.157,1.566,2.072,1.898l14.148,5.149c0.406,0.148,0.832,0.224,1.257,0.224 c0.53,0,1.063-0.115,1.554-0.345c0.883-0.411,1.564-1.157,1.897-2.073l4.583-12.593c1.965,0.238,3.965,0.361,5.994,0.361 s4.029-0.125,5.994-0.361l4.584,12.593c0.332,0.916,1.016,1.662,1.897,2.073c0.49,0.229,1.021,0.345,1.554,0.345 c0.424,0,0.85-0.074,1.256-0.224l14.15-5.149c0.913-0.332,1.659-1.017,2.07-1.898c0.412-0.883,0.456-1.893,0.123-2.809 l-4.584-12.591c3.365-2.192,6.447-4.786,9.18-7.709l11.609,6.703c0.563,0.324,1.197,0.492,1.836,0.492 c0.318,0,0.64-0.043,0.951-0.125c0.941-0.252,1.743-0.869,2.229-1.711l7.529-13.043c0.486-0.842,0.619-1.846,0.367-2.787 c-0.253-0.938-0.868-1.742-1.712-2.229l-11.598-6.693c1.146-3.768,1.856-7.724,2.071-11.812l13.198-2.327 c0.96-0.169,1.812-0.712,2.37-1.511C419.825,337.715,420.044,336.729,419.875,335.77z M354.184,359.336 c-11.155,0-20.2-9.045-20.2-20.201s9.046-20.2,20.2-20.2c11.156,0,20.201,9.044,20.201,20.2S365.34,359.336,354.184,359.336z"}),r.a.createElement("g",null,r.a.createElement("path",{d:"M164.695,235.373c0-4.752-2.785-9.117-7.096-11.119l-39.455-18.332l39.456-18.334c4.31-2.004,7.095-6.368,7.095-11.118 v-0.319c0-4.21-2.119-8.075-5.665-10.334c-1.962-1.253-4.247-1.916-6.606-1.916c-1.778,0-3.563,0.391-5.16,1.133l-63.078,29.333 c-4.309,2.004-7.092,6.368-7.092,11.117v0.877c0,4.743,2.782,9.104,7.093,11.118l63.084,29.336 c1.631,0.755,3.368,1.138,5.162,1.138c2.338,0,4.616-0.664,6.597-1.924c3.548-2.268,5.666-6.13,5.666-10.335L164.695,235.373 L164.695,235.373z"}),r.a.createElement("path",{d:"M226.932,134.012c-2.301-3.15-6.002-5.03-9.901-5.03h-0.314c-5.354,0-10.048,3.425-11.679,8.516L163.478,266.27 c-1.183,3.718-0.517,7.813,1.781,10.962c2.301,3.148,6.002,5.029,9.901,5.029h0.315c5.352,0,10.043-3.426,11.672-8.516 l41.555-128.762C229.896,141.268,229.234,137.167,226.932,134.012z"}),r.a.createElement("path",{d:"M308.001,194.366l-63.079-29.333c-1.592-0.74-3.374-1.131-5.152-1.131c-2.358,0-4.644,0.661-6.605,1.912 c-3.552,2.263-5.671,6.127-5.671,10.337v0.319c0,4.746,2.783,9.111,7.097,11.123l39.454,18.33l-39.455,18.331 c-4.311,2.002-7.096,6.367-7.096,11.119v0.321c0,4.205,2.119,8.066,5.669,10.336c1.974,1.258,4.254,1.923,6.595,1.923 c1.792,0,3.527-0.383,5.169-1.141l63.082-29.336c4.307-2.009,7.088-6.371,7.088-11.114v-0.877 C315.094,200.735,312.311,196.371,308.001,194.366z"}))))),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null)))};Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{textAlign:"left",fontSize:"15px",fontWeight:"bold",paddingLeft:"30px",margin:"10px auto"}}}));var wd=a(1040),xd=a.n(wd),kd=["details","project"],Sd=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),Pd=function(e){var t,a,o,i=e.details,l=e.project,c=(Object(T.a)(e,kd),Object(pe.a)()),s=Sd();function u(e){if(Y("has_pimis_fields")){if(e){var t=e.replace("(","").replace(")",""),a=t.slice(0,3),n=t.slice(3,t.length+2);return"(".concat(a,")").concat(n)}return e}return e}var d=i&&String(Pi(i)).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1,")+" ".concat(c("titles.currency"));return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement(se.a,{variant:"h2",style:{marginLeft:15,marginBottom:15}},l.name),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",s.bordered,s.table)},r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Project"),r.a.createElement(ci.a,null," ",l.name)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Implementing agency"),r.a.createElement(ci.a,null,null===(t=i.implementing_agencies)||void 0===t?void 0:t.map((function(e){return r.a.createElement(se.a,null,"".concat(e.organization.code," - ").concat(e.organization.name))})))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"responsible officer"),r.a.createElement(ci.a,null," ",i.responsible_officers&&i.responsible_officers.map((function(e,t){return r.a.createElement(n.Fragment,null,r.a.createElement("p",null,c("printForm.project_info.responsible_officers.title"),": ",e.title?e.title:"-"),r.a.createElement("p",null,c("printForm.project_info.responsible_officers.name"),": ",e.name?e.name:"-"),r.a.createElement("p",null,c("printForm.project_info.responsible_officers.mobile_phone"),":"," ",e.mobile_phone?u(e.mobile_phone):"-"),r.a.createElement("p",null,c("printForm.project_info.responsible_officers.phone"),": ",e.phone?u(e.phone):"-"),r.a.createElement("p",null,c("printForm.project_info.responsible_officers.email"),": ",e.email?e.email:"-"),0===t&&r.a.createElement("hr",null))})))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Location: "),r.a.createElement(ci.a,null,x.a.isEmpty(i.locations)?i.additional_data&&i.additional_data.location?gi()(i.additional_data.location):null:i.locations.map((function(e){return r.a.createElement("p",null,e?e.location&&e.location.name:"-")})))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Total Project Value (Billions):"),r.a.createElement(ci.a,null,d)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Internal Rate of Investment (IRR):"),r.a.createElement(ci.a,null,"12")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Cost Benefit Analysis (CBA):"),r.a.createElement(ci.a,null,"221")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Net Present Value (NPV): "),r.a.createElement(ci.a,null,"121 ")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Start Date:"),r.a.createElement(ci.a,null,i&&(null===(a=wi(i.start_date))||void 0===a?void 0:a.name))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Completion Date: "),r.a.createElement(ci.a,null,i&&(null===(o=wi(i.created_on))||void 0===o?void 0:o.name))))))))},Cd=["details","project"],Nd=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),Ad=function(e){var t,a,n,o=e.details,i=(e.project,Object(T.a)(e,Cd),Nd());return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement(se.a,{variant:"h2",style:{marginLeft:15,marginBottom:15}},"Background Information"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",i.bordered,i.table)},r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Background"),r.a.createElement(ci.a,null," ",o&&gi()(o.problem_statement))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Objectives"),r.a.createElement(ci.a,null,null===o||void 0===o||null===(t=o.outcomes)||void 0===t?void 0:t.map((function(e){return r.a.createElement(se.a,null,e.name)})))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Expected Outputs:"),r.a.createElement(ci.a,null,null===o||void 0===o||null===(a=o.outputs)||void 0===a?void 0:a.map((function(e){return r.a.createElement(se.a,null,e.name)})))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Technical description of the project:"),r.a.createElement(ci.a,{align:"justify"},o&&gi()(o.summary))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Project Achievements:"),r.a.createElement(ci.a,null,"Achievements")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Planned activities for FY 2020/21"),r.a.createElement(ci.a,null,null===o||void 0===o||null===(n=o.activities)||void 0===n?void 0:n.map((function(e){return r.a.createElement(se.a,null,e.name)})))))))))},Dd=a(2019),Td=["details","project"],Fd=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),Rd=function(e){e.details,e.project,Object(T.a)(e,Td),Object(pe.a)();var t=Fd();return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement(se.a,{variant:"h2",style:{marginLeft:15,marginBottom:15}},"Project Funding Allocations"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",t.bordered,t.table)},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{rowSpan:2},"Project Funding Allocations (UShs billion"),r.a.createElement(ci.a,null,"2018/2019"),r.a.createElement(ci.a,null,"2019/2020"),r.a.createElement(ci.a,null),r.a.createElement(ci.a,{colSpan:2},"MTEF Projections")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Budget"),r.a.createElement(ci.a,null,"Budget"),r.a.createElement(ci.a,null,"2020/2021"),r.a.createElement(ci.a,null,"2021/2022"),r.a.createElement(ci.a,null,"2022/2023"))),r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Domestic Development Funding for Project"),r.a.createElement(ci.a,null,"0,411"),r.a.createElement(ci.a,null,"0,411"),r.a.createElement(ci.a,null,"0,611"),r.a.createElement(ci.a,null,"0,660"),r.a.createElement(ci.a,null,"0,660")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Donor funding for Project"),r.a.createElement(ci.a,null,"117,601"),r.a.createElement(ci.a,null,"115,300"),r.a.createElement(ci.a,null,"296,260"),r.a.createElement(ci.a,null,"114,000"),r.a.createElement(ci.a,null,"45,000"))),r.a.createElement(Dd.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Total Funding Project"),r.a.createElement(ci.a,null,"117,601"),r.a.createElement(ci.a,null,"115,711"),r.a.createElement(ci.a,null,"296,871"),r.a.createElement(ci.a,null,"114,660"),r.a.createElement(ci.a,null,"45,660")))))))},Id=["details","project"],Md=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),Wd=function(e){e.details,e.project,Object(T.a)(e,Id),Object(pe.a)();var t=Md();return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement(se.a,{variant:"h2",style:{marginLeft:15,marginBottom:15}},"Summary Project Estimates"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",t.bordered,t.table)},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{rowSpan:2},"Billions of Uganda Shillings"),r.a.createElement(ci.a,{colSpan:5},"2019/2020 Approved Budget"),r.a.createElement(ci.a,{colSpan:5},"2021/2022 Approved Estimates")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"GoU"),r.a.createElement(ci.a,null,"External Fin."),r.a.createElement(ci.a,null,"A.I.A."),r.a.createElement(ci.a,null,"Total"),r.a.createElement(ci.a,null,"Source of Fund"),r.a.createElement(ci.a,null,"GoU"),r.a.createElement(ci.a,null,"External Fin."),r.a.createElement(ci.a,null,"A.I.A."),r.a.createElement(ci.a,null,"Total"),r.a.createElement(ci.a,null,"Source of Fund"))),r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"1263 Agriculture Cluster Development Project"),r.a.createElement(ci.a,null,"0"),r.a.createElement(ci.a,null,"4,000"),r.a.createElement(ci.a,null,"0"),r.a.createElement(ci.a,null,"4,000"),r.a.createElement(ci.a,null,"GoU"),r.a.createElement(ci.a,null,"0"),r.a.createElement(ci.a,null,"4,900"),r.a.createElement(ci.a,null,"0"),r.a.createElement(ci.a,null,"4,900"),r.a.createElement(ci.a,null,"Donor")))))))},Ld=function(e){e.customRecord;var t=e.counter,a=void 0===t?1:t,n=e.details,o=(Object(pe.a)(),n&&n.me_reports&&n.me_reports[0]);return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",{className:"content-area_title"},ki(a),". Challenges, Recommendations and lessons learned"),r.a.createElement("div",null,r.a.createElement("p",null,"Challenges"),r.a.createElement("p",null,o.challenges),r.a.createElement("p",null,"Recommendations "),r.a.createElement("p",null,o.recommendations),r.a.createElement("p",null,"Lessons"),r.a.createElement("p",null,o.lessons_learned))))},Yd=["details","project"],Bd=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),zd=function(e){e.details,e.project,Object(T.a)(e,Yd),Object(pe.a)();var t=Bd();return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement(se.a,{variant:"h2",style:{marginLeft:15,marginBottom:15}},"ProcurementPlan"),r.a.createElement(se.a,{variant:"h4",style:{marginLeft:15,marginBottom:15}},"Vote: 013 Ministry of Education and Sports"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",t.bordered,t.table)},r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Name of Procuring Entry:"),r.a.createElement(ci.a,null,"Ministry of Education and Sports")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Financial Year:"),r.a.createElement(ci.a,null,"2021-2022"))))),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",t.bordered,t.table)},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{rowSpan:2},"S/no"),r.a.createElement(ci.a,{rowSpan:2},"Subject of procurement"),r.a.createElement(ci.a,{rowSpan:2},"Plan"),r.a.createElement(ci.a,{colSpan:3},"Basic Data"),r.a.createElement(ci.a,{colSpan:2},"Contract Finalization")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Estimated Cost (UGX)"),r.a.createElement(ci.a,null,"Source of Funding"),r.a.createElement(ci.a,null,"Procurement Method"),r.a.createElement(ci.a,null,"Contract Signature Date"),r.a.createElement(ci.a,null,"Procurement Start Date"))),r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:8},"Sub-Programm: 01 Pre-Primary and Primary Education")),r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:8},"Department: 02 Basic Education")),r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:8},"Budget Output: 01 Policies, laws, guidelines, plans and strategies")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"221011"),r.a.createElement(ci.a,null,"Printing, Stationery, Photocopying"),r.a.createElement(ci.a,null,"Plan"),r.a.createElement(ci.a,null,"176,151.355"),r.a.createElement(ci.a,null,"Now Wage"),r.a.createElement(ci.a,null,"Restricted Bidding"),r.a.createElement(ci.a,null,"6/11/2021"),r.a.createElement(ci.a,null,"8/30/2021")))))))},qd=["details","project"],Ud=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),Vd=function(e){e.details,e.project,Object(T.a)(e,qd),Object(pe.a)();var t=Ud();return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement(se.a,{variant:"h2",style:{marginLeft:15,marginBottom:15}},"Cost Annualized Plan"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",t.bordered,t.table)},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{rowSpan:3,colSpan:2},"Cost Classification"),r.a.createElement(ci.a,{colSpan:5},"Current fiscal year"),r.a.createElement(ci.a,{colSpan:5},"Next fiscal Year")),r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:5},"2020/2021"),r.a.createElement(ci.a,{colSpan:5},"2021/2022")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Procurement method"),r.a.createElement(ci.a,null,"Procurement start date"),r.a.createElement(ci.a,null,"Anticipated contract signed date"),r.a.createElement(ci.a,null,"Procurement details"),r.a.createElement(ci.a,null,"Amount"),r.a.createElement(ci.a,null,"Procurement method"),r.a.createElement(ci.a,null,"Procurement start date"),r.a.createElement(ci.a,null,"Anticipated contract signed date"),r.a.createElement(ci.a,null,"Procurement details"),r.a.createElement(ci.a,null,"Amount"))),r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:2,style:{fontWeight:"bold"}},"Cost Classification 1"),r.a.createElement(ci.a,{style:{fontWeight:"bold"}},"Procurement method"),r.a.createElement(ci.a,{style:{fontWeight:"bold"}},"Procurement start date"),r.a.createElement(ci.a,{style:{fontWeight:"bold"}},"Anticipated contract signed date"),r.a.createElement(ci.a,{style:{fontWeight:"bold"}},"Procurement details"),r.a.createElement(ci.a,{style:{fontWeight:"bold"}},"2000"),r.a.createElement(ci.a,{style:{fontWeight:"bold"}},"Procurement method"),r.a.createElement(ci.a,{style:{fontWeight:"bold"}},"Procurement start date"),r.a.createElement(ci.a,{style:{fontWeight:"bold"}},"Anticipated contract signed date"),r.a.createElement(ci.a,{style:{fontWeight:"bold"}},"Procurement details"),r.a.createElement(ci.a,{style:{fontWeight:"bold"}},"2000")),r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:2},"Fund Source 1"),r.a.createElement(ci.a,null,"Procurement method"),r.a.createElement(ci.a,null,"Procurement start date"),r.a.createElement(ci.a,null,"Anticipated contract signed date"),r.a.createElement(ci.a,null,"Procurement details"),r.a.createElement(ci.a,null,"1000"),r.a.createElement(ci.a,null,"Procurement method"),r.a.createElement(ci.a,null,"Procurement start date"),r.a.createElement(ci.a,null,"Anticipated contract signed date"),r.a.createElement(ci.a,null,"Procurement details"),r.a.createElement(ci.a,null,"1000")),r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:2},"Fund Source 2"),r.a.createElement(ci.a,null,"Procurement method"),r.a.createElement(ci.a,null,"Procurement start date"),r.a.createElement(ci.a,null,"Anticipated contract signed date"),r.a.createElement(ci.a,null,"Procurement details"),r.a.createElement(ci.a,null,"1000"),r.a.createElement(ci.a,null,"Procurement method"),r.a.createElement(ci.a,null,"Procurement start date"),r.a.createElement(ci.a,null,"Anticipated contract signed date"),r.a.createElement(ci.a,null,"Procurement details"),r.a.createElement(ci.a,null,"1000")))))))},Gd=["details","project"],Hd=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),Jd=function(e){var t,a=e.details,n=(e.project,Object(T.a)(e,Gd),Object(pe.a)(),Hd()),o=a&&x.a.first(a.project_options);return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement(se.a,{variant:"h2",style:{marginLeft:15,marginBottom:15}},"RiskManagement"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",n.bordered,n.table)},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{rowSpan:2},"Risk Description"),r.a.createElement(ci.a,null,"Likelihood of Occurrence (Low to Very High)"),r.a.createElement(ci.a,null,"Impact (Low to very high)"),r.a.createElement(ci.a,null,"Mitigation plan"),r.a.createElement(ci.a,null,"Responsible Entity"))),r.a.createElement(si.a,null,null===(t=o.risk_evaluations)||void 0===t?void 0:t.map((function(e){return r.a.createElement(li.a,{key:e.id},r.a.createElement(ci.a,null,e.description),r.a.createElement(ci.a,null,e.occurrence),r.a.createElement(ci.a,null,e.impact),r.a.createElement(ci.a,null,e.mitigation_plan),r.a.createElement(ci.a,null,e.description))})))))))},Xd=["details","project"],$d=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),Kd=function(e){var t,a=e.details,n=(e.project,Object(T.a)(e,Xd),Object(pe.a)(),$d()),o=a&&x.a.first(a.project_options);return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement(se.a,{variant:"h2",style:{marginLeft:15,marginBottom:15}},"Stakeholder Engagement"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",n.bordered,n.table)},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Stakeholder Name"),r.a.createElement(ci.a,null,"Interest Level"),r.a.createElement(ci.a,null,"Level of Influence"),r.a.createElement(ci.a,null,"Status of Engagement"),r.a.createElement(ci.a,null,"Level of engagement"),r.a.createElement(ci.a,null,"Engagement frequency"),r.a.createElement(ci.a,null,"Communication Channel"),r.a.createElement(ci.a,null,"Issues"),r.a.createElement(ci.a,null,"Mitigation Measures"),r.a.createElement(ci.a,null,"Responsible Entity"))),r.a.createElement(si.a,null,null===(t=o.stakeholder_evaluations)||void 0===t?void 0:t.map((function(e){return r.a.createElement(li.a,{key:e.id},r.a.createElement(ci.a,null,e.name),r.a.createElement(ci.a,null,"LOW"),r.a.createElement(ci.a,null,"MEDIUM"),r.a.createElement(ci.a,null,"LOW"),r.a.createElement(ci.a,null,"MEDIUM"),r.a.createElement(ci.a,null,"MEDIUM"),r.a.createElement(ci.a,null,"Government"),r.a.createElement(ci.a,null,"Some issues"),r.a.createElement(ci.a,null,"Mitigation Measures"),r.a.createElement(ci.a,null,"Responsible"))})))))))},Qd=["details","project"],Zd=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),em=function(e){e.details,e.project,Object(T.a)(e,Qd),Object(pe.a)();var t=Zd();return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement(se.a,{variant:"h2",style:{marginLeft:15,marginBottom:15}},"Human Resources Management"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",t.bordered,t.table)},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Position"),r.a.createElement(ci.a,null,"Name"),r.a.createElement(ci.a,null,"Contract Details"),r.a.createElement(ci.a,null,"Responsibility"),r.a.createElement(ci.a,null,"Level of Involvement"))),r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Engineer"),r.a.createElement(ci.a,null,"John Smith"),r.a.createElement(ci.a,null,"Signed date 01.01.2020 duration 2 years"),r.a.createElement(ci.a,null,"ACTIVE"),r.a.createElement(ci.a,null,"HIGH")))))))};Object(ae.a)((function(e){return{root:{display:"flex"},content:{flexGrow:1,padding:e.spacing(3),paddingTop:e.spacing(8)},ganttChartTable:{"& th":{borderLeft:"3px solid #c8ced3"},"& td":{padding:"3px 0px !important",borderLeft:"1px solid #c8ced3"},"& .title":{paddingLeft:"15px !important"},"& .filledCell":{background:"blue",padding:"12px 0px"}},button:{marginLeft:15}}}));var tm=function(e){var t=Object(n.useState)(null),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(null),c=Object(Z.a)(l,2),s=c[0],u=c[1],d=Object(Ca.a)();return Object(n.useEffect)((function(){var t,a;d.getOne("project-details",{id:null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id}).then((function(e){e&&e.data&&i(H(e.data))}))}),[]),Object(n.useEffect)((function(){o&&d.getOne("projects",{id:o.project_id}).then((function(e){e&&e.data&&u(e.data)}))}),[o]),o&&s?r.a.createElement(In.a,{style:{padding:"30px"}},r.a.createElement("div",{id:"docx",className:"export_container"},r.a.createElement(Pd,Object.assign({},e,{details:o,project:s})),r.a.createElement(hl,null),r.a.createElement("div",null,r.a.createElement(Ad,Object.assign({},e,{counter:"1",details:o,project:s})),r.a.createElement(hl,null),r.a.createElement(Rd,Object.assign({},e,{counter:"2",details:o,project:s})),r.a.createElement(hl,null),r.a.createElement(Wd,Object.assign({counter:"3"},e,{details:o,project:s})),r.a.createElement(hl,null),r.a.createElement(Ld,Object.assign({counter:"4"},e,{details:o,project:s})),r.a.createElement(hl,null),r.a.createElement(zd,Object.assign({counter:"5"},e,{details:o,project:s})),r.a.createElement(hl,null),r.a.createElement(Vd,Object.assign({counter:"6"},e,{details:o,project:s})),r.a.createElement(hl,null),r.a.createElement(Jd,Object.assign({counter:"7"},e,{details:o,project:s})),r.a.createElement(hl,null),r.a.createElement(Kd,Object.assign({counter:"8"},e,{details:o,project:s})),r.a.createElement(hl,null),r.a.createElement(em,Object.assign({counter:"9"},e,{details:o,project:s})),r.a.createElement(hl,null)))):null};Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{fontWeight:"bold",margin:"10px auto"},subtitle:{margin:"10px auto"},buttonsContainer:{width:"100%",display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"10px 25px"},buttons:{width:"100px",fontSize:"16px",display:"flex",justifyContent:"space-around"},titleColumn:{width:"35%"}}}));var am=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{fontWeight:"bold",margin:"10px auto"},subtitle:{margin:"10px auto"},buttonsContainer:{width:"100%",display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"10px 25px"},buttons:{width:"100px",fontSize:"16px",display:"flex",justifyContent:"space-around"},titleColumn:{width:"35%"}}}));var nm=function(e){var t=Object(n.useState)([]),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)([]),c=Object(Z.a)(l,2),s=(c[0],c[1]),u=Object(pe.a)(),d=am(),m=Object(Ca.a)();function p(e){var t={};return x.a.groupBy(e,(function(e){return function e(a){return a&&a.level&&(t[a.level]=a.id,2===a.level)?a:a&&a.parent?e(a.parent):a}(e.project_organization).name}))}Object(n.useEffect)((function(){m.getListOfAll("organizations",{}).then((function(e){e&&e.data&&s(x.a.sortBy(e.data,"name"))})),m.custom("reports",{type:"pivot",method:"GET"}).then((function(e){if(e&&e.data){var t=e.data.filter((function(e){return!x.a.isEmpty(e.costs)})).filter((function(e){return e.phase&&4===e.phase.sequence}));i(t)}}))}),[]);var f=Jl(o);return r.a.createElement(ui.a,{container:!0,spacing:3},r.a.createElement(nr,{reportId:"report-container",title:"Pipeline Projects Portfolio",exportTypes:[Ha.WORD,Ha.PDF,Ha.XLS]}),r.a.createElement(ui.a,{item:!0,xs:12,id:"report-container"},r.a.createElement(se.a,{variant:"h4",style:{marginBottom:20}},u("resources.".concat(e.location.pathname.slice(1,e.location.pathname.length),".name"))),r.a.createElement(In.a,null,f&&x.a.keys(f).map((function(e){var t=p(f[e]);return r.a.createElement("div",null,r.a.createElement(se.a,{variant:"h3",align:"center",paragraph:!0,className:d.title},r.a.createElement("b",null,e)),t&&x.a.keys(t).map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{variant:"h5",align:"center",paragraph:!0,className:d.subtitle},e),r.a.createElement(oi.a,null,r.a.createElement(ii.a,null,r.a.createElement(li.a,{className:d.filledRow},r.a.createElement(ci.a,null,"ID"),r.a.createElement(ci.a,{className:d.titleColumn},"Title"),r.a.createElement(ci.a,{align:"center"},"Cost of Investment (",u("titles.currency"),")"),r.a.createElement(ci.a,{align:"center"},"Proposed Commencement FY"),r.a.createElement(ci.a,{align:"center"},"Duration (years)"),Y("has_pimis_fields")?r.a.createElement(ci.a,null):r.a.createElement(ci.a,{align:"center"},"Date of Feasibility"))),r.a.createElement(si.a,null,t[e].map((function(e){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(ce.a,{href:"#/projects/".concat(e.id,"/show/").concat(e.phase.sequence),underline:"always"},e.code)),r.a.createElement(ci.a,null,r.a.createElement(ce.a,{href:"#/projects/".concat(e.id,"/show/").concat(e.phase.sequence),underline:"always"},e.name)),r.a.createElement(ci.a,{align:"center"},vr(Hl(e.budget_allocation))),r.a.createElement(ci.a,{align:"center"},e.current_project_detail&&wi(e.current_project_detail.created_on).name),r.a.createElement(ci.a,{align:"center"},e.current_project_detail&&S()(e.current_project_detail.end_date).diff(e.current_project_detail.start_date,"years")))})))))})))}))),f&&0===x.a.keys(f).length&&r.a.createElement(se.a,{variant:"h4",style:{marginTop:20}},"No projects")))},rm=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{textAlign:"left",fontSize:"15px",fontWeight:"bold",paddingLeft:"30px",margin:"10px auto"}}})),om=function(e){var t=e.loading,a=e.loaded;return 0===e.total&&!t&&a?r.a.createElement(di.a,{textAlign:"center",m:3},r.a.createElement(se.a,{variant:"h5",paragraph:!0},"No projects in Pipeline stage")):r.a.createElement(ti.a,e)};function im(e){var t=rm(),a=Object(pe.a)();return r.a.createElement("div",null,r.a.createElement(nr,{reportId:"report-container",title:"Projects in Pipeline",exportTypes:[Ha.WORD,Ha.PDF,Ha.XLS]}),r.a.createElement(se.a,{className:t.title},"Projects in Pipeline"),r.a.createElement(ri.a,Object.assign({},e,{basePath:"/projects",resource:"projects",bulkActionButtons:!1,actions:!1,filter:{is_deleted:!1,phase_ids:[5,6,7]},perPage:Y("has_pimis_fields")?5:10,pagination:r.a.createElement(om,null)}),r.a.createElement(Nl.a,{rowClick:"show"},r.a.createElement(Al.a,{source:"code"}),r.a.createElement(Al.a,{source:"name"}),r.a.createElement(Dl.a,{source:"created_on",label:a("resources.projects.fields.created_at"),render:function(e){return e?Er(e.created_on):null}}),r.a.createElement(Dl.a,{source:"status",label:a("resources.projects.fields.status"),render:function(e){return e?a("timeline.".concat(e.project_status.toLowerCase())):null}}))))}var lm=a(191),cm=a.n(lm),sm=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{textAlign:"left",fontSize:"15px",fontWeight:"bold",paddingLeft:"30px",margin:"10px auto"},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"},table:{minWidth:700},titleRow:{cursor:"pointer","&:hover":{backgroundColor:"#f3f6f8"}},backButton:{marginBottom:20,position:"absolute",right:0,top:0,cursor:"pointer",display:"flex",alignItems:"center"}}}));var um=function(e){var t=n.useState([]),a=Object(Z.a)(t,2),r=a[0],o=a[1],i=n.useState(null),l=Object(Z.a)(i,2),c=l[0],s=l[1],u=n.useState([]),d=Object(Z.a)(u,2),m=d[0],p=d[1],f=n.useState([]),_=Object(Z.a)(f,2),g=(_[0],_[1],n.useState([])),h=Object(Z.a)(g,2),v=(h[0],h[1]),b=Object(pe.a)(),E=sm(),j=Object(Ca.a)(),y=Object(ee.f)((function(e){return e.app.appConfig}));n.useEffect((function(){j.getListOfAll("organizations",{}).then((function(e){e&&e.data&&v(x.a.sortBy(e.data,"sequence"))})),j.getListOfAll("phases",{sort_field:"sequence"}).then((function(e){e&&e.data&&o(e.data)})),j.custom("reports",{type:"pivot",method:"GET"}).then((function(e){e&&e.data&&p(e.data.filter((function(e){return e.program})))}))}),[]);var O=Xl(m),w=x.a.groupBy(m,(function(e){return e.phase&&e.phase.id})),k=0,S=0,P=function(e){return function(){s(e)}};function C(){return c?x.a.groupBy(O[c],(function(e){return e&&e.program&&e.program.name})):O}function N(){return c?x.a.groupBy(O[c],(function(e){return e.phase&&e.phase.id})):w}return n.createElement(ui.a,{container:!0,spacing:3},n.createElement(nr,{reportId:"report-container",title:"Projects by Programs",exportTypes:[Ha.WORD,Ha.PDF,Ha.XLS]}),n.createElement(ui.a,{item:!0,xs:12,id:"report-container"},n.createElement("div",{style:{position:"relative"}},n.createElement(se.a,{variant:"h4",style:{marginBottom:20}},b("resources.".concat(e.location.pathname.slice(1,e.location.pathname.length),".name"))),c&&n.createElement(se.a,{variant:"h5",className:E.backButton,onClick:function(){return s(null)}},n.createElement(Ic.a,null),"back")),n.createElement(In.a,null,n.createElement("div",{className:"landscapeSection"},n.createElement(Fi.a,null,n.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",E.bordered,E.table),style:{width:"100%"}},n.createElement(ii.a,null,n.createElement(li.a,{className:E.filledRow},n.createElement(ci.a,null,y.programs_config[1].name,"Name"),r.map((function(e){return n.createElement(ci.a,{colspan:"2"},e.name)})),n.createElement(ci.a,{colspan:"2"},"Total")),n.createElement(li.a,null,n.createElement(ci.a,null),r.map((function(e){return[n.createElement(ci.a,null,"Count"),n.createElement(ci.a,null,"Cost (",b("titles.currency"),")")]})),n.createElement(ci.a,null,"Count"),n.createElement(ci.a,null,"Cost (",b("titles.currency"),")"))),n.createElement(si.a,null,!c&&x.a.keys(O).map((function(e){var t=x.a.groupBy(O[e],(function(e){return e.phase&&e.phase.id})),a=0,o=0;return n.createElement(li.a,{className:E.titleRow,onClick:P(e)},n.createElement(ci.a,null,e),r.map((function(e){var r=t[e.sequence]&&t[e.sequence].filter((function(e){return!x.a.isEmpty(e.costs)})).map((function(e){return{totalCost:Hl(e.costs)}}));return a+=t[e.sequence]?t[e.sequence].length:0,o+=x.a.sumBy(r,"totalCost"),[n.createElement(ci.a,null,t[e.sequence]?t[e.sequence].length:0),n.createElement(ci.a,null,Ni(x.a.sumBy(r,"totalCost")))]})),n.createElement(ci.a,{variant:"head"},a),n.createElement(ci.a,{variant:"head"},Ni(o)))})),c&&x.a.keys(C()).map((function(e){var t=x.a.groupBy(C()[e],(function(e){return e.phase&&e.phase.id})),a=0,o=0;return n.createElement(li.a,{className:E.titleRow,onClick:function(){return s(null)}},n.createElement(ci.a,null,e),r.map((function(e){var r=t[e.sequence]&&t[e.sequence].filter((function(e){return!x.a.isEmpty(e.costs)})).map((function(e){return{totalCost:Hl(e.costs)}}));return a+=t[e.sequence]?t[e.sequence].length:0,o+=x.a.sumBy(r,"totalCost"),[n.createElement(ci.a,null,t[e.sequence]?t[e.sequence].length:0),n.createElement(ci.a,null,Ni(x.a.sumBy(r,"totalCost")))]})),n.createElement(ci.a,{variant:"head"},a),n.createElement(ci.a,{variant:"head"},Ni(o)))})),n.createElement(li.a,null,n.createElement(ci.a,{variant:"head"},"Total (",b("titles.currency"),")"),!c&&r.map((function(e){var t=w[e.sequence]&&w[e.sequence].filter((function(e){return!x.a.isEmpty(e.costs)})).map((function(e){return{totalCost:Hl(e.costs)}}));return k+=w[e.sequence]?w[e.sequence].length:0,S+=x.a.sumBy(t,"totalCost"),[n.createElement(ci.a,{variant:"head"},w[e.sequence]?w[e.sequence].length:0),n.createElement(ci.a,{variant:"head"},Ni(x.a.sumBy(t,"totalCost")))]})),c&&r.map((function(e){var t=N()[e.sequence]&&N()[e.sequence].filter((function(e){return!x.a.isEmpty(e.costs)})).map((function(e){return{totalCost:Hl(e.costs)}}));return k+=N()[e.sequence]?N()[e.sequence].length:0,S+=x.a.sumBy(t,"totalCost"),[n.createElement(ci.a,{variant:"head"},N()[e.sequence]?N()[e.sequence].length:0),n.createElement(ci.a,{variant:"head"},Ni(x.a.sumBy(t,"totalCost")))]})),n.createElement(ci.a,{variant:"head"},k),n.createElement(ci.a,{variant:"head"},Ni(S))))))))))},dm=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{fontWeight:"bold",margin:"10px auto"},subtitle:{margin:"10px auto"},buttonsContainer:{width:"100%",display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"10px 25px"},buttons:{width:"100px",fontSize:"16px",display:"flex",justifyContent:"space-around"},titleColumn:{width:"35%"}}}));var mm=function(e){var t=Object(n.useState)([]),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(pe.a)(),c=dm(),s=Object(Ca.a)();return Object(n.useEffect)((function(){s.custom("reports",{type:"pivot",method:"GET"}).then((function(e){if(e&&e.data){var t=x.a.groupBy(e.data,(function(e){var t;return null===e||void 0===e||null===(t=e.current_project_detail)||void 0===t?void 0:t.classification}));i(t)}}))}),[]),r.a.createElement(ui.a,{container:!0,spacing:3},r.a.createElement(nr,{reportId:"report-container",title:l("resources.".concat(e.location.pathname.slice(1,e.location.pathname.length),".name")),exportTypes:[Ha.WORD,Ha.PDF,Ha.XLS]}),r.a.createElement(ui.a,{item:!0,xs:12,id:"report-container"},r.a.createElement(se.a,{variant:"h4",style:{marginBottom:20}},l("resources.".concat(e.location.pathname.slice(1,e.location.pathname.length),".name"))),r.a.createElement(In.a,null,0===o.length?r.a.createElement(di.a,{textAlign:"center",m:3},r.a.createElement(se.a,{variant:"h5",paragraph:!0},"No projects are in this status")):r.a.createElement("div",null,x.a.keys(o).map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oi.a,null,r.a.createElement(ii.a,null,r.a.createElement(li.a,{className:c.filledRow},r.a.createElement(ci.a,null,r.a.createElement(se.a,{variant:"h4",style:{fontWeight:"bold",textTransform:"uppercase"}},Ja[e]||"Unclassified")),r.a.createElement(ci.a,null),r.a.createElement(ci.a,null),r.a.createElement(ci.a,null),r.a.createElement(ci.a,null),r.a.createElement(ci.a,null),r.a.createElement(ci.a,null)),r.a.createElement(li.a,{className:c.filledRow},r.a.createElement(ci.a,{width:"150px"},"ID"),r.a.createElement(ci.a,{width:"200px"},"Title"),r.a.createElement(ci.a,{width:"100px",align:"center"},"Phase"),r.a.createElement(ci.a,{width:"100px",align:"center"},"Start Date"),r.a.createElement(ci.a,{width:"200px",align:"center"},"Program"),r.a.createElement(ci.a,{width:"200px",align:"center"},"Vote"),r.a.createElement(ci.a,{width:"200px",align:"center"},"Cost (",l("titles.currency"),")"))),r.a.createElement(si.a,null,o[e].map((function(e){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e.code),r.a.createElement(ci.a,null,e.name),r.a.createElement(ci.a,{align:"center"},e.phase&&e.phase.name),r.a.createElement(ci.a,{align:"center"},wi(e.created_on).name),r.a.createElement(ci.a,{align:"center"},e.program&&e.program.name),r.a.createElement(ci.a,{align:"center"},e.project_organization&&e.project_organization.parent&&e.project_organization.parent.name),r.a.createElement(ci.a,{align:"center"},function(e){if(e){var t=0;return x.a.keys(e).forEach((function(a){t+=parseFloat(e[a])})),vr(t)}return"-"}(e.costs)))})))))}))))))};a(857);var pm,fm=function(e){var t=Object(n.useState)((function(){})),a=Object(Z.a)(t,2);return a[0],a[1],r.a.createElement("div",{style:{width:"98%",height:"80vh"}})},_m=(a(1393),{data:[{id:1,text:"Rehabilitation and Upgrading of Urban Roads Project",type:"project",start_date:"02-04-2019 00:00",duration:17,progress:.4,parent:0},{id:2,text:"Procurement of contractor",type:"project",start_date:"02-04-2019 00:00",duration:8,progress:.6,parent:"1"},{id:3,text:"Geological Survey",type:"project",start_date:"11-04-2019 00:00",duration:8,parent:"1",progress:.6},{id:4,text:"Gravelling and Pavement",type:"project",start_date:"13-04-2019 00:00",duration:5,parent:"1",progress:.5,priority:3},{id:5,text:"Draft And Issue RfP",type:"task",start_date:"03-04-2019 00:00",duration:7,parent:"2",progress:.6,priority:1},{id:6,text:"Shortlisting ",type:"task",start_date:"03-04-2019 00:00",duration:7,parent:"2",progress:.6,priority:2}]}),gm=[{id:1,text:"Rehabilitation and Upgrading of Urban Roads Project",parent:null},{id:2,text:"Procurement of Contractor",parent:1},{id:3,text:"Geological Survey",parent:1},{id:4,text:"Procurement of Land",parent:1},{id:5,text:"Gravel Construction",parent:1},{id:6,text:"Pavement",parent:1}];var hm=function(e){return Object(n.useEffect)((function(){function t(e){var t=window.gantt.$resourcesStore,a=e[window.gantt.config.resource_property],n=t.getSelectedId();if(a==n||t.isChildOf(a,n))return!0}function a(e){var t=window.gantt.getState().selected_task;if(window.gantt.isTaskExists(t)){var a=window.gantt.getTask(t)[window.gantt.config.resource_property];if(e.id==a)return!0;if(window.gantt.$resourcesStore.isChildOf(a,e.id))return!0}return!1}window.gantt.plugins({grouping:!0,auto_scheduling:!0,critical_path:!0}),window.gantt.templates.grid_row_class=function(e,a,n){var r=[];return window.gantt.hasChild(n.id)&&r.push("folder_row"),n.$virtual&&r.push("group_row"),t(n)&&r.push("highlighted_resource"),r.join(" ")},window.gantt.templates.task_row_class=function(e,a,n){return t(n)?"highlighted_resource":""},window.gantt.templates.timeline_cell_class=function(e,t){return window.gantt.isWorkTime({date:t,task:e})?"":"week_end"},window.gantt.templates.resource_cell_class=function(e,t,a,n){var r=[];return r.push("resource_marker"),n.length<=1?r.push("workday_ok"):r.push("workday_over"),r.join(" ")},window.gantt.templates.resource_cell_value=function(e,t,a,n){var r="<div>";return r+="hours"==i?8*n.length:n.length,r+="</div>"};var n={grid_row_class:function(e,t,n){var r=[];return window.gantt.$resourcesStore.hasChild(n.id)&&(r.push("folder_row"),r.push("group_row")),a(n)&&r.push("highlighted_resource"),r.join(" ")},task_row_class:function(e,t,n){var r=[];return a(n)&&r.push("highlighted_resource"),window.gantt.$resourcesStore.hasChild(n.id)&&r.push("group_row"),r.join(" ")}};function r(e){var t=window.gantt.getDatastore(window.gantt.config.resource_store),a=window.gantt.config.resource_property;return t.hasChild(e)?window.gantt.getTaskBy(a,t.getChildren(e)):window.gantt.getTaskBy(a,e)}window.gantt.locale.labels.section_owner="Owner",window.gantt.config.lightbox.sections=[{name:"description",height:38,map_to:"text",type:"textarea",focus:!0},{name:"owner",height:22,map_to:"owner_id",type:"select",options:window.gantt.serverList("people")},{name:"time",type:"duration",map_to:"auto"}];var o={scale_height:30,scales:[{unit:"day",step:1,date:"%d %M"}],columns:[{name:"name",label:"Name",tree:!0,width:300,template:function(e){return e.text},resize:!0},{name:"progress",label:"Complete",align:"center",template:function(e){var t=r(e.id),a=0,n=0;t.forEach((function(e){a+=e.duration,n+=e.duration*(e.progress||0)}));var o=0;return a&&(o=Math.floor(n/a*100)),Math.floor(o)+"%"},resize:!0},{name:"workload",label:"Workload",align:"center",template:function(e){var t=r(e.id),a=0;return t.forEach((function(e){a+=e.duration})),8*(a||0)+"h"},resize:!0},{name:"capacity",label:"Capacity",align:"center",template:function(e){var t=window.gantt.getDatastore(window.gantt.config.resource_store),a=t.hasChild(e.id)?t.getChildren(e.id).length:1,n=window.gantt.getState();return window.gantt.calculateDuration(n.min_date,n.max_date)*a*8+"h"}}]};window.gantt.config.scales=[{unit:"month",step:1,format:"%F, %Y"},{unit:"day",step:1,format:"%d %M"}],window.gantt.config.auto_scheduling=!0,window.gantt.config.auto_scheduling_strict=!0,window.gantt.config.work_time=!0,window.gantt.config.columns=[{name:"text",label:"Project / Outputs / Activities",tree:!0,width:300,resize:!0},{name:"start_date",label:"Start Date",align:"center",width:80,resize:!0},{name:"owner",align:"center",width:100,label:"Owner",template:function(e){if(e.type==window.gantt.config.types.project)return"";var t=window.gantt.getDatastore(window.gantt.config.resource_store).getItem(e[window.gantt.config.resource_property]);return t?t.text:"Unassigned"},resize:!0},{name:"duration",width:80,align:"center",resize:!0},{name:"add",width:44}],window.gantt.config.resource_store="resource",window.gantt.config.resource_property="owner_id",window.gantt.config.order_branch=!0,window.gantt.config.open_tree_initially=!0,window.gantt.config.scale_height=50,window.gantt.config.layout={css:"gantt_container",rows:[{gravity:2,cols:[{view:"grid",group:"grids",scrollY:"scrollVer"},{resizer:!0,width:1},{view:"timeline",scrollX:"scrollHor",scrollY:"scrollVer"},{view:"scrollbar",id:"scrollVer",group:"vertical"}]},{resizer:!0,width:1,next:"resources"},{gravity:1,id:"resources",config:o,templates:n,cols:[{view:"resourceGrid",group:"grids",scrollY:"resourceVScroll"},{resizer:!0,width:1},{view:"resourceTimeline",scrollX:"scrollHor",scrollY:"resourceVScroll"},{view:"scrollbar",id:"resourceVScroll",group:"vertical"}]},{view:"scrollbar",id:"scrollHor"}]};var i="hours";window.gantt.attachEvent("onGanttReady",(function(){[].slice.call(window.gantt.$container.querySelectorAll("input[type='radio']")).forEach((function(e){window.gantt.event(e,"change",(function(e){[].slice.call(window.gantt.$container.querySelectorAll("input[type='radio']")).forEach((function(e){e.parentNode.className=e.parentNode.className.replace("active","")})),this.checked&&(i=this.value,this.parentNode.className+=" active",window.gantt.getDatastore(window.gantt.config.resource_store).refresh())}))}))})),window.gantt.$resourcesStore=window.gantt.createDatastore({name:window.gantt.config.resource_store,type:"treeDatastore",initItem:function(e){return e.parent=e.parent||window.gantt.config.root_id,e[window.gantt.config.resource_property]=e.parent,e.open=!0,e}}),window.gantt.$resourcesStore.attachEvent("onAfterSelect",(function(e){window.gantt.refreshData()})),pm=function(e){if(window.gantt.$groupMode=!window.gantt.$groupMode,window.gantt.$groupMode){e.value="show window.gantt view";var t=window.gantt.$resourcesStore.getItems().map((function(e){var t=window.gantt.copy(e);return t.group_id=t.id,t.id=window.gantt.uid(),t}));window.gantt.groupBy({groups:t,relation_property:window.gantt.config.resource_property,group_id:"group_id",group_text:"text"})}else e.value="show resource view",window.gantt.groupBy(!1)},window.gantt.$resourcesStore.attachEvent("onParse",(function(){var e=[];window.gantt.$resourcesStore.eachItem((function(t){if(!window.gantt.$resourcesStore.hasChild(t.id)){var a=window.gantt.copy(t);a.key=t.id,a.label=t.text,e.push(a)}})),window.gantt.updateCollection("people",e)})),window.gantt.$resourcesStore.parse([].concat(gm,Object(D.a)(e.staff))||gm),window.gantt.config.scale_unit="year",window.gantt.config.step=1,window.gantt.config.date_scale="%Y",window.gantt.config.duration_unit="year",window.gantt.config.duration_step=1,window.gantt.config.scale_height=70,window.gantt.config.round_dnd_dates=!1,window.gantt.config.date_format="%Y",window.gantt.init("gantt_here"),window.gantt.parse(_m)}),[]),r.a.createElement("div",{style:{width:"98%",height:"80vh"}},r.a.createElement("div",{class:"gantt_control"},r.a.createElement(Ee.a,{variant:"contained",style:{margin:10},onClick:pm},"Toggle Project / Resource view"),r.a.createElement(Ee.a,{variant:"contained",style:{margin:10},onClick:pm},"Show / Hide Critical Path"),r.a.createElement(Ee.a,{variant:"contained",style:{margin:10},onClick:pm},"Export PDF")),r.a.createElement("div",{id:"gantt_here",style:{width:"100%",height:"90%"}}))},vm=["record"],bm=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{fontWeight:"bold",margin:"10px 10px 20px 10px"},subtitle:{margin:"10px auto"},buttonsContainer:{width:"155px",display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"10px 25px",float:"right"},buttons:{width:"100px",fontSize:"16px",display:"flex",justifyContent:"space-around"},titleColumn:{width:"25%"},select:{margin:"0px 15px 15px 0px"}}}));var Em=function(e){e.record,Object(T.a)(e,vm);var t=Object(pe.a)(),a=Object(n.useState)([]),o=Object(Z.a)(a,2),i=o[0],l=o[1],c=Object(Ca.a)(),s=bm();return Object(n.useEffect)((function(){c.getListOfAllProjects("reports/projects-min-report",{sort_field:"id",filter:{steps:[6,9,10,11,12,13,14,15,16,18]}}).then((function(e){e&&e.data&&l(e.data)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(nr,{reportId:"report-container",title:"Projects scheduled for DC",exportTypes:[Ha.WORD,Ha.PDF,Ha.XLS]}),r.a.createElement(In.a,{id:"report-container",style:{overflow:"auto"}},r.a.createElement(oi.a,null,r.a.createElement(ii.a,null,r.a.createElement(li.a,{className:s.filledRow},r.a.createElement(ci.a,{width:"120px"},"Code"),r.a.createElement(ci.a,{className:s.titleColumn},t("printForm.reports.title")),r.a.createElement(ci.a,{align:"center"},t("printForm.reports.vote_id")),r.a.createElement(ci.a,{align:"center"},t("printForm.reports.program")),r.a.createElement(ci.a,{align:"center"},t("printForm.reports.phase")),r.a.createElement(ci.a,{align:"center"},t("printForm.reports.total_cost")),r.a.createElement(ci.a,{align:"center"},t("printForm.reports.status")),r.a.createElement(ci.a,{align:"center"},t("printForm.reports.previous_decision")))),r.a.createElement(si.a,null,i.map((function(e){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e.code),r.a.createElement(ci.a,null,e.name),r.a.createElement(ci.a,{align:"center"},e.phase&&e.project_organization&&e.project_organization.parent&&e.project_organization.parent.name),r.a.createElement(ci.a,null,e.program&&e.program.name),r.a.createElement(ci.a,{align:"center"},e.phase&&e.phase.name),r.a.createElement(ci.a,{align:"center"},e.phase&&vr(e.total_costs)),r.a.createElement(ci.a,{align:"center"},e.workflow&&r.a.createElement(Ac,{record:e})),r.a.createElement(ci.a,{align:"left"},e&&e.current_timeline&&e.current_timeline.reason?e.current_timeline.reason:null))}))))))};var jm=function(e){var t=Object(n.useState)([]),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)([]),c=Object(Z.a)(l,2),s=c[0],u=c[1],d=Object(qr.a)((function(e){return e.breakpoints.down("xs")})),m=Object(Ca.a)(),p=Object(pe.a)(),f=Object(ai.a)(),_=(Object(F.a)().permissions,Object(ee.f)((function(e){return e.admin.resources.organizations}))),g=Object(ee.f)((function(e){return e.user})).userInfo,h=Object(ee.f)((function(e){return e.admin.resources.programs})),v=Object(ee.e)(),b=function(e){var t=e.loading,a=e.loaded,n=e.total;Object(F.a)().permissions;return 0===n&&!t&&a?r.a.createElement(di.a,{textAlign:"center",m:1},r.a.createElement(se.a,{variant:"h4",paragraph:!0},"There are no projects in the system",r.a.createElement("br",null),r.a.createElement("br",null),W(e.permissions,"create_project")&&r.a.createElement(ku.a,{basePath:"/projects",permissions:e.permissions}))):r.a.createElement("div",null)};Object(n.useEffect)((function(){return e.showPM?v(Wr([{to:"",title:"Gantt Chart"}])):e.defaultBreadcrumbs||v(Wr([{to:"",title:function(){switch(!0){case e.showWorkPlan:return"Projected Cash Flow";case e.showWorkPlanApproved:return"Approved Cash Flow";case e.showWorkPlanAdjusted:return"Adjusted Cash Flow";case e.showWorkPlanMonthly:return"Warrant Request";case e.showExpenditures:return"Expenditures"}}()}])),function(){v(Wr([]))}}),[]),Object(n.useEffect)((function(){if(!_||_&&x.a.isEmpty(_.data))m.getList("organizations",{pagination:{page:1,perPage:-1},sort:{sort_field:"id",sort_order:"asc"},filter:{is_hidden:!1}}).then((function(e){u(e.data)})).catch((function(e){console.log(e)}));else{var e=x.a.keys(_.data).map((function(e){return _.data[e]}));u(e)}}),[]),Object(n.useEffect)((function(){if(!h||h&&x.a.isEmpty(h.data))m.getList("programs",{pagination:{page:1,perPage:-1},sort:{sort_field:"id",sort_order:"asc"},filter:{is_hidden:!1}}).then((function(e){i(e.data)})).catch((function(e){console.log(e)}));else{var e=x.a.keys(h.data).map((function(e){return h.data[e]}));i(e)}}),[]);return r.a.createElement(ri.a,Object.assign({sort:{field:"id",order:"DESC"},filter:{is_deleted:!1},filters:!Y("has_pimis_fields")&&r.a.createElement(nd,{organizations:s,programs:o,disablePhaseFilter:e.disablePhaseFilter}),actions:r.a.createElement(Zu,Object.assign({},e,{disablePhaseFilter:e.disablePhaseFilter})),bulkActionButtons:!1,empty:r.a.createElement(b,e),exporter:Nc,perPage:25},e),d?r.a.createElement(Su.a,{primaryText:function(e){return e.name},secondaryText:function(e){return"".concat(e.code)},tertiaryText:function(e){return e.phase_id}}):r.a.createElement(Nl.a,{rowClick:!!Y("has_pimis_fields")&&(e.showExpenditures||e.showGfmsData||e.showPM||e.showWorkPlan||e.showWorkPlanApproved||e.showWorkPlanAdjusted||e.showWorkPlanMonthly||e.showIndicators||e.showAppeals?function(t,a,n){return function(t,a){var n;return e.showAppeals?f("appeals/"+a.current_project_detail.id+"/list"):e.showIndicators?f("project-indicators/"+t):e.showPM?f("edit","/project-management",null===a||void 0===a||null===(n=a.project_management)||void 0===n?void 0:n.id):e.showWorkPlan?f("cost-plans-projected/"+t+"/show"):e.showWorkPlanApproved?f("cost-plans-approved/"+t+"/show"):e.showWorkPlanAdjusted?f("cost-plans-adjusted/"+t+"/show"):e.showWorkPlanMonthly?f("cost-plans-monthly/"+t+"/show"):e.showGfmsData?f("gfms_data/"+t+"/show"):e.showExpenditures?f("expenditures/"+t+"/show"):"show"}(t,n)}:"show"),rowStyle:function(t){var a,n,r;return!Y("has_pimis_fields")||(null===t||void 0===t||null===(a=t.workflow)||void 0===a?void 0:a.role_id)!==(null===g||void 0===g||null===(n=g.current_role)||void 0===n?void 0:n.role_id)||"DRAFT"===t.project_status||"REJECTED"===t.project_status||e.showGfmsData||e.showWorkPlan||e.showWorkPlanApproved||e.showWorkPlanAdjusted||e.showWorkPlanMonthly||e.showExpenditures?(null===t||void 0===t||null===(r=t.approved_appeals)||void 0===r?void 0:r.length)>0?{borderLeft:"5px solid orange"}:null:{backgroundColor:"#f4b5b5"}}},!Y("has_pimis_fields")&&r.a.createElement(Al.a,{source:"code"}),Y("has_pimis_fields")?r.a.createElement(Dl.a,{source:"code",render:function(e){return e&&(e.budget_code||e.code)}}):r.a.createElement(Dl.a,{source:"code",render:function(e){return e&&e.code}}),r.a.createElement(Al.a,{source:"name"}),Y("has_pimis_fields")&&r.a.createElement(Dl.a,{source:"created_on",label:"Primary executing agency",render:function(e){var t;return e?null===(t=e.project_organization)||void 0===t?void 0:t.name:null}}),r.a.createElement(Dl.a,{source:"created_on",label:p("resources.projects.fields.created_at"),render:function(e){return e?Er(e.submission_date):null}}),!Y("has_pimis_fields")&&r.a.createElement(Dl.a,{source:"created_on",label:p("resources.projects.fields.created_by"),render:function(e){return e?e.user&&e.user.full_name:null}}),!Y("has_pimis_fields")&&r.a.createElement(Dl.a,{source:"status",label:p("resources.projects.fields.status"),render:function(e){return e?p("timeline.".concat(e.project_status.toLowerCase())):null}}),r.a.createElement(Dl.a,{source:"phase",label:"resources.projects.fields.phase_id",render:function(e){return e&&e.phase?e.phase.name:null}}),r.a.createElement(Dl.a,{source:"workflow_id",label:Y("has_pimis_fields")?"Status":"Workflow Status",render:function(e){return e&&r.a.createElement(Ac,{record:e})}}),r.a.createElement(Dl.a,{render:function(t){var a;return e.showAppeals?r.a.createElement(gc,{link:"appeals/"+(null===t||void 0===t||null===(a=t.current_project_detail)||void 0===a?void 0:a.id)+"/list"}):!Y("has_pimis_fields")&&r.a.createElement(gc,Object.assign({},e,{record:t}))}})))},ym=a(2020),Om=a(2021),wm=a(447),xm=a(721),km=a.n(xm);function Sm(){Sm=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(P){c=function(e,t,a){return e[t]=a}}function s(e,t,a,r){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new x(r||[]);return n(i,"_invoke",{value:j(e,a,l)}),i}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(P){return{type:"throw",arg:P}}}e.wrap=s;var d={};function m(){}function p(){}function f(){}var _={};c(_,o,(function(){return this}));var g=Object.getPrototypeOf,h=g&&g(g(k([])));h&&h!==t&&a.call(h,o)&&(_=h);var v=f.prototype=m.prototype=Object.create(_);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var r;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(r,i){!function n(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}(n,o,r,i)}))}return r=r?r.then(i,i):i()}})}function j(e,t,a){var n="suspendedStart";return function(r,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw o;return S()}for(a.method=r,a.arg=o;;){var i=a.delegate;if(i){var l=y(i,a);if(l){if(l===d)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var c=u(e,t,a);if("normal"===c.type){if(n=a.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(n="completed",a.method="throw",a.arg=c.arg)}}}function y(e,t){var a=t.method,n=e.iterator[a];if(void 0===n)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),d;var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,n(v,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,a,n,r,o){void 0===o&&(o=Promise);var i=new E(s(t,a,n,r),o);return e.isGeneratorFunction(a)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,l,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return i.type="throw",i.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),w(a),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;w(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:k(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),d}},e}km.a.setApiKey(Fa);var Pm=function(e,t,a){km.a.fromLatLng(String(e),String(t)).then((function(e){for(var t,n,r,o=0;o<e.results[0].address_components.length;o++)for(var i=0;i<e.results[0].address_components[o].types.length;i++)switch(e.results[0].address_components[o].types[i]){case"locality":t=e.results[0].address_components[o].long_name;break;case"administrative_area_level_1":n=e.results[0].address_components[o].long_name;break;case"country":r=e.results[0].address_components[o].long_name}(t||n||r)&&a("".concat(t||"",", ").concat(n||"",", ").concat(r||"")),a(null)}),(function(e){console.error(e)}))},Cm=function(e){var t=e.text,a=e.color;return r.a.createElement(ra.a,{title:t,placement:"right"},r.a.createElement("svg",{onClick:function(){window.location.href=e.link},x:"0px",y:"0px",width:"8.6444445mm",height:"9.847393mm",viewBox:"0 0 512 512",enableBackground:"new 0 0 512 512",style:{transform:"translate(-25px, -60px)"}},r.a.createElement("g",null,r.a.createElement("path",{fill:a,stroke:"#000",strokeWidth:"10px",d:"M256.292,12.781c-98.628,0-178.585,79.955-178.585,178.585c0,42.256,13.724,77.289,34.268,113.638 c48.065,85.042,144.533,193.714,144.533,193.714c64.417-69.391,147.02-206.308,147.02-206.308s31.351-63.531,31.351-101.044 C434.877,92.736,354.921,12.781,256.292,12.781z M256.292,297.159c-66.021,0-119.546-53.523-119.546-119.546 S190.271,58.067,256.292,58.067s119.546,53.522,119.546,119.546S322.313,297.159,256.292,297.159z"}),r.a.createElement("circle",{fill:a,cx:"256.292",cy:"177.613",r:"72.107"}))))},Nm=function(e){var t=e.text,a=e.onClick,n=e.item;return r.a.createElement(ra.a,{title:t,placement:"right"},r.a.createElement("svg",{x:"0px",y:"0px",width:"8.6444445mm",height:"9.847393mm",viewBox:"0 0 512 512",enableBackground:"new 0 0 512 512",style:{transform:"translate(-15px, -35px)"},onClick:a(n)},r.a.createElement("g",null,r.a.createElement("path",{fill:"#ff4646",d:"M256.292,12.781c-98.628,0-178.585,79.955-178.585,178.585c0,42.256,13.724,77.289,34.268,113.638 c48.065,85.042,144.533,193.714,144.533,193.714c64.417-69.391,147.02-206.308,147.02-206.308s31.351-63.531,31.351-101.044 C434.877,92.736,354.921,12.781,256.292,12.781z M256.292,297.159c-66.021,0-119.546-53.523-119.546-119.546 S190.271,58.067,256.292,58.067s119.546,53.522,119.546,119.546S322.313,297.159,256.292,297.159z"}),r.a.createElement("circle",{fill:"#ff4646",cx:"256.292",cy:"177.613",r:"72.107"}))))},Am=function(e){Object(_s.f)().values;var t=Object(n.useState)({center:{lat:.18,lng:32.37},lng:"",lat:"",markers:[]}),a=Object(Z.a)(t,2),o=a[0],i=a[1],l={height:"300px",width:"100%",center:{lat:.18,lng:32.37},zoom:7},c=B({name:e.source});Object(n.useEffect)((function(){if(!e.isReport){var t=e.scopedFormData.geo_location;if(t&&t&&x.a.isString(t)){var a=[];try{a=JSON.parse(t).map((function(e){return{lng:String(e.lng),lat:String(e.lat),text:e.text}}))}catch(n){console.log(n)}i(Object(u.a)(Object(u.a)({},o),{},{markers:a}))}}}),[]);var s=function(){var t=Object(oo.a)(Sm().mark((function t(a){var n,r,l;return Sm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.x,a.y,n=a.lat,r=a.lng,a.event,e.isDisable||(l=x.a.cloneDeep(o.markers),Pm(n,r,(function(e){e&&(l.push({lat:n,lng:r,text:e}),i(Object(u.a)(Object(u.a)({},o),{},{markers:l})),c(JSON.stringify(l)))})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(e){return function(t){t.stopPropagation();var a=o.markers;if(x.a.find(a,e)){var n=x.a.filter(a,(function(t){return!x.a.isEqual(e,t)}));i(Object(u.a)(Object(u.a)({},o),{},{markers:n}))}}};return e.isReport?r.a.createElement("div",{id:"location_map",style:{height:e.height,width:e.width}},r.a.createElement(wm.a,{bootstrapURLKeys:{key:Fa},defaultCenter:e.center,defaultZoom:e.zoom,onClick:s},!x.a.isEmpty(e.data)&&x.a.keys(e.data).map((function(t){return e.data[t]?e.data[t].map((function(e){return e.markers.map((function(t){return r.a.createElement(Cm,{lat:t.lat,lng:t.lng,text:e.title,link:"#/projects/".concat(e.id,"/show/").concat(e.phase_id),color:qa[e.phase_id]})}))})):null})))):r.a.createElement("div",{id:"location_map",style:{height:l.height,width:l.width}},r.a.createElement(wm.a,{bootstrapURLKeys:{key:Fa},defaultCenter:l.center,center:o.center||l.center,defaultZoom:l.zoom,onClick:s},0!==o.markers.length&&o.markers.map((function(e,t){return r.a.createElement(Nm,{lat:e.lat,lng:e.lng,item:e,text:e.text,onClick:d})}))))},Dm=function(e){var t=e.text,a=e.color;return r.a.createElement(ra.a,{title:t,placement:"right"},r.a.createElement("svg",{onClick:function(){window.location.href=e.link},x:"0px",y:"0px",width:"8.6444445mm",height:"9.847393mm",viewBox:"0 0 512 512",enableBackground:"new 0 0 512 512",style:{transform:"translate(-25px, -60px)"}},r.a.createElement("g",null,r.a.createElement("path",{fill:a,stroke:"#000",strokeWidth:"10px",d:"M256.292,12.781c-98.628,0-178.585,79.955-178.585,178.585c0,42.256,13.724,77.289,34.268,113.638 c48.065,85.042,144.533,193.714,144.533,193.714c64.417-69.391,147.02-206.308,147.02-206.308s31.351-63.531,31.351-101.044 C434.877,92.736,354.921,12.781,256.292,12.781z M256.292,297.159c-66.021,0-119.546-53.523-119.546-119.546 S190.271,58.067,256.292,58.067s119.546,53.522,119.546,119.546S322.313,297.159,256.292,297.159z"}),r.a.createElement("circle",{fill:a,cx:"256.292",cy:"177.613",r:"72.107"}))))},Tm=function(e){var t=Object(n.useState)({center:{lat:.18,lng:32.37},lng:"",lat:"",markers:[]}),a=Object(Z.a)(t,2),o=a[0],i=(a[1],{height:"300px",width:"100%",center:{lat:.18,lng:32.37},zoom:7});return r.a.createElement("div",{id:"location_map",style:{height:e.height,width:e.width}},r.a.createElement(wm.a,{bootstrapURLKeys:{key:Fa},defaultCenter:i.center,center:o.center||i.center,defaultZoom:i.zoom},!x.a.isEmpty(e.data)&&x.a.keys(e.data).map((function(t){return e.data[t]?e.data[t].map((function(e){return e.markers.map((function(t){return r.a.createElement(Dm,{lat:t.lat,lng:t.lng,text:e.name,link:"#/projects/".concat(e.id,"/show/").concat(e.phase_id),color:qa[e.phase_id]})}))})):null}))))},Fm=["filters","data","onChangeFilter"],Rm=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{textAlign:"left",fontSize:"15px",fontWeight:"bold",paddingLeft:"30px",margin:"10px auto"}}}));function Im(e){var t=e.filters,a=e.data,r=e.onChangeFilter;Object(T.a)(e,Fm);return n.createElement(ym.a,{row:!0},a&&a.map((function(e){return n.createElement(Kn.a,{key:e.id,control:n.createElement(Om.a,{onChange:(a=e.id,function(e){r({id:a,checked:e.target.checked})}),name:e.id,checked:t[e.id]}),label:e.name});var a})))}var Mm=function(e){var t=n.useState([]),a=Object(Z.a)(t,2),r=a[0],o=a[1],i=n.useState([]),l=Object(Z.a)(i,2),c=l[0],s=l[1],d=n.useState([]),m=Object(Z.a)(d,2),p=m[0],f=m[1],_=n.useState({}),g=Object(Z.a)(_,2),h=g[0],v=g[1],b=n.useState({program:null,project_organization:null}),E=Object(Z.a)(b,2),j=E[0],y=E[1],O=Object(pe.a)(),w=(Rm(),Object(Ca.a)());n.useEffect((function(){w.custom("reports",{type:"projects-location",method:"GET"}).then((function(e){if(e&&e.data){var t=e.data.filter((function(e){return e.current_project_detail&&e.current_project_detail.geo_location})),a=t.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{markers:JSON.parse(e.current_project_detail.geo_location)})}));s(t),o(a)}})),w.getListOfAll("phases",{sort_field:"sequence"}).then((function(e){f(e.data);var t={};e.data.forEach((function(e){t[e.id]=!0})),v(t)}))}),[]);var k=function(e){return function(t){y(Object(u.a)(Object(u.a)({},j),{},Object(N.a)({},e,t.target.value)))}};return n.createElement(ui.a,{container:!0,spacing:3},n.createElement(ui.a,{item:!0,xs:12},n.createElement(se.a,{variant:"h4",style:{marginBottom:20}},O("resources.".concat(e.location.pathname.slice(1,e.location.pathname.length),".name"))),n.createElement(In.a,{style:{padding:20}},n.createElement(ui.a,{container:!0,spacing:3},n.createElement(ui.a,{item:!0,xs:5},n.createElement(se.a,{variant:"h6"},"Program"),n.createElement(xa.a,{variant:"outlined",value:j.program,onChange:k("program"),style:{margin:"10px"},fullWidth:!0},c&&(c?c.map((function(e){return e.program})):[]).map((function(e){return n.createElement(sa.a,{value:e.id},e.name)})))),n.createElement(ui.a,{item:!0,xs:5},n.createElement(se.a,{variant:"h6"},"Department"),n.createElement(xa.a,{variant:"outlined",value:j.project_organization,onChange:k("project_organization"),style:{margin:"10px"},fullWidth:!0},c&&(c?c.map((function(e){return e.project_organization})):[]).map((function(e){return n.createElement(sa.a,{value:e.id},e.name)}))))),n.createElement(ui.a,{item:!0,xs:12},n.createElement(se.a,{variant:"h6"},"Phases"),p.length>0&&!x.a.isEmpty(h)&&n.createElement("div",null,n.createElement(Im,{data:p,filters:h,onChangeFilter:function(e){v(Object(u.a)(Object(u.a)({},h),{},Object(N.a)({},e.id,e.checked)))}}))),n.createElement(ui.a,{item:!0,xs:12},n.createElement(Tm,{isReport:!0,data:x.a.groupBy(r?r.filter((function(e){return h[e.phase_id]})).filter((function(e){return!j.program||e.program&&e.program.id===j.program})).filter((function(e){return!j.project_organization||e.project_organization&&e.project_organization.id===j.project_organization})):[],"phase_id"),height:600})))))},Wm=a(732);var Lm=function(e){Object(ee.f)((function(e){return e.app.appConfig})).organizational_config;var t=r.a.useState(),a=Object(Z.a)(t,2),o=(a[0],a[1],r.a.useState()),i=Object(Z.a)(o,2),l=i[0],c=i[1],s=r.a.useState(),u=Object(Z.a)(s,2),d=u[0],m=u[1],p=r.a.useState(),f=Object(Z.a)(p,2),_=f[0],g=f[1],h=r.a.useState(),v=Object(Z.a)(h,2),b=v[0],E=(v[1],r.a.useState()),j=Object(Z.a)(E,2),y=j[0],O=j[1],w=Object(n.useState)(null),k=Object(Z.a)(w,2),P=k[0],C=k[1],N=Object(Ca.a)(),A=Object(de.g)(),T=Object(pe.a)();function F(e){return y?y.filter((function(t){return t.level===e})):[]}return Object(n.useEffect)((function(){if(P){var e=P.filter((function(e){return!d||e.project_organization.parent.id===Number(d)})).filter((function(e){return!_||e.phase_id===Number(_)})).filter((function(e){return!b||e.project_status===b}));e=e.map((function(e){var t=S()(e.current_project_detail.start_date),a=S()(e.current_project_detail.end_date).diff(t,"years");return e.text=e.name,e.type=window.gantt.config.types.project,e.parent=e.output_id,e.start_date=S()(e.current_project_detail.start_date).format("YYYY"),e.duration=a,e.total_cost=0,e}));var t=[],a=[];e.forEach((function(e){t=[].concat(Object(D.a)(t),Object(D.a)(e.current_project_detail.outputs.map((function(t){var a,n,r=0,o=(a=e.current_project_detail,n=t.id,a.activities.filter((function(e){return e.output_ids.includes(n)})));o&&o.forEach((function(e){x.a.sumBy(e.investments,(function(e){return x.a.keys(e.costs).forEach((function(t){r+=Number(e.costs[t])}))}))}));var i={};return i.text=t.name,i.parent=e.id,i.id=1e4+t.id,i.total_cost=r,e.total_cost+=r,i}))))})),e.forEach((function(e){a=[].concat(Object(D.a)(a),Object(D.a)(e.current_project_detail.activities.map((function(e){var t=S()(e.start_date),a=S()(e.end_date).diff(t,"years"),n={};return n.text=e.name,n.id=1e5+e.id,n.parent=1e4+e.output_id,n.start_date=S()(e.start_date).format("YYYY"),n.duration=0===a?1:a,n.total_cost=0,e.investments.forEach((function(e){x.a.keys(e.costs).forEach((function(t){n.total_cost+=parseFloat(e.costs[t])}))})),n}))))}));var n={data:[].concat(Object(D.a)(e),Object(D.a)(t),Object(D.a)(a))};window.gantt.clearAll(),window.gantt.parse(n)}}),[P,l,d,b,_]),Object(n.useEffect)((function(){N.custom("reports",{type:"projects-report",method:"GET"}).then((function(e){e&&e.data&&C(e.data)})),N.getListOfAll("organizations",{}).then((function(e){e&&e.data&&O(e.data)}))}),[]),Object(n.useEffect)((function(){window.gantt.config.columns=[{name:"text",label:"Project / Outputs / Activities",tree:!0,width:500,resize:!0},{name:"duration",align:"center"}],window.gantt.attachEvent("onTaskClick",(function(e,t){return e<1e4&&!t.target.classList.contains("gantt_tree_icon")&&A.push("/projects/"+e+"/show"),!0}));var e={columns:[{align:"center",fontWeight:"bold",name:"total_cost",width:100,label:"Total Cost (".concat(T("titles.currency"),")"),template:function(e){return Di(e.total_cost)}}]};window.gantt.config.layout={css:"gantt_container",rows:[{cols:[{view:"grid",width:320,scrollY:"scrollVer"},{resizer:!0,width:1},{view:"timeline",scrollX:"scrollHor",scrollY:"scrollVer"},{resizer:!0,width:1},{view:"grid",width:140,bind:"task",scrollY:"scrollVer",config:e},{view:"scrollbar",id:"scrollVer"}]},{view:"scrollbar",id:"scrollHor",height:20}]},window.gantt.config.open_tree_initially=!0,window.gantt.config.scale_unit="year",window.gantt.config.step=1,window.gantt.config.date_scale="%Y",window.gantt.config.duration_unit="year",window.gantt.config.duration_step=1,window.gantt.config.scale_height=70,window.gantt.config.round_dnd_dates=!1,window.gantt.config.date_format="%Y"}),[]),Object(n.useEffect)((function(){return localStorage.getItem("ganttChartInit")&&"project_portfolio"!==localStorage.getItem("ganttChartInit")&&(localStorage.removeItem("ganttChartInit"),A.go(0)),window.gantt.init("gantt_here"),localStorage.setItem("ganttChartInit","project_portfolio"),function(){localStorage.setItem("ganttChartInit","project_portfolio")}}),[]),localStorage.getItem("ganttChartInit")&&"project_portfolio"!==localStorage.getItem("ganttChartInit")?null:r.a.createElement("div",{style:{width:"98%",height:"80vh"}},r.a.createElement(oi.a,{style:{display:"flex"}},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(is.a,{variant:"outlined"},r.a.createElement(Wm.a,{style:{transform:"translate(14px, -12px) scale(0.75)"}},"Sector"),r.a.createElement(xa.a,{style:{width:"220px"},placeholder:"Sector",value:l,onChange:function(e){c(e.target.value),m("")}},r.a.createElement(sa.a,{value:""},r.a.createElement("em",null,"-")),F(1).map((function(e){return r.a.createElement(sa.a,{value:e.id},e.name)}))))),r.a.createElement(ci.a,null,r.a.createElement(is.a,{variant:"outlined"},r.a.createElement(Wm.a,{style:{transform:"translate(14px, -12px) scale(0.75)"}},"Vote"),r.a.createElement(xa.a,{style:{width:"220px"},placeholder:"Sector",value:d,onChange:function(e){m(e.target.value)}},r.a.createElement(sa.a,{value:""},r.a.createElement("em",null,"-")),F(2).filter((function(e){return!l||e.parent_id===l})).map((function(e){return r.a.createElement(sa.a,{value:e.id},e.name)}))))),r.a.createElement(ci.a,null,r.a.createElement(is.a,{variant:"outlined"},r.a.createElement(Wm.a,{style:{transform:"translate(14px, -12px) scale(0.75)"}},"Phase"),r.a.createElement(xa.a,{style:{width:"220px"},placeholder:"Phase",value:_,onChange:function(e){g(e.target.value)}},r.a.createElement(sa.a,{value:""},r.a.createElement("em",null,"-")),x.a.keys(za).map((function(e){return r.a.createElement(sa.a,{value:e},r.a.createElement("em",null,za[e]))}))))),r.a.createElement(ci.a,null,r.a.createElement(is.a,{variant:"outlined"},r.a.createElement(Wm.a,{style:{transform:"translate(14px, -12px) scale(0.75)"}},"Status"),r.a.createElement(xa.a,{style:{width:"220px"},placeholder:"Phase",value:b,onChange:function(e){g(e.target.value)}},r.a.createElement(sa.a,{value:""},r.a.createElement("em",null,"-")),x.a.keys(Ua).map((function(e){return r.a.createElement(sa.a,{value:e},r.a.createElement("em",null,Ua[e]))})))))))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{id:"gantt_here",style:{width:"100%",height:"100%"}}))},Ym=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{fontWeight:"bold",margin:"10px auto"},subtitle:{margin:"10px auto"},buttonsContainer:{width:"100%",display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"10px 25px"},buttons:{width:"100px",fontSize:"16px",display:"flex",justifyContent:"space-around"},titleColumn:{width:"35%"}}}));var Bm=function(e){var t=Object(n.useState)([]),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(pe.a)(),c=Ym(),s=Object(Ca.a)();return Object(n.useEffect)((function(){s.getListOfAll("projects",{sort_field:"id"}).then((function(e){if(e&&e.data)if(Y("has_pimis_fields")){var t=x.a.groupBy(e.data,(function(e){return e.organization_id}));for(var a in t)if(t.hasOwnProperty(a)){var n=t[a];if(n.length>1){var r=x.a.groupBy(n,(function(e){return S()(e.start_date)}));for(var o in r)if(r.hasOwnProperty(o)){var l=r[o],c=x.a.groupBy(l,(function(e){return S()(e.end_date)}));c[Object.keys(c)[0]].length>1&&i(c[Object.keys(c)[0]])}}}}else{var s=x.a.groupBy(e.data,(function(e){return e.name})),u=[];for(var d in s)if(s.hasOwnProperty(d)){var m=s[d];m.length>1&&(u=[].concat(Object(D.a)(u),Object(D.a)(m)))}i(u)}}))}),[]),r.a.createElement(ui.a,{container:!0,spacing:3},r.a.createElement(nr,{reportId:"report-container",title:"Repeated Projects",exportTypes:[Ha.WORD,Ha.PDF,Ha.XLS]}),r.a.createElement(ui.a,{item:!0,xs:12,id:"report-container"},r.a.createElement(se.a,{variant:"h4",style:{marginBottom:20}},l("resources.".concat(e.location.pathname.slice(1,e.location.pathname.length),".name"))),r.a.createElement(In.a,null,r.a.createElement(oi.a,null,r.a.createElement(ii.a,null,r.a.createElement(li.a,{className:c.filledRow},r.a.createElement(ci.a,{width:"100px"},"ID"),r.a.createElement(ci.a,{className:c.titleColumn},"Title"),r.a.createElement(ci.a,{align:"center"},"Phase"),r.a.createElement(ci.a,{align:"center"},"Start Date"),r.a.createElement(ci.a,{align:"center"},"Status"),r.a.createElement(ci.a,{align:"center"},"Last Modified"))),r.a.createElement(si.a,null,o.map((function(e){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e.code),r.a.createElement(ci.a,null,e.name),r.a.createElement(ci.a,{align:"center"},e.phase&&e.phase.name),r.a.createElement(ci.a,{align:"center"},wi(e.created_on).name),r.a.createElement(ci.a,{align:"center"},e.workflow&&r.a.createElement(Ac,{record:e})),r.a.createElement(ci.a,{align:"center"},Er(e.modified_on)))})))))))},zm=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{textAlign:"left",fontSize:"15px",fontWeight:"bold",paddingLeft:"30px",margin:"10px auto"}}}));var qm=function(e){var t=n.useState([]),a=Object(Z.a)(t,2),r=(a[0],a[1],n.useState([])),o=Object(Z.a)(r,2),i=(o[0],o[1],n.useState([])),l=Object(Z.a)(i,2),c=(l[0],l[1],Object(pe.a)());return zm(),Object(Ca.a)(),Object(ee.f)((function(e){return e.user.userInfo})),n.createElement(ui.a,{container:!0,spacing:3},n.createElement(ui.a,{item:!0,xs:12},n.createElement(ri.a,Object.assign({},e,{basePath:"/projects",resource:"projects",bulkActionButtons:!1,actions:!1,filter:{project_status:"REJECTED"},perPage:25}),n.createElement(Nl.a,null,n.createElement(Al.a,{source:"code"}),n.createElement(Al.a,{source:"name"}),n.createElement(Dl.a,{source:"created_on",label:c("resources.projects.fields.created_at"),render:function(e){return e?Er(e.created_on):null}}),n.createElement(Dl.a,{source:"status",label:c("resources.projects.fields.status"),render:function(e){return e?c("timeline.".concat(e.project_status.toLowerCase())):null}}),n.createElement(gc,null)))))},Um=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{textAlign:"left",fontSize:"15px",fontWeight:"bold",paddingLeft:"30px",margin:"10px auto"}}}));var Vm=function(e){var t=n.useState([]),a=Object(Z.a)(t,2),r=(a[0],a[1],n.useState([])),o=Object(Z.a)(r,2),i=(o[0],o[1],n.useState([])),l=Object(Z.a)(i,2),c=(l[0],l[1],Object(pe.a)());return Um(),Object(Ca.a)(),Object(ee.f)((function(e){return e.user.userInfo})),n.createElement(ui.a,{container:!0,spacing:3},n.createElement(ui.a,{item:!0,xs:12},n.createElement(ri.a,Object.assign({},e,{basePath:"/projects",resource:"projects",bulkActionButtons:!1,actions:!1,filter:{is_deleted:1},perPage:25,sort:{field:"id",order:"DESC"}}),n.createElement(Nl.a,null,n.createElement(Al.a,{source:"code"}),n.createElement(Al.a,{source:"name"}),n.createElement(Dl.a,{source:"modified_on",label:c("resources.projects.fields.deleted_on"),render:function(e){return e?Er(e.modified_on):null}}),n.createElement(Dl.a,{source:"created_on",label:c("resources.projects.fields.created_at"),render:function(e){return e?Er(e.created_on):null}}),n.createElement(Dl.a,{source:"status",label:c("resources.projects.fields.status"),render:function(e){return e?c("timeline.".concat(e.project_status.toLowerCase())):null}}),n.createElement(gc,null)))))},Gm=a(710),Hm=a.n(Gm),Jm=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{textAlign:"left",fontSize:"15px",fontWeight:"bold",paddingLeft:"30px",margin:"10px auto"},filters:{display:"flex",flexDirection:"column",width:"100%",padding:"25px",gap:"25px"},actions:{width:"100%",padding:"25px",display:"flex",justifyContent:"flex-start"}}})),Xm=["programs","organizations","functions","locations"];var $m=function(e){var t=n.useState({}),a=Object(Z.a)(t,2),r=(a[0],a[1]),o=n.useState([]),i=Object(Z.a)(o,2),l=(i[0],i[1],Object(pe.a)()),c=Jm(),s=Object(Ca.a)();return n.useEffect((function(){Xm.forEach((function(e){s.getListOfAll(e,{filter:{level:1}}).then((function(t){t&&t.data&&r((function(a){return Object(u.a)(Object(u.a)({},a),{},Object(N.a)({},e,t.data))}))}))}))}),[s]),n.createElement(ui.a,{container:!0,spacing:3},n.createElement(ui.a,{item:!0,xs:12},n.createElement(se.a,{variant:"h4",style:{marginBottom:20}},l("resources.".concat(e.location.pathname.slice(1,e.location.pathname.length),".name"))),n.createElement(In.a,null,n.createElement("div",{className:c.filters},n.createElement("div",{className:c.actions},n.createElement(Xn.a,{label:"Download Report",onClick:function(){s.downloadPIPReport({export_name:"PIP Report"}).then((function(e){console.log(e)}))},variant:"contained",startIcon:n.createElement(Hm.a,null),size:"large"}))))))},Km=(Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{textAlign:"left",fontSize:"15px",fontWeight:"bold",paddingLeft:"30px",margin:"10px auto"}}})),function(e){var t=e.loading,a=e.loaded;return 0===e.total&&!t&&a?n.createElement(di.a,{textAlign:"center",m:3},n.createElement(se.a,{variant:"h5",paragraph:!0},"No projects are in Pipeline status")):n.createElement(ti.a,e)});var Qm=function(e){var t=Object(pe.a)(),a=Y("has_pimis_fields")?{phase_id:4,current_step:17}:{phase_id:7};return n.createElement(ui.a,{container:!0,spacing:3},n.createElement(ui.a,{item:!0,xs:12},n.createElement(se.a,{variant:"h4",style:{marginBottom:20}},t("resources.".concat(e.location.pathname.slice(1,e.location.pathname.length),".name"))),n.createElement(In.a,null,n.createElement(ri.a,Object.assign({},e,{basePath:"/projects",sort:{field:"id",order:"DESC"},resource:"projects",bulkActionButtons:!1,actions:!1,filter:a,pagination:n.createElement(Km,null)}),n.createElement(Nl.a,{rowClick:!1},n.createElement(Al.a,{source:"code"}),n.createElement(Al.a,{source:"name"}),n.createElement(Dl.a,{source:"created_on",label:t("resources.projects.fields.created_at"),render:function(e){return e?Er(e.created_on):null}}),n.createElement(Dl.a,{source:"status",label:t("resources.projects.fields.status"),render:function(e){return e?"APPROVED"===e.project_status?t("timeline.draft"):t("timeline.".concat(e.project_status.toLowerCase())):null}}),n.createElement(Dl.a,{source:"status",label:t("resources.projects.fields.phase_id"),render:function(e){return e?e.phase&&e.phase.name:null}}),n.createElement(Ml,e))))))},Zm=a(1874),ep=["getSource","scopedFormData","formData"],tp=[{id:5,name:"High"},{id:3,name:"Medium"},{id:1,name:"Low"},{id:0,name:"Not Applicable"}],ap=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{textAlign:"left",fontSize:"15px",fontWeight:"bold",paddingLeft:"30px",margin:"10px auto"}}})),np=function(e){var t=e.loading,a=e.loaded;return 0===e.total&&!t&&a?n.createElement(di.a,{textAlign:"center",m:3},n.createElement(se.a,{variant:"h5",paragraph:!0},"No projects are in Completed status")):n.createElement(ti.a,e)};function rp(e){return n.createElement(Zc.a,e,n.createElement(Zm.a,null))}var op=function(e){var t=Object(pe.a)(),a=ap(),r=(Object(Ca.a)(),Object(ai.a)(),function(){var e=n.useState(!1),r=Object(Z.a)(e,2),o=r[0],i=r[1],l=Object(ni.a)(),c=l.ids,s=l.data,u=(l.basePath,function(e){return function(t){t.stopPropagation(),i(e)}});return n.createElement("div",{style:{margin:"2em",overflow:"auto"}},n.createElement(oi.a,{style:{overflow:"auto"}},n.createElement(ii.a,null,n.createElement(li.a,{className:a.filledRow},n.createElement(ci.a,{style:{minWidth:150}},"Project Code"),n.createElement(ci.a,{style:{minWidth:350}},"Project Title"),n.createElement(ci.a,{style:{minWidth:150}},"Submission Date"),n.createElement(ci.a,{style:{minWidth:150}},"Created By"),n.createElement(ci.a,{style:{minWidth:150}},"Status"),n.createElement(ci.a,{style:{minWidth:100}}))),n.createElement(si.a,null,c.map((function(e){var a=s[e];return n.createElement(li.a,{key:a.id},n.createElement(ci.a,null,"".concat(a.code)),n.createElement(ci.a,null,"".concat(a.name)),n.createElement(ci.a,null,"".concat(Er(a.submission_date))),n.createElement(ci.a,null,"".concat(a.user&&a.user.full_name)),n.createElement(ci.a,null,"".concat(t("timeline.".concat(a.project_status.toLowerCase())))),n.createElement(ci.a,null,!a.ranking_score&&n.createElement(Xn.a,{label:"Rank",onClick:u(a.id)})))})))),n.createElement(Gr.a,{fullWidth:!0,maxWidth:"lg",open:o,onClose:function(){i(!1)},style:{overflow:"hidden"},onBackdropClick:function(){i(!1)}},n.createElement(Hr.a,null,n.createElement("h2",null,s[o]&&s[o].name)),n.createElement(Jr.a,{style:{padding:"5px 15px 15px 15px"}},o&&n.createElement(ru.a,{basePath:"/projects",resource:"projects",id:o,hasEdit:!0,actions:!1,redirect:"/ranking"},n.createElement(ou.a,{toolbar:n.createElement(rp,null),redirect:"/ranking"},n.createElement(se.a,{variant:"h5",style:{marginLeft:15,marginBottom:20,width:"100%"}},"Strategic alignment to NDP and Vision 2040"," "),n.createElement(ke.a,{style:{width:"100%",height:2,margin:"10px auto"}}),n.createElement(ui.a,{container:!0,style:{width:"100%"},spacing:3},n.createElement(ui.a,{item:!0,xs:12,spacing:12},n.createElement(se.a,{variant:"body1",style:{width:"100%"}},"Alignment to the National Development Plan (strategic fit) NDP III has categorised projects according to their prioritisation.")),n.createElement(ui.a,{item:!0,xs:3,spacing:3},n.createElement(cs,{bool:!0,tooltipText:"Score High for NDP III core project. Score Medium for presidential directive, Parliament, Regional projects such as EAC, COMESA and AU. Score Low for Other NDP III projects. "},n.createElement(os.a,{label:"Ranking",variant:"outlined",margin:"none",options:{fullWidth:"true"},className:"boolean-selector",source:"ranking_data.strategic_fit.score",choices:tp,fullWidth:!0}))),n.createElement(ui.a,{item:!0,xs:6},n.createElement(ns.a,{source:"ranking_data.strategic_fit.comments",label:"Comments",rows:3,variant:"outlined",margin:"none",fullWidth:!0,multiline:!0,rowsMax:3}))),n.createElement(ui.a,{container:!0,style:{width:"100%"},spacing:3},n.createElement(ui.a,{item:!0,xs:12,spacing:12},n.createElement(se.a,{variant:"body1",style:{width:"100%"}},"Regional Balance: Interventions that directly target growth in key highly poverty hit regions as identified in the NDP III."," ")),n.createElement(ui.a,{item:!0,xs:3,spacing:3},n.createElement(cs,{bool:!0,tooltipText:"Score High for interventions targeting regions of Bukedi, Busoga, Bugisu, Karamoja, Teso, West Nile, Acholi and Bunyoro, \nScore Medium for interventions that include these regions among others in target beneficiaries, \nScore Low rank to projects with no intervention in these areas.\n"},n.createElement(os.a,{label:"Ranking",variant:"outlined",margin:"none",options:{fullWidth:"true"},className:"boolean-selector",source:"ranking_data.inclusive_growth.score",choices:tp,fullWidth:!0}))),n.createElement(ui.a,{item:!0,xs:6},n.createElement(ns.a,{source:"ranking_data.inclusive_growth.comments",label:"Comments",rows:3,variant:"outlined",margin:"none",fullWidth:!0,multiline:!0,rowsMax:3}))),n.createElement(ui.a,{container:!0,style:{width:"100%"},spacing:3},n.createElement(ui.a,{item:!0,xs:12,spacing:12},n.createElement(se.a,{variant:"body1",style:{width:"100%"}},"Economic impact to the Country: Demonstrate good use of public resources from a macroeconomic point of view."," ")),n.createElement(ui.a,{item:!0,xs:3,spacing:3},n.createElement(cs,{bool:!0,tooltipText:"Score High for projects in the pipeline category whose ENPV or CEA lies in the 75th percentile of the projects in the pipeline.\nScore Medium for projects whose ENPV or CEA lies in the 50th percentile of projects in the pipeline.\nScore Low for projects whose ENPV or CEA lies in the 25th percentile of the projects in the pipeline. \n"},n.createElement(os.a,{label:"Ranking",variant:"outlined",margin:"none",options:{fullWidth:"true"},className:"boolean-selector",source:"ranking_data.economic.score",choices:tp,fullWidth:!0}))),n.createElement(ui.a,{item:!0,xs:6},n.createElement(ns.a,{source:"ranking_data.economic.comments",label:"Comments",rows:3,variant:"outlined",margin:"none",fullWidth:!0,multiline:!0,rowsMax:3}))),n.createElement(se.a,{variant:"h5",style:{marginLeft:15,marginBottom:20,width:"100%"}},"Implementation Readiness: This looks at variables which relate to land acquisition and right of way, legal requirements, availability of required equipment, human resource, clearance from various stakeholders among others"," "),n.createElement(ke.a,{style:{width:"100%",height:2,margin:"10px auto"}}),n.createElement(ui.a,{container:!0,style:{width:"100%"},spacing:3},n.createElement(ui.a,{item:!0,xs:12,spacing:12},n.createElement(se.a,{variant:"body1",style:{width:"100%"}},"Land acquisition and Right of way: Highly impacts project costs and duration")),n.createElement(ui.a,{item:!0,xs:3,spacing:3},n.createElement(cs,{bool:!0,tooltipText:"Score High for projects that have completed the land acquisition or undertaken RAP and those that do not require RAP or land acquisition.\nScore Medium for projects with evidence for commencing land acquisition process, have not concluded but have initiated the land acquisition process.\nScore 0 for projects without evidence of commencement on land acquisition/right of way processes yet will require it.\n"},n.createElement(os.a,{label:"Ranking",variant:"outlined",margin:"none",options:{fullWidth:"true"},className:"boolean-selector",source:"ranking_data.land_acquisition.score",choices:tp,fullWidth:!0}))),n.createElement(ui.a,{item:!0,xs:6},n.createElement(ns.a,{source:"ranking_data.land_acquisition.comments",label:"Comments",rows:3,variant:"outlined",margin:"none",fullWidth:!0,multiline:!0,rowsMax:3}))),n.createElement(ui.a,{container:!0,style:{width:"100%"},spacing:3},n.createElement(ui.a,{item:!0,xs:12,spacing:12},n.createElement(se.a,{variant:"body1",style:{width:"100%"}},"Developed and Quality work, procurement and implementation plan")),n.createElement(ui.a,{item:!0,xs:3,spacing:3},n.createElement(cs,{bool:!0,tooltipText:"Score High for projects with a feasible and quality work, procurement and implementation plan.\nScore Medium for projects that have commenced developing of the plans.\nScore 0 for projects that have not commenced developing a work, procurement and implementation plan.\n"},n.createElement(os.a,{label:"Ranking",variant:"outlined",margin:"none",options:{fullWidth:"true"},className:"boolean-selector",source:"ranking_data.procurement.score",choices:tp,fullWidth:!0}))),n.createElement(ui.a,{item:!0,xs:6},n.createElement(ns.a,{source:"ranking_data.procurement.comments",label:"Comments",rows:3,variant:"outlined",margin:"none",fullWidth:!0,multiline:!0,rowsMax:3}))),n.createElement(se.a,{variant:"h5",style:{marginLeft:15,marginBottom:20,width:"100%"}},"Budgeting readiness and Overall MTEF requirement: This relates to parameters that influence inclusion into the resource envelope"," "),n.createElement(ke.a,{style:{width:"100%",height:2,margin:"10px auto"}}),n.createElement(ui.a,{container:!0,style:{width:"100%"},spacing:3},n.createElement(ui.a,{item:!0,xs:12,spacing:12},n.createElement(se.a,{variant:"body1",style:{width:"100%"}},"Disbursement readiness : Ascertain disbursement readiness for projects targeting external financing.")),n.createElement(ui.a,{item:!0,xs:3,spacing:3},n.createElement(cs,{bool:!0,tooltipText:"Score High for projects that have completed the loan/grants acquisition cycle whose disbursement is ready and only awaiting a code. GoU projects that can adequately be accommodated within the available fiscal space will equally Score High for under this category otherwise score as in category (ii) on multiyear requirements.\nScore Medium for projects which are under consideration for loan financing but have not yet concluded the process (Projects yet to be submitted to Parliament for consideration). \nScore 0 for projects that have been ear marked for external financing but are still at negotiation stage or those that have not commenced negotiation.\n"},n.createElement(os.a,{label:"Ranking",variant:"outlined",margin:"none",options:{fullWidth:"true"},className:"boolean-selector",source:"ranking_data.loan_negotiation.score",choices:tp,fullWidth:!0}))),n.createElement(ui.a,{item:!0,xs:6},n.createElement(ns.a,{source:"ranking_data.loan_negotiation.comments",label:"Comments",rows:3,variant:"outlined",margin:"none",fullWidth:!0,multiline:!0,rowsMax:3}))),n.createElement(ui.a,{container:!0,style:{width:"100%"},spacing:3},n.createElement(ui.a,{item:!0,xs:12,spacing:12},n.createElement(se.a,{variant:"body1",style:{width:"100%"}},"Multiyear project requirements including counterpart requirement vs available fiscal space in the MTEF."," ")),n.createElement(ui.a,{item:!0,xs:3,spacing:3},n.createElement(cs,{bool:!0,tooltipText:"Score High for projects whose Multiyear project requirements falls within 1/3 of the available fiscal space in the MTEF.\nScore Medium for projects whose multiyear requirements resource are 50% of the available fiscal space in the MTEF.\nScore Low for projects whose requirements are 100% (equal to) the available fiscal scape in the MTEF.\n"},n.createElement(os.a,{label:"Ranking",variant:"outlined",margin:"none",options:{fullWidth:"true"},className:"boolean-selector",source:"ranking_data.fiscal_space.score",choices:tp,fullWidth:!0}))),n.createElement(ui.a,{item:!0,xs:6},n.createElement(ns.a,{source:"ranking_data.fiscal_space.comments",label:"Comments",rows:3,variant:"outlined",margin:"none",fullWidth:!0,multiline:!0,rowsMax:3}))),n.createElement(ui.a,{container:!0,style:{width:"100%"},spacing:3},n.createElement(ui.a,{item:!0,xs:12,spacing:12},n.createElement(se.a,{variant:"body1",style:{width:"100%"}},"Interlinkages within the programme: Need to maximise coordination of projects within the programme to leverage time, money, and resources."," ")),n.createElement(ui.a,{item:!0,xs:3,spacing:3},n.createElement(cs,{bool:!0,tooltipText:"Score High for interventions that maximize linkages with other votes within the program in terms of geographical proximity of interventions, sequencing and timing of other interventions within the vicinity, dependency on the completion of other projects, economies of scale opportunities, e.tc.\nScore Medium for projects with moderate level of interlinkages within the programs (Linkage with above 3 votes within a program.  \nScore Low for projects with no evidence of interlinkages with other votes within the program.\n"},n.createElement(os.a,{label:"Ranking",variant:"outlined",margin:"none",options:{fullWidth:"true"},className:"boolean-selector",source:"ranking_data.interlinkages.score",choices:tp,fullWidth:!0}))),n.createElement(ui.a,{item:!0,xs:6},n.createElement(ns.a,{source:"ranking_data.interlinkages.comments",label:"Comments",rows:3,variant:"outlined",margin:"none",fullWidth:!0,multiline:!0,rowsMax:3}))),n.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData;var t=e.formData;Object(T.a)(e,ep);return t&&(t.ranking_score=x.a.sumBy(x.a.keys(t.ranking_data),(function(e){return t.ranking_data[e].score}))),null}))))," ")))});return n.createElement(ui.a,{container:!0,spacing:3},n.createElement(In.a,{style:{overflow:"auto"}},n.createElement(ri.a,Object.assign({},e,{basePath:"/projects",resource:"projects",bulkActionButtons:!1,actions:!1,filter:{phase_id:5,current_step:18},pagination:n.createElement(np,null),sort:{field:"id",order:"DESC"}}),n.createElement(r,null))))},ip=a(2001),lp=["record"],cp={5:"High",3:"Medium",1:"Low",0:"Not Available"};var sp=function(e){var t=e.record,a=(Object(T.a)(e,lp),Object(n.useState)({})),o=Object(Z.a)(a,2),i=o[0],l=o[1],c=Object(n.useState)(!0),s=Object(Z.a)(c,2),u=s[0],d=s[1],m=Object(Ca.a)();return Object(pe.a)(),Object(n.useEffect)((function(){t&&t.id&&m.getListOfAll("project-details",{sort_field:"id",filter:{project_id:t.id,phase_id:7}}).then((function(e){l(e.data[0]),d(!1)}))}),[t]),r.a.createElement("div",{style:{width:"100%",minWidth:"960px"}},u?r.a.createElement(se.a,{variant:"h5"},"Data is loading, please wait..."):!x.a.isEmpty(i)&&r.a.createElement(oi.a,{size:"small"},r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(se.a,{variant:"body2",style:{width:"100%"}},"Project Problem Statement")),r.a.createElement(ci.a,null,gi()(i.problem_statement))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(se.a,{variant:"body2",style:{width:"100%"}},"Project Goal")),r.a.createElement(ci.a,null,i.goal)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(se.a,{variant:"body2",style:{width:"100%"}},"Project Outcomes")),r.a.createElement(ci.a,null,i.outcomes&&i.outcomes.map((function(e){return e.name})).join(","))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(se.a,{variant:"body2",style:{width:"100%"}},"Project Outputs")),r.a.createElement(ci.a,null,i.outputs&&i.outputs.map((function(e){return e.name})).join(","))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(se.a,{variant:"body2",style:{width:"100%"}},"Project FNPV")),r.a.createElement(ci.a,null,i.project_options&&Ni(i.project_options.filter((function(e){return e.is_preferred})).map((function(e){return parseFloat(e.financial_evaluation.fnpv)})).join("")))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(se.a,{variant:"body2",style:{width:"100%"}},"Project FIRR")),r.a.createElement(ci.a,null,i.project_options&&i.project_options.filter((function(e){return e.is_preferred})).map((function(e){return e.financial_evaluation.irr})).join(""))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(se.a,{variant:"body2",style:{width:"100%"}},"Project ENPV")),r.a.createElement(ci.a,null,i.project_options&&Ni(i.project_options.filter((function(e){return e.is_preferred})).map((function(e){return parseFloat(e.economic_evaluation.enpv)})).join("")))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(se.a,{variant:"body2",style:{width:"100%"}},"Project EIRR")),r.a.createElement(ci.a,null,i.project_options&&i.project_options.filter((function(e){return e.is_preferred})).map((function(e){return e.economic_evaluation.err})).join(""))))),!u&&t&&t.ranking_data&&r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{variant:"body1",style:{marginLeft:15,marginBottom:10,marginTop:20,width:"100%",fontWeight:"bold"}},"Strategic alignment to NDP and Vision 2040"," "),r.a.createElement(oi.a,{size:"small"},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:2,variant:"head",style:{width:"550px"}},r.a.createElement(se.a,{variant:"body2"},"Criteria Description")),r.a.createElement(ci.a,{variant:"head",style:{width:"150px"}},r.a.createElement(se.a,{variant:"body2"},"Score")),r.a.createElement(ci.a,{variant:"head"},r.a.createElement(se.a,{variant:"body2",style:{width:"350px"}},"Comments")))),r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{width:"350px"}},r.a.createElement(se.a,{variant:"body2"},"Alignment to the National Development Plan (strategic fit) NDP III has categorised projects according to their prioritisation.")),r.a.createElement(ci.a,{style:{width:"150px"}},t&&t.ranking_data&&t.ranking_data.strategic_fit&&cp[t.ranking_data.strategic_fit.score]),r.a.createElement(ci.a,{style:{width:"150px"}},t&&t.ranking_data&&t.ranking_data.strategic_fit&&t.ranking_data.strategic_fit.score),r.a.createElement(ci.a,null,t&&t.ranking_data&&t.ranking_data.strategic_fit&&t.ranking_data.strategic_fit.comments)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(se.a,{variant:"body2"},"Regional Balance: Interventions that directly target growth in key highly poverty hit regions as identified in the NDP III.")),r.a.createElement(ci.a,{style:{width:"150px"}},t&&t.ranking_data&&t.ranking_data.inclusive_growth&&cp[t.ranking_data.inclusive_growth.score]),r.a.createElement(ci.a,{style:{width:"150px"}},t&&t.ranking_data&&t.ranking_data.inclusive_growth&&t.ranking_data.inclusive_growth.score),r.a.createElement(ci.a,null,t&&t.ranking_data&&t.ranking_data.inclusive_growth&&t.ranking_data.inclusive_growth.comments)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(se.a,{variant:"body2"},"Economic impact to the Country: Demonstrate good use of public resources from a macroeconomic point of view.")),r.a.createElement(ci.a,{style:{width:"150px"}},t&&t.ranking_data&&t.ranking_data.economic&&cp[t.ranking_data.economic.score]),r.a.createElement(ci.a,{style:{width:"150px"}},t&&t.ranking_data&&t.ranking_data.economic&&t.ranking_data.economic.score),r.a.createElement(ci.a,null,t&&t.ranking_data&&t.ranking_data.economic&&t.ranking_data.economic.comments))),r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:2,variant:"head"},r.a.createElement(se.a,{variant:"body2",style:{fontWeight:"bold"}},"Total")),r.a.createElement(ci.a,{variant:"head"},t.ranking_data&&(t.ranking_data.strategic_fit?parseFloat(t.ranking_data.strategic_fit.score):0)+(t.ranking_data.inclusive_growth?parseFloat(t.ranking_data.inclusive_growth.score):0)+(t.ranking_data.economic?parseFloat(t.ranking_data.economic.score):0)),r.a.createElement(ci.a,{variant:"head"})))),r.a.createElement(se.a,{variant:"body1",style:{marginLeft:15,marginBottom:10,marginTop:20,width:"100%",fontWeight:"bold"}},"Implementation Readiness: This looks at variables which relate to land acquisition and right of way, legal requirements, availability of required equipment, human resource, clearance from various stakeholders among others"," "),r.a.createElement(oi.a,{size:"small"},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:2,variant:"head",style:{width:"550px"}},r.a.createElement(se.a,{variant:"body2"},"Criteria Description")),r.a.createElement(ci.a,{variant:"head",style:{width:"150px"}},r.a.createElement(se.a,{variant:"body2"},"Score")),r.a.createElement(ci.a,{variant:"head"},r.a.createElement(se.a,{variant:"body2",style:{width:"350px"}},"Comments")))),r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{width:"350px"}},r.a.createElement(se.a,{variant:"body2"},"Land acquisition and Right of way:  Highly impacts project costs and duration                    ")),r.a.createElement(ci.a,{style:{width:"150px"}},t&&t.ranking_data&&t.ranking_data.land_acquisition&&cp[t.ranking_data.land_acquisition.score]),r.a.createElement(ci.a,{style:{width:"150px"}},t&&t.ranking_data&&t.ranking_data.land_acquisition&&[t.ranking_data.land_acquisition.score]),r.a.createElement(ci.a,null,t&&t.ranking_data&&t.ranking_data.land_acquisition&&t.ranking_data.land_acquisition.comments)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(se.a,{variant:"body2"},"Developed and Quality work, procurement and implementation plan")),r.a.createElement(ci.a,{style:{width:"150px"}},t&&t.ranking_data&&t.ranking_data.procurement&&cp[t.ranking_data.procurement.score]),r.a.createElement(ci.a,{style:{width:"150px"}},t&&t.ranking_data&&t.ranking_data.procurement&&[t.ranking_data.procurement.score]),r.a.createElement(ci.a,null,t&&t.ranking_data&&t.ranking_data.procurement&&t.ranking_data.procurement.comments))),r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:2,variant:"head"},r.a.createElement(se.a,{variant:"body2",style:{fontWeight:"bold"}},"Total")),r.a.createElement(ci.a,{variant:"head"},t.ranking_data&&(t.ranking_data.land_acquisition?parseFloat(t.ranking_data.land_acquisition.score):0)+(t.ranking_data.procurement?parseFloat(t.ranking_data.procurement.score):0)),r.a.createElement(ci.a,{variant:"head"})))),r.a.createElement(se.a,{variant:"body1",style:{marginLeft:15,marginBottom:10,marginTop:20,width:"100%",fontWeight:"bold"}},"Budgeting readiness and Overall MTEF requirement: This relates to parameters that influence inclusion into the resource envelope           "),r.a.createElement(oi.a,{size:"small"},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:2,variant:"head",style:{width:"550px"}},r.a.createElement(se.a,{variant:"body2"},"Criteria Description")),r.a.createElement(ci.a,{variant:"head",style:{width:"150px"}},r.a.createElement(se.a,{variant:"body2"},"Score")),r.a.createElement(ci.a,{variant:"head"},r.a.createElement(se.a,{variant:"body2",style:{width:"350px"}},"Comments")))),r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{width:"350px"}},r.a.createElement(se.a,{variant:"body2"},"Disbursement readiness :  Ascertain disbursement readiness for projects targeting external financing.")),r.a.createElement(ci.a,{style:{width:"150px"}},t&&t.ranking_data&&t.ranking_data.loan_negotiation&&cp[t.ranking_data.loan_negotiation.score]),r.a.createElement(ci.a,{style:{width:"150px"}},t&&t.ranking_data&&t.ranking_data.loan_negotiation&&[t.ranking_data.loan_negotiation.score]),r.a.createElement(ci.a,null,t&&t.ranking_data&&t.ranking_data.loan_negotiation&&t.ranking_data.loan_negotiation.comments)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(se.a,{variant:"body2"},"Multiyear project requirements including counterpart requirement vs available fiscal space in the MTEF.                  ")),r.a.createElement(ci.a,{style:{width:"150px"}},t&&t.ranking_data&&t.ranking_data.fiscal_space&&cp[t.ranking_data.fiscal_space.score]),r.a.createElement(ci.a,{style:{width:"150px"}},t&&t.ranking_data&&t.ranking_data.fiscal_space&&[t.ranking_data.fiscal_space.score]),r.a.createElement(ci.a,null,t&&t.ranking_data&&t.ranking_data.fiscal_space&&t.ranking_data.fiscal_space.comments)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(se.a,{variant:"body2"},"Interlinkages within the programme:  Need to maximise coordination of projects within the programme to leverage time, money, and resources.                   ")),r.a.createElement(ci.a,{style:{width:"150px"}},t&&t.ranking_data&&t.ranking_data.interlinkages&&cp[t.ranking_data.interlinkages.score]),r.a.createElement(ci.a,{style:{width:"150px"}},t&&t.ranking_data&&t.ranking_data.interlinkages&&[t.ranking_data.interlinkages.score]),r.a.createElement(ci.a,null,t&&t.ranking_data&&t.ranking_data.interlinkages&&t.ranking_data.interlinkages.comments))),r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:2,variant:"head"},r.a.createElement(se.a,{variant:"body2",style:{fontWeight:"bold"}},"Total")),r.a.createElement(ci.a,{variant:"head"},t.ranking_data&&(t.ranking_data.loan_negotiation?parseFloat(t.ranking_data.loan_negotiation.score):0)+(t.ranking_data.fiscal_space?parseFloat(t.ranking_data.fiscal_space.score):0)+(t.ranking_data.interlinkages?parseFloat(t.ranking_data.interlinkages.score):0)),r.a.createElement(ci.a,{variant:"head"}))),r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:2,variant:"head"},r.a.createElement(se.a,{variant:"body2",style:{fontWeight:"bold"}},"Grand Total Score")),r.a.createElement(ci.a,{variant:"head"},t&&t.ranking_score),r.a.createElement(ci.a,{variant:"head"}))))))},up=a(203),dp=a(2022),mp=a(269),pp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(up.a)({type:"deleteMedia",resource:"media",payload:{data:e}},t)},fp=["record","resource","accept","maxSize","minSize","multiple","tag","meta","label","onDelete","noRefreshOnDelete"],_p=Object(ae.a)((function(e){return{dropZone:{width:250,margin:10,border:"1px dotted",background:e.palette.background.default,cursor:"pointer",padding:e.spacing(1),textAlign:"center",color:e.palette.getContrastText(e.palette.background.default)},preview:{},removeButton:{},deleteIcon:{cursor:"pointer",marginRight:10},fileItem:{lineHeight:"35px",display:"flex",alignItems:"center"}}}),{name:"RaFileInput"}),gp=function(e){var t=e.record,a=e.resource,o=e.accept,i=e.maxSize,l=e.minSize,c=e.multiple,s=(e.tag,e.meta),d=(e.label,e.onDelete),m=e.noRefreshOnDelete,p=Object(T.a)(e,fp),f=Object(n.useState)([]),_=Object(Z.a)(f,2),g=_[0],h=_[1],v=Object(n.useState)(null),b=Object(Z.a)(v,2),E=b[0],j=b[1],y=Object(n.useState)(null),O=Object(Z.a)(y,2),w=O[0],k=O[1],S=_p(p),P=Object(Na.a)(),C=Object(rr.a)(),N=Object(Ca.a)();Object(n.useEffect)((function(){if(t&&t.files){var e=x.a.sortBy(t.files&&t.files.filter((function(e){var t=e.meta&&"string"===typeof e.meta?JSON.parse(e.meta):e.meta;return t&&t.relatedField===s.relatedField})),"id").reverse();h(c?e:e[0]?[e[0]]:[])}}),[t]),Object(n.useEffect)((function(){E&&p.approvedUploading&&R()}),[E,p.approvedUploading]),Object(n.useEffect)((function(){w&&M()}),[w]);var A=Object(up.a)(),D=Object(Z.a)(A,2),F=D[0],R=(D[1].loading,function(){F({type:"uploadMedia",resource:"media",payload:{data:E}},{onSuccess:function(e){e.data&&(h([e.data]),P("File uploaded!"),p.onFileUpload?(p.entityIds&&p.entityIds.length>1&&N.custom("media",{method:"POST",query:{entity_ids:p.entityIds,entity_type:e.data.entity_type,filename:e.data.filename,meta:e.data.meta,title:e.data.title}}),p.onFileUpload(e.data)):C())},onFailure:function(e){return P("Error on file uploading, please try again later! ".concat(e.message),"warning")}})}),I=pp(w,{onSuccess:function(e){var a=x.a.sortBy(t.files&&t.files.filter((function(e){var t=e.meta&&"string"===typeof e.meta?JSON.parse(e.meta):e.meta;return t&&t.relatedField===s.relatedField})),"id").reverse();P("File was deleted!","success"),d&&m||C(),d(w.id),h(c?a:a[0]?[a[0]]:[])},onFailure:function(e){var t=e.error;P(t.message,"error"),P("File wasn`t deleted!","error")}}),M=Object(Z.a)(I,1)[0],W=function(e){return e instanceof File?{rawFile:e,link:URL.createObjectURL(e),title:e.name}:e},L=Object(mp.a)({accept:o,maxSize:i,minSize:l,multiple:c,onDrop:function(e,n,r){var o=function(e){return e?Array.isArray(e)?e.map(W):W(e):p.multiple?[]:null}(e);h([o[0]]),p.onFileSelect&&p.onFileSelect(!0),j({entity_id:p.entityId||p.entityIds&&p.entityIds[0]||t&&t.id,entity_type:a,media:o[0].rawFile,title:o[0].title,meta:s,record:t})}}),Y=L.getRootProps,B=L.getInputProps;return r.a.createElement("div",{className:S.root},0===g.length&&r.a.createElement("div",Object.assign({"data-testid":"dropzone",className:S.dropZone},Y()),r.a.createElement("input",B(Object(u.a)({},p))),p.placeholder),g&&g.map((function(e){return e?r.a.createElement("div",{className:S.fileItem},r.a.createElement(dp.a,{className:S.deleteIcon,onClick:(n=e.id,function(e){n?k({id:n,record:t,entity_type:a}):(h([]),p.onFileDelete())})}),r.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer"},e.title)):null;var n})))};var hp=function(e){var t,a,o,i=Object(n.useState)([]),l=Object(Z.a)(i,2),c=l[0],s=l[1],d=Object(n.useState)(!1),m=Object(Z.a)(d,2),p=m[0],f=m[1],_=Object(n.useState)(!1),g=Object(Z.a)(_,2),h=g[0],v=g[1],b=Object(pe.a)(),E=e.data.workflow,j=L(),y=Object(Ca.a)();Object(n.useEffect)((function(){y.getListOfAll("file-types",{}).then((function(e){e&&e.data&&s(e.data)}))}),[]),Object(n.useEffect)((function(){e.isConfirmed&&v(!0)}),[e.isConfirmed]);var O="timeline";O=Y("has_pimis_fields")?j("upload_file_to_project")&&e.isRequired?"project_detail":"timeline":j("upload_file_to_project")&&e.isRequired&&!e.additional_data.submit_project_analysis?"project_detail":"timeline";var w=null;if(e.isRequired&&("PRIMARY"===e.type&&(j("upload_file_to_timeline")&&(w=b("workflow.workflow_file_upload")),j("upload_file_to_project")&&(w=b("workflow.va_file_subtitle"))),"SECONDARY"===e.type&&(j("upload_file_to_timeline")&&(w=b("workflow.workflow_additional_file_upload")),j("upload_file_to_project")&&(w=b("workflow.va_additionalFile_subtitle")))),!e.record)return null;var k={project_analysis:null===(t=e.additional_data)||void 0===t?void 0:t.submit_project_analysis,completion_report:null===(a=e.additional_data)||void 0===a?void 0:a.completion_report,expost_report:null===(o=e.additional_data)||void 0===o?void 0:o.expost_report};return r.a.createElement(n.Fragment,null,w&&r.a.createElement("p",{style:{fontStyle:"italic"}},function(e){var t=x.a.find(c,(function(t){return t.id===e}));return t?t.name:null}(e.fileType)),r.a.createElement(gp,{meta:Object(u.a)({current_step:E.step,phase_id:e.record.phase_id},k),resource:O,formData:e.data,entityId:"project_detail"===O?e.details&&e.details.id:e.record&&e.record.id,fileSelected:p,approvedUploading:h,placeholder:b("titles.drop_files"),onFileUpload:function(t){e.onFileUploaded(t)},onFileSelect:function(t){f(t),e.onFileSelect()},onFileDelete:function(t){e.onDeleteSelected(t)}}))},vp=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{textAlign:"left",fontSize:"15px",fontWeight:"bold",paddingLeft:"30px",margin:"10px auto"},card:{width:"100%","& .MuiTableCell-paddingCheckbox":{verticalAlign:"middle"},"& .MuiTableCell-sizeSmall":{verticalAlign:"middle"},"& .MuiTableSortLabel-root":{lineHeight:"18px"}}}})),bp=function(e){var t=e.loading,a=e.loaded;return 0===e.total&&!t&&a?n.createElement(di.a,{textAlign:"center",m:3},n.createElement(se.a,{variant:"h5",paragraph:!0},"No projects")):n.createElement(ti.a,e)},Ep=function(e){var t=n.useState(!1),a=Object(Z.a)(t,2),r=a[0],o=a[1],i=n.useState(!1),l=Object(Z.a)(i,2),c=l[0],s=l[1],u=n.useState(!1),d=Object(Z.a)(u,2),m=(d[0],d[1]),p=n.useState(!1),f=Object(Z.a)(p,2),_=(f[0],f[1]),g=Object(Ca.a)(),h=Object(Na.a)(),v=Object(rr.a)(),b=Object(ip.a)(),E=Object(ni.a)().data;console.log(E,"sada");var j=function(){return o(!1)};function y(t){_(t);var a={data:{action:"APPROVE",project_ids:e.selectedIds}};g.ranking(a).then((function(t){if(t||h("Approving fails, please try again later!","warning"),t&&t.data.length!==e.selectedIds.length){var a=x.a.difference(e.selectedIds,t).map((function(e){return"".concat(E[e].code," - ").concat(E[e].name)})),n="This project wasn't approved: ".concat(a.join(", "));h(n,"warning")}else h("All projects was approved","success");b("projects"),v(),j();var r=Object.keys(E).map((function(e){return Number(e)})),o=Object(w.difference)(e.selectedIds,t),i=Object(w.difference)(r,o);(null===i||void 0===i?void 0:i.length)>0&&g.notificationsSet({data:{projects:i.map((function(e){var t,a;return{id:null===(t=E[e])||void 0===t?void 0:t.id,created_by:null===(a=E[e])||void 0===a?void 0:a.created_by,project_status:"IN_PIPELINE"}}))}})}))}e.selectedIds.length>0&&E[e.selectedIds[0]];var O=Object(pe.a)();return n.createElement(n.Fragment,null,n.createElement(Xn.a,{label:"Approve",onClick:function(){o(!0)}}),n.createElement(Gr.a,{fullWidth:!0,open:r,onClose:j},n.createElement(Jr.a,null,n.createElement("div",null,n.createElement(gp,{meta:{current_step:19,phase_id:5,ranking_report:!0},resource:"timeline",entityIds:e.selectedIds,fileTypeId:15,placeholder:O("titles.drop_files"),approvedUploading:c,onDelete:function(){return y()},onFileSelect:function(){m(!0)},onFileDelete:function(){m(!1)},onFileUpload:y,noRefreshOnDelete:!0})),n.createElement("div",null,n.createElement("h3",null,"Approving list of projects"),n.createElement("ul",null,e.selectedIds.map((function(e){return n.createElement("li",{key:e},E[e]&&"".concat(E[e].code," - ").concat(E[e].name))}))))),n.createElement(Xr.a,null,n.createElement(n.Fragment,null,n.createElement(Xn.a,{label:"Confirm",onClick:function(){s(!0),y()}}),n.createElement(Xn.a,{label:"Cancel",onClick:j})))))};var jp=function(e){var t=Object(pe.a)(),a=vp();return Object(Ca.a)(),z("has_pipeline_report"),n.createElement(ui.a,{container:!0,spacing:3},n.createElement(nr,{reportId:"report-container",title:"Cost Evolution Report",exportTypes:[Ha.WORD,Ha.PDF,Ha.XLS]}),n.createElement(ui.a,{item:!0,xs:12,id:"report-container"},n.createElement(se.a,{variant:"h4",style:{marginBottom:20}},t("resources.".concat(e.location.pathname.slice(1,e.location.pathname.length),".name"))),n.createElement(In.a,{className:a.card},n.createElement(ri.a,Object.assign({},e,{basePath:"/projects",resource:"projects",bulkActionButtons:n.createElement(Ep,null),actions:n.createElement(n.Fragment,null),filter:{phase_id:5,current_step:18},perPage:25,sort:{field:"ranking_score",order:"DESC"},pagination:n.createElement(bp,null),className:"report-page"}),n.createElement(Nl.a,{rowClick:"show",expand:n.createElement(sp,e)},n.createElement(Al.a,{source:"code"}),n.createElement(Al.a,{source:"name"}),n.createElement(Dl.a,{source:"created_on",label:t("resources.projects.fields.created_at"),render:function(e){return e?Er(e.created_on):null}}),n.createElement(Dl.a,{source:"status",label:t("resources.projects.fields.status"),render:function(e){return e?t("timeline.".concat(e.project_status.toLowerCase())):null}}),n.createElement(Dl.a,{source:"status",label:t("resources.projects.fields.phase_id"),render:function(e){return e?e.phase&&e.phase.name:null}}),n.createElement(Al.a,{source:"ranking_score"}))))))},yp=Object(ae.a)((function(e){var t;return t={topGroup:{display:"flex",justifyContent:"space-around"},title:{textAlign:"left",fontSize:"15px",fontWeight:"bold",paddingLeft:"30px",margin:"10px auto"},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"},filters:{padding:"15px 10px",display:"flex",justifyContent:"space-between",width:"40%",minWidth:"700px",position:"relative"},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}}},Object(N.a)(t,"filledRow",{backgroundColor:e.palette.action.hover,fontWeight:"bold"}),Object(N.a)(t,"table",{minWidth:700}),t}));var Op,wp=function(e){var t=n.useState([]),a=Object(Z.a)(t,2),r=a[0],o=a[1],i=n.useState("enpv"),l=Object(Z.a)(i,2),c=l[0],s=l[1],d=n.useState(),m=Object(Z.a)(d,2),p=(m[0],m[1],n.useState()),f=Object(Z.a)(p,2),_=(f[0],f[1],n.useState([])),g=Object(Z.a)(_,2),h=g[0],v=g[1],b=Object(pe.a)(),E=yp(),j=Object(Ca.a)(),y=n.useState({}),O=Object(Z.a)(y,2),w=O[0],k=O[1],S=Object(ee.f)((function(e){return e.app.appConfig}));function P(e){return h?x.a.uniqBy(h.filter((function(t){return t&&t.level===e})),"id"):[]}return n.useEffect((function(){j.custom("reports",{type:"pivot",method:"GET"}).then((function(e){if(e&&e.data){var t=e.data.filter((function(e){return!x.a.isEmpty(e.ranking_data)}));o(t);var a=[];t.forEach((function(e){a.push(e.project_organization),e.project_organization&&e.project_organization.parent&&a.push(e.project_organization.parent),e.project_organization&&e.project_organization.parent&&a.push(e.project_organization.parent)})),v(a)}}))}),[]),n.createElement(ui.a,{container:!0,spacing:3},n.createElement(nr,{reportId:"report-container",title:"Ranking Report",exportTypes:[Ha.WORD,Ha.PDF,Ha.XLS]}),n.createElement(ui.a,{item:!0,xs:12},n.createElement(se.a,{variant:"h4",style:{marginBottom:20}},b("resources.".concat(e.location.pathname.slice(1,e.location.pathname.length),".name"))),n.createElement(In.a,null,n.createElement("div",{className:E.filters},n.createElement("div",{className:E.filters},n.createElement(is.a,{variant:"outlined"},n.createElement(Wm.a,{style:{transform:"translate(14px, -12px) scale(0.75)"}},"Project Ranking by"),n.createElement(xa.a,{variant:"outlined",style:{width:"220px"},placeholder:"Sector",value:c,onChange:function(e){s(e.target.value)}},n.createElement(sa.a,{value:"enpv"},n.createElement("em",null,"ENPV")),n.createElement(sa.a,{value:"fnpv"},n.createElement("em",null,"FNPV")),n.createElement(sa.a,{value:"irr"},n.createElement("em",null,"IRR")),n.createElement(sa.a,{value:"err"},n.createElement("em",null,"ERR")))),n.createElement(is.a,{variant:"outlined"},n.createElement(Wm.a,{style:{transform:"translate(14px, -12px) scale(0.75)"}},S&&S.organizational_config[1].name),n.createElement(xa.a,{style:{width:"220px"},placeholder:"Vote",value:w[1],onChange:function(e){k({1:e.target.value})}},n.createElement(sa.a,{value:""},n.createElement("em",null,"-")),P(1).map((function(e){return n.createElement(sa.a,{value:e.id},e.name)})))),n.createElement(is.a,{variant:"outlined"},n.createElement(Wm.a,{style:{transform:"translate(14px, -12px) scale(0.75)"}},S&&S.organizational_config[2]&&S.organizational_config[2].name),n.createElement(xa.a,{style:{width:"220px"},placeholder:"Department",value:w[2],onChange:function(e){k(Object(u.a)(Object(u.a)({},w),{},{2:e.target.value}))}},n.createElement(sa.a,{value:""},n.createElement("em",null,"-")),P(2).filter((function(e){return!w[1]||e.parent_id===w[1]})).map((function(e){return n.createElement(sa.a,{value:e.id},e.name)})))))),n.createElement("div",{id:"report-container"},n.createElement("div",{className:"landscapeSection"},n.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",E.bordered,E.table),style:{width:"100%"}},n.createElement(ii.a,null,n.createElement(li.a,{className:E.filledRow},n.createElement(ci.a,null,S&&S.organizational_config[1]&&S.organizational_config[1].name),n.createElement(ci.a,null,"Name"),n.createElement(ci.a,null,S&&S.organizational_config[2]&&S.organizational_config[2].name),n.createElement(ci.a,null,"Cost (",b("titles.currency"),")"),n.createElement(ci.a,null,c.toUpperCase()," (",b("titles.currency"),")"),n.createElement(ci.a,{style:{width:50}},"Rank"))),n.createElement(si.a,null,r&&x.a.sortBy(r,(function(e){return Number(e.ranking_data[c])})).reverse().filter((function(e){return!w[1]||e.project_organization&&e.project_organization.parent.id===w[1]})).filter((function(e){return!w[2]||e.project_organization&&e.project_organization.id===w[2]})).map((function(e,t){return e.total_cost=0,x.a.keys(e.costs).forEach((function(t){e.total_cost+=e.costs[t]})),n.createElement(li.a,null,n.createElement(ci.a,null,e.project_organization&&e.project_organization.parent&&e.project_organization.parent.name),n.createElement(ci.a,null,e.name),n.createElement(ci.a,null,e.project_organization&&e.project_organization.name),n.createElement(ci.a,null,Ni(e.total_cost)),n.createElement(ci.a,null,Ni(e.ranking_data[c])),n.createElement(ci.a,{style:{fontWeight:"bold",width:50}},t+1))})))))))))},xp=a(1030),kp=a.n(xp);var Sp=function(e){var t=B({name:"config"}),a=Object(n.useState)([]),o=Object(Z.a)(a,2),i=o[0],l=o[1],c=Object(Ca.a)(),s=Object(ee.f)((function(e){return e.app.appConfig}));return Object(n.useEffect)((function(){c.custom("reports",{type:"pivot",method:"GET"}).then((function(e){Y("has_pimis_fields")?l(pu(e.data,s)):l(fu(e.data,s))})),Y("has_pimis_fields")?Op=new window.dhx.Pivot("pivot",{fieldList:[{id:"TotalCount",label:"Total Count",cellTemplate:function(e,t,a){if("0"==e)return 0;if("string"===typeof e){var n=e?parseFloat(e.replace(/[","]/g,"")):"";return Number(n).toFixed(0)}return Number(e).toFixed(0)}},{id:"TotalCost",label:"Total Cost ($`000)",cellTemplate:function(e,t,a){if("number"===typeof e)return Ai(e,2);var n=e?parseFloat(e.replace(/[","]/g,"")):"";return Ai(n,2)},template:function(e,t){return"<span>($`000)</span>"}},{id:"Code",label:"Code"},{id:"Name",label:"Name"},{id:"Phase",label:"Phase",sortDir:"asc"},{id:"Programs",label:"Programs"},{id:"Sub Programs",label:"Sub Programs"},{id:"Function",label:"Function"},{id:"Sub Function",label:"Sub Function"},{id:"Ministry",label:"Ministry"},{id:"Status",label:"Status"},{id:"Public Body",label:"Public Body"}],fields:{rows:[],columns:[],values:[]},layout:{columnsWidth:"auto",rowsHeadersWidth:"auto",readonly:e.isReadOnly,footer:!0,repeatRowsHeaders:!0,gridMode:"flat"},customFormat:function(e,t){return"sum"===t?Ai(e,2):e}}):(Op=new window.dhx.Pivot("pivot",{fieldList:[{id:"TotalCount",label:"Total Count"},{id:"TotalCost",label:"Total Cost",cellTemplate:function(e,t,a){var n=e?parseFloat(e.replace(/[","]/g,"")):"";return Ai(n,2)},template:function(e,t){return'<span class="myCustomClass">'+e+" ($`000)</span>"}},{id:"Enpv",label:"Enpv"},{id:"Err",label:"Err"},{id:"Fnpv",label:"Fnpv"},{id:"Irr",label:"Irr"},{id:"OmCosts",label:"OmCosts"},{id:"Code",label:"Code"},{id:"Name",label:"Name"},{id:"Phase",label:"Phase",sortDir:"asc"},{id:"Programs",label:"Programs"},{id:"Function",label:"Function"},{id:"Vote",label:"Vote"},{id:"Status",label:"Status"},{id:"Department",label:"Department"},{id:"Classification",label:"Classification"},{id:"NdpType",label:"NDP Type"},{id:"StartDate",label:"Start Date"},{id:"EndDate",label:"End Date"}],fields:{rows:[],columns:[],values:[]},layout:{columnsWidth:"auto",rowsHeadersWidth:"auto",readonly:e.isReadOnly,footer:!0,repeatRowsHeaders:!0,gridMode:"flat"},customFormat:function(e,t){return"sum"===t?Ni(e):e}})).grid.data.filter((function(e){return e[Op.config.fields.rows.length-1]})),Op&&Op.events.on("Change",(function(){Op.grid.data.filter((function(e){return e[Op.config.fields.rows.length-1]}));var e=Op.getFields(),a=Op.getFiltersValues();t({fields:e,filters:a})}))}),[]),Object(n.useEffect)((function(){Op&&i&&(e.initialParams?(Op.setFields(Object(u.a)({},e.initialParams.fields)),Op.setFiltersValues(Object(u.a)({},e.initialParams.filters))):Y("has_pimis_fields")?(Op.setFields({rows:["Ministry"],columns:["Phase"],values:[{id:"TotalCost",method:"sum"}]}),Op.setFields({rows:[],columns:[],values:[]})):(Op.setFields({rows:["Vote"],columns:["Phase"],values:[{id:"TotalCost",method:"sum"}]}),Op.setFields({rows:[],columns:[],values:[]})),Op.setData(i))}),[i]),r.a.createElement("section",{className:"dhx_sample-container"},r.a.createElement("div",{className:"dhx_sample-container__widget",id:"pivot",style:{height:"100vh"}}))};a(569),Object(ae.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper,display:"flex"},item:{margin:"8px auto"}}}));mu()(uu.a);var Pp=a(211),Cp=a(2023),Np=(a(493),["meta","input"]),Ap=Object(ae.a)((function(e){return{small_box:{display:"flex",margin:"75px auto",alignItems:"center",justifyContent:"space-around",textAlign:"center"},main:{display:"flex",flexDirection:"column",minHeight:"100vh",alignItems:"center",justifyContent:"center",backgroundColor:"#d1bc9b"},header:{position:"absolute",left:"15px",top:"15px"},title:{marginBottom:"55px",textShadow:"2px 2px #ffffff",textAlign:"center",width:"50%"},card:{minWidth:300},avatar:{margin:"1em",textAlign:"center ",display:"flex",justifyContent:"center"},form:{padding:"0 1em 1em 1em"},input:{display:"flex"},hint:{textAlign:"center",marginTop:"1em",color:"#ccc"},footer:{position:"absolute",bottom:"15px",width:"100%",display:"flex",justifyContent:"flex-end",color:"rgba(255, 255, 255, 1.00)",textShadow:"1px 1px 2px rgba(0, 0, 0, 1.00), 0px 0px 5px rgba(0, 0, 0, 1.00)"},footerRightTitle:{paddingRight:"15px",textAlign:"center"},icon:{backgroundColor:e.palette.secondary.main},actions:{padding:"0 1em 1em 1em",display:"flex",flexDirection:"column"},bgImageleft:{backgroundSize:"cover",backgroundRepeat:"no-repeat",width:"300px",height:"305px",position:"absolute",left:"5%"},bgImageRight:Object(N.a)({backgroundSize:"cover",backgroundRepeat:"no-repeat",width:"300px",height:"305px",position:"absolute",right:"5%"},"backgroundSize","90%"),sm_bgImageLeft:{backgroundRepeat:"no-repeat",backgroundSize:"100%",width:"150px",height:"150px"},sm_bgImageRight:{backgroundRepeat:"no-repeat",backgroundSize:"90%",width:"150px",height:"150px"}}})),Dp=function(e){var t=e.meta,a=void 0===t?{touched:!1,error:void 0}:t,n=a.touched,o=a.error,i=Object.assign({},(Object(Pp.a)(e.input),e.input)),l=Object(T.a)(e,Np);return r.a.createElement($n.a,Object.assign({error:!(!n||!o),helperText:n&&o},i,l,{fullWidth:!0}))};var Tp=function(e){var t=Object(n.useState)(!1),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(pe.a)(),c=Ap(),s=Object(Na.a)(),u=(Object(de.h)(),Object(ai.a)()),d=Object(ee.f)((function(e){return e.app.appConfig})).application_config.prefix;return r.a.createElement(n.Fragment,null,r.a.createElement(_s.b,{onSubmit:function(e){i(!0),fetch(h+"/password",{method:"PUT",body:JSON.stringify({username:e.username})}).then((function(e){localStorage.removeItem("isResetPassword"),s("Password reset!"),i(!1),setTimeout((function(){u("/login")}),1500)})).catch((function(e){s("Password wasn`t reset! ","error"),i(!1)}))},validate:function(e){var t={};return e.username||(t.username=l("ra.validation.required")),t},render:function(e){var t=e.handleSubmit;return r.a.createElement("form",{onSubmit:t,noValidate:!0},r.a.createElement("div",{className:c.main},r.a.createElement("div",{className:c.bgImageleft,style:{backgroundImage:"url(assets/images/".concat(d,"/logo.png)"),marginTop:Y("has_pimis_fields")?"150px":0,backgroundSize:Y("has_pimis_fields")?"contain":"cover"}}),r.a.createElement("h1",{className:c.title},function(e){switch(e){case"jm":return"Public Investment Management Information System";case"ug":return"Integrated Bank of Projects";default:return null}}(d)),r.a.createElement(In.a,{className:c.card},r.a.createElement("div",{className:c.avatar},r.a.createElement(An.a,{className:c.icon},r.a.createElement(Cr.a,null))),r.a.createElement("div",{className:c.form},r.a.createElement("div",{className:c.input},r.a.createElement(_s.a,{autoFocus:!0,name:"username",component:Dp,label:l("ra.auth.username"),disabled:o}))),r.a.createElement(Cp.a,{className:c.actions},r.a.createElement(Ee.a,{variant:"contained",type:"submit",color:"primary",disabled:o,fullWidth:!0},o&&r.a.createElement(Yr.a,{size:25,thickness:2}),l("buttons.reset_password")),r.a.createElement(ce.a,{href:"/#/login",underline:"none"},r.a.createElement(se.a,{variant:"subtitle2",style:{marginTop:10}},"sign in")))),r.a.createElement("div",{className:c.bgImageRight,style:{backgroundImage:"url(assets/images/".concat(d,"/coat_of_arms.png)")}}),r.a.createElement(ie.a,null),r.a.createElement("div",{className:c.footer},function(e){var t=Ap();return"ug"===e?r.a.createElement("h5",{className:t.footerRightTitle},"Copyright \xa9 2019 - ".concat(S()().format("YYYY"),", Ministry of Finance, Planning and Economic Development\n               ")):r.a.createElement("h5",{className:t.footerRightTitle},"Copyright \xa9 ".concat(S()().format("YYYY"),", Pimis Development\n                 "))}(d))))}}))},Fp=function(e){return r.a.createElement(ne.a,{theme:Object(un.a)(gn)},r.a.createElement(Tp,e))},Rp=a(1032),Ip=a.n(Rp),Mp=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{textAlign:"left",fontSize:"15px",fontWeight:"bold",paddingLeft:"30px",margin:"10px auto"},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"},table:{minWidth:700}}}));var Wp=function(e){var t=n.useState([]),a=Object(Z.a)(t,2),r=a[0],o=a[1],i=n.useState([]),l=Object(Z.a)(i,2),c=(l[0],l[1],n.useState([])),s=Object(Z.a)(c,2),u=(s[0],s[1]),d=n.useState([]),m=Object(Z.a)(d,2),p=m[0],f=m[1],_=Object(pe.a)(),g=Mp(),h=Object(Ca.a)(),v=Object(ee.f)((function(e){return e.app.appConfig}));n.useEffect((function(){h.getListOfAll("organizations",{filter:{is_hidden:!1}}).then((function(e){e&&e.data&&u(x.a.sortBy(e.data,"name"))})),h.getListOfAll("phases",{sort_field:"sequence"}).then((function(e){e&&e.data&&f(e.data)})),h.custom("reports",{type:"pivot",method:"GET"}).then((function(e){e&&e.data&&o(e.data)}))}),[]);var b=Y("has_pimis_fields")?Jl(r):Xl(r),E=x.a.groupBy(r,(function(e){return e.phase&&e.phase.id})),j=0,y=0;return n.createElement(ui.a,{container:!0,spacing:3},n.createElement(nr,{reportId:"report-container",title:"Projects at different stages of the project cycle",exportTypes:[Ha.WORD,Ha.PDF,Ha.XLS]}),n.createElement(ui.a,{item:!0,xs:12,id:"report-container"},n.createElement(se.a,{variant:"h4",style:{marginBottom:20}},_("resources.".concat(e.location.pathname.slice(1,e.location.pathname.length),".name"))),n.createElement(In.a,null,n.createElement("div",{className:"landscapeSection"},n.createElement(Fi.a,null,n.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",g.bordered,g.table),style:{width:"100%"}},n.createElement(ii.a,null,n.createElement(li.a,{className:g.filledRow},n.createElement(ci.a,null,v&&Y("has_pimis_fields")?v.organizational_config[1].name:v.programs_config[1].name," ","Name"),p.map((function(e){return n.createElement(ci.a,{colspan:"2"},e.name)})),n.createElement(ci.a,{colspan:"2"},"Total")),n.createElement(li.a,null,n.createElement(ci.a,null),p.map((function(e){return[n.createElement(ci.a,null,"Count"),n.createElement(ci.a,null,"Cost (",_("titles.currency"),")")]})),n.createElement(ci.a,null,"Count"),n.createElement(ci.a,null,"Cost (",_("titles.currency"),")"))),n.createElement(si.a,null,x.a.keys(b).map((function(e){var t=x.a.groupBy(b[e],(function(e){return e.phase&&e.phase.id})),a=0,r=0;return n.createElement(li.a,null,n.createElement(ci.a,null,e),p.map((function(e){var o=t[e.id]&&t[e.id].filter((function(e){return!x.a.isEmpty(e.costs)})).map((function(e){return{totalCost:Hl(e.costs)}}));return a+=t[e.id]?t[e.id].length:0,r+=x.a.sumBy(o,"totalCost"),[n.createElement(ci.a,null,t[e.id]?t[e.id].length:0),n.createElement(ci.a,null,Ni(x.a.sumBy(o,"totalCost")))]})),n.createElement(ci.a,{variant:"head"},a),n.createElement(ci.a,{variant:"head"},Ni(r)))})),n.createElement(li.a,null,n.createElement(ci.a,{variant:"head"},"Total (",_("titles.currency"),")"),p.map((function(e){var t=E[e.id]&&E[e.id].filter((function(e){return!x.a.isEmpty(e.costs)})).map((function(e){return{totalCost:Hl(e.costs)}}));return j+=E[e.id]?E[e.id].length:0,y+=x.a.sumBy(t,"totalCost"),[n.createElement(ci.a,{variant:"head"},E[e.id]?E[e.id].length:0),n.createElement(ci.a,{variant:"head"},Ni(x.a.sumBy(t,"totalCost")))]})),n.createElement(ci.a,{variant:"head"},j),n.createElement(ci.a,{variant:"head"},Ni(y))))))))))},Lp=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{fontWeight:"bold",margin:"10px 10px 20px 10px"},subtitle:{margin:"10px auto"},buttonsContainer:{width:"155px",display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"10px 25px",float:"right"},buttons:{width:"100px",fontSize:"16px",display:"flex",justifyContent:"space-around"},titleColumn:{width:"25%"},select:{margin:"0px 15px 15px 0px"}}}));var Yp=function(e){var t=Object(n.useState)(null),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(null),c=Object(Z.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)(null),m=Object(Z.a)(d,2),p=m[0],f=m[1],_=Object(n.useState)([]),g=Object(Z.a)(_,2),h=g[0],v=g[1],b=Object(n.useState)([]),E=Object(Z.a)(b,2),j=(E[0],E[1]),y=Object(n.useState)([]),O=Object(Z.a)(y,2),w=O[0],k=O[1],P=Object(pe.a)(),C=Lp(),N=Object(Ca.a)(),A=Object(ee.f)((function(e){return e.app.appConfig}));return Object(n.useEffect)((function(){N.getListOfAll("phases",{sort_field:"sequence"}).then((function(e){e&&e.data&&k(e.data)})),Y("has_ibp_fields")?N.getListOfAllProjects("reports/projects-report",{sort_field:"id",filter:{phase_ids:[1,2,3,4]}}).then((function(e){if(e&&e.data){var t=e.data.filter((function(e){return e.project_status!==Ga.STATUS_DRAFT.toUpperCase()})).filter((function(e){return S()().diff(S()(S()(e.modified_on)),"days")>=14}));v(t);var a=[];t.forEach((function(e){a.push(e.project_organization),e.project_organization&&e.project_organization.parent&&a.push(e.project_organization.parent),e.project_organization&&e.project_organization.parent&&a.push(e.project_organization.parent)})),j(a)}})):N.getListOfAllProjects("reports/projects-report",{sort_field:"id",filter:{phase_ids:[1,2,3,4]}}).then((function(e){if(e&&e.data){var t=e.data.filter((function(e){return S()().diff(S()(S()(e.modified_on)),"days")>=14}));v(t);var a=[];t.forEach((function(e){a.push(e.project_organization),e.project_organization&&e.project_organization.parent&&a.push(e.project_organization.parent),e.project_organization&&e.project_organization.parent&&a.push(e.project_organization.parent)})),j(a)}}))}),[]),r.a.createElement(ui.a,{container:!0,spacing:3},r.a.createElement(ui.a,{item:!0,xs:12},r.a.createElement(se.a,{variant:"h4",style:{marginBottom:20}},P("resources.".concat(e.location.pathname.slice(1,e.location.pathname.length),".name"))),r.a.createElement(ui.a,{item:!0,xs:12},r.a.createElement(is.a,{variant:"outlined",className:C.select},r.a.createElement(Wm.a,{style:{transform:"translate(14px, -12px) scale(0.75)"}},P("printForm.reports.phase")),r.a.createElement(xa.a,{style:{width:"220px"},placeholder:"Phase",value:s,onChange:function(e){u(e.target.value)}},r.a.createElement(sa.a,{value:""},r.a.createElement("em",null,"-")),w.map((function(e){return r.a.createElement(sa.a,{value:e.id},r.a.createElement("em",null,e.name))})))),r.a.createElement(is.a,{variant:"outlined",className:C.select},r.a.createElement(Wm.a,{style:{transform:"translate(14px, -12px) scale(0.75)"}},A&&A.organizational_config[1].name),r.a.createElement(xa.a,{style:{width:"220px"},placeholder:"Phase",value:p,onChange:function(e){f(e.target.value)}},r.a.createElement(sa.a,{value:""},r.a.createElement("em",null,"-")),x.a.uniqBy(h.map((function(e){return e.project_organization.parent})),(function(e){return e.id})).map((function(e){return r.a.createElement(sa.a,{value:e.id},r.a.createElement("em",null,e.name))})))),r.a.createElement(is.a,{variant:"outlined",className:C.select},r.a.createElement(Wm.a,{style:{transform:"translate(14px, -12px) scale(0.75)"}},A&&A.organizational_config[2].name),r.a.createElement(xa.a,{style:{width:"220px"},placeholder:"Phase",value:p,onChange:function(e){f(e.target.value)}},r.a.createElement(sa.a,{value:""},r.a.createElement("em",null,"-")),x.a.uniqBy(h.map((function(e){return Y("has_pimis_fields")?e.project_organization:e.project_organization.parent})),(function(e){return e.id})).map((function(e){return r.a.createElement(sa.a,{value:e.id},r.a.createElement("em",null,e.name))})))),r.a.createElement(is.a,{variant:"outlined",className:C.select},r.a.createElement(Wm.a,{style:{transform:"translate(14px, -12px) scale(0.75)"}},P("printForm.reports.status")),r.a.createElement(xa.a,{style:{width:"220px"},placeholder:"Phase",value:o,onChange:function(e){i(e.target.value)}},r.a.createElement(sa.a,{value:""},r.a.createElement("em",null,"-")),x.a.uniqBy(h.filter((function(e){return e.workflow})).map((function(e){return{id:e.workflow.step,name:e.workflow.status_msg}})),(function(e){return e.id})).map((function(e){return r.a.createElement(sa.a,{value:e.id},r.a.createElement("em",null,e.name))})))),r.a.createElement(nr,{reportId:"report-container",title:"Projects that are stagnant for 14 days",exportTypes:[Ha.WORD,Ha.PDF,Ha.XLS],className:C.buttonsContainer})),r.a.createElement(In.a,{id:"report-container"},r.a.createElement(oi.a,null,r.a.createElement(ii.a,null,r.a.createElement(li.a,{className:C.filledRow},r.a.createElement(ci.a,{width:"120px"},"ID"),r.a.createElement(ci.a,{className:C.titleColumn},P("printForm.reports.title")),r.a.createElement(ci.a,{align:"center"},A&&A.organizational_config[1].name),r.a.createElement(ci.a,{align:"center"},A&&A.organizational_config[2].name),r.a.createElement(ci.a,{align:"center"},P("printForm.reports.total_cost")),r.a.createElement(ci.a,{align:"center"},P("printForm.reports.phase")),r.a.createElement(ci.a,{align:"center"},P("printForm.reports.start_date")),r.a.createElement(ci.a,{align:"center"},P("printForm.reports.status")),r.a.createElement(ci.a,{align:"center"},P("printForm.reports.date_modify")))),r.a.createElement(si.a,null,h.filter((function(e){return!s||Number(e.phase_id)===Number(s)})).filter((function(e){return!o||e.workflow&&Number(e.workflow.step)===Number(o)})).filter((function(e){return!p||Number(e.project_organization.parent.id)===Number(p)})).map((function(e){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e.code),r.a.createElement(ci.a,null,e.name),r.a.createElement(ci.a,{align:"center"},e.phase&&e.project_organization&&e.project_organization.parent&&e.project_organization.parent.name),r.a.createElement(ci.a,{align:"center"},e.phase&&e.project_organization&&e.project_organization.parent.name),r.a.createElement(ci.a,{align:"center"},e.phase&&vr(e.total_costs)),r.a.createElement(ci.a,{align:"center"},e.phase&&e.phase.name),r.a.createElement(ci.a,{align:"center"},wi(e.created_on).name),r.a.createElement(ci.a,{align:"center"},e.workflow&&r.a.createElement(Ac,{record:e})),r.a.createElement(ci.a,{align:"center"},Er(e.modified_on)))})))))))},Bp=a(1041),zp=a.n(Bp),qp=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{fontWeight:"bold",margin:"10px auto"},subtitle:{margin:"10px auto"},buttonsContainer:{width:"100%",display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"10px 25px"},buttons:{width:"100px",fontSize:"16px",display:"flex",justifyContent:"space-around"},titleColumn:{width:"35%"}}}));var Up=function(e){var t=Object(n.useState)([]),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(pe.a)(),c=qp(),s=Object(Ca.a)();return Object(n.useEffect)((function(){s.custom("reports",{type:"pivot",method:"GET"}).then((function(e){if(e&&e.data){var t=e.data.filter((function(e){var t=e.current_project_detail&&S()(e.current_project_detail.modified_on);return t&&t.isBetween(S()().subtract(1,"months").date(7),S()())}));i(x.a.sortBy(t,(function(e){return e.current_project_detail&&S()(e.current_project_detail.modified_on)})).reverse())}}))}),[]),r.a.createElement(ui.a,{container:!0,spacing:3},r.a.createElement(nr,{reportId:"report-container",title:"Project submitted by the 7th of month",exportTypes:[Ha.WORD,Ha.PDF,Ha.XLS]}),r.a.createElement(ui.a,{item:!0,xs:12,id:"report-container"},r.a.createElement(se.a,{variant:"h4",style:{marginBottom:20}},l("resources.".concat(e.location.pathname.slice(1,e.location.pathname.length),".name"))),r.a.createElement(In.a,null,0===o.length?r.a.createElement(di.a,{textAlign:"center",m:3},r.a.createElement(se.a,{variant:"h5",paragraph:!0},"No projects are in this status")):r.a.createElement(oi.a,null,r.a.createElement(ii.a,null,r.a.createElement(li.a,{className:c.filledRow},r.a.createElement(ci.a,{width:"100px"},"ID"),r.a.createElement(ci.a,{className:c.titleColumn},"Title"),r.a.createElement(ci.a,{align:"center"},"Phase"),r.a.createElement(ci.a,{align:"center"},"Start Date"),r.a.createElement(ci.a,{align:"center"},"Status"),r.a.createElement(ci.a,{align:"center"},"Cost"),r.a.createElement(ci.a,{align:"center"},"Last Modified"))),r.a.createElement(si.a,null,o.map((function(e){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e.code),r.a.createElement(ci.a,null,e.name),r.a.createElement(ci.a,{align:"center"},e.phase&&e.phase.name),r.a.createElement(ci.a,{align:"center"},e.current_project_detail&&wi(e.current_project_detail.created_on).name),r.a.createElement(ci.a,{align:"center"},e.workflow&&r.a.createElement(Ac,{record:e})),r.a.createElement(ci.a,{align:"center"},e.costs&&vr(Hl(e.costs))),r.a.createElement(ci.a,{align:"center"},e.current_project_detail&&Er(e.current_project_detail.modified_on)))})))))))},Vp=a(1024),Gp=a.n(Vp),Hp=a(1037),Jp=a.n(Hp);Object(n.forwardRef)((function(e,t){return r.a.createElement("div",{ref:t,style:{flexGrow:1}},r.a.createElement(me.b,Object.assign({},e,{target:"_blank"})))}));var Xp=function(e){var t=Object(n.useState)([]),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(Ca.a)();return Object(n.useEffect)((function(){l.getListOfAll("parameters",{sort_field:"id"}).then((function(e){if(e&&e.data){var t=x.a.find(e.data,(function(e){return"useful_links"===e.param_key}));t&&i(t.param_value)}}))}),[]),r.a.createElement(ui.a,{container:!0,spacing:3},r.a.createElement(ui.a,{item:!0,xs:12},r.a.createElement(se.a,{variant:"h2",style:{margin:10}},"Useful Links"),r.a.createElement(Ne.a,null,o&&o.length>0&&o.map((function(e){return r.a.createElement(Ae.a,{disableGutters:!0,key:e},r.a.createElement("a",{href:e,target:"_blank"},r.a.createElement(se.a,{variant:"h4",style:{margin:10,color:"blue"}},e)))})))))},$p=a(566),Kp=a(1013),Qp=a(2024),Zp=["translate"];function ef(e){var t=Object(n.useState)(!1),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(pe.a)(),c=Object(Ca.a)(),s=(L(),Object(Na.a)()),d=Object(rr.a)();var m=function(e){return function(){i(e)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement($p.a,{isOpen:o,title:"Approve Delegation",content:"Are you sure for confirming delegation?",onConfirm:function(){i(!1);var t={is_approved:!0};e&&e.record&&e.record.is_approved&&(t.end_date=S()().add(-1,"days").format("YYYY-MM-DD")),c.update("user-roles",{id:e.record.id,data:Object(u.a)({},t)}).then((function(e){s("Delegation approved!"),d()})).catch((function(e){s("Delegation wasn`t approved!")}))},onClose:m(!1),confirm:l("buttons.confirm"),cancel:l("buttons.cancel")}),r.a.createElement(Ee.a,{variant:"textPrimary",onClick:m(!0)},r.a.createElement(Qp.a,null),e&&e.record&&e.record.is_approved?l("buttons.revoke"):l("buttons.approve")))}var tf=function(e){e.translate;var t=Object(T.a)(e,Zp);return r.a.createElement(ri.a,{resource:"user-roles",basePath:"/user-roles",bulkActionButtons:!1,filter:{is_delegated:!0,gt_end_date:S()().format("YYYY-MM-DD")}},r.a.createElement(Nl.a,null,r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Kp.a,{source:"is_approved"}),r.a.createElement(Dl.a,{label:"Role",render:function(e){return e.role.name}}),r.a.createElement(Dl.a,{label:"User",render:function(e){return e.user.username}}),r.a.createElement(Dl.a,{label:"Full Name",render:function(e){return e.user.full_name}}),r.a.createElement(ef,t)))},af=a(1034),nf=a.n(af),rf=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{textAlign:"left",fontSize:"15px",fontWeight:"bold",paddingLeft:"30px",margin:"10px auto"}}})),of=function(e){var t=e.loading,a=e.loaded;return 0===e.total&&!t&&a?n.createElement(di.a,{textAlign:"center",m:3},n.createElement(se.a,{variant:"h5",paragraph:!0},"No projects are in this status")):n.createElement(ti.a,e)},lf=function(e){return n.createElement(ed.a,Object.assign({},e,{variant:"outlined",margin:"none"}),n.createElement(Nu.a,{perPage:-1,source:"workflow_id",reference:"workflows",allowEmpty:!0,alwaysOn:!0,label:"Workflow Status"},n.createElement(os.a,{optionText:"status_msg",style:{width:"350px"}})))};var cf=function(e){var t=Object(pe.a)();return rf(),n.createElement(ui.a,{container:!0,spacing:3},n.createElement(ui.a,{item:!0,xs:12},n.createElement(se.a,{variant:"h4",style:{marginBottom:20}},t("resources.".concat(e.location.pathname.slice(1,e.location.pathname.length),".name"))),n.createElement(ri.a,Object.assign({},e,{basePath:"/projects",resource:"projects",bulkActionButtons:!1,actions:n.createElement(nr,{reportId:"report-container",title:"Projects waiting for User action",exportTypes:[Ha.WORD,Ha.PDF,Ha.XLS]}),pagination:n.createElement(of,null),filters:n.createElement(lf,e),perPage:20,sort:{field:"id",order:"DESC"}}),n.createElement(Nl.a,{rowClick:"show",id:"report-container"},n.createElement(Al.a,{source:"code"}),n.createElement(Al.a,{source:"name"}),n.createElement(Dl.a,{source:"created_on",label:t("resources.projects.fields.created_at"),render:function(e){return e?Er(e.created_on):null}}),n.createElement(Dl.a,{source:"status",label:t("resources.projects.fields.status"),render:function(e){return e?t("timeline.".concat(e.project_status.toLowerCase())):null}}),n.createElement(Dl.a,{source:"status",label:t("resources.projects.fields.phase_id"),render:function(e){return e?e.phase&&e.phase.name:null}}),n.createElement(Dl.a,{source:"status",label:t("resources.projects.fields.workflow_status"),render:function(e){return e?e.workflow&&n.createElement(Ac,{record:e}):null}})))))},sf=a(173),uf={width:"24px",height:"24px",background:"cornflowerblue",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center"},df={width:"200px",height:"100px",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center"},mf=function(e){return r.a.createElement("div",{style:uf},e.port&&"accept"===e.port.value&&r.a.createElement(ra.a,{title:"accept"},r.a.createElement("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"white",d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))),e.port&&"revise"===e.port.value&&r.a.createElement(ra.a,{title:"revise"},r.a.createElement("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"white",d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}))),e.port&&"defer"===e.port.value&&r.a.createElement(ra.a,{title:"defer"},r.a.createElement("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"white",d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}))),e.port&&"decline"===e.port.value&&r.a.createElement(ra.a,{title:"decline"},r.a.createElement("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"white",d:"M231.298,17.068c-57.746-0.156-113.278,22.209-154.797,62.343V17.067C76.501,7.641,68.86,0,59.434,0 S42.368,7.641,42.368,17.067v102.4c-0.002,7.349,4.701,13.874,11.674,16.196l102.4,34.133c8.954,2.979,18.628-1.866,21.606-10.82 c2.979-8.954-1.866-18.628-10.82-21.606l-75.605-25.156c69.841-76.055,188.114-81.093,264.169-11.252 s81.093,188.114,11.252,264.169s-188.114,81.093-264.169,11.252c-46.628-42.818-68.422-106.323-57.912-168.75 c1.653-9.28-4.529-18.142-13.808-19.796s-18.142,4.529-19.796,13.808c-0.018,0.101-0.035,0.203-0.051,0.304 c-2.043,12.222-3.071,24.592-3.072,36.983C8.375,361.408,107.626,460.659,230.101,460.8 c122.533,0.331,222.134-98.734,222.465-221.267C452.896,117,353.832,17.399,231.298,17.068z"}))),!e.port&&r.a.createElement("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"white",d:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"})))},pf=function(e){var t=e.node;e.config;return"output-only"===t.type?r.a.createElement("div",{style:df},r.a.createElement("p",null,"Use Node inner to customise the content of the node")):r.a.createElement("div",{style:df},r.a.createElement("p",null,t&&t.properties&&t.properties.label))},ff={offset:{x:0,y:0},nodes:{},links:{},selected:{},hovered:{}};function _f(){var e=Object(n.useState)(Object(w.cloneDeep)(ff)),t=Object(Z.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)(!1),l=Object(Z.a)(i,2),c=l[0],s=l[1],d=Object(Ca.a)();function m(e){var t={};return e.forEach((function(e){t["port_"+e]={id:e,type:"output",properties:{value:"yes"}}})),t}Object(n.useEffect)((function(){d.getListOfAll("workflows",{sort_field:"id"}).then((function(e){o(Object(u.a)(Object(u.a)({},a),function(e){var t={};return e.forEach((function(e,a){t["node_"+e.id]={id:"node_"+e.id,type:"input-output",position:{x:300,y:100*(a+1.5)+100},ports:m(e.actions)}})),{nodes:t,links:{}}}(e.data)))}))}),[]);Object(w.mapValues)(sf.actions,(function(e){return function(){return o(e.apply(void 0,arguments))}}));return r.a.createElement("div",null,r.a.createElement("div",{onClick:function(){return s(!0)}},"Button "),c&&r.a.createElement(gf,{data:a}))}var gf=function(e){Object(bn.a)(a,e);var t=Object(En.a)(a);function a(e){var n;return Object(hn.a)(this,a),(n=t.call(this,e)).state=Object(w.cloneDeep)(ff),n}return Object(vn.a)(a,[{key:"componentDidMount",value:function(){this.setState({nodes:this.props.data.nodes,links:this.props.data.links})}},{key:"render",value:function(){var e=this,t=this.state,a=Object(w.mapValues)(sf.actions,(function(t){return function(){return e.setState(t.apply(void 0,arguments),(function(){}))}}));return t?r.a.createElement(sf.FlowChart,{config:{snapToGrid:!0,smartRouting:!0},chart:t,callbacks:a,Components:{Port:mf,NodeInner:pf}}):null}}]),a}(r.a.Component),hf=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{textAlign:"left",fontSize:"15px",fontWeight:"bold",paddingLeft:"30px",margin:"10px auto"}}})),vf=function(e){var t=e.loading,a=e.loaded;return 0===e.total&&!t&&a?n.createElement(di.a,{textAlign:"center",m:3},n.createElement(se.a,{variant:"h5",paragraph:!0},"No projects are in Pipeline status")):n.createElement(ti.a,e)};var bf=function(e){var t=Object(pe.a)();return hf(),n.createElement(ui.a,{container:!0,spacing:3},n.createElement(ui.a,{item:!0,xs:12},n.createElement(se.a,{variant:"h4",style:{margin:"20px 0px"}},t("resources.".concat(e.location.pathname.slice(1,e.location.pathname.length),".name"))),n.createElement(In.a,null,n.createElement(ri.a,Object.assign({},e,{basePath:"/projects",resource:"projects",bulkActionButtons:!1,actions:!1,filter:{phase_id:7,project_status:"APPROVED"},pagination:n.createElement(vf,null),sort:{field:"id",order:"DESC"}}),n.createElement(Nl.a,{rowClick:!1},n.createElement(Al.a,{source:"code"}),n.createElement(Al.a,{source:"name"}),n.createElement(Dl.a,{source:"created_on",label:t("resources.projects.fields.created_at"),render:function(e){return e?Er(e.created_on):null}}),n.createElement(Dl.a,{source:"status",label:t("resources.projects.fields.status"),render:function(e){return Y("has_pimis_fields")?e?t("timeline.".concat(e.project_status.toLowerCase())):null:e?"APPROVED"===e.project_status?t("timeline.draft"):t("timeline.".concat(e.project_status.toLowerCase())):null}}),n.createElement(Dl.a,{source:"status",label:t("resources.projects.fields.phase_id"),render:function(e){return e?e.phase&&e.phase.name:null}}),n.createElement(Ll,Object.assign({},e,{link:"costed-annualized-plan",title:"Show"})))))))},Ef=a(520),jf=a.n(Ef),yf=a(708),Of=a(36),wf=a.n(Of),xf=a(1019),kf=a.n(xf),Sf=a(711),Pf=a.n(Sf),Cf=a(1018),Nf=a.n(Cf),Af=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{textAlign:"center",fontSize:"18px",lineHeight:"24px",margin:"10px 30px",color:"#3f50b5"},button:{backgroundColor:"#f4f8ff",color:"#3f50b5",position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:35,width:200,height:200,borderRadius:"4px",margin:15,textAlign:"center","&:hover":{outline:"1px solid #d0d7ff",cursor:"pointer"},"&:hover > $buttonTitle":{opacity:.5},"&:hover > $actions":{display:"flex"}},buttonTitle:{color:"#3f50b5",position:"absolute",top:0,left:0,display:"flex",fontWeight:"bold",flexDirection:"column",alignItems:"center",textAlign:"center",height:"100%",width:"100%",justifyContent:"center",gap:"15px","& > * ":{fontSize:"18px"}},actions:{display:"none",flexDirection:"column",alignItems:"center",gap:"15px"},actionBtn:{width:"100%"}}}));var Df=function(e){Object(pe.a)();var t=Af(),a=Object(Ca.a)(),r=n.useState([]),o=Object(Z.a)(r,2),i=o[0],l=o[1],c=n.useState(!1),s=Object(Z.a)(c,2),d=(s[0],s[1]),m=n.useState(null),p=Object(Z.a)(m,2),f=p[0],_=p[1],g=n.useState(null),h=Object(Z.a)(g,2),v=h[0],b=h[1],E=n.useState(null),j=Object(Z.a)(E,2),y=j[0],O=j[1],x=n.useState(null),k=Object(Z.a)(x,2),P=(k[0],k[1]),C=Object(yf.a)("cost-plans"),A=Object(Z.a)(C,1)[0],T=Object(yf.a)("risk-assessments"),F=(Object(Z.a)(T,1)[0],Object(yf.a)("stakeholder-engagements")),R=(Object(Z.a)(F,1)[0],Object(yf.a)("human-resources")),I=(Object(Z.a)(R,1)[0],Object(ai.a)()),M=Object(Na.a)();n.useEffect((function(){var t,n;["cost-plans","risk-assessments","stakeholder-engagements","human-resources"].forEach((function(t){var n,r;a.getListOfAll(t,{sort_field:"id",filter:{project_detail_id:Number(null===(n=e.match)||void 0===n||null===(r=n.params)||void 0===r?void 0:r.id)}}).then((function(e){e&&e.data&&l((function(a){return Object(u.a)(Object(u.a)({},a),{},Object(N.a)({},t,e.data))}))}))})),a.getOne("project-details",{id:Number(null===(t=e.match)||void 0===t||null===(n=t.params)||void 0===n?void 0:n.id)}).then((function(e){var t;e&&e.data&&(b(e.data),a.getListOfAll("appeals",{sort_field:"id",filter:{project_id:Number(null===(t=e.data)||void 0===t?void 0:t.project_id)}}).then((function(e){e&&e.data&&l((function(t){return Object(u.a)(Object(u.a)({},t),{},{appeals:e.data})}))})),a.getOne("projects",{id:Number(e.data.project_id)}).then((function(e){e&&e.data&&O(e.data)})))})),_(function(){var e=S()().startOf("year"),t=e.clone().add(1,"years");return[{id:S()(xi(e).id).format("YYYY"),name:xi(e).name},{id:S()(xi(t).id).format("YYYY"),name:xi(t).name}]}()[0].id)}),[]);var W=function(){var t,n;a.getOne("project-details",{id:Number(null===(t=e.match)||void 0===t||null===(n=t.params)||void 0===n?void 0:n.id)}).then((function(t){if(t&&t.data){var a,n,r=t.data.activities.map((function(e){return e.activity_id=e.id,delete e.id,e}));A({payload:{data:{year:Number(f),project_detail_id:Number(null===(a=e.match)||void 0===a||null===(n=a.params)||void 0===n?void 0:n.id),cost_plan_activities:Object(D.a)(r),cost_plan_items:[]}}},{onSuccess:function(e){var t=e.data;M("New Report Created",{}),I("/cost-plans/".concat(t.id))}})}}))},L=function(){var e=Object(w.orderBy)(i["cost-plans"],"id").filter((function(e){return Number(e.year)===Number(f)}));return e.length?e[0].id:null};function Y(a){return i[a]&&i[a].length>0?[n.createElement(Ee.a,{className:t.actionBtn,variant:"contained",color:"primary",onClick:function(){if("cost-plans"===a)P(a),L()?I("/cost-plans/".concat(L())):W();else if("risk-assessments"===a){var t,n;P(a),I("/risk-assessments/".concat(Number(null===(t=e.match)||void 0===t||null===(n=t.params)||void 0===n?void 0:n.id),"/list"))}else if("stakeholder-engagements"===a){var r,o;P(a),I("/stakeholder-engagements/".concat(Number(null===(r=e.match)||void 0===r||null===(o=r.params)||void 0===o?void 0:o.id),"/list"))}else if("appeals"===a){var i,l;P(a),I("/appeals/".concat(Number(null===(i=e.match)||void 0===i||null===(l=i.params)||void 0===l?void 0:l.id),"/list"))}else{var c,s;I("/".concat(a,"/").concat(Number(null===(c=e.match)||void 0===c||null===(s=c.params)||void 0===s?void 0:s.id),"/create"))}}},"risk-assessments"===a||"stakeholder-engagements"===a||"appeals"===a?"Manage":"Update"),"appeals"!==a&&n.createElement(Ee.a,{className:t.actionBtn,variant:"contained",onClick:function(){var t,n;"cost-plans"===a?L()&&I("/cost-plans/".concat(L(),"/show")):I("/".concat(a,"/").concat(Number(null===(t=e.match)||void 0===t||null===(n=t.params)||void 0===n?void 0:n.id),"/report"))}},"View Report")]:n.createElement(Ee.a,{className:t.actionBtn,variant:"contained",color:"primary",onClick:function(){var t,n,r;switch(a){case"cost-plans":L()||W(),P(a);break;case"myc":v&&v.project_id&&I("/".concat(a,"/").concat(Number(v.project_id),"/create"));break;case"project-management":v&&v.project_id&&I("/project-management/".concat(null===(t=y.project_management)||void 0===t?void 0:t.id));break;default:I("/".concat(a,"/").concat(Number(null===(n=e.match)||void 0===n||null===(r=n.params)||void 0===r?void 0:r.id),"/create"))}}},"myc"===a||"project-management"===a?"Edit":"Create")}return n.createElement(ui.a,{container:!0,spacing:3},n.createElement(ui.a,{item:!0,xs:12},n.createElement(Ee.a,{onClick:function(){d(!1)},label:"Back",variant:"outlined",color:"primary",startIcon:n.createElement(wf.a,null),style:{margin:"10px 0px"},href:"#/implementation-module"},"Back"),n.createElement(In.a,null,n.createElement(se.a,{variant:"h2",style:{margin:"30px 40px 0px"}},v&&v.project&&"".concat(v.project.code," - ").concat(v.project.name)),n.createElement(di.a,{display:"flex"},n.createElement(di.a,{display:"flex",style:{justifyContent:"flex-start",flexWrap:"wrap",padding:"25px",width:"100%"}},n.createElement(qs.a,{variant:"outlined",square:!0,className:t.button},n.createElement("div",{className:t.buttonTitle},n.createElement(se.a,{className:t.title},"Costed Annualized Plan"),n.createElement(jf.a,{fontSize:"large",style:{fontSize:65}})),n.createElement("div",{className:t.actions},Y("cost-plans"))),n.createElement(qs.a,{variant:"outlined",square:!0,className:t.button},n.createElement("div",{className:t.buttonTitle},n.createElement(se.a,{className:t.title},"Project management tool kit"),n.createElement(Yt.a,{fontSize:"large",style:{fontSize:65}})),n.createElement("div",{className:t.actions},Y("project-management"))),n.createElement(qs.a,{variant:"outlined",square:!0,className:t.button},n.createElement("div",{className:t.buttonTitle},n.createElement(se.a,{className:t.title},"Multi-Year Commitments (MYC)"),n.createElement(We.a,{fontSize:"large",style:{fontSize:65}})),n.createElement("div",{className:t.actions},Y("myc"))),n.createElement(qs.a,{variant:"outlined",square:!0,className:t.button},n.createElement("div",{className:t.buttonTitle},n.createElement(se.a,{className:t.title},"Appeals / Change Request"),n.createElement(Pf.a,{fontSize:"large",style:{fontSize:65}})),n.createElement("div",{className:t.actions},Y("appeals"))),n.createElement(qs.a,{variant:"outlined",square:!0,className:t.button},n.createElement("div",{className:t.buttonTitle},n.createElement(se.a,{className:t.title},"Risk Assessment"),n.createElement(Nf.a,{fontSize:"large",style:{fontSize:65}})),n.createElement("div",{className:t.actions},Y("risk-assessments"))),n.createElement(qs.a,{variant:"outlined",square:!0,className:t.button},n.createElement("div",{className:t.buttonTitle},n.createElement(se.a,{className:t.title},"Stakeholder Engagement"),n.createElement(lt.a,{fontSize:"large",style:{fontSize:65}})),n.createElement("div",{className:t.actions},Y("stakeholder-engagements"))),n.createElement(qs.a,{variant:"outlined",square:!0,className:t.button},n.createElement("div",{className:t.buttonTitle},n.createElement(se.a,{className:t.title},"Human Resources management"),n.createElement(kf.a,{fontSize:"large",style:{fontSize:65}})),n.createElement("div",{className:t.actions},Y("human-resources"))))))))},Tf=a(2025),Ff=a(1020),Rf=a.n(Ff),If=a(126),Mf=a(1021),Wf=a.n(Mf),Lf=["name","onChange"],Yf=function(){function e(t,a){Object(hn.a)(this,e),this.loader=t,this.source=a}return Object(vn.a)(e,[{key:"upload",value:function(){var e=this;return this.loader.file.then((function(t){return new Promise((function(a,n){e._initRequest(),e._initListeners(a,n,t),e._sendRequest(t)}))}))}},{key:"abort",value:function(){this.xhr&&this.xhr.abort()}},{key:"_initRequest",value:function(){var e=this.xhr=new XMLHttpRequest;e.open("POST","".concat(h,"/media"),!0),e.responseType="json",e.setRequestHeader("Authorization","Bearer ".concat(localStorage.getItem(d)))}},{key:"_initListeners",value:function(e,t,a){var n=this.xhr,r=this.loader,o="Couldn't upload file: ".concat(a.name,".");n.addEventListener("error",(function(){return t(o)})),n.addEventListener("abort",(function(){return t()})),n.addEventListener("load",(function(){var a=n.response;if(!a||a.error)return t(a&&a.error?a.error.message:o);e({default:a.link})})),n.upload&&n.upload.addEventListener("progress",(function(e){e.lengthComputable&&(r.uploadTotal=e.total,r.uploaded=e.loaded)}))}},{key:"_sendRequest",value:function(e){var t,a=this;(t=e,new Promise((function(e,a){var n=new FileReader;n.readAsDataURL(t),n.onload=function(){return e(n.result)},n.onerror=a}))).then((function(t){a.xhr.send(JSON.stringify({media:t,title:e.name,entity_id:77,entity_type:"editor",related_field:a.source,file_type:"image",meta:{editor_field:a.source}}))}))}}]),e}(),Bf=Object(ae.a)((function(e){return{error:{"& .ck-editor":{borderRadius:5,border:"1px solid #e53935"}}}})),zf=function(e){var t=Object(_s.f)().values,a=Object(R.a)(e),n=a.input,o=(n.name,n.onChange),i=(Object(T.a)(n,Lf),a.meta),l=i.touched,c=i.error,s=(a.isRequired,Object(pe.a)()),u=Bf(),d=l&&c,m=e.isRequired?"".concat(e.label," *"):e.label;return r.a.createElement("div",{className:Object(Fe.default)("aor-ckeditor-input",Object(N.a)({},u.error,d))},e.label&&r.a.createElement(If.a,{label:m}),r.a.createElement(Rf.a,Object.assign({editor:Wf.a,config:{allowedContent:!0,extraPlugins:[function(t){t.plugins.get("FileRepository").createUploadAdapter=function(t){return new Yf(t,e.source)}}]},data:x.a.get(t,e.source)||!1,onChange:function(e,t){t.getData()?o(t.getData()):o(null)},onBlur:function(e,t){t.getData()?o(t.getData()):o(null)}},e)),l&&c&&r.a.createElement("div",{style:{color:"#e53935",paddingLeft:10,fontSize:11}},s(c)))};zf.defaultProps={addField:!0};var qf=zf,Uf=a(151),Vf=a.n(Uf);var Gf=function(e){var t=Object(n.useState)([]),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)({}),c=Object(Z.a)(l,2),s=c[0],d=c[1],m=Object(ee.f)((function(e){return e.app.appConfig})),p=Object(Ca.a)(),f=e.record?e.record.level:null,_=Object(_s.f)().values,g=m[e.config],h=Object(R.a)(e),v=h.input,b=h.meta,E=b.touched,j=b.error;function y(e){return!x.a.isEmpty(s)&&s[e.level-1]?s[e.level-1]:-1}["/organizations","/programs","/costings","/funds","/locations","/functions"].includes(e.basePath)&&!e.level&&e.history.push("/"),Object(n.useEffect)((function(){var t={};function a(e){return e&&e.level&&(t[e.level]=e.id),e&&e.parent?a(e.parent):e}if(e.current)d(a(e.current));else{var n=e.field?x.a.get(_,e.field):null;e.field&&e.field.match(/[\d]/gm)&&(n=function e(t,a){var n=t.split("."),r=n[1],o=n[0].split("[")[0],i=n[0].match(/[\d]/gm);return r.match(/[\d]/gm)?e(r+"."+n[n.length-1],a[o][i]):a&&a[o]&&a[o][i]?a[o][i][r]:null}(e.field,_)),n&&a(n),x.a.isEmpty(t)||d(t)}}),[]),Object(n.useEffect)((function(){var t={};"organizations"===e.reference&&Y("has_pimis_fields")&&(t.is_hidden=!1),e&&p.getListOfAll(e.reference,e.filter?Object(u.a)({filter:e.filter},t):{}).then((function(e){if(e.data){var t=e.data.filter((function(e){return e.is_hidden})),a=e.data.filter((function(e){return!e.is_hidden}));i([].concat(Object(D.a)(t),Object(D.a)(a)))}})).catch((function(e){console.log(e)}))}),[e.reference,p]),Object(n.useEffect)((function(){x.a.isEmpty(s)||v.onChange(s[x.a.max(x.a.keys(s))])}),[s]);var O=function(e){return function(t){e===x.a.min(x.a.keys(s))?d(Object(N.a)({},e,t.target.value)):d(Object(u.a)(Object(u.a)({},s),{},Object(N.a)({},e,t.target.value)))}};if(x.a.isEmpty(g))return null;var k=e.isRequired?[Object(rs.j)()]:[];function S(t){return e.labels?e.isRequired?e.labels[t]+"":e.labels[t]:e.isRequired?g[t].name+"":g[t].name}return x.a.keys(g).filter((function(t){return e.level?Number(t)<e.level:!f||Number(t)<f})).map((function(t){var a,i=!s[t]&&"0000000000"===(null===(a=Object(w.find)(o,(function(e){return e.id===s[t-1]})))||void 0===a?void 0:a.code);return e.disablePermissions&&e.disablePermissions(i),r.a.createElement(cs,{key:t,tooltipText:e.tooltips?e.tooltips[t]:"tooltips.resources.".concat(e.resource,".fields.").concat(g[t].id),fullWidth:!0},("/users"===e.basePath||"/project-details"===e.basePath||"/locations"===e.basePath||"/projects"===e.basePath||"/cost-reports"===e.basePath||"/investments"===e.basePath)&&r.a.createElement(n.Fragment,null,r.a.createElement($n.a,Object.assign({},v,{select:!0,variant:"outlined",label:S(t)||g[t].name,value:s&&s[t]||g&&g[t].name,onChange:O(t),required:e.isRequired,error:!(!E||!j)||i,helperText:E&&j||i&&"Required",disabled:e.disabled,InputProps:{endAdornment:s&&s[t]&&r.a.createElement(Ce.a,{onClick:function(){for(var e=Object(w.cloneDeep)(s),a=t;a<Object.keys(s).length+1;a++)delete e[a];d(e)},style:{position:"relative",right:"25px"}},r.a.createElement(Vf.a,null))}}),o.filter((function(e){return Number(e.level)===Number(t)})).filter((function(e){return!e.parent_id||!y(e)||Number(e.parent_id)===Number(y(e))})).map((function(e){return r.a.createElement(sa.a,{key:e.id,value:e.id},e.name)})))),("/organizations"===e.basePath||"/costings"===e.basePath||"/funds"===e.basePath||"/locations"===e.basePath||"/programs"===e.basePath||"/functions"===e.basePath)&&r.a.createElement(os.a,{resettable:!0,disabled:e.disabled,onChange:O(t),validate:k,value:s[t]||g[t].name,variant:"outlined",margin:"none",label:(g[t].name,e.isRequired,""),placeholder:(g[t].name,e.isRequired,""),source:e.source,choices:o.filter((function(e){return Number(e.level)===Number(t)})).filter((function(e){return!e.parent_id||!y(e)||Number(e.parent_id)===Number(y(e))})).map((function(e){return{id:e.id,name:e.name}}))}))}))},Hf=["record"],Jf=["getSource","scopedFormData","formData"];var Xf=function(e){var t,a=e.record,o=Object(T.a)(e,Hf),i=Object(pe.a)(),l=Y("has_pimis_fields"),c=B({name:o.source}),s=Object(_s.f)().values;Object(n.useMemo)((function(){Y("has_default_array_input_value")&&s&&(x.a.get(s,o.source)?0===x.a.get(s,o.source).length&&c([{}]):c([{}]))}),[a]);var u=(null===a||void 0===a||null===(t=a.proposed_funding_source)||void 0===t?void 0:t.map((function(e){return e&&Number(e.fund_id)})))||[],d=function(e){if(Y("has_filtered_fund_body_type",a.phase_id)&&e)return 1===Number(e.fund_id)?jr(Ka).filter((function(e){return e&&3===Number(e.id)})):jr(Ka).filter((function(t){var n,r=null===a||void 0===a||null===(n=a.proposed_funding_source)||void 0===n?void 0:n.filter((function(t){return t&&Number(t.fund_id)===Number(e.fund_id)}));return 0!==(null===r||void 0===r?void 0:r.length)&&r?r.map((function(e){return Number(null===e||void 0===e?void 0:e.fund_body_type)})).includes(Number(null===t||void 0===t?void 0:t.id)):[]}));if(e){if(1===Number(e.fund_id))return jr(Ka).filter((function(e){return 3===Number(e.id)}));if(1===Number(e.fund_id)||2===Number(e.fund_id))return jr(Ka).filter((function(e){return 0===Number(e.id)||3===Number(e.id)}))}return jr(Ka).filter((function(e){return 1===Number(e.id)||2===Number(e.id)||3===Number(e.id)}))};return r.a.createElement(Ss.a,{source:o.source,label:null,className:"iterator"},r.a.createElement(Ps.a,null,r.a.createElement(js.a,null,(function(e){var t=e.getSource,c=e.scopedFormData;e.formData,Object(T.a)(e,Jf);if(o.targetYears&&c){if("components"!==o.type){var s=o.targetYears.map((function(e){return Number(e.id)}));c&&c.costs&&x.a.keys(c.costs).forEach((function(e){var t=e.slice(0,e.length-1);s.includes(Number(t))||delete c.costs[e]}))}l&&c&&(c.financial_pattern_type=6,c.financial_pattern_subtype=1)}return r.a.createElement(n.Fragment,null,!l&&"outputs"!==o.type&&r.a.createElement(Gf,Object.assign({},o,{source:t("fund_id"),config:"fund_config",reference:"funds",field:t("fund"),isRequired:!0,filter:Y("has_filtered_fund_body_type",a.phase_id)?{ids:Object(w.uniq)([].concat(Object(D.a)(u),[1]))}:null})),l&&"outputs"!==o.type&&r.a.createElement(Nu.a,{filter:Y("has_filtered_fund_body_type",a.phase_id)?{ids:Object(w.uniq)([].concat(Object(D.a)(u),[1]))}:null,sort:Ra,perPage:-1,source:t("fund_id"),reference:"funds",label:i("resources.activities.fields.investments.fields.fund_id")},r.a.createElement(os.a,{options:{fullWidth:!0},fullWidth:!0,optionText:"name",variant:"outlined",margin:"none"})),l&&c&&1!==Number(c.fund_id)&&r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project-details.fields.fund_body_type"},r.a.createElement(os.a,{options:{fullWidth:"true"},label:i("resources.project-details.fields.fund_body_type"),source:t("fund_body_type"),choices:d(c),validate:[Object(rs.j)()],variant:"outlined",margin:"none"})),"outputs"!==o.type&&!l&&r.a.createElement(Gf,Object.assign({},o,{source:t("costing_id"),config:"cost_config",reference:"costings",field:t("costing"),isRequired:!0})),o.targetYears&&o.targetYears.map((function(e){return r.a.createElement(cs,{tooltipText:"resources.investments.fields.target",fullWidth:!0},r.a.createElement(ns.a,{label:"".concat(Y("project_dates_fiscal_years")?e.name:e.id," (").concat(i("titles.currency"),")"),source:t("costs."+String(e.id)+"y"),variant:"outlined",margin:"none",format:_r,parse:gr,validate:[Object(rs.h)(),Object(rs.j)(),Object(rs.d)(255)]}))})))}))))};var $f=function(e){var t=Object(pe.a)(),a=Object(n.useState)(null),o=Object(Z.a)(a,2),i=o[0],l=o[1],c=Object(n.useState)(!1),s=Object(Z.a)(c,2),u=s[0],d=s[1],m=Object(n.useState)(!1),p=Object(Z.a)(m,2),f=p[0],_=(p[1],Object(_s.f)()),g=_.values,h=_.hasValidationErrors,v=B({name:e.source}),b=Object(rr.a)();return Object(n.useEffect)((function(){l(x.a.get(e.record,e.source))}),[e.record,e.source]),r.a.createElement(n.Fragment,null,r.a.createElement(Xn.a,{onClick:function(){d(!0)},label:function(){if(Y("has_pimis_fields"))switch(e.type){case"components":return t("buttons.components_investments");case"outputs":return t("buttons.output_investments");case"activities":return t("buttons.activity_investments");default:return null}return t("buttons.investments")}(),variant:"contained"}),r.a.createElement(Gr.a,{fullWidth:!0,maxWidth:"md",open:u,style:{overflow:"hidden"},disableBackdropClick:!0,disableEscapeKeyDown:!0},r.a.createElement(Hr.a,null,"Investments"),r.a.createElement(Jr.a,null,r.a.createElement(Xf,Object.assign({},e,{source:e.source,targetYears:e.targetYears,type:e.type,conversionRate:f}))),r.a.createElement(Xr.a,null,r.a.createElement(Xn.a,{onClick:function(){e.onSave(g,!1),l(x.a.get(g,e.source)),d(!1),b()},label:"Save",variant:"contained",disabled:h}),r.a.createElement(Xn.a,{onClick:function(){d(!1),v(i)},label:"Cancel",variant:"contained"}))))},Kf=["formData"],Qf=function(e){var t=e.formData,a=Object(T.a)(e,Kf),o=Object(n.useState)([]),i=Object(Z.a)(o,2),l=i[0],c=i[1],s=Object(pe.a)(),u=Object(Ca.a)();Object(n.useEffect)((function(){u.getListOfAll("funds",{}).then((function(e){e&&e.data&&c(e.data)}))}),[]);var d=Oi(t.start_date,t.end_date),m={},p=0,f=Y("has_pimis_fields");return f&&"components"===a.type?r.a.createElement(Fi.a,{style:{overflowX:"auto",maxWidth:"960px"}},r.a.createElement(oi.a,{size:"small"},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Fund Source/Type"),r.a.createElement(ci.a,null,"Amount (JMD)"))),r.a.createElement(si.a,null,a.investments&&a.investments.map((function(e){return e?(p+=parseFloat(e.costs&&e.costs[String(Object(w.last)(d).id)+"y"]||0),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,function(e){var t=Object(w.find)(l,(function(t){return t.id===e.fund_id}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{style:{margin:0}},"Fund: ".concat(null===t||void 0===t?void 0:t.code," - ").concat(null===t||void 0===t?void 0:t.name," ").concat(e.fund_body_type?"/ ".concat(Ka[e.fund_body_type]):"")))}(e)),r.a.createElement(ci.a,null,e.costs&&vr(e.costs[String(Object(w.last)(d).id)+"y"])))):null})),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement("b",null,s("resources.".concat(a.type,".fields.investments.fields.total")),":")),r.a.createElement(ci.a,null,r.a.createElement("b",null,isNaN(p)?"-":vr(p))))))):r.a.createElement(Fi.a,{style:{overflowX:"auto",maxWidth:"960px"}},r.a.createElement(oi.a,{size:"small"},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,"outputs"===a.type&&r.a.createElement(ci.a,null),"activities"===a.type&&r.a.createElement(ci.a,null,s("resources.".concat(a.type,".fields.investments.fields.fund_source_id"))),"activities"===a.type&&!f&&r.a.createElement(ci.a,null,s("resources.".concat(a.type,".fields.investments.fields.cost_classification_id"))),d&&d.map((function(e){return r.a.createElement(ci.a,null,Y("project_dates_fiscal_years")?e.name:e.id)})),r.a.createElement(ci.a,null,s("resources.".concat(a.type,".fields.investments.fields.total"))))),r.a.createElement(si.a,null,a.investments&&a.investments.map((function(e){if(!e)return null;var t={};return r.a.createElement(li.a,null,"outputs"===a.type&&r.a.createElement(ci.a,null),"activities"===a.type&&r.a.createElement(ci.a,null,e&&e.fund?"".concat(e.fund.code," - ").concat(e.fund.name):""),"activities"===a.type&&!f&&r.a.createElement(ci.a,null,e&&e.costing?"".concat(e.costing.code," - ").concat(e.costing.name):""),d&&d.map((function(a){var n=a.id+"y";return e.costs?(m[n]||(m[n]=0),t[e.fund_id]||(t[e.fund_id]=0),m[n]+=e.costs[n]?parseFloat(e.costs[n]):0,t[e.fund_id]+=e.costs[n]?parseFloat(e.costs[n]):0,p+=e.costs[n]?parseFloat(e.costs[n]):0,r.a.createElement(ci.a,null,e.costs[n]?vr(parseFloat(e.costs[n])):0)):null})),r.a.createElement(ci.a,null,isNaN(t[e.fund_id])?"-":vr(t[e.fund_id])))})),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement("b",null,s("resources.".concat(a.type,".fields.investments.fields.total")),":")),"activities"===a.type&&!f&&r.a.createElement(ci.a,null),d&&d.map((function(e){return r.a.createElement(ci.a,null,r.a.createElement("b",null,isNaN(m[e.id+"y"])?"-":vr(m[e.id+"y"])))})),r.a.createElement(ci.a,null,r.a.createElement("b",null,isNaN(p)?"-":vr(p)))))))},Zf=["getSource","scopedFormData","formData"],e_=["getSource","scopedFormData","formData"],t_=["getSource","scopedFormData","formData"],a_=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{textAlign:"left",fontSize:"15px",fontWeight:"bold",paddingLeft:"30px",margin:"10px auto"},button:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:35,margin:15,"&:hover > $buttonTitle,":{display:"none"},"&:hover > $actions,":{display:"flex"}},buttonTitle:{display:"flex",fontWeight:"bold",fontSize:"18px",flexDirection:"column",alignItems:"center",gap:"15px"},actions:{display:"none",flexDirection:"column",alignItems:"center",gap:"15px"},formProcurement:{display:"flex",flexDirection:"column"},procurementDates:{display:"flex",gap:15,padding:"0 10px"}}}));function n_(e){return r.a.createElement(Gs.a,null,r.a.createElement(Xn.a,{label:"Submit"}))}function r_(e){var t=e.children;return r.a.createElement(se.a,{component:"div",style:{padding:24}},t)}var o_=function(e){var t=Object(pe.a)(),a=a_(),n=r.a.useState(0),o=Object(Z.a)(n,2),i=o[0],l=o[1],c=r.a.useState(null),s=Object(Z.a)(c,2),d=s[0],m=s[1],p=Object(Ca.a)();function f(){switch(i){case 0:return r.a.createElement(Ss.a,{source:"activities",label:!1},r.a.createElement(Ps.a,null,r.a.createElement(js.a,null,(function(a){var n=a.getSource,o=a.scopedFormData,i=a.formData,l=(Object(T.a)(a,Zf),o),c=Y("project_dates_fiscal_years")?Ei(d.start_date,d.end_date):ji(d.start_date,d.end_date);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.name",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],source:n("name"),label:t("resources.activities.fields.name"),variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.start_date",fullWidth:!0},r.a.createElement(os.a,{options:{fullWidth:"true"},validate:[Object(rs.j)()],label:t("resources.activities.fields.start_date"),source:n("start_date"),choices:c,variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.end_date",fullWidth:!0},r.a.createElement(os.a,{options:{fullWidth:"true"},label:t("resources.activities.fields.end_date"),source:n("end_date"),choices:c,validate:[Object(rs.j)()],variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.output_id",fullWidth:!0},r.a.createElement(Tf.a,{validate:[Object(rs.j)()],options:{fullWidth:"true"},label:"resources.activities.fields.output_ids",source:n("output_ids"),choices:i.outputs&&i.outputs.map((function(e){return{id:e.id,name:e.name}})),variant:"outlined",margin:"none"}))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.description",textArea:!0},r.a.createElement(qf,Object.assign({source:n("description"),validate:[Object(rs.j)()],label:t("resources.activities.fields.description"),isRequired:!0,formData:i},e))))),r.a.createElement("br",null),l&&l.investments&&0!==l.investments.length&&r.a.createElement(Qf,{type:"activities",formData:l,investments:l.investments}),r.a.createElement("br",null))}))));case 1:return r.a.createElement(Ss.a,{source:"cost_reports",label:!1},r.a.createElement(Ps.a,null,r.a.createElement(js.a,null,(function(n){var o=n.getSource,i=(n.scopedFormData,n.formData);Object(T.a)(n,e_);return r.a.createElement("div",null,r.a.createElement("h3",null,"Select Activity"),r.a.createElement(os.a,{options:{fullWidth:"true"},validate:[Object(rs.j)()],label:t("resources.activities.fields.start_date"),source:o("activity_id"),choices:i&&i.activities?i.activities:[],variant:"outlined",margin:"none"}),r.a.createElement("h3",null,"Costed annualized plan"),r.a.createElement("div",{className:a.formProcurement},r.a.createElement(Gf,Object.assign({},e,{source:o("fund_id"),config:"fund_config",reference:"funds",field:o("fund"),isRequired:!0,basePath:"/cost-reports"})),r.a.createElement(Gf,Object.assign({},e,{source:o("costing_id"),config:"cost_config",reference:"costings",field:o("costing"),isRequired:!0,basePath:"/cost-reports"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.procurement_method",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)()],source:o("procurement_method"),label:t("resources.activities.fields.procurement_method"),variant:"outlined",margin:"none"})),r.a.createElement("div",{className:a.procurementDates},r.a.createElement(ys.a,{validate:[Object(rs.j)()],source:o("procurement_start_date"),label:t("resources.activities.fields.procurement_start_date"),variant:"outlined",margin:"none"}),r.a.createElement(ys.a,{validate:[Object(rs.j)()],source:o("procurement_contract_sign"),label:t("resources.activities.fields.procurement_contract_sign"),variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.procurement_details",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)()],source:o("procurement_details"),label:t("resources.activities.fields.procurement_details"),variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.procurement_amount",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)()],source:o("procurement_amount"),label:t("resources.activities.fields.procurement_amount"),variant:"outlined",margin:"none",format:_r,parse:gr}))))}))));default:return null}}function _(e,t){l(t)}return r.a.useEffect((function(){var t,a;p.getOne("project-details",{id:null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id}).then((function(e){e&&e.data&&m(H(Object(u.a)(Object(u.a)({},e.data),{},{cost_reports:[]})))}))}),[]),r.a.createElement(ui.a,{container:!0,spacing:3},r.a.createElement(ui.a,{item:!0,xs:12},d&&r.a.createElement("div",{style:{padding:33}},r.a.createElement(ru.a,Object.assign({},e,{basePath:"/project-details",resource:"project-details",record:d,id:d.id,actions:r.a.createElement(n_,null)}),r.a.createElement(ou.a,null,r.a.createElement("div",{style:{display:"flex",gap:"15px",width:"100%",alignItems:"center"}},r.a.createElement(se.a,null,"Select Period:"),r.a.createElement(os.a,{source:"period",validate:Object(rs.j)(),variant:"outlined",margin:"none",choices:[{id:"current",name:"Current Fiscal Year"},{id:"next",name:"Next Fiscal Year"}]})),r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData,e.formData,Object(T.a)(e,t_);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Us.a,{value:i,onChange:_,indicatorColor:"primary",textColor:"primary",variant:null,style:{width:"100%"}},r.a.createElement(Vs.a,{label:"Activities",value:0}),r.a.createElement(Vs.a,{label:"Costs",value:1})),r.a.createElement(r_,null,f()))})))))))},i_=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{textAlign:"left",fontSize:"15px",fontWeight:"bold",paddingLeft:"30px",margin:"10px auto"},button:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:35,margin:15,"&:hover > $buttonTitle,":{display:"none"},"&:hover > $actions,":{display:"flex"}},content:{flexDirection:"column",alignItems:"center",gap:"15px",padding:25}}}));var l_=function(e){Object(pe.a)(),i_();var t=n.useState(null),a=Object(Z.a)(t,2),r=a[0],o=a[1],i=Object(Ca.a)();return n.useEffect((function(){var t,a;i.getOne("project-details",{id:null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id}).then((function(e){e&&e.data&&o(H(e.data))}))}),[]),n.createElement(ui.a,{container:!0,spacing:3},n.createElement(ui.a,{item:!0,xs:12},n.createElement(In.a,{style:{padding:20}},n.createElement(Vd,{details:r}))))},c_=a(2013),s_=function(e){var t=Object(Na.a)(),a=(Object(de.g)(),Object(ai.a)());return r.a.createElement(Zc.a,{style:{width:"100%"}},r.a.createElement(Xn.a,{onClick:function(){e.projectDetailId?a("".concat(e.basePath,"/").concat(e.projectDetailId,"/list")):a("".concat(e.basePath))},label:"Cancel",style:{marginRight:5,padding:"7px 15px"},color:"primary",variant:"contained"}),r.a.createElement(Zm.a,Object.assign({},e,{onClick:function(){e.invalid?(window.scrollTo(0,0),t("You should define required fields  before save!","error")):(e.handleSubmitWithRedirect(),e.onSaveSuccess&&e.onSaveSuccess())}})))},u_=["formData","projectDetails"],d_=["isSaving","onSaved"],m_=["getSource","scopedFormData","formData"],p_=["getSource","scopedFormData","formData"],f_=["getSource","scopedFormData","formData"],__=function(e){var t=e.formData,a=e.projectDetails,o=(Object(T.a)(e,u_),B({name:"year"})),i=B({name:"cost_plan_activities"}),l=B({name:"outputs"}),c=B({name:"project_detail_id"});return Object(n.useEffect)((function(){t&&a&&!t.cost_plan_activities&&(i(a.activities.map((function(e){return e.activity_id=e.id,delete e.id,e}))),l(a.outputs)),t&&!t.year&&o(S()().format("YYYY")),t&&a&&!t.project_detail_id&&c(a.id)}),[t,a,c,i,o,l]),r.a.createElement(r.a.Fragment,null)},g_=function(e){e.isSaving,e.onSaved;var t=Object(T.a)(e,d_);Object(_s.f)().values,Object(c_.a)(t).save,Object(ai.a)();return r.a.createElement(r.a.Fragment,null)},h_=function(e){var t,a,n=Object(pe.a)(),o=r.a.useState(null),i=Object(Z.a)(o,2),l=i[0],c=i[1],s=r.a.useState(!1),d=Object(Z.a)(s,2),m=d[0],p=d[1],f=Object(Ca.a)();r.a.useEffect((function(){var t,a;f.getOne("project-details",{id:null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.projectId}).then((function(e){e&&e.data&&c(H(Object(u.a)({},e.data)))}))}),[]);var _=function(){p(!0)};return r.a.createElement(es.a,Object.assign({},e,{undoable:!1}),r.a.createElement(ts.a,{redirect:function(e,t,a){return"/cost-plans/".concat(a.id||t)},toolbar:r.a.createElement(s_,{projectDetailId:null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.projectId}),syncWithLocation:!1},r.a.createElement(as.a,{label:"Activities"},r.a.createElement(js.a,null,(function(t){t.getSource,t.scopedFormData;var a=t.formData;Object(T.a)(t,m_);return r.a.createElement(__,Object.assign({formData:a,projectDetails:l},e))})),r.a.createElement(Ss.a,{source:"cost_plan_activities",label:!1},r.a.createElement(Ps.a,null,r.a.createElement(js.a,null,(function(t){var a=t.getSource,o=(t.scopedFormData,t.formData),i=(Object(T.a)(t,p_),Y("project_dates_fiscal_years")?Ei(l.start_date,l.end_date):ji(l.start_date,l.end_date));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.name",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],source:a("name"),label:n("resources.activities.fields.name"),variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.start_date",fullWidth:!0},r.a.createElement(os.a,{options:{fullWidth:"true"},validate:[Object(rs.j)()],label:n("resources.activities.fields.start_date"),source:a("start_date"),choices:i,variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.end_date",fullWidth:!0},r.a.createElement(os.a,{options:{fullWidth:"true"},label:n("resources.activities.fields.end_date"),source:a("end_date"),choices:i,validate:[Object(rs.j)()],variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.output_id",fullWidth:!0},r.a.createElement(Tf.a,{validate:[Object(rs.j)()],options:{fullWidth:"true"},label:"resources.activities.fields.output_ids",source:a("output_ids"),choices:o.outputs&&o.outputs.map((function(e){return{id:e.id,name:e.name}})),variant:"outlined",margin:"none"}))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.description",textArea:!0},r.a.createElement(qf,Object.assign({source:a("description"),validate:[Object(rs.j)()],label:n("resources.activities.fields.description"),isRequired:!0,formData:o},e))))))}))))),r.a.createElement(as.a,{label:"Cost Plans",onClick:_},r.a.createElement(g_,{isSaving:m,onSaved:function(){p(!1)}}),r.a.createElement(os.a,{source:"year",validate:Object(rs.j)(),variant:"outlined",margin:"none",choices:[{id:2022,name:"Current Fiscal Year"},{id:2023,name:"Next Fiscal Year"}]}),r.a.createElement(Ss.a,{source:"cost_plan_items",label:!1,onClick:_},r.a.createElement(Ps.a,null,r.a.createElement(js.a,null,(function(t){var a=t.getSource,o=(t.scopedFormData,t.formData);Object(T.a)(t,f_);return r.a.createElement("div",null,r.a.createElement("h3",null,"Select Activity"),r.a.createElement(os.a,{options:{fullWidth:"true"},validate:[Object(rs.j)()],label:n("resources.activities.fields.cost_plan_activities"),source:a("cost_plan_activity_id"),choices:o&&o.cost_plan_activities?o.cost_plan_activities.map((function(e){return{id:e.id,name:e.name}})):[],variant:"outlined",margin:"none"}),r.a.createElement(Gf,Object.assign({},e,{source:a("fund_id"),config:"fund_config",reference:"funds",field:a("fund"),isRequired:!0,basePath:"/cost-reports"})),r.a.createElement(Gf,Object.assign({},e,{source:a("costing_id"),config:"cost_config",reference:"costings",field:a("costing"),isRequired:!0,basePath:"/cost-reports"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.procurement_method",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)()],source:a("procurement_method"),label:n("resources.activities.fields.procurement_method"),variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.procurement_start_date",fullWidth:!0},r.a.createElement(ys.a,{validate:[Object(rs.j)()],source:a("procurement_start_date"),label:n("resources.activities.fields.procurement_start_date"),variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.contract_signed_date",fullWidth:!0},r.a.createElement(ys.a,{validate:[Object(rs.j)()],source:a("contract_signed_date"),label:n("resources.activities.fields.contract_signed_date"),variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.procurement_details",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)()],source:a("procurement_details"),label:n("resources.activities.fields.procurement_details"),variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.amount",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.h)()],source:a("amount"),label:n("resources.activities.fields.amount"),variant:"outlined",margin:"none",format:_r,parse:gr})))})))))))},v_=a(2026),b_=a(2027),E_=a(2074),j_=a(2029),y_=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),O_=function(e){L(),Object(de.g)();var t=Object(ai.a)();return r.a.createElement(Gs.a,null,r.a.createElement(Xn.a,{onClick:function(){var a;t("/implementation-module/".concat(Number(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.project_detail_id),"/costed-annualized-plan"))},label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null),style:{position:"absolute",left:0}}),r.a.createElement(v_.a,Object.assign({},e,{record:e.data})))},w_=function(e){var t=y_(),a=Object(b_.a)(e).record,o=Object(n.useState)(),i=Object(Z.a)(o,2),l=i[0],c=i[1],s=Object(Ca.a)();function d(){return a&&a.cost_plan_items?x.a.groupBy(a.cost_plan_items,(function(e){return e.cost_plan_activity_id})):null}return r.a.useEffect((function(){a&&s.getOne("project-details",{id:a.project_detail_id}).then((function(e){e&&e.data&&c(H(Object(u.a)({},e.data)))}))}),[s,a]),r.a.createElement(E_.a,Object.assign({},e,{actions:r.a.createElement(O_,e)}),r.a.createElement(j_.a,null,r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},l&&r.a.createElement(Ii,{customRecord:l,title:"Planned Costed Annualized Plan"}),r.a.createElement("h2",null,"Actual Costed Annualized Plan"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",t.bordered,t.table)},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{rowSpan:3,colSpan:2},"Cost Classification"),r.a.createElement(ci.a,{rowSpan:3,colSpan:2},"Fund Source")),r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:5},a&&xi(a.year).name)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Amount"),r.a.createElement(ci.a,null,"Procurement method"),r.a.createElement(ci.a,null,"Procurement start date"),r.a.createElement(ci.a,null,"Anticipated contract signed date"),r.a.createElement(ci.a,null,"Procurement details"))),r.a.createElement(si.a,null,a&&d()&&x.a.keys(d()).map((function(e){var t=x.a.find(a.cost_plan_activities,(function(t){return Number(t.id)===Number(e)})),n=r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:9,style:{fontWeight:"bold"}},"Activity: ".concat(t&&t.name))),o=d()[e];return[n,o&&o.map((function(e){return r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:2},"".concat(e.costing.code,"-").concat(e.costing.name)),r.a.createElement(ci.a,{colSpan:2},"".concat(e.fund.code,"-").concat(e.fund.name)),r.a.createElement(ci.a,null,vr(e.amount)),r.a.createElement(ci.a,null,e.procurement_method),r.a.createElement(ci.a,null,e.procurement_start_date),r.a.createElement(ci.a,null,e.contract_signed_date),r.a.createElement(ci.a,null,e.procurement_details))}))]})))))))))},x_=a(179),k_=a.n(x_),S_=a(190),P_=a.n(S_),C_=["onCreate","onGoBack"],N_=["translate"],A_=function(e){var t=e.onCreate,a=e.onGoBack;Object(T.a)(e,C_),Object(de.g)();return r.a.createElement(Gs.a,{style:{justifyContent:"space-between",display:"flex",alignItems:"center",width:"100%"}},r.a.createElement(Ee.a,{onClick:a,label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null)},"Back"),r.a.createElement(Ee.a,{variant:"contained",color:"primary",startIcon:r.a.createElement(k_.a,null),onClick:t},"Create"))},D_=function(e){var t=e.loading,a=e.loaded,n=e.total,o=L();return 0===n&&!t&&a?r.a.createElement(di.a,{textAlign:"center",m:1},r.a.createElement(se.a,{variant:"h4",paragraph:!0},"There are no custom reports in the system",r.a.createElement("br",null),r.a.createElement("br",null),o("create_custom_report")&&r.a.createElement(ku.a,{basePath:"/custom-reports"}))):r.a.createElement("div",null)},T_=function(e){e.translate;var t,a,n=Object(T.a)(e,N_),o=Object(Ca.a)(),i=Object(ai.a)(),l=Object(Na.a)(),c=(L(),r.a.useState(!1)),s=Object(Z.a)(c,2),u=s[0],d=s[1],m=r.a.useState(null),p=Object(Z.a)(m,2),f=p[0],_=p[1],g=Object(yf.a)("cost-plans"),h=Object(Z.a)(g,1)[0];function v(){var e=S()().startOf("year"),t=e.clone().add(1,"years");return[{id:S()(xi(e).id).format("YYYY"),name:xi(e).name},{id:S()(xi(t).id).format("YYYY"),name:xi(t).name}]}return r.a.createElement(r.a.Fragment,null,r.a.createElement(ri.a,Object.assign({},n,{empty:r.a.createElement(D_,n),bulkActionButtons:!1,actions:r.a.createElement(A_,Object.assign({},n,{onCreate:function(){d(!0)},onGoBack:function(){var e,t;i("/implementation-module/".concat(Number(null===(e=n.match)||void 0===e||null===(t=e.params)||void 0===t?void 0:t.id),"/costed-annualized-plan"))}})),filter:{project_detail_id:null===(t=n.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id}}),r.a.createElement(Nl.a,{rowClick:!1},r.a.createElement(Al.a,{source:"year"}),r.a.createElement(Al.a,{source:"cost_plan_status"}),r.a.createElement(Dl.a,{source:"user",render:function(e){return e.user&&e.user.full_name}}),r.a.createElement(Dl.a,{source:"created_on",render:function(e){return e?Er(e.created_on):null}}),r.a.createElement(zs.a,n),r.a.createElement(v_.a,n))),u&&r.a.createElement(Gr.a,{fullWidth:!0,maxWidth:"xs",open:u,onClose:function(){d(!1)},style:{overflow:"hidden"},disableBackdropClick:!0,disableEscapeKeyDown:!0},r.a.createElement(Hr.a,null,"Create Cost Plan"),r.a.createElement(Jr.a,null,r.a.createElement(xa.a,{fullWidth:!0,variant:"outlined",value:f,onChange:function(e){_(e.target.value)}},v()&&v().map((function(e){return r.a.createElement(sa.a,{key:e.id,value:e.id},e.name)})))),r.a.createElement(Xr.a,null,r.a.createElement(Ee.a,{onClick:function(){d(!1)},label:"Cancel",variant:"outlined",color:"primary",startIcon:r.a.createElement(Rn.a,null)},"Cancel"),r.a.createElement(Ee.a,{onClick:function(){var e,t;o.getOne("project-details",{id:Number(null===(e=n.match)||void 0===e||null===(t=e.params)||void 0===t?void 0:t.id)}).then((function(e){e&&e.data&&function(e){var t,a;h({payload:{data:{year:Number(f),project_detail_id:Number(null===(t=n.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id),cost_plan_activities:Object(D.a)(e),cost_plan_items:[]}}},{onSuccess:function(e){var t=e.data;l("New Report Created",{}),i("/cost-plans/".concat(t.id))}})}(e.data.activities.map((function(e){return e.activity_id=e.id,delete e.id,e})))}))},color:"primary",variant:"contained",startIcon:r.a.createElement(P_.a,null)},"Create"))))},F_=Object(ae.a)((function(e){return{table:{minWidth:700,backgroundColor:"#fff"},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"},actions:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"}}})),R_=function(e){var t=F_(),a=r.a.useState([]),n=Object(Z.a)(a,2),o=n[0],i=n[1],l=Object(Ca.a)(),c=(x.a.first(o),Object(de.g)(),Object(ai.a)());function s(e){return e&&e.cost_plan_items?x.a.groupBy(e.cost_plan_items,(function(e){return e.cost_plan_activity_id})):null}return r.a.useEffect((function(){var t,a;l.getListOfAll("cost-plans",{sort_field:"id",filter:{project_detail_id:Number(null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id)}}).then((function(e){e&&e.data&&i(e.data)}))}),[]),r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:t.actions},r.a.createElement(Xn.a,{onClick:function(){var t,a;c("/implementation-module/".concat(Number(null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id),"/costed-annualized-plan"))},label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null),style:{marginBottom:15}}),r.a.createElement(nr,{reportId:"report-container",title:"Cost Annualized Plan",exportTypes:[Ha.WORD,Ha.PDF,Ha.XLS]})),r.a.createElement("div",{className:"content-area",id:"report-container"},r.a.createElement(se.a,{variant:"h2",style:{marginLeft:15,marginBottom:15}},"Cost Annualized Plan"),o&&o.length>0&&o.map((function(e){return r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",t.bordered,t.table)},!x.a.isEmpty(s(e))&&r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{rowSpan:3,colSpan:2},"Cost Classification"),r.a.createElement(ci.a,{rowSpan:3,colSpan:2},"Fund Source")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Amount"),r.a.createElement(ci.a,null,"Procurement method"),r.a.createElement(ci.a,null,"Procurement start date"),r.a.createElement(ci.a,null,"Anticipated contract signed date"),r.a.createElement(ci.a,null,"Procurement details"))),!x.a.isEmpty(s(e))&&r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:9,variant:"head"},e&&xi(e.year).name)),e&&s(e)&&x.a.keys(s(e)).map((function(t){var a=x.a.find(e.cost_plan_activities,(function(e){return Number(e.id)===Number(t)})),n=r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:9,style:{fontStyle:"italic"}},"Activity: ".concat(a&&a.name))),o=s(e)[t];return[n,o&&o.map((function(e){return r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:2},"".concat(e.costing.code,"-").concat(e.costing.name)),r.a.createElement(ci.a,{colSpan:2},"".concat(e.fund.code,"-").concat(e.fund.name)),r.a.createElement(ci.a,null,vr(e.amount)),r.a.createElement(ci.a,null,e.procurement_method),r.a.createElement(ci.a,null,e.procurement_start_date),r.a.createElement(ci.a,null,e.contract_signed_date),r.a.createElement(ci.a,null,e.procurement_details))}))]})))))}))))},I_=a(2094),M_=["getSource","scopedFormData","formData"],W_=["getSource","scopedFormData","formData"],L_=function(e){var t,a,n=r.a.useState([]),o=Object(Z.a)(n,2),i=(o[0],o[1]),l=r.a.useState([]),c=Object(Z.a)(l,2),s=c[0],d=c[1],m=Object(Ca.a)(),p=r.a.useState(null),f=Object(Z.a)(p,2),_=(f[0],f[1]),g=Object(ai.a)();r.a.useEffect((function(){var t,a,n,r;m.getOne("project-details",{id:null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.projectId}).then((function(e){if(e&&e.data){var t=e.data,a=t.start_date,n=t.end_date;d(H(Object(u.a)({},e.data))),i(Oi(a,n))}})),m.getOne("projects",{id:null===(n=e.match)||void 0===n||null===(r=n.params)||void 0===r?void 0:r.projectId}).then((function(e){e&&e.data&&_(H(Object(u.a)({},e.data)))}))}),[]);var h=Object(pe.a)();h("resources.project_options.fields.analytical_modules.risk_evaluations.levels.low"),h("resources.project_options.fields.analytical_modules.risk_evaluations.levels.medium"),h("resources.project_options.fields.analytical_modules.risk_evaluations.levels.high");return r.a.createElement(es.a,Object.assign({},e,{undoable:!1}),r.a.createElement(ou.a,{redirect:function(){var t,a;return"/risk-assessments/".concat(null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.projectId,"/list")},toolbar:r.a.createElement(s_,{projectDetailId:null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.projectId})},r.a.createElement("div",{className:"float-start"},r.a.createElement(Xn.a,{onClick:function(){var t,a;g("/implementation-module/".concat(Number(null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.projectId),"/costed-annualized-plan"))},label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null)})),r.a.createElement("h1",{style:{width:"100%"}},s&&s.project&&"".concat(s.project.code," - ").concat(s.project.name)),r.a.createElement(js.a,null,(function(t){t.getSource,t.scopedFormData;var a,n,r,o,i=t.formData;Object(T.a)(t,M_);(null===(a=e.match)||void 0===a||null===(n=a.params)||void 0===n?void 0:n.projectId)&&i&&(i.project_detail_id=null===(r=e.match)||void 0===r||null===(o=r.params)||void 0===o?void 0:o.projectId);return null})),r.a.createElement(se.a,{variant:"h4",style:{margin:"5px 10px 10px 10px"}},"Risk Monitoring"),r.a.createElement(cs,{tooltipText:"tooltips.resources.risk_assessments.fields.has_risk_occurred",bool:!0},r.a.createElement(I_.a,{source:"has_risk_occurred",variant:"outlined",margin:"none"})),r.a.createElement(js.a,null,(function(t){t.getSource,t.scopedFormData;var a,n,o,i,l=t.formData;Object(T.a)(t,W_);(null===(a=e.match)||void 0===a||null===(n=a.params)||void 0===n?void 0:n.projectId)&&l&&(l.project_detail_id=null===(o=e.match)||void 0===o||null===(i=o.params)||void 0===i?void 0:i.projectId);return l.has_risk_occurred?null:r.a.createElement(se.a,{variant:"h4",style:{margin:"5px 10px 10px 10px"}},"Additional Risk")})),r.a.createElement(cs,{tooltipText:"tooltips.resources.risk_assessments.fields.description",fullWidth:!0},r.a.createElement(ns.a,{source:"description",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.risk_assessments.fields.effects",fullWidth:!0},r.a.createElement(ns.a,{source:"effects",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.risk_assessments.fields.mitigation_response",fullWidth:!0},r.a.createElement(ns.a,{source:"mitigation_response",variant:"outlined",margin:"none"}))))},Y_=["getSource","scopedFormData","formData"],B_=function(e){var t,a,n=r.a.useState([]),o=Object(Z.a)(n,2),i=o[0],l=o[1],c=Object(Ca.a)(),s=r.a.useState(null),d=Object(Z.a)(s,2),m=d[0],p=d[1],f=r.a.useState(null),_=Object(Z.a)(f,2),g=(_[0],_[1]),h=Object(ai.a)();r.a.useEffect((function(){var t,a,n,r;c.getOne("project-details",{id:null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.projectId}).then((function(e){if(e&&e.data){var t=e.data,a=t.start_date,n=t.end_date;l(Oi(a,n)),p(H(Object(u.a)({},e.data)))}})),c.getOne("projects",{id:null===(n=e.match)||void 0===n||null===(r=n.params)||void 0===r?void 0:r.projectId}).then((function(e){e&&e.data&&g(H(Object(u.a)({},e.data)))}))}),[]);var v=Object(pe.a)(),b=[{id:"LOW",name:v("resources.project_options.fields.analytical_modules.risk_evaluations.levels.low")},{id:"MEDIUM",name:v("resources.project_options.fields.analytical_modules.risk_evaluations.levels.medium")},{id:"HIGH",name:v("resources.project_options.fields.analytical_modules.risk_evaluations.levels.high")}];return r.a.createElement(es.a,Object.assign({},e,{undoable:!1}),r.a.createElement(ou.a,{redirect:function(){var t,a;return"/stakeholder-engagements/".concat(null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.projectId,"/list")},toolbar:r.a.createElement(s_,{projectDetailId:null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.projectId})},r.a.createElement("div",{className:"float-start"},r.a.createElement(Xn.a,{onClick:function(){var t,a;h("/implementation-module/".concat(Number(null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.projectId),"/costed-annualized-plan"))},label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null)})),r.a.createElement("h1",{style:{width:"100%"}},m&&m.project&&"".concat(m.project.code," - ").concat(m.project.name)),r.a.createElement(js.a,null,(function(t){t.getSource,t.scopedFormData;var a,n,r,o,i=t.formData;Object(T.a)(t,Y_);(null===(a=e.match)||void 0===a||null===(n=a.params)||void 0===n?void 0:n.projectId)&&i&&(i.project_detail_id=null===(r=e.match)||void 0===r||null===(o=r.params)||void 0===o?void 0:o.projectId);return null})),r.a.createElement(cs,{tooltipText:"tooltips.resources.stakeholder-engagements.fields.reporting_date",fullWidth:!0},r.a.createElement(os.a,{variant:"outlined",margin:"none",options:{fullWidth:"true"},source:"reporting_date",choices:i,parse:function(e){return e&&S()(e).startOf("year").format("YYYY-MM-DD")},format:function(e){return e&&S()(e).format("YYYY")}})," "),r.a.createElement(cs,{tooltipText:"tooltips.resources.stakeholder-engagements.fields.reporting_quarter",fullWidth:!0},r.a.createElement(os.a,{variant:"outlined",margin:"none",options:{fullWidth:"true"},source:"reporting_quarter",choices:nn})),r.a.createElement(cs,{tooltipText:"tooltips.resources.stakeholder-engagements.fields.name",fullWidth:!0},r.a.createElement(ns.a,{source:"name",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.stakeholder-engagements.fields.interest_level",fullWidth:!0},r.a.createElement(os.a,{variant:"outlined",margin:"none",options:{fullWidth:"true"},source:"interest_level",choices:b})),r.a.createElement(cs,{tooltipText:"tooltips.resources.stakeholder-engagements.fields.influence_level",fullWidth:!0},r.a.createElement(os.a,{variant:"outlined",margin:"none",options:{fullWidth:"true"},source:"influence_level",choices:b})),r.a.createElement(cs,{tooltipText:"tooltips.resources.stakeholder-engagements.fields.engagement_status",fullWidth:!0},r.a.createElement(ns.a,{source:"engagement_status",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.stakeholder-engagements.fields.engagement_level",fullWidth:!0},r.a.createElement(os.a,{variant:"outlined",margin:"none",options:{fullWidth:"true"},source:"engagement_level",choices:b})),r.a.createElement(cs,{tooltipText:"tooltips.resources.stakeholder-engagements.fields.engagement_frequency",fullWidth:!0},r.a.createElement(ns.a,{source:"engagement_frequency",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.stakeholder-engagements.fields.communication_channel",fullWidth:!0},r.a.createElement(ns.a,{source:"communication_channel",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.stakeholder-engagements.fields.issues",fullWidth:!0},r.a.createElement(ns.a,{source:"issues",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.stakeholder-engagements.fields.mitigation_plan",fullWidth:!0},r.a.createElement(ns.a,{source:"mitigation_plan",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.stakeholder-engagements.fields.responsible_entity",fullWidth:!0},r.a.createElement(ns.a,{source:"responsible_entity",variant:"outlined",margin:"none"}))))},z_=["getSource","scopedFormData","formData"],q_=function(e){var t,a,n=Object(pe.a)(),o=r.a.useState([]),i=Object(Z.a)(o,2),l=i[0],c=i[1],s=Object(Ca.a)(),d=r.a.useState(null),m=Object(Z.a)(d,2),p=m[0],f=m[1],_=r.a.useState(null),g=Object(Z.a)(_,2),h=(g[0],g[1]),v=Object(ai.a)();r.a.useEffect((function(){var t,a,n,r;s.getOne("project-details",{id:null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.projectId}).then((function(e){if(e&&e.data){var t=e.data,a=t.start_date,n=t.end_date;c(Oi(a,n)),f(H(Object(u.a)({},e.data)))}})),s.getOne("projects",{id:null===(n=e.match)||void 0===n||null===(r=n.params)||void 0===r?void 0:r.projectId}).then((function(e){e&&e.data&&h(H(Object(u.a)({},e.data)))}))}),[]);var b=[{id:"LOW",name:n("resources.project_options.fields.analytical_modules.risk_evaluations.levels.low")},{id:"MEDIUM",name:n("resources.project_options.fields.analytical_modules.risk_evaluations.levels.medium")},{id:"HIGH",name:n("resources.project_options.fields.analytical_modules.risk_evaluations.levels.high")}];return r.a.createElement(es.a,Object.assign({},e,{undoable:!1,actions:!1}),r.a.createElement(ou.a,{redirect:"show",toolbar:r.a.createElement(s_,{projectDetailId:null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.projectId})},r.a.createElement("div",{className:"float-start"},r.a.createElement(Xn.a,{onClick:function(){var t,a;v("/implementation-module/".concat(Number(null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.projectId),"/costed-annualized-plan"))},label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null)})),r.a.createElement("h1",{style:{width:"100%"}},p&&p.project&&"".concat(p.project.code," - ").concat(p.project.name)),r.a.createElement(js.a,null,(function(t){t.getSource,t.scopedFormData;var a,n,r,o,i=t.formData;Object(T.a)(t,z_);(null===(a=e.match)||void 0===a||null===(n=a.params)||void 0===n?void 0:n.projectId)&&i&&(i.project_detail_id=null===(r=e.match)||void 0===r||null===(o=r.params)||void 0===o?void 0:o.projectId);return null})),r.a.createElement(cs,{tooltipText:"tooltips.resources.human-resources.fields.reporting_date",fullWidth:!0},r.a.createElement(os.a,{variant:"outlined",margin:"none",options:{fullWidth:"true"},source:"reporting_date",choices:l,parse:function(e){return e&&S()(e).startOf("year").format("YYYY-MM-DD")},format:function(e){return e&&S()(e).format("YYYY")},validate:Object(rs.j)()})),r.a.createElement(cs,{tooltipText:"tooltips.resources.human-resources.fields.reporting_quarter",fullWidth:!0},r.a.createElement(os.a,{validate:Object(rs.j)(),variant:"outlined",margin:"none",options:{fullWidth:"true"},source:"reporting_quarter",choices:nn})),r.a.createElement(cs,{tooltipText:"tooltips.resources.human-resources.fields.name",fullWidth:!0},r.a.createElement(ns.a,{source:"name",variant:"outlined",margin:"none",validate:Object(rs.j)()})),r.a.createElement(cs,{tooltipText:"tooltips.resources.human-resources.fields.position",fullWidth:!0},r.a.createElement(ns.a,{source:"position",variant:"outlined",margin:"none",validate:Object(rs.j)()})),r.a.createElement(cs,{tooltipText:"tooltips.resources.human-resources.fields.contact_details",fullWidth:!0},r.a.createElement(ns.a,{source:"contact_details",variant:"outlined",margin:"none",validate:Object(rs.j)()})),r.a.createElement(cs,{tooltipText:"tooltips.resources.human-resources.fields.responsible_entity",fullWidth:!0},r.a.createElement(ns.a,{source:"responsible_entity",variant:"outlined",margin:"none",validate:Object(rs.j)()})),r.a.createElement(cs,{tooltipText:"tooltips.resources.human-resources.fields.involvement_level",fullWidth:!0},r.a.createElement(os.a,{variant:"outlined",margin:"none",options:{fullWidth:"true"},source:"involvement_level",choices:b,validate:Object(rs.j)()}))))},U_=["onCreate","onGoBack"],V_=["translate"],G_=function(e){var t=e.onCreate,a=e.onGoBack;Object(T.a)(e,U_);return r.a.createElement(Gs.a,{style:{justifyContent:"space-between",display:"flex",alignItems:"center",width:"100%"}},r.a.createElement(Ee.a,{onClick:a,label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null)},"Back"),r.a.createElement(Ee.a,{variant:"contained",color:"primary",startIcon:r.a.createElement(k_.a,null),onClick:t},"Create"))},H_=function(e){var t=e.loading,a=e.loaded,n=e.total,o=L();return 0===n&&!t&&a?r.a.createElement(di.a,{textAlign:"center",m:1},r.a.createElement(se.a,{variant:"h4",paragraph:!0},"There are no custom reports in the system",r.a.createElement("br",null),r.a.createElement("br",null),o("create_custom_report")&&r.a.createElement(ku.a,{basePath:"/custom-reports"}))):r.a.createElement("div",null)},J_=function(e){e.translate;var t,a,n=Object(T.a)(e,V_),o=Object(Ca.a)(),i=Object(ai.a)(),l=Object(Na.a)(),c=(L(),r.a.useState(!1)),s=Object(Z.a)(c,2),u=s[0],d=s[1],m=r.a.useState(null),p=Object(Z.a)(m,2),f=p[0],_=p[1],g=Object(yf.a)("cost-plans"),h=Object(Z.a)(g,1)[0];function v(){var e=S()().startOf("year"),t=e.clone().add(1,"years");return[{id:S()(xi(e).id).format("YYYY"),name:xi(e).name},{id:S()(xi(t).id).format("YYYY"),name:xi(t).name}]}return r.a.createElement(r.a.Fragment,null,r.a.createElement(ri.a,Object.assign({},n,{empty:r.a.createElement(H_,n),bulkActionButtons:!1,actions:r.a.createElement(G_,Object.assign({},n,{onCreate:function(){var e,t;i("/".concat(n.resource,"/").concat(Number(null===(e=n.match)||void 0===e||null===(t=e.params)||void 0===t?void 0:t.id),"/create"))},onGoBack:function(){var e,t;i("/implementation-module/".concat(Number(null===(e=n.match)||void 0===e||null===(t=e.params)||void 0===t?void 0:t.id),"/costed-annualized-plan"))}})),filter:{project_detail_id:null===(t=n.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id}}),r.a.createElement(Nl.a,{rowClick:!1},r.a.createElement(Al.a,{source:"reporting_date"}),r.a.createElement(Al.a,{source:"reporting_quarter"}),r.a.createElement(Al.a,{source:"description"}),r.a.createElement(Al.a,{source:"impact"}),r.a.createElement(zs.a,n),r.a.createElement(v_.a,n))),u&&r.a.createElement(Gr.a,{fullWidth:!0,maxWidth:"xs",open:u,onClose:function(){d(!1)},style:{overflow:"hidden"},disableBackdropClick:!0,disableEscapeKeyDown:!0},r.a.createElement(Hr.a,null,"Create Risk Asessment"),r.a.createElement(Jr.a,null,r.a.createElement(xa.a,{fullWidth:!0,variant:"outlined",value:f,onChange:function(e){_(e.target.value)}},v()&&v().map((function(e){return r.a.createElement(sa.a,{key:e.id,value:e.id},e.name)})))),r.a.createElement(Xr.a,null,r.a.createElement(Ee.a,{onClick:function(){d(!1)},label:"Cancel",variant:"outlined",color:"primary",startIcon:r.a.createElement(Rn.a,null)},"Cancel"),r.a.createElement(Ee.a,{onClick:function(){var e,t;o.getOne("project-details",{id:Number(null===(e=n.match)||void 0===e||null===(t=e.params)||void 0===t?void 0:t.id)}).then((function(e){e&&e.data&&function(e){var t,a;h({payload:{data:{year:Number(f),project_detail_id:Number(null===(t=n.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id),cost_plan_activities:Object(D.a)(e),cost_plan_items:[]}}},{onSuccess:function(e){var t=e.data;l("New Report Created",{}),i("/risk-asessments/".concat(t.id))}})}(e.data.activities.map((function(e){return e.activity_id=e.id,delete e.id,e})))}))},color:"primary",variant:"contained",startIcon:r.a.createElement(P_.a,null)},"Create"))))},X_=["onCreate","onGoBack"],$_=["translate"],K_=function(e){var t=e.onCreate,a=e.onGoBack;Object(T.a)(e,X_);return r.a.createElement(Gs.a,{style:{justifyContent:"space-between",display:"flex",alignItems:"center",width:"100%"}},r.a.createElement(Ee.a,{onClick:a,label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null)},"Back"),r.a.createElement(Ee.a,{variant:"contained",color:"primary",startIcon:r.a.createElement(k_.a,null),onClick:t},"Create"))},Q_=function(e){var t=e.loading,a=e.loaded,n=e.total,o=L();return 0===n&&!t&&a?r.a.createElement(di.a,{textAlign:"center",m:1},r.a.createElement(se.a,{variant:"h4",paragraph:!0},"There are no custom reports in the system",r.a.createElement("br",null),r.a.createElement("br",null),o("create_custom_report")&&r.a.createElement(ku.a,{basePath:"/custom-reports"}))):r.a.createElement("div",null)},Z_=function(e){e.translate;var t,a,n=Object(T.a)(e,$_),o=Object(ai.a)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ri.a,Object.assign({},n,{empty:r.a.createElement(Q_,n),bulkActionButtons:!1,actions:r.a.createElement(K_,Object.assign({},n,{onCreate:function(){var e,t;o("/".concat(n.resource,"/").concat(Number(null===(e=n.match)||void 0===e||null===(t=e.params)||void 0===t?void 0:t.id),"/create"))},onGoBack:function(){var e,t;o("/implementation-module/".concat(Number(null===(e=n.match)||void 0===e||null===(t=e.params)||void 0===t?void 0:t.id),"/costed-annualized-plan"))}})),filter:{project_detail_id:null===(t=n.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id}}),r.a.createElement(Nl.a,{rowClick:!1},r.a.createElement(Al.a,{source:"reporting_date"}),r.a.createElement(Al.a,{source:"reporting_quarter"}),r.a.createElement(Al.a,{source:"name"}),r.a.createElement(Al.a,{source:"position"}),r.a.createElement(Al.a,{source:"interest_level"}),r.a.createElement(Al.a,{source:"position"}),r.a.createElement(zs.a,n),r.a.createElement(v_.a,n))))},eg=a(1073),tg=Object(ae.a)((function(e){return{table:{minWidth:700,backgroundColor:"#fff"},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"},actions:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"}}})),ag=function(e){var t=tg(),a=r.a.useState([]),n=Object(Z.a)(a,2),o=n[0],i=n[1],l=r.a.useState(null),c=Object(Z.a)(l,2),s=c[0],u=c[1],d=r.a.useState(!0),m=Object(Z.a)(d,2),p=m[0],f=m[1],_=r.a.useState(!0),g=Object(Z.a)(_,2),h=g[0],v=g[1],b=Object(Ca.a)(),E=(Object(de.g)(),Object(ai.a)());r.a.useEffect((function(){var t,a,n,r;b.getListOfAll("risk-assessments",{sort_field:"id",filter:{project_detail_id:Number(null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id)}}).then((function(e){if(e&&e.data){var t=x.a.sortBy(e.data,["reporting_date","reporting_quarter"],["asc","asc"]);f(!1),i(t)}})),b.getOne("project-details",{id:Number(null===(n=e.match)||void 0===n||null===(r=n.params)||void 0===r?void 0:r.id)}).then((function(e){e&&e.data&&(v(!1),u(e.data))}))}),[]);var j=function(){if(s){var e=s.project_options;return w.concat.apply(void 0,Object(D.a)(e.map((function(e){return e.risk_evaluations}))))}return[]};if(p||h)return r.a.createElement(eg.a,null);var y=null===o||void 0===o?void 0:o.filter((function(e){return e.has_risk_occurred})),O=null===o||void 0===o?void 0:o.filter((function(e){return!e.has_risk_occurred}));return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:t.actions},r.a.createElement(Xn.a,{onClick:function(){var t,a;E("/implementation-module/".concat(Number(null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id),"/costed-annualized-plan"))},label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null),style:{marginBottom:15}}),r.a.createElement(nr,{reportId:"report-container",title:"Risk Assessments Report",exportTypes:[Ha.WORD,Ha.PDF,Ha.XLS]})),r.a.createElement("div",{className:"content-area",id:"report-container"},r.a.createElement(se.a,{variant:"h3",style:{marginLeft:15,marginBottom:15}},"Risk Assessments Report (Pre-Investment)"),j()&&j().length>0&&r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",t.bordered,t.table)},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Risk Description"))),r.a.createElement(si.a,null,j()&&j().map((function(e){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e.description))}))))),r.a.createElement("br",null),r.a.createElement(se.a,{variant:"h3",style:{marginLeft:15,marginBottom:15}},"Risk has occured"),y&&y.length>0?r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",t.bordered,t.table)},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Risk Description"),r.a.createElement(ci.a,null,"Effects"),r.a.createElement(ci.a,null,"Mitigation Response"))),r.a.createElement(si.a,null,y&&y.map((function(e){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e.description),r.a.createElement(ci.a,null,e.effects||"-"),r.a.createElement(ci.a,null,e.mitigation_response||"-"))}))))):r.a.createElement("p",null,"No occured risks"),r.a.createElement("br",null),r.a.createElement(se.a,{variant:"h3",style:{marginLeft:15,marginBottom:15}},"Additional risks"),O&&O.length>0?r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",t.bordered,t.table)},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Risk Description"),r.a.createElement(ci.a,null,"Effects"),r.a.createElement(ci.a,null,"Mitigation Response"))),r.a.createElement(si.a,null,O&&O.map((function(e){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e.description),r.a.createElement(ci.a,null,e.effects||"-"),r.a.createElement(ci.a,null,e.mitigation_response||"-"))}))))):r.a.createElement("p",null,"No additional risks")))},ng=Object(ae.a)((function(e){return{table:{minWidth:700,backgroundColor:"#fff"},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"},actions:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"}}})),rg=function(e){var t,a,n=ng(),o=r.a.useState(!0),i=Object(Z.a)(o,2),l=i[0],c=i[1],s=r.a.useState(!0),u=Object(Z.a)(s,2),d=u[0],m=u[1],p=r.a.useState([]),f=Object(Z.a)(p,2),_=f[0],g=f[1],h=Object(Ca.a)(),v=r.a.useState(null),b=Object(Z.a)(v,2),E=b[0],j=b[1],y=(Object(de.g)(),Object(ai.a)());return r.a.useEffect((function(){var t,a,n,r;h.getListOfAll("stakeholder-engagements",{sort_field:"id",filter:{project_detail_id:Number(null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id)}}).then((function(e){if(e&&e.data){var t=x.a.sortBy(e.data,["reporting_date","reporting_quarter"],["asc","asc"]);g(t),c(!1)}})),h.getOne("project-details",{id:Number(null===(n=e.match)||void 0===n||null===(r=n.params)||void 0===r?void 0:r.id)}).then((function(e){e&&e.data&&(j(e.data),m(!1))}))}),[]),l||d?r.a.createElement(eg.a,null):r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:n.actions},r.a.createElement(Xn.a,{onClick:function(){var t,a;y("/implementation-module/".concat(Number(null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id),"/costed-annualized-plan"))},label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null),style:{marginBottom:15}}),r.a.createElement(nr,{reportId:"report-container",title:"Stakeholder Engagements Report",exportTypes:[Ha.WORD,Ha.PDF,Ha.XLS]})),r.a.createElement("div",{className:"content-area",id:"report-container"},r.a.createElement(se.a,{variant:"h2",style:{marginBottom:15}},"Stakeholder Engagements Report (Pre-Investment)"),E&&(null===(t=E.stakeholders)||void 0===t?void 0:t.length)>0&&r.a.createElement("div",null,E&&(null===(a=E.stakeholders)||void 0===a?void 0:a.map((function(e,t){return r.a.createElement("div",null,r.a.createElement(se.a,{variant:"h5"},"".concat(t+1,") Name: ").concat(e.name)),r.a.createElement(se.a,{variant:"h5"},"Responsibilities:"),r.a.createElement(se.a,{variant:"p"},gi()(e.responsibilities)))})))),r.a.createElement(se.a,{variant:"h2",style:{marginBottom:15}},"Stakeholder Engagements"),_&&_.length>0&&r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",n.bordered,n.table)},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Reporting Date"),r.a.createElement(ci.a,null,"Reporting Quarter"),r.a.createElement(ci.a,null,"Stakeholder Name"),r.a.createElement(ci.a,null,"Interest Level"),r.a.createElement(ci.a,null,"Level of Influence"),r.a.createElement(ci.a,null,"Status of Engagement"),r.a.createElement(ci.a,null,"Level of engagement"),r.a.createElement(ci.a,null,"Engagement frequency"),r.a.createElement(ci.a,null,"Communication Channel"),r.a.createElement(ci.a,null,"Issues"),r.a.createElement(ci.a,null,"Mitigation Measures"),r.a.createElement(ci.a,null,"Responsible Entity"))),r.a.createElement(si.a,null,_&&_.map((function(e){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e&&wi(e.reporting_date)&&wi(e.reporting_date).name)," ",r.a.createElement(ci.a,null,e.reporting_quarter),r.a.createElement(ci.a,null,e.name),r.a.createElement(ci.a,null,e.interest_level),r.a.createElement(ci.a,null,e.influence_level),r.a.createElement(ci.a,null,e.engagement_status),r.a.createElement(ci.a,null,e.engagement_level),r.a.createElement(ci.a,null,e.engagement_frequency),r.a.createElement(ci.a,null,e.communication_channel),r.a.createElement(ci.a,null,e.issues),r.a.createElement(ci.a,null,e.mitigation_plan),r.a.createElement(ci.a,null,e.responsible_entity))})))))))},og=Object(ae.a)((function(e){return{table:{minWidth:700,backgroundColor:"#fff"},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"},actions:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"}}})),ig=function(e){var t=og(),a=r.a.useState([]),n=Object(Z.a)(a,2),o=n[0],i=n[1],l=Object(Ca.a)(),c=(Object(de.g)(),Object(ai.a)());return r.a.useEffect((function(){var t,a;l.getListOfAll("human-resources",{sort_field:"id",filter:{project_detail_id:Number(null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id)}}).then((function(e){if(e&&e.data){var t=x.a.sortBy(e.data,["reporting_date","reporting_quarter"],["asc","asc"]);i(t)}}))}),[]),r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:t.actions},r.a.createElement(Xn.a,{onClick:function(){var t,a;c("/implementation-module/".concat(Number(null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id),"/costed-annualized-plan"))},label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null),style:{marginBottom:15}}),r.a.createElement(nr,{reportId:"report-container",title:"Human Resources Report",exportTypes:[Ha.WORD,Ha.PDF,Ha.XLS]})),r.a.createElement("div",{className:"content-area",id:"report-container"},r.a.createElement(se.a,{variant:"h2",style:{marginLeft:15,marginBottom:15}},"Human Resources Report"),o&&o.length>0&&r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",t.bordered,t.table)},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Reporting Date"),r.a.createElement(ci.a,null,"Reporting Quarter"),r.a.createElement(ci.a,null,"Position"),r.a.createElement(ci.a,null,"Name"),r.a.createElement(ci.a,null,"Contact Details"),r.a.createElement(ci.a,null,"Responsible Entity"),r.a.createElement(ci.a,null,"Involvement Level"))),r.a.createElement(si.a,null,o&&o.map((function(e){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e&&wi(e.reporting_date)&&wi(e.reporting_date).name)," ",r.a.createElement(ci.a,null,e.reporting_quarter),r.a.createElement(ci.a,null,e.position),r.a.createElement(ci.a,null,e.name),r.a.createElement(ci.a,null,e.contact_details),r.a.createElement(ci.a,null,e.responsible_entity),r.a.createElement(ci.a,null,e.involvement_level))})))))))},lg=["record","resource","accept","maxSize","minSize","multiple","tag","meta","label","onDelete","noRefresh","params"],cg=Object(ae.a)((function(e){return{dropZone:{width:250,margin:10,border:"1px dotted",background:e.palette.background.default,cursor:"pointer",padding:e.spacing(1),textAlign:"center",color:e.palette.getContrastText(e.palette.background.default)},preview:{},removeButton:{},deleteIcon:{cursor:"pointer",marginRight:10},fileItem:{lineHeight:"35px",display:"flex",alignItems:"center"}}}),{name:"RaFileInput"}),sg=function(e){var t=e.record,a=e.resource,o=e.accept,i=e.maxSize,l=e.minSize,c=e.multiple,s=(e.tag,e.meta),d=(e.label,e.onDelete,e.noRefresh,e.params),m=void 0===d?{}:d,p=Object(T.a)(e,lg),f=Object(n.useState)([]),_=Object(Z.a)(f,2),g=_[0],h=_[1],v=Object(n.useState)(null),b=Object(Z.a)(v,2),E=b[0],j=b[1],y=cg(p),O=Object(Na.a)();Object(n.useEffect)((function(){if(t&&t.files){var e=x.a.sortBy(t.files&&t.files.filter((function(e){var t=e.meta&&"string"===typeof e.meta?JSON.parse(e.meta):e.meta;return t&&t.relatedField===s.relatedField})),"id").reverse();h(c?e:e[0]?[e[0]]:[])}}),[t]),Object(n.useEffect)((function(){E&&p.approvedUploading&&P()}),[E,p.approvedUploading]);var w=Object(up.a)(),k=Object(Z.a)(w,2),S=k[0],P=(k[1].loading,function(){S({type:"integrationsUpload",resource:a,payload:{data:E}},{onSuccess:function(e){O("File uploaded!"),p.onFileUpload&&p.onFileUpload(e.data)},onFailure:function(e){O("Error on file uploading! ".concat(e.message),"warning"),h([]),j(null),p.onError&&p.onError()}})}),C=function(e){return e instanceof File?{rawFile:e,link:URL.createObjectURL(e),title:e.name}:e},N=Object(mp.a)({accept:o,maxSize:i,minSize:l,multiple:c,onDrop:function(e,n,r){var o=function(e){return e?Array.isArray(e)?e.map(C):C(e):p.multiple?[]:null}(e);h([o[0]]),p.onFileSelect&&p.onFileSelect(!0),j(Object(u.a)({entity_id:p.entityId||t&&t.id,entity_type:a,media:o[0].rawFile,title:o[0].title,meta:s,record:t},m))}}),A=N.getRootProps,D=N.getInputProps;return r.a.createElement("div",{className:y.root},0===g.length&&r.a.createElement("div",Object.assign({"data-testid":"dropzone",className:y.dropZone},A()),r.a.createElement("input",D(Object(u.a)({},p))),p.placeholder),g&&g.map((function(e){return e?r.a.createElement("div",{className:y.fileItem},r.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer"},e.title)):null})))},ug=function(){var e=Object(n.useState)(!1),t=Object(Z.a)(e,2),a=t[0],o=t[1],i=Object(pe.a)();return r.a.createElement(In.a,{style:{padding:"30px"}},r.a.createElement("h2",null,"Upload integration AMP file"),r.a.createElement("br",null),r.a.createElement("h3",null,"1. Attach file downloaded file from AMP platform (",r.a.createElement("a",{download:!0,href:"assets/templates/AMP.xlsx"},"Example"),")"),r.a.createElement(sg,{placeholder:i("titles.drop_files"),onFileUpload:function(e){o(!0)},approvedUploading:!0,resource:"amp"}),a&&r.a.createElement("h3",null,"2. AMP data was uploaded, you can check now in project details "))},dg=a(2018),mg=a(430),pg=a.n(mg),fg=a(429),_g=a.n(fg),gg=a(431),hg=a.n(gg),vg={PaperProps:{style:{maxHeight:224,width:"500px"}}},bg=Object(ae.a)((function(e){return{root:{padding:"25px"},rootTitle:{marginBottom:"20px"},content:{display:"flex",gap:"55px",width:"100%",padding:"25px"},list:{height:"70vh",overflow:"auto",width:"100%","& .MuiListItem-container":{"&:hover $listItemActions":{visibility:"visible"}}},listContent:{width:"100%"},title:{textAlign:"center"},actions:{padding:"20px",gap:"20px",justifyContent:"space-between"},iconDelete:{color:"#546e7a",cursor:"pointer"},listItem:{},listItemActions:{visibility:"hidden"},formControl:{justifySelf:"flex-start",width:"50%"}}})),Eg=function(){var e=Object(n.useState)([]),t=Object(Z.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)([]),l=Object(Z.a)(i,2),c=l[0],s=l[1],u=Object(n.useState)(),d=Object(Z.a)(u,2),m=d[0],p=d[1],f=Object(n.useState)([]),_=Object(Z.a)(f,2),g=_[0],h=_[1],v=Object(n.useState)([]),b=Object(Z.a)(v,2),E=b[0],j=b[1],y=Object(n.useState)([]),O=Object(Z.a)(y,2),w=O[0],k=O[1],S=Object(n.useState)([]),P=Object(Z.a)(S,2),C=P[0],N=P[1],A=Object(n.useState)(""),T=Object(Z.a)(A,2),F=T[0],R=T[1],I=Object(n.useState)(""),M=Object(Z.a)(I,2),W=M[0],L=M[1],Y=Object(Ca.a)(),B=bg(),z=Object(Na.a)(),q=Object(rr.a)(),U=function(){m&&(Y.integrations("pbs",{additionalData:"projects",sort_field:"id",filter:{vote_code:m.code,is_not_linked:!0}}).then((function(e){e&&e.data&&j(e.data)})),Y.getListOfAll("projects",{filter:{is_deleted:!1,is_not_budgeted:!0,organization_id:Number(m.id)}}).then((function(e){e&&e.data&&h(e.data)})))};r.a.useEffect((function(){Y.getListOfAll("organizations",{filter:{level:1}}).then((function(e){e&&e.data&&s(e.data)}))}),[Y]),Object(n.useEffect)((function(){U()}),[m]);var V=function(e){N([e])},G=function(){return g.filter((function(e){return 0===a.length||!x.a.find(a,(function(t){return t.checkedLeft===e.id}))})).filter((function(e){return!F||(String(e.name).toLowerCase().indexOf(F.toLowerCase())>-1||String(e.code).toLowerCase().indexOf(F.toLowerCase())>-1)}))},H=function(){return E.filter((function(e){return 0===a.length||!x.a.find(a,(function(t){return t.checkedRight===e.id}))})).filter((function(e){return!W||(String(e.project_name).toLowerCase().indexOf(W.toLowerCase())>-1||String(e.project_coa_code).toLowerCase().indexOf(W.toLowerCase())>-1)}))};return r.a.createElement(In.a,{className:B.root},r.a.createElement("h2",{className:B.rootTitle},"PBS Integration"),r.a.createElement(Cp.a,{className:B.actions},r.a.createElement("div",{style:{display:"flex",gap:"25px",alignContent:"center"}},r.a.createElement("h2",null,"Select Vote: "),r.a.createElement(is.a,{className:B.formControl,variant:"outlined"},r.a.createElement(Wm.a,{style:{textTransform:"capitalize"}},"Filter by Vote"),r.a.createElement(xa.a,{fullWidth:!0,value:null===m||void 0===m?void 0:m.id,onChange:function(e){a.length&&o([]),p(e.target.value)},MenuProps:vg,label:"Filter by Vote",style:{width:"350px"}},c&&c.map((function(e){return r.a.createElement(sa.a,{key:e.id,value:e},"".concat(e.code," - ").concat(e.name))}))))),r.a.createElement("div",{style:{display:"flex",gap:"25px"}},g.length>0&&r.a.createElement(va.a,{badgeContent:a.length,color:"primary"},r.a.createElement(Xn.a,{label:"Add link",variant:"outlined",startIcon:r.a.createElement(_g.a,null),onClick:function(){if(w.length&&C.length){var e={checkedLeft:w[0],checkedRight:C[0]};o((function(t){return[].concat(Object(D.a)(t),[e])})),k([]),N([])}}})),a.length>0&&r.a.createElement(Xn.a,{label:"Submit",startIcon:r.a.createElement(pg.a,null),variant:"contained",onClick:function(){var e=a.map((function(e){var t=x.a.find(g,(function(t){return t.id===e.checkedLeft})),a=x.a.find(E,(function(t){return t.id===e.checkedRight}));return{pbs_project_id:a.id,project_coa_code:a.project_coa_code,project_id:t.id}}));e.length&&Y.integrationsCreateLink("pbs",{data:e}).then((function(e){z("Link created!","success"),o([]),q(),U()}))}}))),m&&g.length>0&&r.a.createElement(lc.a,{className:B.content},r.a.createElement("div",{className:B.listContent},r.a.createElement("h3",{className:B.title},"IBP"),r.a.createElement($n.a,{fullWidth:!0,label:"Search",variant:"outlined",onChange:function(e){R(e.target.value)}}),r.a.createElement(Ne.a,{className:B.list},g&&G().length>0?G().map((function(e){var t="checkbox-list-label-".concat(e.id);return e?r.a.createElement(Ae.a,{key:e.id,dense:!0,onClick:function(){return t=e.id,void k([t]);var t}},r.a.createElement(De.a,null,r.a.createElement(Qn.a,{edge:"start",checked:-1!==w.indexOf(e.id),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":t}})),r.a.createElement(Te.a,{id:t,primary:e&&"".concat(e.code," - ").concat(e.name)})):null})):r.a.createElement("h3",{className:B.title},"No items to show"))),r.a.createElement("div",{className:B.listContent},r.a.createElement("h3",{className:B.title},"PBS"),r.a.createElement($n.a,{fullWidth:!0,label:"Search",variant:"outlined",onChange:function(e){L(e.target.value)}}),r.a.createElement(Ne.a,{className:B.list},E&&H().length>0?H().map((function(e){var t="checkbox-list-label-".concat(e.id);return e?r.a.createElement(Ae.a,{key:e.id,dense:!0,onClick:function(){return V(e.id)},className:B.listItem},r.a.createElement(De.a,null,r.a.createElement(Qn.a,{edge:"start",checked:-1!==C.indexOf(e.id),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":t}})),r.a.createElement(Te.a,{id:t,primary:e&&"".concat(e.project_coa_code," - ").concat(e.project_name)})):null})):r.a.createElement("h3",{className:B.title},"No items to show"))),r.a.createElement("div",{className:B.listContent,style:{backgroundColor:"#f7f7f7"}},r.a.createElement("h3",{className:B.title},"Links"),r.a.createElement(Ne.a,{className:B.list},g&&g.length>0&&a.map((function(e){var t="checkbox-list-label-".concat(e.id),a=x.a.find(g,(function(t){return t.id===e.checkedLeft})),n=x.a.find(E,(function(t){return t.id===e.checkedRight})),i="".concat(a.code," - ").concat(n.project_coa_code);return r.a.createElement(Ae.a,{key:e.id,dense:!0,onClick:function(){return V(e.id)},className:B.listItem},r.a.createElement(Te.a,{id:t,primary:"".concat(i)}),r.a.createElement(dg.a,{className:B.listItemActions},r.a.createElement(hg.a,{className:B.iconDelete,onClick:function(){return t=e,void o((function(e){return e.filter((function(e){var a=e.checkedLeft,n=e.checkedRight;return a!==t.checkedLeft&&n!==t.checkedRight}))}));var t}})))}))))))},jg=Object(ae.a)((function(e){return{root:{padding:"25px"},rootTitle:{marginBottom:"20px"},content:{display:"flex",gap:"55px",width:"100%",padding:"25px"},list:{height:"70vh",overflow:"auto",width:"100%","& .MuiListItem-container":{"&:hover $listItemActions":{visibility:"visible"}}},listContent:{width:"100%"},title:{textAlign:"center"},actions:{padding:"20px",gap:"20px",justifyContent:"space-between"},iconDelete:{color:"#546e7a",cursor:"pointer"},listItem:{},listItemActions:{visibility:"hidden"},formControl:{justifySelf:"flex-start",width:"50%"}}})),yg=function(){var e=jg();return r.a.createElement(In.a,{className:e.root},r.a.createElement("h2",{className:e.rootTitle},"IFMIS Integration"),r.a.createElement(Cp.a,{className:e.actions}),r.a.createElement(lc.a,{className:e.content},r.a.createElement("h1",null,"This Integration is in progress...")))},Og=["getSource","scopedFormData","formData"],wg=function(e){var t,a,o=Object(n.useState)(),i=Object(Z.a)(o,2),l=i[0],c=i[1],s=Object(pe.a)(),d=Object(Ca.a)(),m=null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id;return r.a.useEffect((function(){d.getOne("project-details",{id:m}).then((function(e){e&&e.data&&c(H(Object(u.a)({},e.data)))}))}),[d,m]),r.a.createElement(es.a,Object.assign({},e,{undoable:!1,actions:!1,basePath:"/project-completion",resource:"project-completion"}),r.a.createElement(ou.a,{redirect:"show",toolbar:r.a.createElement(s_,{projectDetailId:m})},r.a.createElement(js.a,null,(function(t){t.getSource,t.scopedFormData;var a=t.formData;Object(T.a)(t,Og);l&&(a.project_id=l.project_id);var n=a&&l&&a.actual_end_date&&S()(a.actual_end_date).diff(S()(S()(l.end_date)),"days")>=1;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Actual dates"),r.a.createElement("div",{style:{display:"flex",gap:"25px",width:"100%"}},r.a.createElement(cs,{tooltipText:"tooltips.completionReport.actual_start_date",fullWidth:!0},r.a.createElement(ys.a,{source:"actual_start_date",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.completionReport.actual_end_date",fullWidth:!0},r.a.createElement(ys.a,{source:"actual_end_date",variant:"outlined",margin:"none"})),n&&r.a.createElement(ns.a,{source:"extension_reason",rows:3,variant:"outlined",margin:"none",fullWidth:!0,multiline:!0,rowsMax:3})),r.a.createElement("h2",null,"Physical Performance"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small"},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Output"),r.a.createElement(ci.a,null,r.a.createElement(cs,{tooltipText:"tooltips.completionReport.actual_specifications",bool:!0},"Actual Specifications / Description")),r.a.createElement(ci.a,null,r.a.createElement(cs,{tooltipText:"tooltips.completionReport.initial_completion_date",bool:!0},"Initial Completion Date")),r.a.createElement(ci.a,null,r.a.createElement(cs,{tooltipText:"tooltips.completionReport.actual_completion_date",bool:!0},"Actual Completion Date")),r.a.createElement(ci.a,null,r.a.createElement(cs,{tooltipText:"tooltips.completionReport.related_challenges",bool:!0},"Specific Output Related Challenges")))),r.a.createElement(si.a,null,l&&l.outputs&&l.outputs.map((function(e,t){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e.name),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:"outputs[".concat(t,"].specifications"),label:!1,rows:3,variant:"outlined",margin:"none",fullWidth:!0,multiline:!0,rowsMax:3})),r.a.createElement(ci.a,null,r.a.createElement(ys.a,{source:"outputs[".concat(t,"].intended_completion_date"),variant:"outlined",margin:"none",label:!1})),r.a.createElement(ci.a,null,r.a.createElement(ys.a,{source:"outputs[".concat(t,"].actual_completion_date"),variant:"outlined",margin:"none",label:!1})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:"outputs[".concat(t,"].related_challenges"),label:!1,rows:3,variant:"outlined",margin:"none",fullWidth:!0,multiline:!0,rowsMax:3})))}))))),r.a.createElement("h2",null,"Outcome performance"),r.a.createElement(cs,{tooltipText:"tooltips.completionReport.short_term_outcomes",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:s("resources.project-completion.fields.outcome_performance.short_term_outcomes"),source:"outcome_performance.short_term_outcomes",validate:Object(rs.j)(),isRequired:!0,formData:a},e))),r.a.createElement(cs,{tooltipText:"tooltips.completionReport.impacts",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:s("resources.project-completion.fields.outcome_performance.impact"),source:"outcome_performance.impact",validate:Object(rs.j)(),isRequired:!0,formData:a},e))),r.a.createElement("h2",null,"Challenges encountered and recommendations"),r.a.createElement(cs,{tooltipText:"tooltips.completionReport.challenges_and_recommendations",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:s("resources.project-completion.fields.challenges_recommendations"),source:"challenges_recommendations",validate:Object(rs.j)(),isRequired:!0,formData:a},e))),r.a.createElement("h2",null,"Lessons learnt"),r.a.createElement(cs,{tooltipText:"tooltips.completionReport.lessons_learnt",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:s("resources.project-completion.fields.lessons_learnt"),source:"lessons_learnt",validate:Object(rs.j)(),isRequired:!0,formData:a},e))),r.a.createElement("h2",null,"Post-project tasks / future considerations"),r.a.createElement(cs,{tooltipText:"tooltips.completionReport.future_considerations",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:s("resources.project-completion.fields.future_considerations"),source:"future_considerations",validate:Object(rs.j)(),isRequired:!0,formData:a},e))),r.a.createElement("h2",null,"Sustainability plan"),r.a.createElement(cs,{tooltipText:"tooltips.completionReport.financial_sustainability_plan",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:s("resources.project-completion.fields.financial_sustainability"),source:"financial_sustainability",validate:Object(rs.j)(),isRequired:!0,formData:a},e))),r.a.createElement(cs,{tooltipText:"tooltips.completionReport.environmental_sustainability_plan",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:s("resources.project-completion.fields.environmental_sustainability"),source:"environmental_sustainability",validate:Object(rs.j)(),isRequired:!0,formData:a},e))),r.a.createElement("h2",null,"Project achievements"),r.a.createElement(cs,{tooltipText:"tooltips.completionReport.project_achievements",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:s("resources.project-completion.fields.achievements"),source:"achievements",validate:Object(rs.j)(),isRequired:!0,formData:a},e))))}))))},xg=function(e){var t=e.customRecord,a=e.details,n=e.counter,o=void 0===n?1:n;Object(pe.a)();return t?r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",{className:"content-area_title"},ki(o),". Physical Performance"," "),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small"},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Output"),r.a.createElement(ci.a,null,"Original Description "),r.a.createElement(ci.a,null,"Actual Specifications / Description"),r.a.createElement(ci.a,null,"Initial Completion Date"),r.a.createElement(ci.a,null,"Actual Completion Date"),r.a.createElement(ci.a,null,"Specific Output Related Challenges "))),r.a.createElement(si.a,null,a.outputs&&a.outputs.map((function(e,a){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e.name),r.a.createElement(ci.a,null,gi()(e.description)),r.a.createElement(ci.a,null,t.outputs&&t.outputs[a]&&t.outputs[a].specifications),r.a.createElement(ci.a,null,t.outputs&&t.outputs[a]&&t.outputs[a].intended_completion_date),r.a.createElement(ci.a,null,t.outputs&&t.outputs[a]&&t.outputs[a].actual_completion_date),r.a.createElement(ci.a,null,t.outputs&&t.outputs[a]&&t.outputs[a].related_challenges))}))))),r.a.createElement("h2",{className:"content-area_title"},ki(o),".1 Outcome performance"," "),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small"},r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Short Term Outcomes"),r.a.createElement(ci.a,null,gi()(t.outcome_performance.short_term_outcomes))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Impact"),r.a.createElement(ci.a,null,gi()(t.outcome_performance.impact)))))))):null},kg=function(e){var t=e.customRecord,a=e.counter,n=void 0===a?1:a,o=(Object(pe.a)(),S()(t.end_date,"YYYY-MM-DD").diff(S()(t.start_date,"YYYY-MM-DD"),"years"),Ei(t.start_date,t.end_date));if(!t)return null;var i=function(e){if(e&&!e.activities||!e)return{};var t=x.a.flatMap(e.activities.map((function(e){return e.investments&&e.investments.map((function(e){return e.costs}))}))),a={};return t.forEach((function(e){Object.keys(e).forEach((function(t){a[t]=a[t]?a[t]+parseFloat(e[t]):parseFloat(e[t])}))})),a}(t),l=function(e){var t=["budget_allocation","budget_appropriation","budget_supplemented","financial_execution"],a={};return e.me_reports.filter((function(e){return"ANNUAL"===e.frequency})).map((function(e){var a={};return e.me_activities.forEach((function(e){t.forEach((function(t){var n=e[t]?parseFloat(e[t]):0;a[t]=a[t]?a[t]+n:n}))})),Object(N.a)({},e.year,a)})).forEach((function(e){Object.keys(e).forEach((function(n){a[n]=a[n]?Object(u.a)({},a[n]):{},t.forEach((function(t){var r=e[n][t]?parseFloat(e[n][t]):0;a[n][t]=a[n][t]?a[n][t]+r:r}))}))})),a}(t),c=function(e){return S()(e,"YYYY-MM-DD").year()};return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",{className:"content-area_title"},ki(n),". Budget Performance"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small"},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null),o.map((function(e){return r.a.createElement(ci.a,null,e.name)})))),r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Planned cost "),o.map((function(e){return r.a.createElement(ci.a,null,i[c(e.id)]&&vr(i[c(e.id)]))}))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Budget allocated"),o.map((function(e){return r.a.createElement(ci.a,null,l[c(e.id)]&&vr(l[c(e.id)].budget_allocation))}))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Budget appropriated "),o.map((function(e){return r.a.createElement(ci.a,null,l[c(e.id)]&&vr(l[c(e.id)].budget_appropriation))}))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Budget Released"),o.map((function(e){return r.a.createElement(ci.a,null,l[c(e.id)]&&vr(l[c(e.id)].budget_allocation+l[c(e.id)].budget_supplemented))}))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Budget Spent"),o.map((function(e){return r.a.createElement(ci.a,null,l[c(e.id)]&&vr(l[c(e.id)].financial_execution))}))))))))},Sg=function(e){var t=e.customRecord,a=e.counter,n=void 0===a?1:a;Object(pe.a)();return t?r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",{className:"content-area_title"},ki(n),". Challenges encountered and recommendations"),r.a.createElement("div",null,gi()(t.challenges_recommendations)))):null},Pg=function(e){var t=e.customRecord,a=e.counter,n=Object(pe.a)();return t?r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,a?"".concat(ki(a),"."):""," ",n("printForm.introduction.title")),r.a.createElement("div",null,gi()(t.rational_study),gi()(t.methodology),gi()(t.organization_study)))):null},Cg=function(e){var t=e.customRecord,a=e.counter,n=void 0===a?1:a;Object(pe.a)();return t?r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",{className:"content-area_title"},ki(n),". Post-project tasks / future considerations"),r.a.createElement("div",null,r.a.createElement("div",null,gi()(t.future_considerations))))):null},Ng=["details","project"],Ag=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),Dg=function(e){var t,a,o,i=e.details,l=e.project,c=Object(T.a)(e,Ng),s=Object(pe.a)(),u=Ag();Object(ee.f)((function(e){return e.admin.resources["project-details"]}));function d(e){if(Y("has_pimis_fields")){if(e){var t=e.replace("(","").replace(")",""),a=t&&t.slice(0,3),n=t&&t.slice(3,t.length+2);return"(".concat(a,")").concat(n)}return e}return e}var m=i&&Y("project_report_total_cost_show",i.phase_id)?String(Pi(i)).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1,")+" ".concat(s("titles.currency")):String(Ci(i)).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1,")+" ".concat(s("titles.currency"));return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement(se.a,{variant:"h2",style:{marginLeft:15,marginBottom:15}},l.name),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",u.bordered,u.table)},r.a.createElement(si.a,null,r.a.createElement(vl,Object.assign({},c,{field:"project_organization",config:"organizational_config",project:l})),r.a.createElement(vl,Object.assign({},c,{field:"program",config:"programs_config",project:l})),r.a.createElement(vl,Object.assign({},c,{field:"function",config:"functions_config",project:l})),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,s("printForm.project_info.project_title"),":"),r.a.createElement(ci.a,null,l.name)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,s("printForm.project_info.project_code"),":"),r.a.createElement(ci.a,null,l.budget_code)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,s("printForm.project_info.project_duration"),":"),r.a.createElement(ci.a,null,Ti(i.start_date,i.end_date))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Actual Cost",":"),r.a.createElement(ci.a,null,m)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,s("printForm.project_info.officer"),":"),r.a.createElement(ci.a,null,i.responsible_officers&&i.responsible_officers.map((function(e){return r.a.createElement(n.Fragment,null,r.a.createElement("p",null,s("printForm.project_info.responsible_officers.title"),": ",e.title?e.title:"-"),r.a.createElement("p",null,s("printForm.project_info.responsible_officers.name"),": ",e.name?e.name:"-"),r.a.createElement("p",null,s("printForm.project_info.responsible_officers.mobile_phone"),":"," ",e.mobile_phone?d(e.mobile_phone):"-"),r.a.createElement("p",null,s("printForm.project_info.responsible_officers.phone"),": ",e.phone?d(e.phone):"-"),r.a.createElement("p",null,s("printForm.project_info.responsible_officers.email"),": ",e.email?e.email:"-"))})))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Project location ",":"),r.a.createElement(ci.a,null,null===i||void 0===i||null===(t=i.locations)||void 0===t||null===(a=t.map((function(e){var t;return null===(t=e.location)||void 0===t?void 0:t.name})))||void 0===a?void 0:a.join(", "))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Project start Date ",":"),r.a.createElement(ci.a,null,null===(o=wi(null===i||void 0===i?void 0:i.start_date))||void 0===o?void 0:o.name)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Project completion date  ",":"),r.a.createElement(ci.a,null,Er(l.submission_date))))))))},Tg=function(e){var t=e.customRecord,a=e.counter,n=void 0===a?1:a;Object(pe.a)();return t?r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",{className:"content-area_title"},ki(n),". Lessons learnt"),r.a.createElement("div",null,r.a.createElement("div",null,gi()(t.lessons_learnt))))):null},Fg=function(e){var t=e.customRecord,a=e.counter,n=void 0===a?1:a;return t?r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",{className:"content-area_title"},ki(n),". Sustainability plan"),r.a.createElement("div",null,r.a.createElement("h4",null,r.a.createElement("b",null,"Financial Sustainability")),r.a.createElement("div",null,gi()(t.financial_sustainability))),r.a.createElement("div",null,r.a.createElement("h4",null,r.a.createElement("b",null,"Environmental Sustainability")),r.a.createElement("div",null,gi()(t.environmental_sustainability))))):null},Rg=function(e){var t=e.customRecord,a=e.counter,n=void 0===a?1:a;return t?r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",{className:"content-area_title"},ki(n),". Project Achievements"),r.a.createElement("div",null,r.a.createElement("div",null,gi()(t.achievements))))):null},Ig=function(e){var t=e.customRecord,a=e.counter,n=void 0===a?1:a,o=Object(pe.a)();return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",{className:"content-area_title"},ki(n),"."," ",o("printForm.project_info.extension_reason")),t.extension_reason))},Mg=function(e){var t=Object(ai.a)();return r.a.createElement(Gs.a,null,r.a.createElement(Xn.a,{onClick:function(){t("/reports-completion-projects")},label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null),style:{position:"absolute",left:0}}),r.a.createElement("div",null,r.a.createElement(v_.a,Object.assign({},e,{record:e.data}))))};var Wg=function(e){var t,a=Object(n.useState)(null),o=Object(Z.a)(a,2),i=o[0],l=o[1],c=Object(n.useState)(null),s=Object(Z.a)(c,2),u=s[0],d=s[1],m=Object(Ca.a)(),p=(Object(pe.a)(),Object(b_.a)(e).record);return Object(n.useEffect)((function(){p&&m.getOne("projects",{id:p.project_id}).then((function(e){e&&e.data&&(d(e.data),m.getOne("project-details",{id:e.data.current_project_detail.id}).then((function(e){e&&e.data&&l(H(e.data))})))}))}),[p,m]),i&&u?r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(se.a,{variant:"h2",style:{width:"100%"}},"Project Completion Report"),r.a.createElement(nr,{reportId:"report-container",title:"Projects Completion Report",projectTitle:i.project.name,exportTypes:[Ha.PDF,Ha.WORD]})),r.a.createElement(E_.a,Object.assign({},e,{actions:r.a.createElement(Mg,null)}),r.a.createElement(j_.a,null,r.a.createElement("div",{id:"report-container",className:"export_container"},r.a.createElement(Dg,Object.assign({},e,{details:i,project:u})),r.a.createElement(hl,null),r.a.createElement(Wi,Object.assign({counter:"1"},e,{customRecord:i})),r.a.createElement(hl,null),(null===u||void 0===u||null===(t=u.project_completion)||void 0===t?void 0:t.extension_reason)&&r.a.createElement(Ig,Object.assign({counter:"1.1"},e,{customRecord:u.project_completion})),r.a.createElement(Pg,Object.assign({counter:"2"},e,{customRecord:i})),r.a.createElement(hl,null),r.a.createElement(xg,Object.assign({counter:"3"},e,{details:i,customRecord:u.project_completion})),r.a.createElement(hl,null),r.a.createElement(kg,Object.assign({counter:"4"},e,{customRecord:i})),r.a.createElement(hl,null),r.a.createElement(Sg,Object.assign({counter:"5"},e,{customRecord:u.project_completion})),r.a.createElement(hl,null),r.a.createElement(Tg,Object.assign({counter:"6"},e,{customRecord:u.project_completion})),r.a.createElement(hl,null),r.a.createElement(Cg,Object.assign({counter:"7"},e,{customRecord:u.project_completion})),r.a.createElement(hl,null),r.a.createElement(Fg,Object.assign({counter:"8"},e,{customRecord:u.project_completion})),r.a.createElement(hl,null),r.a.createElement(Rg,Object.assign({counter:"9"},e,{customRecord:u.project_completion})),r.a.createElement(hl,null))))):null},Lg=[{id:1,name:"Initial Financial requirement"},{id:2,name:"Approved  Budget"},{id:3,name:"Releases"},{id:4,name:"Expenditure"},{id:5,name:"Budget Performance  (%)"},{id:6,name:"Absorption  performance (%)"},{id:7,name:"Capital/Recurrent  Ratio"}],Yg=["getSource","scopedFormData","formData"],Bg=["getSource","scopedFormData","formData"],zg=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{textAlign:"center",fontSize:"18px",lineHeight:"24px",margin:"10px 30px",color:"#3f50b5"},button:{backgroundColor:"#f4f8ff",color:"#3f50b5",position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:35,width:200,height:200,borderRadius:"4px",margin:15,textAlign:"center","&:hover":{outline:"1px solid #d0d7ff",cursor:"pointer"},"&:hover > $buttonTitle":{opacity:.5},"&:hover > $actions":{display:"flex"}},buttonSelected:{opacity:1},buttonNotSelected:{opacity:.5},buttonTitle:{color:"#3f50b5",position:"absolute",top:0,left:0,display:"flex",fontWeight:"bold",flexDirection:"column",alignItems:"center",textAlign:"center",height:"100%",width:"100%",justifyContent:"center",gap:"15px","& > * ":{fontSize:"18px"}},actions:{display:"none",flexDirection:"column",alignItems:"center",gap:"15px"},actionBtn:{width:"100%"},select:{width:"50%"}}})),qg=function(e){var t=e.project_detail_id,a=(e.props,Object(ai.a)());Object(Na.a)();return r.a.createElement(Gs.a,{style:{justifyContent:"flex-start"}},r.a.createElement(Xn.a,{onClick:function(){a("/implementation-module/".concat(Number(t),"/costed-annualized-plan"))},label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null)}))},Ug=function(e){Object(pe.a)();var t,a,n=r.a.useState(null),o=Object(Z.a)(n,2),i=(o[0],o[1],r.a.useState([])),l=Object(Z.a)(i,2),c=(l[0],l[1],r.a.useState(null)),s=Object(Z.a)(c,2),d=s[0],m=s[1],p=r.a.useState(null),f=Object(Z.a)(p,2),_=(f[0],f[1]),g=Object(Ca.a)(),h=zg(),v=r.a.useState(null),b=Object(Z.a)(v,2);b[0],b[1];r.a.useEffect((function(){var t,a,n,r;g.getOne("project-details",{id:null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.projectId}).then((function(e){e&&e.data&&m(H(Object(u.a)({},e.data)))})),g.getOne("projects",{id:null===(n=e.match)||void 0===n||null===(r=n.params)||void 0===r?void 0:r.projectId}).then((function(e){e&&e.data&&_(H(Object(u.a)({},e.data)))}))}),[]);var E=function(){return r.a.createElement("h1",{style:{width:"100%"}},d&&d.project&&"".concat(d.project.code," - ").concat(d.project.name))};return r.a.createElement(es.a,Object.assign({},e,{undoable:!1,actions:r.a.createElement(qg,{project_detail_id:null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.projectId})}),r.a.createElement(ou.a,{redirect:"show"},r.a.createElement(E,null),r.a.createElement(js.a,null,(function(t){t.getSource,t.scopedFormData;var a,n,r=t.formData;Object(T.a)(t,Yg);return(null===(a=e.match)||void 0===a||null===(n=a.params)||void 0===n?void 0:n.projectId)&&r&&(r.project_id=null===d||void 0===d?void 0:d.project_id),null})),r.a.createElement(cs,{tooltipText:"tooltips.resources.appeals.fields.interventions",fullWidth:!0},r.a.createElement(ns.a,{source:"interventions",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.appeals.fields.appeal_reason",fullWidth:!0},r.a.createElement(se.a,{variant:"h6"},"Appeals Reasons"),r.a.createElement("div",{style:{display:"flex",gap:"25px",marginTop:10}},r.a.createElement(I_.a,{source:"is_time",label:"Time",variant:"outlined",margin:"none"}),r.a.createElement(I_.a,{source:"is_scope",label:"Scope",variant:"outlined",margin:"none"}),r.a.createElement(I_.a,{source:"is_cost",label:"Cost",variant:"outlined",margin:"none"}))),r.a.createElement(cs,{tooltipText:"tooltips.resources.appeals.fields.challenges",fullWidth:!0},r.a.createElement(ns.a,{source:"challenges",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.appeals.fields.recommendations",fullWidth:!0},r.a.createElement(ns.a,{source:"recommendations",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.appeals.fields.additional_info",fullWidth:!0},r.a.createElement(ns.a,{source:"additional_info",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.appeals.fields.proposed_extension_date",fullWidth:!0},r.a.createElement(ys.a,{source:"proposed_extension_date",variant:"outlined",margin:"none"})),r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData;var t,a,n,o=e.formData,i=(Object(T.a)(e,Bg),Oi(S()(),o.proposed_extension_date));return r.a.createElement("div",null,r.a.createElement("h2",null,"PROJECT FINANCIAL PERFORMANCE"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",h.bordered,h.table)},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null),null===i||void 0===i?void 0:i.map((function(e){return r.a.createElement(ci.a,{colSpan:2},e.name)}))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null),null===i||void 0===i?void 0:i.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ci.a,null,"GoU"),r.a.createElement(ci.a,null,"Donor"))})))),r.a.createElement(si.a,null,Lg.map((function(e,t){return r.a.createElement(li.a,{key:e.id},r.a.createElement(ci.a,null,e.name),null===i||void 0===i?void 0:i.map((function(t){if(o){if(o.financial_performance||(o.financial_performance={}),o.financial_performance["fv".concat(e.id)]||(o.financial_performance["fv".concat(e.id)]={}),o.financial_performance["fv".concat(e.id)]["".concat(t.id,"y")]||(o.financial_performance["fv".concat(e.id)]["".concat(t.id,"y")]={}),5===e.id){var a=parseFloat(o.financial_performance.fv3["".concat(t.id,"y")].gou||0)/parseFloat(o.financial_performance.fv2["".concat(t.id,"y")].gou||0);o.financial_performance.fv5["".concat(t.id,"y")].gou=!Object(w.isNaN)(a)&&isFinite(a)?(100*a).toFixed(2):"";var n=parseFloat(o.financial_performance.fv3["".concat(t.id,"y")].donor||0)/parseFloat(o.financial_performance.fv2["".concat(t.id,"y")].donor||0);o.financial_performance.fv5["".concat(t.id,"y")].donor=!Object(w.isNaN)(n)&&isFinite(n)?(100*n).toFixed(2):""}if(6===e.id){var i=parseFloat(o.financial_performance.fv4["".concat(t.id,"y")].gou||0)/parseFloat(o.financial_performance.fv3["".concat(t.id,"y")].gou||0);o.financial_performance.fv6["".concat(t.id,"y")].gou=!Object(w.isNaN)(i)&&isFinite(i)?(100*i).toFixed(2):"";var l=parseFloat(o.financial_performance.fv4["".concat(t.id,"y")].donor||0)/parseFloat(o.financial_performance.fv3["".concat(t.id,"y")].donor||0);o.financial_performance.fv6["".concat(t.id,"y")].donor=!Object(w.isNaN)(l)&&isFinite(l)?(100*l).toFixed(2):""}}return r.a.createElement(r.a.Fragment,null,r.a.createElement(ci.a,null,r.a.createElement(ns.a,{label:!1,variant:"outlined",margin:"none",source:"financial_performance.fv".concat(e.id,".").concat(t.id,"y.gou"),parse:gr,format:_r,validate:Object(rs.h)()})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{label:!1,variant:"outlined",margin:"none",source:"financial_performance.fv".concat(e.id,".").concat(t.id,"y.donor"),parse:gr,format:_r,validate:Object(rs.h)()})))})))}))))),r.a.createElement("div",null,r.a.createElement("h2",null,"PROJECT PHYSICAL PERFORMANCE "),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",h.bordered,h.table)},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{rowSpan:2},"Outcome / Output / Indicator"),r.a.createElement(ci.a,{rowSpan:2},"Original Baseline "),r.a.createElement(ci.a,{rowSpan:2},"Original Target"),r.a.createElement(ci.a,{colSpan:5},"Assessment of cumulative physical performance")),r.a.createElement(li.a,null,null===i||void 0===i?void 0:i.map((function(e){return r.a.createElement(ci.a,null,e.name)})),r.a.createElement(ci.a,null,"Outstanding physical performance"))),r.a.createElement(si.a,null,null===d||void 0===d||null===(t=d.outcomes)||void 0===t?void 0:t.map((function(e,t){var a,n=r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:4+i.length},"Outcome: ",e.name)),o=null===e||void 0===e||null===(a=e.indicators)||void 0===a?void 0:a.map((function(e,t){var a=Object.keys(e.targets),n=e.targets[a[a.length-1]];return r.a.createElement(li.a,{key:e.id},r.a.createElement(ci.a,null,e.name),r.a.createElement(ci.a,null,e.baseline),r.a.createElement(ci.a,null,n),null===i||void 0===i?void 0:i.map((function(t){return r.a.createElement(ci.a,null,r.a.createElement(ns.a,{label:!1,variant:"outlined",margin:"none",source:"physical_performance.ind".concat(e.id,".").concat(t.id,"y"),parse:gr,format:_r,validate:Object(rs.h)()}))})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{label:!1,variant:"outlined",margin:"none",source:"physical_performance.ind".concat(e.id,".performance")})))}));return r.a.createElement(r.a.Fragment,null,n,o)})))))),r.a.createElement("div",null,r.a.createElement("h2",null,"FINANCIAL REQUIREMENTS OF PROJECT OUTPUTS TO BE ACHIEVED DURING THE PROPOSED EXTENSION"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",h.bordered,h.table)},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:2},"Output"),null===i||void 0===i?void 0:i.map((function(e){return r.a.createElement(ci.a,null,e.name)})))),r.a.createElement(si.a,null,null===d||void 0===d||null===(a=d.outputs)||void 0===a?void 0:a.map((function(e,t){return r.a.createElement(li.a,{key:e.id},r.a.createElement(ci.a,{style:{width:"50px"}},"1. ".concat(t+1)),r.a.createElement(ci.a,null,e.name),null===i||void 0===i?void 0:i.map((function(t){return r.a.createElement(ci.a,null,r.a.createElement(ns.a,{label:!1,variant:"outlined",margin:"none",source:"financial_requirements.otp".concat(e.id,".").concat(t.id,"y"),parse:gr,format:_r,validate:Object(rs.h)()}))})))}))))),r.a.createElement("h2",null,"Implementation Plan"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",h.bordered,h.table)},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Outputs"),r.a.createElement(ci.a,null,"Start Date"),r.a.createElement(ci.a,null,"End Date"))),r.a.createElement(si.a,null,null===d||void 0===d||null===(n=d.outputs)||void 0===n?void 0:n.map((function(e,t){return r.a.createElement(li.a,{key:e.id},r.a.createElement(ci.a,null,"Output ".concat(t+1,": ").concat(e.name)),r.a.createElement(ci.a,null,r.a.createElement(ys.a,{label:!1,variant:"outlined",margin:"none",source:"implementation_plan.otp".concat(e.id,".start_date")})),r.a.createElement(ci.a,null,r.a.createElement(ys.a,{label:!1,variant:"outlined",margin:"none",source:"implementation_plan.otp".concat(e.id,".end_date")})))})))))))}))))},Vg={PaperProps:{style:{maxHeight:224,width:"500px"}}},Gg=Object(ae.a)((function(e){return{root:{padding:"25px"},rootTitle:{marginBottom:"20px"},content:{display:"flex",gap:"55px",width:"100%",padding:"25px"},list:{height:"70vh",overflow:"auto",width:"100%","& .MuiListItem-container":{"&:hover $listItemActions":{visibility:"visible"}}},listContent:{width:"100%"},title:{textAlign:"center"},actions:{padding:"20px",gap:"20px",justifyContent:"space-between"},iconDelete:{color:"#546e7a",cursor:"pointer"},listItem:{},listItemActions:{visibility:"hidden"},formControl:{justifySelf:"flex-start",width:"50%"}}})),Hg=function(){var e=Object(n.useState)([]),t=Object(Z.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)([]),l=Object(Z.a)(i,2),c=l[0],s=l[1],u=Object(n.useState)(),d=Object(Z.a)(u,2),m=d[0],p=d[1],f=Object(n.useState)([]),_=Object(Z.a)(f,2),g=_[0],h=_[1],v=Object(n.useState)([]),b=Object(Z.a)(v,2),E=b[0],j=b[1],y=Object(n.useState)([]),O=Object(Z.a)(y,2),w=O[0],k=O[1],S=Object(n.useState)([]),P=Object(Z.a)(S,2),C=P[0],N=P[1],A=Object(n.useState)(""),T=Object(Z.a)(A,2),F=T[0],R=T[1],I=Object(n.useState)(""),M=Object(Z.a)(I,2),W=M[0],L=M[1],Y=Object(Ca.a)(),B=Gg(),z=Object(Na.a)(),q=Object(rr.a)(),U=function(){m&&(Y.integrations("ndp",{additionalData:"projects",sort_field:"id",filter:{is_not_linked:!0}}).then((function(e){e&&e.data&&j(e.data)})),Y.getListOfAll("projects",{filter:{is_deleted:!1,is_not_in_ndp:!0,program_id:Number(m.id)}}).then((function(e){e&&e.data&&h(e.data)})))};r.a.useEffect((function(){Y.getListOfAll("programs",{filter:{level:1}}).then((function(e){e&&e.data&&s(e.data)}))}),[Y]),Object(n.useEffect)((function(){U()}),[m]);var V=function(e){N([e])},G=function(){return g.filter((function(e){return 0===a.length||!x.a.find(a,(function(t){return t.checkedLeft===e.id}))})).filter((function(e){return!F||(String(e.name).toLowerCase().indexOf(F.toLowerCase())>-1||String(e.code).toLowerCase().indexOf(F.toLowerCase())>-1)}))},H=function(){return E.filter((function(e){return 0===a.length||!x.a.find(a,(function(t){return t.checkedRight===e.id}))})).filter((function(e){return!W||(String(e.project_name).toLowerCase().indexOf(W.toLowerCase())>-1||String(e.project_coa_code).toLowerCase().indexOf(W.toLowerCase())>-1)}))};return r.a.createElement(In.a,{className:B.root},r.a.createElement("h2",{className:B.rootTitle},"NDP Integration"),r.a.createElement(Cp.a,{className:B.actions},r.a.createElement("div",{style:{display:"flex",gap:"25px",alignContent:"center"}},r.a.createElement("h2",null,"Select Program: "),r.a.createElement(is.a,{className:B.formControl,variant:"outlined"},r.a.createElement(Wm.a,{style:{textTransform:"capitalize"}},"Filter by Program"),r.a.createElement(xa.a,{fullWidth:!0,value:null===m||void 0===m?void 0:m.id,onChange:function(e){a.length&&o([]),p(e.target.value)},MenuProps:Vg,label:"Filter by Program",style:{width:"350px"}},c&&c.map((function(e){return r.a.createElement(sa.a,{key:e.id,value:e},"".concat(e.code," - ").concat(e.name))}))))),r.a.createElement("div",{style:{display:"flex",gap:"25px"}},g.length>0&&r.a.createElement(va.a,{badgeContent:a.length,color:"primary"},r.a.createElement(Xn.a,{label:"Add link",variant:"outlined",startIcon:r.a.createElement(_g.a,null),onClick:function(){if(w.length&&C.length){var e={checkedLeft:w[0],checkedRight:C[0]};o((function(t){return[].concat(Object(D.a)(t),[e])})),k([]),N([])}}})),a.length>0&&r.a.createElement(Xn.a,{label:"Submit",startIcon:r.a.createElement(pg.a,null),variant:"contained",onClick:function(){var e=a.map((function(e){var t=x.a.find(g,(function(t){return t.id===e.checkedLeft})),a=x.a.find(E,(function(t){return t.id===e.checkedRight}));return{ndp_project_id:a.id,ndp_pip_code:a.ndp_pip_code,project_id:t.id}}));e.length&&Y.integrationsCreateLink("ndp",{data:e}).then((function(e){z("Link created!","success"),o([]),q(),U()}))}}))),m&&g.length>0&&r.a.createElement(lc.a,{className:B.content},r.a.createElement("div",{className:B.listContent},r.a.createElement("h3",{className:B.title},"NDP"),r.a.createElement($n.a,{fullWidth:!0,label:"Search",variant:"outlined",onChange:function(e){L(e.target.value)}}),r.a.createElement(Ne.a,{className:B.list},E&&H().length>0?H().map((function(e){var t="checkbox-list-label-".concat(e.id);return e?r.a.createElement(Ae.a,{key:e.id,dense:!0,onClick:function(){return V(e.id)},className:B.listItem},r.a.createElement(De.a,null,r.a.createElement(Qn.a,{edge:"start",checked:-1!==C.indexOf(e.id),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":t}})),r.a.createElement(Te.a,{id:t,primary:e&&"".concat(e.ndp_pip_code," - ").concat(e.project_name)})):null})):r.a.createElement("h3",{className:B.title},"No items to show"))),r.a.createElement("div",{className:B.listContent},r.a.createElement("h3",{className:B.title},"IBP"),r.a.createElement($n.a,{fullWidth:!0,label:"Search",variant:"outlined",onChange:function(e){R(e.target.value)}}),r.a.createElement(Ne.a,{className:B.list},g&&G().length>0?G().map((function(e){var t="checkbox-list-label-".concat(e.id);return e?r.a.createElement(Ae.a,{key:e.id,dense:!0,onClick:function(){return t=e.id,void k([t]);var t}},r.a.createElement(De.a,null,r.a.createElement(Qn.a,{edge:"start",checked:-1!==w.indexOf(e.id),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":t}})),r.a.createElement(Te.a,{id:t,primary:e&&"".concat(e.code," - ").concat(e.name)})):null})):r.a.createElement("h3",{className:B.title},"No items to show"))),r.a.createElement("div",{className:B.listContent,style:{backgroundColor:"#f7f7f7"}},r.a.createElement("h3",{className:B.title},"Links"),r.a.createElement(Ne.a,{className:B.list},g&&g.length>0&&a.map((function(e){var t="checkbox-list-label-".concat(e.id),a=x.a.find(g,(function(t){return t.id===e.checkedLeft})),n=x.a.find(E,(function(t){return t.id===e.checkedRight})),i="".concat(n.ndp_pip_code," - ").concat(a.code);return r.a.createElement(Ae.a,{key:e.id,dense:!0,onClick:function(){return V(e.id)},className:B.listItem},r.a.createElement(Te.a,{id:t,primary:"".concat(i)}),r.a.createElement(dg.a,{className:B.listItemActions},r.a.createElement(hg.a,{className:B.iconDelete,onClick:function(){return t=e,void o((function(e){return e.filter((function(e){var a=e.checkedLeft,n=e.checkedRight;return a!==t.checkedLeft&&n!==t.checkedRight}))}));var t}})))}))))))},Jg=["targetYears","arraySource","previousYear"],Xg=["getSource","scopedFormData","formData"],$g=function(e){e.targetYears;var t=e.arraySource,a=e.previousYear,n=(Object(T.a)(e,Jg),bh());return r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData,e.formData,Object(T.a)(e,Xg);return r.a.createElement("div",{style:{overflow:"auto",width:"100%"}},r.a.createElement(oi.a,{className:n.inputTable},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Contract Reference Number"),r.a.createElement(ci.a,null,"Funding Source "),r.a.createElement(ci.a,null,"Cumulative Arrears ending ".concat(null===a||void 0===a?void 0:a.name," (UGX)")),r.a.createElement(ci.a,null,"Verified Arrears (UGX)"),r.a.createElement(ci.a,null,"Un-verified Arrears (UGX)"),r.a.createElement(ci.a,null,"Cumulative Arrears Penalty Exposure (UGX)"))),r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:t("contract_reference_number"),variant:"outlined",margin:"none",label:!1,disabled:!0})),r.a.createElement(ci.a,null,r.a.createElement($n.a,{source:t("arrears.ext.funding_source"),variant:"outlined",margin:"none",label:!1,value:"External",disabled:!0})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:t("arrears.ext.cumulative_arrears"),variant:"outlined",margin:"none",label:!1,format:_r,parse:gr,validate:[Object(rs.h)()]})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:t("arrears.ext.verified_arrears"),variant:"outlined",margin:"none",label:!1,format:_r,parse:gr,validate:[Object(rs.h)()]})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:t("arrears.ext.un_verified_arrears"),variant:"outlined",margin:"none",label:!1,format:_r,parse:gr,validate:[Object(rs.h)()]})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:t("arrears.ext.cumulative_penalty"),variant:"outlined",margin:"none",label:!1,format:_r,parse:gr,validate:[Object(rs.h)()]}))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:t("contract_reference_number"),variant:"outlined",margin:"none",label:!1,disabled:!0})),r.a.createElement(ci.a,null,r.a.createElement($n.a,{source:t("arrears.gov.funding_source"),variant:"outlined",margin:"none",label:!1,value:"GoU",disabled:!0})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:t("arrears.gov.cumulative_arrears"),variant:"outlined",margin:"none",label:!1,format:_r,parse:gr,validate:[Object(rs.h)()]})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:t("arrears.gov.verified_arrears"),variant:"outlined",margin:"none",label:!1,format:_r,parse:gr,validate:[Object(rs.h)()]})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:t("arrears.gov.un_verified_arrears"),variant:"outlined",margin:"none",label:!1,format:_r,parse:gr,validate:[Object(rs.h)()]})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:t("arrears.gov.cumulative_penalty"),variant:"outlined",margin:"none",label:!1,format:_r,parse:gr,validate:[Object(rs.h)()]}))))))}))},Kg=["targetYears","arraySource","previousYear"],Qg=["getSource","scopedFormData","formData"],Zg=function(e){var t=e.targetYears,a=e.arraySource,n=e.previousYear,o=(Object(T.a)(e,Kg),bh());return r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData,e.formData,Object(T.a)(e,Qg);return r.a.createElement("div",{style:{overflow:"auto",width:"100%"}},r.a.createElement(oi.a,{style:{width:"auto"},className:o.inputTable},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Contract Reference Number"),r.a.createElement(ci.a,null,"Funding Source "),r.a.createElement(ci.a,null,"Contract Value (UGX)"),r.a.createElement(ci.a,null,"Approved contract payments ending ".concat(null===n||void 0===n?void 0:n.name," (UGX)")),r.a.createElement(ci.a,null,"Balance on Contract Value (UGX)"),t&&t.map((function(e){return r.a.createElement(ci.a,null,e.name," (UGX)")})))),r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:a("contract_reference_number"),variant:"outlined",margin:"none",label:!1,disabled:!0})),r.a.createElement(ci.a,null,r.a.createElement($n.a,{source:a("contractual.ext.funding_source"),variant:"outlined",margin:"none",label:!1,value:"External",disabled:!0})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{disabled:!0,source:a("contract_value_ext"),variant:"outlined",margin:"none",label:!1,format:_r,parse:gr,validate:[Object(rs.h)()]})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:a("contractual.ext.approved_payments"),variant:"outlined",margin:"none",label:!1,format:_r,parse:gr,validate:[Object(rs.h)()]})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:a("contractual.ext.balance_value"),variant:"outlined",margin:"none",label:!1,format:_r,parse:gr,validate:[Object(rs.h)()]})),t&&t.map((function(e){return r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:a("contractual.ext.".concat(e.id,"y")),variant:"outlined",margin:"none",label:!1,format:_r,parse:gr,validate:[Object(rs.h)()]}))}))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:a("contract_reference_number"),variant:"outlined",margin:"none",label:!1,disabled:!0})),r.a.createElement(ci.a,null,r.a.createElement($n.a,{source:a("contractual.gou.funding_source"),variant:"outlined",margin:"none",label:!1,value:"GoU",disabled:!0})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{disabled:!0,source:a("contract_value_gou"),variant:"outlined",margin:"none",label:!1,format:_r,parse:gr,validate:[Object(rs.h)()]})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:a("contractual.gou.approved_payments"),variant:"outlined",margin:"none",label:!1,format:_r,parse:gr,validate:[Object(rs.h)()]})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:a("contractual.gou.balance_value"),variant:"outlined",margin:"none",label:!1,format:_r,parse:gr,validate:[Object(rs.h)()]})),t&&t.map((function(e){return r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:a("contractual.gou.".concat(e.id,"y")),variant:"outlined",margin:"none",label:!1,format:_r,parse:gr,validate:[Object(rs.h)()]}))}))))))}))},eh=["activities","project"],th=["getSource","scopedFormData","formData"],ah=["formData","scopedFormData","getSource"],nh=function(e){e.activities;var t=e.project,a=(Object(T.a)(e,eh),Object(n.useState)()),o=Object(Z.a)(a,2),i=o[0],l=o[1],c=Object(Ca.a)(),s=bh();return Object(n.useEffect)((function(){c.integrations("amp",{filter:{project_id:t.id}}).then((function(e){e&&e.data&&l(e.data)}))}),[]),r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData;var t=e.formData;Object(T.a)(e,th);return!i||i&&0===i.length?r.a.createElement("h2",null,"No data from AMP"):(t.myc_data.countryPart&&0!==t.myc_data.countryPart.length||(t.myc_data.countryPart=i),r.a.createElement(Ss.a,{source:"myc_data.countryPart",label:!1},r.a.createElement(Ps.a,{disableAdd:!0,disableRemove:!0},r.a.createElement(js.a,null,(function(e){e.formData;var t,a=e.scopedFormData,n=e.getSource;Object(T.a)(e,ah);a&&a.agreement_sign_date&&a.agreement_close_date&&(a.start_date=S()(a.agreement_sign_date).startOf("year").format("YYYY-MM-DD"),a.end_date=S()(a.agreement_close_date).startOf("year").format("YYYY-MM-DD"));var o=a&&a.start_date&&a.end_date&&Oi(a.start_date,a.end_date);return r.a.createElement("div",{style:{overflow:"auto",width:"100%"}},r.a.createElement("h2",null,"Counterpart Summary"),r.a.createElement(oi.a,{className:s.inputTable},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Financing Agreement Title"),r.a.createElement(ci.a,null,"Project Start Date (FY) "),r.a.createElement(ci.a,null,"Project End Date (FY) "),r.a.createElement(ci.a,null,"Counterpart requirements "),r.a.createElement(ci.a,null,"Counterpart Value (UGX)"),o&&o.map((function(e){return r.a.createElement(ci.a,null,e.name," (UGX)")})))),r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:n("agreement_title"),variant:"outlined",margin:"none",label:!1})),r.a.createElement(ci.a,null,r.a.createElement(os.a,{source:n("start_date"),options:{fullWidth:"true"},label:!1,choices:hi(S()(),10,!0),variant:"outlined",margin:"none"})),r.a.createElement(ci.a,null,r.a.createElement(os.a,{source:n("end_date"),options:{fullWidth:"true"},label:!1,choices:hi(S()(),10,!0),variant:"outlined",margin:"none"})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:n("specification"),variant:"outlined",margin:"none",label:!1})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:n("value"),variant:"outlined",margin:"none",label:!1,format:_r,parse:gr,validate:[Object(rs.h)()]})),o&&o.map((function(e){return r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:n("".concat(e.id,"y")),variant:"outlined",margin:"none",label:!1,format:_r,parse:gr,validate:[Object(rs.h)()]}))}))))),o&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Counterpart Obligations"),r.a.createElement(oi.a,{className:s.inputTable},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Financing Agreement Title"),r.a.createElement(ci.a,null,"Approved contract payments ending ".concat(null===(t=o[0])||void 0===t?void 0:t.name," (UGX)")),r.a.createElement(ci.a,null,"Balance on Counter-part (UGX)")," ",o&&o.map((function(e,t){return r.a.createElement(ci.a,null,"Y".concat(t+1," (").concat(e.name,") (UGX)"))})))),r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:n("agreement_title"),variant:"outlined",margin:"none",label:!1,disabled:!0})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:n("transactions.disbursed"),variant:"outlined",margin:"none",label:!1,format:_r,parse:gr,validate:[Object(rs.h)()]})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:n("transactions.balance"),variant:"outlined",margin:"none",label:!1,format:_r,parse:gr,validate:[Object(rs.h)()]})),o&&o.map((function(e){return r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:n("transactions.".concat(e.id,"y")),variant:"outlined",margin:"none",label:!1,format:_r,parse:gr,validate:[Object(rs.h)()]}))})))))))})))))}))},rh=["activities","record"],oh=["getSource","scopedFormData","formData"],ih=["formData","scopedFormData","getSource"],lh=function(e){var t=e.activities,a=e.record,n=(Object(T.a)(e,rh),bh()),o=a&&S()(a.end_date,"YYYY-MM-DD").diff(S()(a.start_date,"YYYY-MM-DD"),"years")+1,i=a?function(e,t){var a=S()(e).startOf("year"),n=a.clone().add(1,"years"),r=function(t,a){var n=S()(e).startOf("year"),r=1,o=[];do{var i=n.add(a?-1:1,"years"),l=i.clone().add(1,"years");o.push({id:i.format("YYYY-MM-DD"),name:"".concat(i.format("YYYY"),"/").concat(l.format("YY"))}),r+=1}while(Math.abs(r)!==t);return o}(t,!1);return e?[{id:a.format("YYYY-MM-DD"),name:"FY".concat(a.format("YYYY"),"/").concat(n.format("YY"))}].concat(Object(D.a)(r)):[]}(a.signed_date,o):[],l=t.map((function(e){return{id:e.id,name:e.costing_name,label:"".concat(e.costing_code," - ").concat(e.costing_name)}})),c=[{id:"external",name:"External"},{id:"gou",name:"GOU"}];return!t||t&&0===t.length?r.a.createElement("h2",null,"No data from PBS"):r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData,e.formData,Object(T.a)(e,oh);return r.a.createElement("div",{style:{overflow:"auto",width:"100%"}},r.a.createElement(Ss.a,{source:"myc_data.non_contractual",label:!1},r.a.createElement(Ps.a,null,r.a.createElement(js.a,null,(function(e){e.formData,e.scopedFormData;var t=e.getSource;Object(T.a)(e,ih);return r.a.createElement(oi.a,{className:n.inputTable},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Item"),r.a.createElement(ci.a,null,"Description"),r.a.createElement(ci.a,null,"Source funding "),i&&i.map((function(e,t){return r.a.createElement(ci.a,null,"Y".concat(t+1," (").concat(e.name,") (UGX)"))})))),r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(os.a,{source:t("activity"),variant:"outlined",margin:"none",label:!1,choices:l,optionText:"label"})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:t("description"),variant:"outlined",margin:"none",label:!1})),r.a.createElement(ci.a,null,r.a.createElement(os.a,{source:t("funding_source"),variant:"outlined",margin:"none",label:!1,choices:c})),i&&i.map((function(e){return r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:t("".concat(e.id,"y")),variant:"outlined",margin:"none",label:!1,format:_r,parse:gr,validate:[Object(rs.h)()]}))})))))})))))}))},ch=["activities","project","arraySource"],sh=["getSource","scopedFormData","formData"],uh=["formData","scopedFormData","getSource"],dh=function(e){e.activities;var t=e.project,a=e.arraySource,o=(Object(T.a)(e,ch),Object(n.useState)()),i=Object(Z.a)(o,2),l=(i[0],i[1]),c=Object(Ca.a)(),s=bh();return Object(n.useEffect)((function(){c.integrations("amp",{filter:{project_id:t.id}}).then((function(e){e&&e.data&&l(e.data)}))}),[]),r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData,e.formData,Object(T.a)(e,sh);return r.a.createElement(Ss.a,{source:a("procurement"),label:!1},r.a.createElement(Ps.a,null,r.a.createElement(js.a,null,(function(e){var t=e.formData,a=(e.scopedFormData,e.getSource),n=(Object(T.a)(e,uh),t&&t.start_date&&t.end_date&&Oi(t.start_date,t.end_date));return r.a.createElement("div",{style:{overflow:"auto",width:"100%"}},r.a.createElement(oi.a,{className:s.inputTable},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Procurement Ref. No."),r.a.createElement(ci.a,null,"Description of Procurement"),r.a.createElement(ci.a,null,"Category of Procurement"),r.a.createElement(ci.a,null,"Stage of Procurement"),r.a.createElement(ci.a,null,"Estimated Contract Value (UGX)"," "),r.a.createElement(ci.a,null,"Source of Financing"),r.a.createElement(ci.a,null,"Estimated Commencement Date"),r.a.createElement(ci.a,null,"Estimated Contract End Date"))),r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:a("pipeline_number"),variant:"outlined",margin:"none",label:!1})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:a("description"),variant:"outlined",margin:"none",label:!1})),r.a.createElement(ci.a,null,r.a.createElement(os.a,{style:{marginTop:0},source:a("category"),variant:"outlined",label:!1,choices:[{id:"works",name:"Works"},{id:"supplies",name:"Supplies"},{id:"consultancy",name:"Consultancy"},{id:"non_consultancy_services",name:"Non-Consultancy Services"}]})),r.a.createElement(ci.a,null,r.a.createElement(os.a,{style:{marginTop:0},source:a("stage"),variant:"outlined",label:!1,choices:[{id:"initiation",name:"Initiation"},{id:"bidding",name:"Bidding"},{id:"evaluation",name:"Evaluation"},{id:"award_and_contract_signing ",name:"Award and Contract signing"}]})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:a("contract_value"),variant:"outlined",margin:"none",label:!1,format:_r,parse:gr,validate:[Object(rs.h)()]})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:a("source"),variant:"outlined",margin:"none",label:!1})),r.a.createElement(ci.a,null,r.a.createElement(os.a,{options:{fullWidth:"true"},label:!1,source:a("comm_date"),choices:hi(S()(),10),variant:"outlined",margin:"none"})),r.a.createElement(ci.a,null,r.a.createElement(os.a,{options:{fullWidth:"true"},label:!1,source:a("contract_end"),choices:hi(S()(),10),variant:"outlined",margin:"none"}))))),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Annual pipeline procurement cost"),r.a.createElement(Fi.a,{style:{overflow:"auto"}},r.a.createElement(oi.a,{className:s.inputTable},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Estimated contract value (UGX)"),n&&n.map((function(e,t){return r.a.createElement(ci.a,null,"".concat(e.name," (UGX)"))})))),r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:a("contract_value"),variant:"outlined",margin:"none",label:!1,disabled:!0})),n&&n.map((function(e){return r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:a("".concat(e.id,"y")),variant:"outlined",margin:"none",label:!1,format:_r,parse:gr,validate:[Object(rs.h)()]}))}))))))))}))))}))},mh=a(267),ph=a.n(mh),fh=["activities","project","arraySource"],_h=["formData","scopedFormData","getSource"],gh=function(e){e.activities,e.project,e.arraySource;var t=Object(T.a)(e,fh),a=Object(pe.a)(),o=Object(n.useState)([]),i=Object(Z.a)(o,2),l=i[0],c=i[1],s=Object(_s.f)().values,u=Object(rr.a)();Object(n.useEffect)((function(){if(t.record&&t.record.files){var e=t.record.files.filter((function(e){var t=e.meta&&"string"===typeof e.meta?JSON.parse(e.meta):e.meta;return t&&t.relatedField&&t.relatedField.indexOf("attachments")>-1}));c(e)}}),[t.record]);var d;return r.a.createElement(r.a.Fragment,null,r.a.createElement(js.a,null,(function(e){var a=e.formData;e.scopedFormData,e.getSource,Object(T.a)(e,_h),a&&a.start_date&&a.end_date&&Oi(a.start_date,a.end_date);return r.a.createElement("div",{style:{overflow:"auto",width:"100%"}},r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.other_info",textArea:!0},r.a.createElement(qf,Object.assign({label:"Additional information",source:"myc_data.other_info",formData:a},t))))})),r.a.createElement("div",null,r.a.createElement(Ee.a,{onClick:function(){c([].concat(Object(D.a)(l),[{}]))},variant:"contained",startIcon:r.a.createElement(ph.a,null)},a("resources.project-details.fields.attachments.add")),r.a.createElement("br",null),r.a.createElement("br",null),l.length>0?(d=s,l.map((function(e,n){return r.a.createElement("div",{style:{display:"flex",alignItems:"center"},key:e.id||new Date+"idx"},r.a.createElement(gp,{meta:{relatedField:"myc_attachments_".concat(n)},resource:"project",entityId:d.id,fileTypeId:0,placeholder:a("titles.drop_files"),record:d,approvedUploading:!0,onDelete:function(){},onFileUpload:function(){t.save(d,!1),u()}}),Object(w.isEmpty)(e)&&r.a.createElement(Ee.a,{variant:"contained",component:"span",onClick:function(){return e=n,void c(l.filter((function(t,a){return a!==e})));var e},startIcon:r.a.createElement(dp.a,null),style:{marginLeft:15}},a("resources.project-details.fields.attachments.remove")))}))):null))},hh=["formData","scopedFormData","getSource"],vh=["getSource","scopedFormData","formData"],bh=Object(ae.a)((function(e){return{inputTable:{"& .MuiTableCell-body":{padding:"5px"},"& .MuiOutlinedInput-input":{padding:"10px"},"& .MuiSelect-selectMenu":{paddingRight:"30px !important"}}}})),Eh=function(e){var t=Object(_s.f)().values,a=r.a.useState(0),o=Object(Z.a)(a,2),i=o[0],l=o[1],c=bh(),s=Object(ee.e)();Object(n.useEffect)((function(){var t;return s({type:"SET_PROJECT_TITLE_HEADER",payload:{data:null===e||void 0===e||null===(t=e.project)||void 0===t?void 0:t.name}}),function(){s({type:"SET_PROJECT_TITLE_HEADER",payload:{data:""}})}}),[s,e]);var u=function(e,t){l(t)},d=function(a,n){e.save(t,!1),e.onChangeTab(n)};function m(t){var a;switch(e.tab){case 0:return r.a.createElement(Ss.a,{source:"myc_data.contractual",label:!1,style:{overflow:"auto",width:"100%"}},r.a.createElement(Ps.a,null,r.a.createElement(js.a,null,(function(t){t.formData;var a=t.scopedFormData,n=t.getSource,o=(Object(T.a)(t,hh),null),l=a&&a.end_date&&Oi(a.start_date,a.end_date);if(a&&a.start_date){var s=S()(a.start_date,"YYYY").startOf("year").clone().add(-1,"years");o=xi(s)}return a&&a.arrears&&(a.arrears.ext&&(a.arrears.ext.outstanding=a.arrears.ext.cumulative_arrears-a.arrears.ext.approved_payments),a.arrears.gov&&(a.arrears.gov.outstanding=a.arrears.gov.cumulative_arrears-a.arrears.gov.approved_payments)),r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Contract Summary"),r.a.createElement(oi.a,{className:c.inputTable},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Contract Reference Number"),r.a.createElement(ci.a,null,"Contract Name"),r.a.createElement(ci.a,null,"Name of Contractor"),r.a.createElement(ci.a,null,"Contract Start Date (FY)"),r.a.createElement(ci.a,null,"Contract End Date (FY)"),r.a.createElement(ci.a,null,"Contract Value GOU (UGX)"),r.a.createElement(ci.a,null,"Contract Value External (UGX)"),r.a.createElement(ci.a,null,"Annual Penalty interest rate, %"),r.a.createElement(ci.a,null,"Contract status"))),r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:n("contract_reference_number"),variant:"outlined",margin:"none",label:!1})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:n("contract_name"),variant:"outlined",margin:"none",label:!1})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:n("contractor_name"),variant:"outlined",margin:"none",label:!1})),r.a.createElement(ci.a,null,r.a.createElement(os.a,{options:{fullWidth:"true"},label:!1,source:n("start_date"),choices:hi(S()(),10),variant:"outlined",margin:"none"})),r.a.createElement(ci.a,null,r.a.createElement(os.a,{options:{fullWidth:"true"},label:!1,source:n("end_date"),choices:hi(S()(),10),variant:"outlined",margin:"none"})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:n("contract_value_gou"),variant:"outlined",margin:"none",label:!1,format:_r,parse:gr,validate:[Object(rs.h)()]})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:n("contract_value_ext"),variant:"outlined",margin:"none",label:!1,format:_r,parse:gr,validate:[Object(rs.h)()]})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:n("contract_terms"),variant:"outlined",margin:"none",label:!1})),r.a.createElement(ci.a,null,r.a.createElement(os.a,{style:{marginTop:0},source:n("contract_status"),variant:"outlined",label:!1,choices:[{id:"ongoing",name:"Ongoing"},{id:"halted",name:"Halted"},{id:"terminated",name:"Terminated"},{id:"defects_liability ",name:"Defects Liability "},{id:"completed",name:"Completed"}]}))))),l&&r.a.createElement(oi.a,{style:{width:"auto"},className:c.inputTable},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Funding Source"),l&&l.map((function(e){return r.a.createElement(ci.a,null,e.name," (UGX)")})))),r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement($n.a,{source:n("ext.funding_source"),variant:"outlined",margin:"none",label:!1,value:"External",disabled:!0})),l&&l.map((function(e){return r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:n("ext.".concat(e.id,"y")),variant:"outlined",margin:"none",label:!1,format:_r,parse:gr,validate:[Object(rs.h)()]}))}))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement($n.a,{source:n("gou.funding_source"),variant:"outlined",margin:"none",label:!1,value:"GoU",disabled:!0})),l&&l.map((function(e){return r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:n("gou.".concat(e.id,"y")),variant:"outlined",margin:"none",label:!1,format:_r,parse:gr}))}))))),r.a.createElement(Us.a,{value:i,indicatorColor:"primary",textColor:"primary",onChange:u},r.a.createElement(Vs.a,{label:"Contractual Obligations"}),r.a.createElement(Vs.a,{label:"Arrears"}),r.a.createElement(Vs.a,{label:"Procurement"})),function(t,a,n){if(0===e.tab)switch(i){case 0:return r.a.createElement(Zg,{targetYears:a,arraySource:t,previousYear:n});case 1:return r.a.createElement($g,{targetYears:a,arraySource:t,previousYear:n});case 2:return r.a.createElement(dh,{project:e.project,arraySource:t})}}(n,l,o))}))));case 1:return r.a.createElement(lh,{activities:null===(a=e.project)||void 0===a?void 0:a.pbs_budget_data,record:t});case 2:return r.a.createElement(nh,{project:e.project});case 3:return r.a.createElement(gh,Object.assign({project:e.project},e))}}return r.a.createElement(js.a,null,(function(t){t.getSource,t.scopedFormData;var a=t.formData;Object(T.a)(t,vh);return r.a.createElement("div",{style:{overflow:"auto",width:"100%"}},r.a.createElement(Us.a,{value:e.tab,indicatorColor:"primary",textColor:"primary",onChange:d},r.a.createElement(Vs.a,{label:"Contractual"}),r.a.createElement(Vs.a,{label:"Non Contractual"}),r.a.createElement(Vs.a,{label:"Counterpart"}),r.a.createElement(Vs.a,{label:"Additional MYC information"})),m(a))}))};function jh(e){var t=Object(pe.a)(),a=Object(ai.a)(),n=Object(_s.f)(),o=n.values;n.hasValidationErrors;return r.a.createElement(Zc.a,null,r.a.createElement(Ee.a,{variant:"outlined",disabled:0===e.activeStep,onClick:function(){var t,n;a("/implementation-module/".concat(null===(t=e.project)||void 0===t||null===(n=t.current_project_detail)||void 0===n?void 0:n.id,"/costed-annualized-plan"))}},t("buttons.back")),r.a.createElement(Ee.a,{color:"primary",variant:"contained",onClick:function(){var t,a;e.save(o,"/implementation-module/".concat(null===(t=e.project)||void 0===t||null===(a=t.current_project_detail)||void 0===a?void 0:a.id,"/costed-annualized-plan"))}},t("buttons.save_exit")))}var yh=function(e){return r.a.createElement(ou.a,Object.assign({toolbar:r.a.createElement(jh,e),redirect:function(t,a,n){var r,o;return"/implementation-module/".concat(null===(r=e.project)||void 0===r||null===(o=r.current_project_detail)||void 0===o?void 0:o.id,"/costed-annualized-plan")}},e),r.a.createElement(Eh,Object.assign({targetYears:e.targetYears,project:e.project},e)))},Oh=function(e){var t,a,n=r.a.useState(0),o=Object(Z.a)(n,2),i=o[0],l=o[1],c=r.a.useState([]),s=Object(Z.a)(c,2),u=s[0],d=s[1],m=r.a.useState({}),p=Object(Z.a)(m,2),f=p[0],_=p[1],g=Object(Ca.a)();r.a.useEffect((function(){var t,a,n,r;(null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.projectId)&&g.getOne("projects",{id:null===(n=e.match)||void 0===n||null===(r=n.params)||void 0===r?void 0:r.projectId}).then((function(e){if(e&&e.data){var t=e.data,a=t.start_date,n=t.end_date;d(Oi(a,n)),_(e.data)}}))}),[g,e.match.params.projectId]);return r.a.createElement(ru.a,Object.assign({},e,{too:!0,undoable:!1,actions:!1,id:null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.projectId,transform:function(e){return{myc_data:e.myc_data}},redirect:function(e,t,a){var n;return"/implementation-module/".concat(null===f||void 0===f||null===(n=f.current_project_detail)||void 0===n?void 0:n.id,"/costed-annualized-plan")}}),r.a.createElement(yh,{project:f,targetYears:u,onChangeTab:function(e){l(e)},tab:i}))},wh=["meta","input"],xh=Object(ae.a)((function(e){return{small_box:{display:"flex",margin:"75px auto",alignItems:"center",justifyContent:"space-around",textAlign:"center"},container:{position:"fixed",height:"100%",width:"100%"},main:{display:"flex",boxShadow:"0px 0px 20px 15px rgba(34, 60, 80, 0.25)",alignItems:"center",justifyContent:"center",backgroundColor:"#fff",position:"absolute",top:"15%",bottom:"20%",right:"15%",left:"15%"},bg_image:{position:"relative",width:"100%",height:"100%",backgroundImage:"url(assets/images/jm/bg_pimis.jpeg)",backgroundSize:"cover",backgroundPosition:"center",backgroundColor:"black"},logo:{alignItems:"center",position:"absolute",display:"flex",gap:10,bottom:10,right:10},content:{width:"100%",padding:25,height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-around",gap:15},form:{display:"flex",flexDirection:"column",gap:30,padding:"30px 0px"},label:{display:"flex"},input:{display:"flex",flexDirection:"column"},header:{position:"absolute",left:"15px",top:"15px"},title:{marginBottom:"55px",textShadow:"2px 2px #ffffff",textAlign:"center",width:"50%"},card:{minWidth:300},avatar:{margin:"1em",textAlign:"center ",display:"flex",justifyContent:"center"},hint:{textAlign:"center",marginTop:"1em",color:"#ccc"},footer:{position:"absolute",bottom:"15px",width:"100%",display:"flex",justifyContent:"flex-end",color:"rgba(255, 255, 255, 1.00)",textShadow:"1px 1px 2px rgba(0, 0, 0, 1.00), 0px 0px 5px rgba(0, 0, 0, 1.00)"},footerRightTitle:{paddingRight:"15px",textAlign:"center"},icon:{backgroundColor:e.palette.secondary.main},actions:{padding:"0 1em 1em 1em",display:"flex",flexDirection:"column",gap:10,"& .MuiButton-fullWidth":{backgroundColor:"#043875",padding:10,fontSize:16,borderRadius:15,textTransform:"capitalize"}},bgImageleft:{backgroundSize:"cover",backgroundRepeat:"no-repeat",width:"300px",height:"305px",position:"absolute",left:"5%"},bgImageRight:Object(N.a)({backgroundSize:"cover",backgroundRepeat:"no-repeat",width:"300px",height:"305px",position:"absolute",right:"5%"},"backgroundSize","90%"),sm_bgImageLeft:{backgroundRepeat:"no-repeat",backgroundSize:"100%",width:"150px",height:"150px"},sm_bgImageRight:{backgroundRepeat:"no-repeat",backgroundSize:"90%",width:"150px",height:"150px"},copyright:{position:"absolute",bottom:0,right:0}}})),kh=function(e){var t=e.meta,a=void 0===t?{touched:!1,error:void 0}:t,n=a.touched,o=a.error,i=Object.assign({},(Object(Pp.a)(e.input),e.input)),l=Object(T.a)(e,wh);return r.a.createElement($n.a,Object.assign({error:!(!n||!o),helperText:n&&o},i,l,{fullWidth:!0,variant:"outlined"}))};var Sh=function(e){var t=Object(n.useState)(!1),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(pe.a)(),c=xh(),s=Object(Na.a)(),u=(Object(de.h)(),Object(ai.a)()),d=Object(ee.f)((function(e){return e.app.appConfig})).application_config.prefix;return r.a.createElement(n.Fragment,null,r.a.createElement(_s.b,{onSubmit:function(e){i(!0),fetch(h+"/password",{method:"PUT",body:JSON.stringify({username:e.username})}).then((function(e){localStorage.removeItem("isResetPassword"),s("Password was resetted!"),i(!1),setTimeout((function(){u("/login")}),1500)})).catch((function(e){s("Password wasn`t resetted! ","error"),i(!1)}))},validate:function(e){var t={};return e.username||(t.username=l("ra.validation.required")),t},render:function(e){var t=e.handleSubmit;return r.a.createElement("form",{onSubmit:t,noValidate:!0},r.a.createElement("div",{className:c.container},r.a.createElement("div",{className:c.main},r.a.createElement("div",{className:c.bg_image},r.a.createElement(se.a,{variant:"p",style:{fontSize:55,lineHeight:"55px",fontWeight:900,paddingLeft:100,color:"#fff",top:"30%",position:"absolute",textAlign:"left",width:"100%"}},"Welcome ",r.a.createElement("br",null)," Back!"),r.a.createElement("div",{className:c.logo},r.a.createElement("div",{style:{backgroundImage:"url(assets/images/jm/logo.png)",backgroundSize:"cover",backgroundPosition:"center",height:12,width:18}}),r.a.createElement("div",{style:{color:"#fff",fontSize:"14px"}},"Government of Jamaica"))),r.a.createElement("div",{className:c.content},r.a.createElement("div",null,r.a.createElement(se.a,{variant:"p",style:{fontSize:25}},"Reset Password"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(se.a,{variant:"p",style:{fontSize:18}},"Enter your username to reset password")),r.a.createElement("div",{className:c.form},r.a.createElement("div",{className:c.input},r.a.createElement(se.a,{variant:"h6",style:{marginBottom:5}},"User Name"),r.a.createElement(_s.a,{autoFocus:!0,name:"username",component:kh,label:!1,disabled:o}))),r.a.createElement("div",{className:c.actions},r.a.createElement(Ee.a,{variant:"contained",type:"submit",color:"primary",disabled:o,fullWidth:!0},o&&r.a.createElement(Yr.a,{size:25,thickness:2}),"Reset Password"),r.a.createElement("br",null),r.a.createElement(ce.a,{href:"#/login",underline:"none"},r.a.createElement(se.a,{variant:"body1",style:{marginTop:10,fontSize:14,color:"#002e7b",textAlign:"left"}},"Back to Login")))),r.a.createElement(ie.a,null),r.a.createElement("div",{className:c.copyright},function(e){var t=xh();return"ug"===e?r.a.createElement("h5",{className:t.footerRightTitle},"Copyright \xa9 2019 - ".concat(S()().format("YYYY"),", Ministry of Finance, Planning and Economic Development\n               ")):r.a.createElement("h5",{className:t.footerRightTitle},"\xa9".concat(S()().format("YYYY")," CRI"))}(d)))))}}))},Ph=function(e){return r.a.createElement(ne.a,{theme:Object(un.a)(gn)},r.a.createElement(Sh,e))},Ch=["04","05","06","07","08","09","10","11","12","01","02","03"],Nh=["projectDetails","year"],Ah=["getSource","scopedFormData","formData"],Dh=function(e){var t=e.projectDetails,a=e.year,n=Object(T.a)(e,Nh);if(!t)return null;var o=Object(w.uniq)(w.concat.apply(void 0,Object(D.a)(t.activities.map((function(e){return e.investments.map((function(a){var n=e.output_ids&&e.output_ids[0],r=Object(w.find)(t.outputs,(function(e){return e.id===n})),o=Object(w.find)(t.components,(function(e){return e.id===r.component_id}));return Object(u.a)(Object(u.a)({},a),{},{activity:e,component_id:null===o||void 0===o?void 0:o.id,component:o,output_id:n,output:r,fund_body_type:String(a.fund_body_type||3)})}))}))))),i=Object(w.groupBy)(o,(function(e){return"".concat(e.fund.name," ").concat(e.fund_body_type&&Number(e.fund_body_type)<3?"(".concat(Ka[e.fund_body_type],")"):""," ")})),l=Object(w.uniq)(w.concat.apply(void 0,Object(D.a)(o.map((function(e){return Object.keys(e.costs||{})})))));return r.a.createElement(es.a,Object.assign({},n,{undoable:!1}),r.a.createElement(ou.a,{redirect:function(){return"/cost-plans/96/show"},toolbar:r.a.createElement(s_,{projectDetailId:null===t||void 0===t?void 0:t.id})},r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData;var n=e.formData;Object(T.a)(e,Ah);return n&&(n.year=a,n.project_detail_id=null===t||void 0===t?void 0:t.id,(n&&!n.cost_plan_items||n.cost_plan_items&&0===n.cost_plan_items.length)&&(n.cost_plan_items=null===o||void 0===o?void 0:o.map((function(e){return{activity_id:e.activity_id,fund_body_type:String(e.fund_body_type),fund_id:e.fund_id,cash_flow:{}}})))),r.a.createElement(Fi.a,{style:{overflow:"auto"}},r.a.createElement(oi.a,{size:"small"},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{width:"200px"}},"!Fund Source / Component / Activity"),Ch.map((function(e){var t=S()(e,"MM").format("MMMM").toLowerCase();return r.a.createElement(ci.a,{style:{textTransform:"capitalize"}},t)})))),r.a.createElement(si.a,null,Object.keys(i).map((function(e){var t=Object(w.groupBy)(i[e],(function(e){var t;return null===(t=e.component)||void 0===t?void 0:t.name})),a={},o=Object.keys(t).map((function(e,a){var o=t[e],i={},c=o.map((function(e){var t=Object(w.findIndex)(n.cost_plan_items,(function(t){return t.activity_id===e.activity_id&&t.fund_id===e.fund_id&&t.fund_body_type===e.fund_body_type}));return r.a.createElement(li.a,null,r.a.createElement(ci.a,null," ",e.activity.name),Ch.map((function(e){var a=S()(e,"MM").format("MMMM").toLowerCase();return r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:"cost_plan_items[".concat(t,"].cash_flow.").concat(a),label:!1,variant:"outlined",margin:"none",format:_r,parse:gr,style:{width:120},validate:[Object(rs.j)(),Object(rs.h)()]}))})))}));return[r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:Ch.length-1},"Component: ".concat(e)),l.map((function(e){return r.a.createElement(ci.a,null,i[e])}))),c]}));return[r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:Ch.length-1},"Fund Source: ",e),l.map((function(e){return r.a.createElement(ci.a,null,a[e])}))),o]})))))}))))};function Th(e,t){return e.me_activities?e.me_activities.filter((function(e){return e&&e.activity&&e.activity.output_ids.includes(t)})):[]}function Fh(e,t,a){return e&&"ANNUAL"===e.frequency?"".concat(a," for the quarter - ").concat(e.quarter,", ").concat(xi(e.year).name," "):"".concat(a," from ").concat(wi(t.start_date).name," to ").concat(e.quarter,",").concat(xi(e.year).name," (cumulative)")}var Rh=["record","projectDetails"],Ih=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),Mh=function(e){e.record;var t=e.projectDetails,a=(Object(T.a)(e,Rh),Ih()),n=Object(pe.a)();if(!t)return null;var o=Oi(t.start_date,t.end_date);return r.a.createElement("div",{className:"landscapeSection"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,"Table 1: Logical Framework"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",a.bordered,a.table),style:{width:"100%"}},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:a.filledRow},r.a.createElement(ci.a,{rowspan:"2"},n("printForm.project_framework.goal")),r.a.createElement(ci.a,{rowspan:"2"},n("printForm.result_matrix.indicator_title")),r.a.createElement(ci.a,{colspan:o.length+1},n("printForm.result_matrix.indicator")),r.a.createElement(ci.a,{rowspan:2},"Risk Response")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"".concat(n("printForm.result_matrix.baseline")," ").concat(t.baseline&&wi(S()(t.baseline,"YYYY-MM-DD")).name)),o.map((function(e){return r.a.createElement(ci.a,null,r.a.createElement("strong",null,"".concat(n("printForm.result_matrix.target")," ").concat(e.name)))}))),t&&t.indicators&&0!==t.indicators.length?t.indicators.map((function(e,a){return r.a.createElement(li.a,null,0===a?r.a.createElement(ci.a,{rowSpan:t.indicators.length},"".concat(n("printForm.result_matrix.project_goal"),": ").concat(t.goal)):null,r.a.createElement(ci.a,null,"Indicator ".concat(a+1,": ").concat(e.name)),r.a.createElement(ci.a,null,e.baseline),o.map((function(t){return r.a.createElement(ci.a,null,e.targets[Number(t.id)])})),r.a.createElement(ci.a,null))})):r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:o.length+1+2+5},"".concat(n("printForm.result_matrix.project_goal"),": ").concat(t.goal))),r.a.createElement(li.a,{className:a.filledRow},r.a.createElement(ci.a,{colSpan:o.length+1+2+4},n("printForm.project_framework.outcome",{smart_count:2}))),t&&t.outcomes&&t.outcomes.map((function(e,t){return e.indicators&&0!==e.indicators.length?[e.indicators[0]].map((function(a,i){return r.a.createElement(li.a,null,0===i?r.a.createElement(ci.a,{rowSpan:e.indicators.length},r.a.createElement("p",null,"".concat(n("printForm.project_framework.outcome",{smart_count:1})," ").concat(t+1,": ").concat(e.name)),r.a.createElement("div",{style:{fontSize:"12px",fontStyle:"italic"}},gi()(e.description))):null,r.a.createElement(ci.a,null,"Indicator ".concat(i+1,": ").concat(a.name)),r.a.createElement(ci.a,null,a.baseline),o.map((function(e){return r.a.createElement(ci.a,null,a.targets[Number(e.id)])})),r.a.createElement(ci.a,null,a.risk_factors))})):r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:o.length+1+2+5},r.a.createElement("p",null,"".concat(n("printForm.project_framework.outcome",{smart_count:1})," ").concat(t+1,": ").concat(e.name)),r.a.createElement("div",{style:{fontSize:"12px",fontStyle:"italic"}},gi()(e.description))))})),r.a.createElement(li.a,{className:a.filledRow},r.a.createElement(ci.a,{colSpan:o.length+1+2+4},n("printForm.project_framework.output",{smart_count:2}))),t&&t.outputs&&t.outputs.map((function(e,t){return e.indicators&&0!==e.indicators.length?[e.indicators[0]].map((function(a,i){return r.a.createElement(li.a,null,0===i?r.a.createElement(ci.a,{rowSpan:e.indicators.length},r.a.createElement("p",null,"".concat(n("printForm.project_framework.output",{smart_count:1})," ").concat(t+1,": ").concat(e.name))):null,r.a.createElement(ci.a,null,"Indicator ".concat(i+1,": ").concat(a.name)),r.a.createElement(ci.a,null,a.baseline),o.map((function(e){return r.a.createElement(ci.a,null,a.targets[Number(e.id)])})),r.a.createElement(ci.a,null,a.risk_factors))})):r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:o.length+1+2+5},r.a.createElement("p",null,"".concat(n("printForm.project_framework.output",{smart_count:1})," ").concat(t+1,": ").concat(e.name))))})))))))},Wh=["record","projectDetails"],Lh=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),Yh=function(e){var t=e.record,a=e.projectDetails,n=(Object(T.a)(e,Wh),Lh()),o=Object(pe.a)(),i=Oi(a.start_date,a.end_date);return i&&a.start_date&&a.end_date&&t.year&&(i=i.filter((function(e){return Number(e.id)<=Number(t.year)}))),r.a.createElement("div",{className:"landscapeSection"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,Fh(t,a,"Table 2: Physical Monitoring")),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",n.bordered,n.table),style:{width:"100%"}},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:n.filledRow},r.a.createElement(ci.a,{rowspan:"2"},o("printForm.project_framework.goal")),r.a.createElement(ci.a,{rowspan:"2"},o("printForm.result_matrix.indicator_title")),r.a.createElement(ci.a,{colspan:i.length+2},o("printForm.result_matrix.indicator"))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"".concat(o("printForm.result_matrix.baseline")," ").concat(a.baseline&&wi(S()(a.baseline,"YYYY-MM-DD")).name)),i.map((function(e){return r.a.createElement(ci.a,null,r.a.createElement("strong",null,"".concat(o("printForm.result_matrix.target")," ").concat(e.name)))})),r.a.createElement(ci.a,null,r.a.createElement("strong",null,"".concat(o("printForm.result_matrix.target_achieved"),"  ","  "," ").concat(t&&t.start_date?wi(S()(t.start_date,"YYYY-MM-DD")).name:wi(S()(t.year,"YYYY")).name,", ").concat(t.quarter)))),a&&a.indicators&&0!==a.indicators.length?a.indicators.map((function(e,t){return r.a.createElement(li.a,null,0===t?r.a.createElement(ci.a,{rowSpan:a.indicators.length},"".concat(o("printForm.result_matrix.project_goal"),": ").concat(a.goal)):null,r.a.createElement(ci.a,null,"Indicator ".concat(t+1,": ").concat(e.name)),r.a.createElement(ci.a,null,e.baseline),i.map((function(t){return r.a.createElement(ci.a,null,e.targets[Number(t.id)])})))})):r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:i.length+2+5},"".concat(o("printForm.result_matrix.project_goal"),": ").concat(a.goal))),r.a.createElement(li.a,{className:n.filledRow},r.a.createElement(ci.a,{colSpan:i.length+2+4},o("printForm.project_framework.outcome",{smart_count:2}))),a&&a.outcomes&&a.outcomes.map((function(e,t){return e.indicators&&0!==e.indicators.length?e.indicators.map((function(a,n){return r.a.createElement(li.a,null,0===n?r.a.createElement(ci.a,{rowSpan:e.indicators.length},r.a.createElement("p",null,"".concat(o("printForm.project_framework.outcome",{smart_count:1})," ").concat(t+1,": ").concat(e.name)),r.a.createElement("div",{style:{fontSize:"12px",fontStyle:"italic"}},gi()(e.description))):null,r.a.createElement(ci.a,null,"Indicator ".concat(n+1,": ").concat(a.name)),r.a.createElement(ci.a,null,a.baseline),i.map((function(e){return r.a.createElement(ci.a,null,a.targets[Number(e.id)])})),r.a.createElement(ci.a,null,a.target))})):r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:i.length+2+5},r.a.createElement("p",null,"".concat(o("printForm.project_framework.outcome",{smart_count:1})," ").concat(t+1,": ").concat(e.name)),r.a.createElement("div",{style:{fontSize:"12px",fontStyle:"italic"}},gi()(e.description))))})),r.a.createElement(li.a,{className:n.filledRow},r.a.createElement(ci.a,{colSpan:i.length+2+4},o("printForm.project_framework.output",{smart_count:2}))),t&&t.me_outputs&&t.me_outputs.map((function(e,t){return e.indicators&&0!==e.indicators.length?e.indicators.map((function(a,n){return r.a.createElement(li.a,null,0===n?r.a.createElement(ci.a,{rowSpan:e.indicators.length},r.a.createElement("p",null,"".concat(o("printForm.project_framework.output",{smart_count:1})," ").concat(t+1,": ").concat(e.name||e.output&&e.output.name))):null,r.a.createElement(ci.a,null,"Indicator ".concat(n+1,": ").concat(a.name)),r.a.createElement(ci.a,null,a.baseline),i.map((function(e){return r.a.createElement(ci.a,null,a.targets[Number(e.id)])})),r.a.createElement(ci.a,null,a.target))})):r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:i.length+2+5},r.a.createElement("p",null,"".concat(o("printForm.project_framework.output",{smart_count:1})," ").concat(t+1,": ").concat(e.name))))})))))))},Bh=["record","projectDetails"],zh=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),qh=function(e){var t=e.record,a=e.projectDetails,n=(Object(T.a)(e,Bh),zh()),o=Object(pe.a)();return H(a)?r.a.createElement("div",{className:"landscapeSection"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,Fh(t,a,"Table 3: Project Physical Progress Status")),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",n.bordered,n.table),style:{width:"100%"}},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:n.filledRow},r.a.createElement(ci.a,{colSpan:2},"Output"),r.a.createElement(ci.a,null,"Status"),r.a.createElement(ci.a,null,"% Completed")),t.me_outputs&&t.me_outputs.map((function(e,t){var a=[];return a.push(r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:"2"},r.a.createElement("p",null,"".concat(o("printForm.project_framework.output",{smart_count:1})," ").concat(t+1,": ").concat(e.name||e.output&&e.output.name)),r.a.createElement("div",null,r.a.createElement("b",null,"Risk Description:")," ",e.risk_description),r.a.createElement("div",null,r.a.createElement("b",null,"Risk Response:")," ",e.risk_response),r.a.createElement("div",null,r.a.createElement("b",null,"Corrective Measures:")," ",e.challenges)),r.a.createElement(ci.a,null,r.a.createElement(Ed,{value:e.output_status})),r.a.createElement(ci.a,null,e.output_progress))),a}))))))):null};Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}}));var Uh=function(e){return r.a.createElement(bd.a,{label:hr(e.value),style:{color:"white",borderRadius:10,backgroundColor:function(){if(Object(w.isString)(e.value))switch(e.value){case"UNDERFUNDED":case"NOT_SATISFACTORY":return"red";case"MODERATELY_SATISFACTORY":return"#66e066";case"SATISFACTORY":return"green";default:return""}return 100-e.value<=10?"green":100-e.value>10&&100-e.value<=20?"#66e066":100-e.value>20?"red":void 0}()}})},Vh=["record","projectDetails"],Gh=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),Hh=function(e){return r.a.createElement(Uh,{value:e})},Jh=function(e){var t=e.record,a=e.projectDetails,n=(Object(T.a)(e,Vh),Gh()),o=Object(pe.a)();return a?r.a.createElement("div",{className:"landscapeSection"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,Fh(t,a,"Table 4: Financial Monitoring ")),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",n.bordered,n.table),align:"center",style:{width:"100%"}},r.a.createElement(si.a,{align:"center"},r.a.createElement(li.a,{className:n.filledRow},r.a.createElement(ci.a,{align:"center",colSpan:2,variant:"head"}," ","Project Description"),r.a.createElement(ci.a,{align:"center",variant:"head"},"Total Cost"," "),r.a.createElement(ci.a,{align:"center",variant:"head"},"Initial Budget "),r.a.createElement(ci.a,{align:"center",variant:"head"},"Approved Budget"),r.a.createElement(ci.a,{align:"center",variant:"head"},"Budget Released"," "),r.a.createElement(ci.a,{align:"center",variant:"head"},"Supplementary Budget"),r.a.createElement(ci.a,{align:"center",variant:"head"},"Budget Spent"),r.a.createElement(ci.a,{align:"center",variant:"head"},"Budget Spent (%)"),r.a.createElement(ci.a,{align:"center",variant:"head"},"Releases Spent (%)"),r.a.createElement(ci.a,{align:"center",variant:"head"},"Source of Funds"," ")),t.me_outputs&&t.me_outputs.map((function(e,a){var i=[];e.budget_approved=x.a.sumBy(Th(t,e.output_id),(function(e){return parseFloat(e.budget_appropriation)})),e.budget_allocation=x.a.sumBy(Th(t,e.output_id),(function(e){return parseFloat(e.budget_allocation)})),e.budget_supplemented=x.a.sumBy(Th(t,e.output_id),(function(e){return parseFloat(e.budget_supplemented)})),e.release_budget=x.a.sumBy(Th(t,e.output_id),(function(e){return parseFloat(e.budget_allocation)})),e.release_spent=x.a.sumBy(Th(t,e.output_id),(function(e){return parseFloat(e.financial_execution)})),e.total_cost=0,e.revised_budget=parseFloat(e.budget_supplemented);var l=Th(t,e.output_id).map((function(t,a){return t.total_cost=0,t.activity.investments.forEach((function(a){x.a.keys(a.costs).forEach((function(n){t.total_cost+=parseFloat(a.costs[n]),e.total_cost+=parseFloat(a.costs[n])}))})),t.revised_budget=parseFloat(t.budget_supplemented),r.a.createElement(li.a,null,r.a.createElement(ci.a,{align:"left",colSpan:"2"},"".concat(o("printForm.project_framework.activity",{smart_count:1})," ").concat(a+1,": ").concat(t.activity.name)),r.a.createElement(ci.a,{align:"center"},Di(t.total_cost)),r.a.createElement(ci.a,{align:"center"},Di(t.budget_appropriation)),r.a.createElement(ci.a,{align:"center"},Di(t.budget_allocation)),r.a.createElement(ci.a,{align:"center"},Di(t.revised_budget)),r.a.createElement(ci.a,{align:"center"},Di(t.revised_budget-t.budget_allocation)),r.a.createElement(ci.a,{align:"center"},Di(t.financial_execution)),r.a.createElement(ci.a,{align:"center"},t.revised_budget?Hh(100*t.budget_allocation/t.revised_budget):"-"),r.a.createElement(ci.a,{align:"center"},t.budget_allocation?Hh(100*t.financial_execution/t.revised_budget):"-"),r.a.createElement(ci.a,{style:{textAlign:"center"}},t.fund_source||"-"))}));return i.push(r.a.createElement(li.a,{className:n.filledRow},r.a.createElement(ci.a,{align:"left",colSpan:"2"},"".concat(o("printForm.project_framework.output",{smart_count:1})," ").concat(a+1,": ").concat(e.output.name)),r.a.createElement(ci.a,{align:"center"},Di(e.total_cost)),r.a.createElement(ci.a,{align:"center"},Di(e.budget_approved)),r.a.createElement(ci.a,{align:"center"},Di(e.release_budget)),r.a.createElement(ci.a,{align:"center"},Di(e.revised_budget)),r.a.createElement(ci.a,{align:"center"},Di(e.revised_budget-e.release_budget)),r.a.createElement(ci.a,{align:"center"},Di(e.release_spent)),r.a.createElement(ci.a,{align:"center"},e.revised_budget?Hh(100*e.budget_allocation/e.revised_budget):"-"),r.a.createElement(ci.a,{align:"center"},e.revised_budget?Hh(100*e.release_spent/e.revised_budget):"-"),r.a.createElement(ci.a,{align:"center"}))),i.push(l),i}))))))):null},Xh=(Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),["record","projectDetails"]),$h=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),Kh=function(e){var t=e.record,a=e.projectDetails,n=(Object(T.a)(e,Xh),$h()),o=Object(pe.a)();if(!a)return null;return r.a.createElement("div",{className:"landscapeSection"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,Fh(t,a,"Table 5: Summary of Project Performance")),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",n.bordered,n.table),style:{width:"100%"}},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:n.filledRow},r.a.createElement(ci.a,{align:"left"},"Output / Activity"),r.a.createElement(ci.a,{align:"center"},"Physical Performance Status"),r.a.createElement(ci.a,{align:"center"},"Budgetary performance status (Approved budget Vs Budget Release)"),r.a.createElement(ci.a,{align:"center"},"Budget Spent (Budget released Vs Budget spent)")),t.me_outputs&&t.me_outputs.map((function(e,a){var i=[];return e.budget_approved=x.a.sumBy(Th(t,e.output_id),(function(e){return parseFloat(e.budget_appropriation)})),e.budget_allocation=x.a.sumBy(Th(t,e.output_id),(function(e){return parseFloat(e.budget_allocation)})),e.budget_supplemented=x.a.sumBy(Th(t,e.output_id),(function(e){return parseFloat(e.budget_supplemented)})),e.release_budget=x.a.sumBy(Th(t,e.output_id),(function(e){return parseFloat(e.budget_allocation)})),e.release_spent=x.a.sumBy(Th(t,e.output_id),(function(e){return parseFloat(e.financial_execution)})),e.total_cost=0,e.revised_budget=parseFloat(e.budget_allocation)+parseFloat(e.budget_supplemented),i.push(r.a.createElement(li.a,{className:n.filledRow},r.a.createElement(ci.a,null,"".concat(o("printForm.project_framework.output",{smart_count:1})," ").concat(a+1,": ").concat(e.output.name)),r.a.createElement(ci.a,{align:"center"},r.a.createElement(Ed,{value:e.output_status})),r.a.createElement(ci.a,{align:"center"},r.a.createElement(Ed,{value:100*e.budget_allocation/e.revised_budget})),r.a.createElement(ci.a,{align:"center"},r.a.createElement(Ed,{value:100*e.release_spent/e.revised_budget})))),i})))))," "))},Qh=function(e){var t=Object(pe.a)(),a=e.record;e.customBasePath,e.counter;return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,t("printForm.attachments.title")),r.a.createElement("div",null,a.files&&0!==a.files.length?r.a.createElement("ul",null,a.files.map((function(e){return r.a.createElement("li",null,r.a.createElement("a",{href:e.link},e.title))}))):r.a.createElement("p",null,t("printForm.attachments.no_attachments")))))},Zh=a(2030),ev=a(2031),tv=a(2032),av=a(2033),nv=["year","quarter","data_collection_type","me_type","effectiveness_date","summary","rational_study","methodology","challenges","recommendations","lessons_learned","me_outputs","me_activities","issues"],rv=["basePath","data","resource","location","projectId","id","record"],ov=function(e){e.basePath,e.data,e.resource,e.location,e.projectId,e.id;var t=e.record,a=(Object(T.a)(e,rv),L()),n=Object(Ca.a)(),o=Object(rr.a)(),i=Object(ee.f)((function(e){return e.user.userInfo})),l=t&&t.me_workflow&&t.me_workflow.role_id,c=Object(Na.a)(),s=Object(pe.a)();function u(){return nv.filter((function(e){if(!t[e])return!0;if(t[e]&&Object(w.isArray)(t[e])&&Object(w.isEmpty)(t[e]))return!0;if("me_outputs"===e&&t[e])return t[e].filter((function(e){return e.indicators.filter((function(e){return!e.target})).length})).length>0;if("me_activities"===e&&t[e]){var a=["budget_appropriation","budget_allocation","budget_supplemented","financial_execution","fund_source"];return t[e].filter((function(e){return a.filter((function(t){return!e[t]})).length>0})).length>0}return!1}))}function d(){if(0===u().length)p();else{var e=u().map((function(e){return s("validation.me_reports.".concat(e))})).join(", ");c("Required fields: ".concat(e),"warning")}}function m(e){var a=f(String(e).toUpperCase());e===Wa.SUBMIT&&t&&t.me_workflow&&1===t.me_workflow.step&&(a=d);var n={color:e===Wa.SUBMIT&&t&&t.me_workflow&&1===t.me_workflow.step?0===u().length?"green":"red":""},o=function(e){switch(e){case Wa.SUBMIT:return 0===u().length?r.a.createElement(Zh.a,null):r.a.createElement(ev.a,null);case Wa.APPROVE:return r.a.createElement(tv.a,null);case Wa.REVISE:return r.a.createElement(av.a,null);default:return null}}(),i=s("buttons.".concat(e.toLowerCase()));return r.a.createElement(Xn.a,{style:n,label:i,onClick:a},o)}var p=function(){var e={data:{action:"SUBMIT",reason:"decision"},id:t.id};n.action("me-reports",e).then((function(e){o()}))},f=function(e){return function(){var a={data:{action:e,reason:"decision"},id:t.id};n.action("me-reports",a).then((function(e){o()}))}};return!i.current_role||Number(l)!==Number(i.current_role.role_id)&&1!==Number(i.current_role.role_id)?r.a.createElement(r.a.Fragment,null):t&&t.me_workflow&&t.me_workflow.actions&&t.me_workflow.actions.filter((function(e){return a("".concat(String(e).toLowerCase(),"_me_report"))})).map((function(e){return m(e)}))},iv=["basePath","data","resource","location","projectId","projectDetailsId","id"],lv=function(e){var t=e.basePath,a=e.data,n=(e.resource,e.location,e.projectId,e.projectDetailsId),o=(e.id,Object(T.a)(e,iv)),i=L();function l(){return a&&i("export_me_project")}return r.a.createElement(Gs.a,{style:{minHeight:"45px"}},r.a.createElement(Xn.a,{href:"/#/project/".concat(n,"/me-reports"),label:"Back to Reports",style:{position:"absolute",left:10,top:0}}),a&&("DRAFT"===a.report_status||"REVISED"===a.report_status)&&i("me_edit_report")&&r.a.createElement(v_.a,{basePath:t,record:a}),a&&i("me_actions_report")&&r.a.createElement(ov,{record:a}),Y("me_project_export")&&l()&&r.a.createElement(Ks,{printId:"docx",record:a,isEditUser:l(),title:o.title,subtitle:o.subtitle,meReport:!0}))},cv=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),sv=function(e){var t=Object(n.useState)(null),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(pe.a)(),c=e.customRecord,s=(e.customBasePath,H(c)),u=cv(),d=Object(Ca.a)();if(Object(n.useEffect)((function(){c&&!o&&c.project_id&&d.getOne("projects",{id:c.project_id}).then((function(e){e&&e.data&&i(e.data)}))}),[c]),!s)return null;var m;s&&Y("project_report_total_cost_show",s.phase_id)?(String(Pi(s)).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1,")," ".concat(l("titles.currency"))):(String(Ci(s)).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1,")," ".concat(l("titles.currency")));return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",u.bordered,u.table)},r.a.createElement(si.a,null,r.a.createElement(vl,Object.assign({},e,{field:"project_organization",config:"organizational_config",project:o})),r.a.createElement(vl,Object.assign({},e,{field:"program",config:"programs_config",project:o})),r.a.createElement(vl,Object.assign({},e,{field:"function",config:"functions_config",project:o})),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,l("printForm.project_info.project_title"),":"),r.a.createElement(ci.a,null,o&&o.name)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,l("printForm.project_info.project_no"),":"),r.a.createElement(ci.a,null,o&&o.code)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,l("printForm.project_info.budget_code"),":"),r.a.createElement(ci.a,null,o&&o.budget_code)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,l("printForm.project_info.signed_date"),":"),r.a.createElement(ci.a,null,o&&o.signed_date)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,l("printForm.project_info.project_duration"),":"),r.a.createElement(ci.a,null,Ti(s.start_date,s.end_date))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,l("printForm.project_info.project_cost"),":"),r.a.createElement(ci.a,null,s.investment_stats&&s.investment_stats.total_cost?(m=s.investment_stats.total_cost,String(m).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1,")+" ".concat(l("titles.currency"))):"-")),Y("project_show_capital_current_ratio",s.phase_id)&&r.a.createElement(li.a,null,r.a.createElement(ci.a,null,l("printForm.project_info.current_investment_ratio"),":"),r.a.createElement(ci.a,null,s.investment_stats&&s.investment_stats.costing_ratio?s.investment_stats.costing_ratio:"-")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,l("printForm.project_info.officer"),":"),r.a.createElement(ci.a,null,s.responsible_officers&&s.responsible_officers.map((function(e,t){return r.a.createElement(n.Fragment,null,1===t&&r.a.createElement("hr",null),r.a.createElement("p",null,l("printForm.project_info.responsible_officers.title"),": ",e.title?e.title:"-"),r.a.createElement("p",null,l("printForm.project_info.responsible_officers.name"),": ",e.name?e.name:"-"),r.a.createElement("p",null,l("printForm.project_info.responsible_officers.mobile_phone"),": ",e.mobile_phone?e.mobile_phone:"-"),r.a.createElement("p",null,l("printForm.project_info.responsible_officers.phone"),": ",e.phone?e.phone:"-"),r.a.createElement("p",null,l("printForm.project_info.responsible_officers.email"),": ",e.email?e.email:"-"))})))))))))},uv=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),dv=function(e){var t=uv(),a=(Object(pe.a)(),e.customRecord),n=(e.customBasePath,H(a));e.counter;if(!n)return null;var o=function(e){switch(e){case"Q1":case"Q3":return e;case"Q2":return"Semi-Annual";case"Q4":return"Annual";default:return""}};return r.a.createElement("div",{className:"landscapeSection"},r.a.createElement("div",{className:"content-area"},r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",t.bordered,t.table),style:{width:"100%"}},r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Executive Summary"),r.a.createElement(ci.a,null,e.record.summary)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Introduction"),r.a.createElement(ci.a,null,e.record.rational_study)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Methodology"),r.a.createElement(ci.a,null,e.record.methodology)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Funding Source"),r.a.createElement(ci.a,null,function(){var e=[];return a&&a.activities&&a.activities.forEach((function(t){t&&t.investments&&t.investments.forEach((function(t){t&&t.fund&&t.fund.name&&e.push(t.fund.name)}))})),e.length>0?x.a.uniq(e).join(", "):null}())),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Date of effectiveness of project"),r.a.createElement(ci.a,null,Er(e.record.effectiveness_date))),e.record&&"ANNUAL"===e.record.frequency&&r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Disbursement"),r.a.createElement(ci.a,null,e.record.disbursement)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Type of M&E Methodology"),r.a.createElement(ci.a,null,e.record.me_type)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Data collection method/source"),r.a.createElement(ci.a,null,e.record.data_collection_type)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Period of Assessment"),r.a.createElement(ci.a,null,"ANNUAL"===e.record.frequency?"".concat(o(e.record.quarter)," - ").concat(xi(e.record.year).name," "):"Independent Reporting: ".concat(o(e.record.quarter)," "))))))))},mv=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),pv=function(e){Object(pe.a)();var t=e.record,a=e.projectDetails,n=(e.counter,mv());return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,Fh(t,a,"Coordination issues ")),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",n.bordered,n.table)},r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{variant:"head"},"Issues"),r.a.createElement(ci.a,{variant:"head"},"Challenges"),r.a.createElement(ci.a,{variant:"head"},"Recommendations")),t&&t.issues&&t.issues.filter((function(e){return e})).map((function(e){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Other"===e.issue?e.issues_other:e.issue),r.a.createElement(ci.a,null," ",e.challenges),r.a.createElement(ci.a,null," ",e.recommendations))})))))))},fv=(Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}}))),_v=function(e){Object(pe.a)();var t=e.record,a=e.projectDetails,n=(e.counter,fv());return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,Fh(t,a,"Conclusion")),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",n.bordered,n.table)},r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Challenges"),r.a.createElement(ci.a,null,t.challenges)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Recommendations "),r.a.createElement(ci.a,null,t.recommendations)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Lessons Learned"),r.a.createElement(ci.a,null,t.lessons_learned)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Remarks"),r.a.createElement(ci.a,null,t.remarks?t.remarks:"")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Overall Project Rating"),r.a.createElement(ci.a,null,t.overall_project_rating?t.overall_project_rating:"")))))))},gv=(Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),["projectDetails"]),hv=["classes"];function vv(e){var t,a=e.projectDetails,n=Object(T.a)(e,gv);return r.a.createElement("div",{id:"docx",className:"export_container"},r.a.createElement("h2",null,null===a||void 0===a||null===(t=a.project)||void 0===t?void 0:t.name),r.a.createElement(sv,Object.assign({},n,{customRecord:a})),r.a.createElement(hl,null),r.a.createElement(qi,Object.assign({},n,{customRecord:a})),r.a.createElement(hl,null),r.a.createElement(dv,Object.assign({},n,{customRecord:a})),r.a.createElement(hl,null),r.a.createElement(Mh,Object.assign({},n,{projectDetails:a})),r.a.createElement(hl,null),r.a.createElement(Yh,Object.assign({},n,{projectDetails:a})),r.a.createElement(hl,null),r.a.createElement(qh,Object.assign({},n,{projectDetails:a})),r.a.createElement(hl,null),r.a.createElement(Jh,Object.assign({},n,{projectDetails:a})),r.a.createElement(hl,null),r.a.createElement(Kh,Object.assign({},n,{projectDetails:a})),r.a.createElement(hl,null),r.a.createElement(pv,Object.assign({},n,{projectDetails:a})),r.a.createElement(hl,null),r.a.createElement(_v,Object.assign({},n,{projectDetails:a})),r.a.createElement(hl,null),r.a.createElement(Qh,Object.assign({},n,{projectDetails:a})))}var bv=function(e){e.classes;var t=Object(T.a)(e,hv),a=Object(n.useState)({}),o=Object(Z.a)(a,2),i=o[0],l=o[1],c=Object(n.useState)({}),s=Object(Z.a)(c,2),u=s[0],d=s[1],m=Object(Ca.a)();return Object(n.useEffect)((function(){m.getOne("me-reports",{id:t.id}).then((function(e){e&&e.data&&e.data.project_detail_id&&m.getOne("project-details",{id:e.data.project_detail_id}).then((function(e){e&&e.data&&(l(e.data),e.data.project_id&&m.getOne("projects",{id:e.data.project_id}).then((function(e){e&&e.data&&d(e.data)})))}))}))}),[]),r.a.createElement(E_.a,Object.assign({},t,{undoable:!1,actions:r.a.createElement(lv,{projectId:i&&i.project_id,projectDetailsId:i&&i.id,title:u&&u.name,subtitle:"Monitoring & Evaluation Report"}),redirect:!1}),r.a.createElement(j_.a,null,r.a.createElement(vv,{projectDetails:i})))};Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{textAlign:"left",fontSize:"15px",fontWeight:"bold",paddingLeft:"30px",margin:"10px auto"}}}));var Ev=function(e){var t=n.useState([]),a=Object(Z.a)(t,2),r=(a[0],a[1],n.useState([])),o=Object(Z.a)(r,2),i=o[0],l=o[1],c=Object(pe.a)(),s=Object(Ca.a)();return Object(n.useEffect)((function(){s.getListOfAll("projects",{filter:{is_deleted:!1,phase_id:7}}).then((function(e){if(e&&e.data){var t=e.data.map((function(e){var t;return null===e||void 0===e||null===(t=e.current_project_detail)||void 0===t?void 0:t.id})).filter((function(e){return e}));s.getListOfAll("me-reports",{sort_field:"id",filter:{report_status:"COMPLETED",project_detail_ids:t}}).then((function(e){e&&e.data&&l(e.data)}))}}))}),[]),n.createElement(ui.a,{container:!0,spacing:3,style:{paddingTop:20}},n.createElement(ui.a,{item:!0,xs:12},n.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:20,marginTop:10,alignItems:"center"}},n.createElement(se.a,{variant:"h4",style:{width:"100%"}},c("resources.".concat(e.location.pathname.slice(1,e.location.pathname.length),".name"))),n.createElement(nr,{reportId:"report-container",title:"Consolidated M&E Report",exportTypes:[Ha.WORD,Ha.PDF,Ha.XLS]})),n.createElement(In.a,{style:{padding:25},id:"report-container"},i.map((function(e){return n.createElement(n.Fragment,null,n.createElement(vv,{record:e,projectDetails:e.project_detail}),n.createElement(ke.a,{variant:"fullWidth",style:{margin:"35px 0px"}}))})))))},jv=[{id:1,field:"summary",translation:"validation.summary",validation:["required"],phases:[1,2],step:Ia.SUMMARY,app:["jm"],resource:"project"},{id:2,field:"revenue_source",validation:["required"],phases:[1,2],translation:"validation.revenue_source",step:Ia.SUMMARY,app:["jm"],resource:"project"},{id:3,field:"proposed_funding_source",validation:["required"],phases:[1,2],translation:"validation.proposed_funding_source",step:Ia.SUMMARY,app:["jm"],resource:"project"},{id:4,field:"start_date",validation:["required"],phases:[1,2],translation:"validation.start_date",step:Ia.SUMMARY,app:["jm"],resource:"project"},{id:5,field:"end_date",validation:["required"],phases:[1,2],translation:"validation.end_date",step:Ia.SUMMARY,app:["jm"],resource:"project"},{id:6,field:"locations",validation:["required"],phases:[1,2],translation:"validation.location",step:Ia.SUMMARY,app:["jm"],resource:"project"},{id:7,field:"project_goal",validation:["required"],phases:[1,2],translation:"validation.goal",step:Ia.SUMMARY,app:["jm"],resource:"project"},{id:8,field:"procurement_modality",validation:["required"],phases:[1,2],translation:"validation.procurement_modality",step:Ia.SUMMARY,app:["jm"],resource:"project"},{id:9,field:"governance",validation:["required"],phases:[1,2],translation:"validation.governance",step:Ia.PROJECT_BACKGROUND,app:["jm"],resource:"project"},{id:10,field:"me_strategies",validation:["required"],phases:[1,2],translation:"validation.me_strategies",step:Ia.PROJECT_BACKGROUND,app:["jm"],resource:"project"},{id:11,field:"problem_statement",translation:"validation.problem_statement",validation:["required"],phases:[1,2],step:Ia.PROJECT_BACKGROUND,app:["jm"],resource:"project"},{id:12,field:"problem_cause",validation:["required"],phases:[1,2],translation:"validation.problem_cause",step:Ia.PROJECT_BACKGROUND,app:["jm"],resource:"project"},{id:13,field:"problem_effects",validation:["required"],phases:[1,2],translation:"validation.problem_effects",step:Ia.PROJECT_BACKGROUND,app:["jm"],resource:"project"},{id:14,field:"justification",validation:["required"],phases:[1,2],translation:"validation.justification",step:Ia.PROJECT_BACKGROUND,app:["jm"],resource:"project"},{id:15,field:"stakeholder_consultation",validation:["required"],phases:[1],translation:"validation.stakeholders",step:Ia.PROJECT_BACKGROUND,app:["jm"],resource:"project"},{id:16,field:"stakeholders",validation:["required"],innerFields:[{name:!0},{description:!0},{interest_level:!0},{influence_level:!0},{communication_channel:!0},{engagement_frequency:!0},{responsible_entity:!0}],phases:[2],translation:"validation.stakeholders",step:Ia.STAKEHOLDERS,app:["jm"],resource:"project"},{id:17,field:"goal",validation:["required"],phases:[2],translation:"validation.goal",step:Ia.RESULT_MATRIX,app:["jm"],resource:"project"},{id:18,field:"indicators",innerFields:[{name:!0},{baseline:!0},{verification_means:!0}],validation:["required"],phases:[2],translation:"validation.goal_indicators",step:Ia.RESULT_MATRIX,app:["jm"]},{id:19,field:"outcomes",innerFields:[{name:!0}],validation:["required"],phases:[2],translation:"validation.outcomes",step:Ia.RESULT_MATRIX,app:["jm"],resource:"project"},{id:20,field:"outcomes.indicators",validation:["required"],innerFields:[{name:!0},{baseline:!0},{verification_means:!0},{assumptions:!0},{risk_factors:!0}],phases:[2],translation:"validation.outcomes_indicators",step:Ia.RESULT_MATRIX,app:["jm"],resource:"project"},{id:21,field:"outputs",validation:["required"],innerFields:[{name:!0},{outcome_ids:!0},{organization_ids:!0},{component_id:!0},{description:!0}],phases:[2],translation:"validation.outputs",step:Ia.RESULT_MATRIX,app:["jm"],resource:"project"},{id:22,field:"outputs.indicators",validation:["required"],innerFields:[{name:!0},{baseline:!0},{verification_means:!0},{assumptions:!0},{risk_factors:!0}],phases:[2],translation:"validation.outputs_indicators",step:Ia.RESULT_MATRIX,app:["jm"],resource:"project"},{id:23,field:"baseline",validation:["required"],phases:[2],translation:"validation.baseline",step:Ia.RESULT_MATRIX,app:["jm"],resource:"project"},{id:24,field:"components",innerFields:[{name:!0},{description:!0}],validation:["required"],phases:[1,2],translation:"validation.components",step:Ia.COST_ESTIMATES,app:["jm"],resource:"project"},{id:25,field:"components.investments",validation:["required"],innerFields:[{fund_id:!0}],phases:[2],translation:"validation.components_investments",step:Ia.COST_ESTIMATES,app:["jm"],resource:"project"},{id:26,field:"components.subcomponents",innerFields:[{name:!0},{description:!0}],validation:["required"],phases:[2],translation:"validation.components_subcomponents",step:Ia.COST_ESTIMATES,app:["jm"],resource:"project"},{id:27,field:"om_costs",innerFields:[{fund_id:!0},{costing_id:!0}],validation:["required"],phases:[2],translation:"validation.om_costs",step:Ia.OM_COSTS,app:["jm"],resource:"project"},{id:28,field:"ppp_similar_reference",validation:["required"],phases:[1,2],translation:"validation.ppp_similar_reference",step:Ia.PROCUREMENT,app:["jm"],resource:"project"},{id:29,field:"ppp_interest",validation:["required"],phases:[1,2],translation:"validation.ppp_interest",step:Ia.PROCUREMENT,app:["jm"],resource:"project"},{id:30,field:"ppp_impediments",validation:["required"],phases:[1,2],translation:"validation.ppp_impediments",step:Ia.PROCUREMENT,app:["jm"],resource:"project"},{id:31,field:"ppp_risk_allocation",validation:["required"],phases:[1,2],translation:"validation.ppp_risk_allocation",step:Ia.PROCUREMENT,app:["jm"],resource:"project"},{id:32,field:"ndp_strategies",validation:["required"],phases:[1,2],innerFields:[{ndp_goal_id:!0},{ndp_outcome_id:!0},{ndp_sdgs_ids:!0},{ndp_strategy_ids:!0}],translation:"validation.ndp_strategy_id",step:Ia.NDP,app:["jm"],resource:"project"},{id:33,field:"ndp_policy_alignment",validation:["required"],phases:[1,2],translation:"validation.ndp_policy_alignment",step:Ia.NDP,app:["jm"],resource:"project"},{id:34,field:"ndp_compliance",validation:["required"],phases:[1,2],translation:"validation.ndp_compliance",step:Ia.NDP,app:["jm"],resource:"project"},{id:35,field:"default_option_name",validation:["required"],phases:[1,2],translation:"validation.default_option_name",step:Ia.OPTIONS_ANALYSIS,app:["jm"],resource:"project"},{id:36,field:"default_option_description",validation:["required"],phases:[1,2],translation:"validation.default_option_description",step:Ia.OPTIONS_ANALYSIS,app:["jm"],resource:"project"},{id:37,field:"default_option_description_impact",validation:["required"],phases:[1,2],translation:"validation.default_option_description_impact",step:Ia.OPTIONS_ANALYSIS,app:["jm"],resource:"project"},{id:38,field:"project_options",validation:["required"],phases:[1],innerFields:[{name:!0},{description:!0},{swot_analysis:!0},{start_date:!0},{end_date:!0},{capital_expenditure:!0},{funding_modality:!0}],translation:"validation.project_options",step:Ia.OPTIONS_ANALYSIS,app:["jm"],resource:"project"},{id:39,field:"project_options",validation:["required"],phases:[2],innerFields:[{name:!0},{description:!0},{swot_analysis:!0},{start_date:!0},{end_date:!0},{capital_expenditure:!0},{funding_modality:!0},{financial_evaluation:!0},{economic_evaluation:!0},{stakeholder_evaluations:!0}],translation:"validation.project_options",step:Ia.OPTIONS_ANALYSIS,app:["jm"],resource:"project"},{id:41,field:"climate_risks",validation:["required"],phases:[2],innerFields:[{climate_hazard:!0},{exposure_risk:!0},{vulnerability_risk:!0},{overall_risk:!0},{vulnerability_impact:!0}],translation:"validation.climate_risks",step:Ia.CLIMATE_RISK_ASSESSMENT,app:["jm"],resource:"project"},{id:42,field:"project_risks",validation:["required"],phases:[2],innerFields:[{name:!0},{impact_level:!0},{probability:!0},{score:!0},{response:!0},{owner:!0}],translation:"validation.project_risks",step:Ia.RISK_ASSESSMENT,app:["jm"],resource:"project"}],yv={1:"Concept",2:"Proposal"},Ov=function(e){var t,a=e.item,o=e.onChange,i=Object(pe.a)(),l=r.a.useState(a.validation.includes("required")),c=Object(Z.a)(l,2),s=c[0],d=c[1],m=r.a.useState({1:a.phases.includes(1)||a.phases.includes("1"),2:a.phases.includes(2)||a.phases.includes("2")}),p=Object(Z.a)(m,2),f=p[0],_=p[1],g=r.a.useState(a.innerFields),h=Object(Z.a)(g,2),v=h[0],b=h[1];Object(n.useEffect)((function(){d(a.validation.includes("required")),_({1:a.phases.includes(1)||a.phases.includes("1"),2:a.phases.includes(2)||a.phases.includes("2")}),b(a.innerFields)}),[a.innerFields,a.phases,a.validation]);var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v,r=e?"required":null,i=Object(u.a)(Object(u.a)({},a),{},{validation:[r].filter(Boolean),phases:Object.keys(t).filter((function(e){return Boolean(t[e])})).map((function(e){return Number(e)}))});a.innerFields&&(i.innerFields=n),o(i)},j=function(e){var t=Object(u.a)(Object(u.a)({},f),{},Object(N.a)({},e.target.name,e.target.checked));_(t),E(s,t,v)},y=function(e){var t=v.map((function(t){var a=Object.keys(t)[0];return a===e.target.name?Object(N.a)({},a,e.target.checked):t}));b(t),E(s,f,t)},O=null===a||void 0===a||null===(t=a.innerFields)||void 0===t?void 0:t.map((function(e){var t=Object.keys(e)[0],n=e[t];return r.a.createElement(li.a,{key:t},r.a.createElement(ci.a,{style:{paddingLeft:45}},r.a.createElement("b",null,i("validationFields.".concat(a.field,"_").concat(t)))),r.a.createElement(ci.a,null,r.a.createElement(Qn.a,{onChange:y,value:n,checked:n,name:t,disabled:!s})),r.a.createElement(ci.a,null))}));return[r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{padding:15}},r.a.createElement("b",null,i("validationFields."+a.field))),r.a.createElement(ci.a,null,r.a.createElement(Qn.a,{onChange:function(e){d(e.target.checked),E(e.target.checked,f,v)},value:s,checked:s})),r.a.createElement(ci.a,{style:{display:"flex"}},Object.keys(yv).map((function(e){return r.a.createElement("div",null,r.a.createElement(Qn.a,{onChange:j,value:s,name:e,key:e,checked:f[e],disabled:!s}),r.a.createElement("span",null,yv[e]))})))),O]},wv=function(){var e=Object(Ca.a)(),t=Object(Na.a)(),a=Object(pe.a)(),o=r.a.useState(jv),i=Object(Z.a)(o,2),l=i[0],c=i[1],s=r.a.useState(0),d=Object(Z.a)(s,2),m=d[0],p=(d[1],r.a.useState(0)),f=Object(Z.a)(p,2),_=f[0],g=f[1],h=r.a.useState(null),v=Object(Z.a)(h,2),b=v[0],E=v[1],j=r.a.useState(null),y=Object(Z.a)(j,2);y[0],y[1];Object(n.useEffect)((function(){e.getListOfAll("parameters",{sort_field:"id"}).then((function(e){if(e&&e.data){var t=Object(w.find)(e.data,(function(e){return"validation"===e.param_key}));t&&t.param_value&&(E(t.id),t.param_value&&t.param_value.length>0&&c(O(t.param_value)))}}))}),[]);var O=function(e){var t=e.filter((function(e){return e.validation.includes("required")}));return jv.map((function(a){var n=Object(w.find)(e,(function(e){return e.field===a.field}));return a.validation=Object(w.find)(t,(function(e){return e.field===a.field}))?["required"]:[],a.innerFields&&(a.innerFields=a.innerFields.map((function(e){var t=Object.keys(e)[0];return Object(N.a)({},t,!!n&&n.innerFields.includes(t))}))),a.phases=n?n.phases:a.phases,a}))},x=function(e){var t=Object(w.groupBy)(e,"resource");return Object.keys(t).map((function(e){var a=Object(w.groupBy)(t[e],"step");return Object(N.a)({},e,a)}))[0]}(l),k=Object.keys(x),S=Object.keys(x[k[m]]),P=x[k[m]][S[_]],C=function(e){var t=P.map((function(t){return t.id===e.id?e:t})),a=Object(w.cloneDeep)(x),n=Object.keys(a),r=Object.keys(a[n[m]]);a[n[m]][r[_]]=t,c((function(t){return t.map((function(t){return t.id===e.id?e:t}))}))};return r.a.createElement(In.a,null,r.a.createElement(Us.a,{variant:"scrollable",value:_,onChange:function(e,t){g(t)},style:{overflowX:"auto"},scrollButtons:"on"},S.map((function(e){return r.a.createElement(Vs.a,{label:a("projectSteps.".concat(e)),key:e})}))),P&&r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small"},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Field"),r.a.createElement(ci.a,null,"Is Required"),r.a.createElement(ci.a,null,"Phases"))),r.a.createElement(si.a,null,P.map((function(e){return r.a.createElement(Ov,{item:e,key:e.id,onChange:C})}))))),r.a.createElement("div",{style:{padding:10,display:"flex",justifyContent:"flex-end",gap:15}},r.a.createElement(Ee.a,null,"Cancel"),r.a.createElement(Ee.a,{onClick:function(){var a=l.filter((function(e){return e.validation.includes("required")})).map((function(e){return e.innerFields&&(e.innerFields=e.innerFields.filter((function(e){return!0===e[Object.keys(e)[0]]})).map((function(e){return Object.keys(e)[0]}))),e}));if(b){var n={id:b,is_hidden:!0,param_key:"validation",param_value:a};e.update("parameters",{id:b,data:Object(u.a)({},n)}).then((function(e){e&&t("validation updated")})).catch((function(e){return t("validation saving error")}))}},variant:"contained",color:"primary"},"Save")))},xv=a(1880),kv=Object(ae.a)((function(e){return{table:{minWidth:700,backgroundColor:"#fff"},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"},actions:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"}}})),Sv=function(e){var t=kv(),a=r.a.useState([]),n=Object(Z.a)(a,2),o=n[0],i=n[1],l=r.a.useState(null),c=Object(Z.a)(l,2),s=c[0],u=c[1],d=r.a.useState(!0),m=Object(Z.a)(d,2),p=m[0],f=m[1],_=r.a.useState(!0),g=Object(Z.a)(_,2),h=g[0],v=g[1],b=Object(Ca.a)(),E=(Object(de.g)(),Object(ai.a)());r.a.useEffect((function(){var t,a,n,r;b.getListOfAll("risk-assessments",{sort_field:"id",filter:{project_detail_id:Number(null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id)}}).then((function(e){if(e&&e.data){var t=x.a.sortBy(e.data,["reporting_date","reporting_quarter"],["asc","asc"]);i(t),v(!1)}})),b.getOne("project-details",{id:Number(null===(n=e.match)||void 0===n||null===(r=n.params)||void 0===r?void 0:r.id)}).then((function(e){e&&e.data&&(u(e.data),f(!1))}))}),[e]);var j=function(){if(s){var e=s.project_options;return w.concat.apply(void 0,Object(D.a)(e.map((function(e){return e.risk_evaluations}))))}return[]};if(p||h)return r.a.createElement(eg.a,null);var y=null===o||void 0===o?void 0:o.filter((function(e){return e.has_risk_occurred})),O=null===o||void 0===o?void 0:o.filter((function(e){return!e.has_risk_occurred}));return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:t.actions},r.a.createElement(Xn.a,{onClick:function(){var t,a;E("/implementation-module/".concat(Number(null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id),"/costed-annualized-plan"))},label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null),style:{marginBottom:15}})),r.a.createElement("div",{className:"content-area",id:"report-container"},r.a.createElement(se.a,{variant:"h3",style:{marginLeft:15,marginBottom:15}},"Risk Assessments Report (Pre-Investment)"),j()&&j().length>0&&r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",t.bordered,t.table)},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Risk Description"))),r.a.createElement(si.a,null,j()&&j().map((function(e){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e.description))}))))),r.a.createElement("br",null),r.a.createElement(Xn.a,{style:{float:"right"},variant:"contained",label:"Add New Risk",onClick:function(){var t,a;E("/".concat(e.resource,"/").concat(Number(null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id),"/create"),null,null,{has_risk_occurred:!0})}}),r.a.createElement(se.a,{variant:"h3",style:{marginLeft:15,marginBottom:15}},"Risk has occured"),y&&y.length>0?r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",t.bordered,t.table)},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Risk Description"),r.a.createElement(ci.a,null,"Effects"),r.a.createElement(ci.a,null,"Mitigation Response"),r.a.createElement(ci.a,null))),r.a.createElement(si.a,null,y&&y.map((function(t){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,t.description),r.a.createElement(ci.a,null,t.effects||"-"),r.a.createElement(ci.a,null,t.mitigation_response||"-"),r.a.createElement(ci.a,null,r.a.createElement(v_.a,{basePath:e.basePath,record:t,resource:e.resource}),r.a.createElement(xv.a,{basePath:e.basePath,record:t,resource:e.resource,undoable:!0})))}))))):r.a.createElement("p",null,"No occured risks"),r.a.createElement("br",null),r.a.createElement(se.a,{variant:"h3",style:{marginLeft:15,marginBottom:15}},"Additional risks"),O&&O.length>0?r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",t.bordered,t.table)},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Risk Description"),r.a.createElement(ci.a,null,"Effects"),r.a.createElement(ci.a,null,"Mitigation Response"),r.a.createElement(ci.a,null))),r.a.createElement(si.a,null,O&&O.map((function(t){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,t.description),r.a.createElement(ci.a,null,t.effects||"-"),r.a.createElement(ci.a,null,t.mitigation_response||"-"),r.a.createElement(ci.a,null,r.a.createElement(v_.a,{basePath:e.basePath,record:t,resource:e.resource}),r.a.createElement(xv.a,{basePath:e.basePath,record:t,resource:e.resource,redirect:function(){return"/risk-assessments/".concat(null===t||void 0===t?void 0:t.project_detail_id,"/list")}})))}))))):r.a.createElement("p",null,"No additional risks")))},Pv=Object(ae.a)((function(e){return{table:{minWidth:700,backgroundColor:"#fff"},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"},actions:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"}}})),Cv=function(e){var t,a,n=Pv(),o=r.a.useState(!0),i=Object(Z.a)(o,2),l=i[0],c=i[1],s=r.a.useState(!0),u=Object(Z.a)(s,2),d=u[0],m=u[1],p=r.a.useState([]),f=Object(Z.a)(p,2),_=f[0],g=f[1],h=Object(Ca.a)(),v=r.a.useState(null),b=Object(Z.a)(v,2),E=b[0],j=b[1],y=(Object(de.g)(),Object(ai.a)());return r.a.useEffect((function(){var t,a,n,r;h.getListOfAll("stakeholder-engagements",{sort_field:"id",filter:{project_detail_id:Number(null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id)}}).then((function(e){if(e&&e.data){var t=x.a.sortBy(e.data,["reporting_date","reporting_quarter"],["asc","asc"]);g(t),c(!1)}})),h.getOne("project-details",{id:Number(null===(n=e.match)||void 0===n||null===(r=n.params)||void 0===r?void 0:r.id)}).then((function(e){e&&e.data&&(j(e.data),m(!1))}))}),[]),l||d?r.a.createElement(eg.a,null):r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:n.actions},r.a.createElement(Xn.a,{onClick:function(){var t,a;y("/implementation-module/".concat(Number(null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id),"/costed-annualized-plan"))},label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null),style:{marginBottom:15}})),r.a.createElement("div",{className:"content-area",id:"report-container"},r.a.createElement(se.a,{variant:"h2",style:{marginBottom:15}},"Stakeholder Engagements Report (Pre-Investment)"),E&&(null===(t=E.stakeholders)||void 0===t?void 0:t.length)>0&&r.a.createElement("div",null,E&&(null===(a=E.stakeholders)||void 0===a?void 0:a.map((function(e,t){return r.a.createElement("div",null,r.a.createElement(se.a,{variant:"h5"},"".concat(t+1,") Name: ").concat(e.name)),r.a.createElement(se.a,{variant:"h5"},"Responsibilities:"),r.a.createElement(se.a,{variant:"p"},gi()(e.responsibilities)))})))),r.a.createElement("br",null),r.a.createElement(Xn.a,{style:{float:"right"},variant:"contained",label:"Add New Stakeholder",onClick:function(){var t,a;y("/".concat(e.resource,"/").concat(Number(null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id),"/create"),null,null,{has_risk_occurred:!0})}}),r.a.createElement(se.a,{variant:"h2",style:{marginBottom:15}},"Stakeholder Engagements"),_&&_.length>0&&r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",n.bordered,n.table)},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Reporting Date"),r.a.createElement(ci.a,null,"Reporting Quarter"),r.a.createElement(ci.a,null,"Stakeholder Name"),r.a.createElement(ci.a,null,"Interest Level"),r.a.createElement(ci.a,null,"Level of Influence"),r.a.createElement(ci.a,null,"Status of Engagement"),r.a.createElement(ci.a,null,"Level of engagement"),r.a.createElement(ci.a,null,"Engagement frequency"),r.a.createElement(ci.a,null,"Communication Channel"),r.a.createElement(ci.a,null,"Issues"),r.a.createElement(ci.a,null,"Mitigation Measures"),r.a.createElement(ci.a,null,"Responsible Entity"),r.a.createElement(ci.a,null))),r.a.createElement(si.a,null,_&&_.map((function(t){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,t&&wi(t.reporting_date)&&wi(t.reporting_date).name)," ",r.a.createElement(ci.a,null,t.reporting_quarter),r.a.createElement(ci.a,null,t.name),r.a.createElement(ci.a,null,t.interest_level),r.a.createElement(ci.a,null,t.influence_level),r.a.createElement(ci.a,null,t.engagement_status),r.a.createElement(ci.a,null,t.engagement_level),r.a.createElement(ci.a,null,t.engagement_frequency),r.a.createElement(ci.a,null,t.communication_channel),r.a.createElement(ci.a,null,t.issues),r.a.createElement(ci.a,null,t.mitigation_plan),r.a.createElement(ci.a,null,t.responsible_entity),r.a.createElement(ci.a,null,r.a.createElement(v_.a,{basePath:e.basePath,record:t,resource:e.resource}),r.a.createElement(xv.a,{basePath:e.basePath,record:t,resource:e.resource,redirect:function(){return"/stakeholder-engagements/".concat(null===t||void 0===t?void 0:t.project_detail_id,"/list")}})))})))))))},Nv=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),Av=function(e){var t,a,o,i,l,c,s,u=Object(pe.a)(),d=e.customRecord,m=(e.customBasePath,H(d)),p=Nv(),f=Object(ee.f)((function(e){return e.admin.resources.projects})).data[e.customRecord.project_id],_=Object(ee.f)((function(e){return e.admin.resources["project-details"]}));if(!m)return null;var g=(null===f||void 0===f||null===(t=f.additional_data)||void 0===t?void 0:t.start_date_calendar)||(null===m||void 0===m||null===(a=m.additional_data)||void 0===a?void 0:a.start_date_calendar),h=(null===f||void 0===f||null===(o=f.additional_data)||void 0===o?void 0:o.end_date_calendar)||(null===m||void 0===m||null===(i=m.additional_data)||void 0===i?void 0:i.end_date_calendar);function v(e){if(Y("has_pimis_fields")){if(e){var t=e.replace("(","").replace(")",""),a=t.slice(0,3),n=t.slice(3,t.length+2);return"(".concat(a,")").concat(n)}return e}return e}var b,E;m&&Y("project_report_total_cost_show",m.phase_id)?(String(Pi(m)).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1,")," ".concat(u("titles.currency"))):(String(Ci(m)).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1,")," ".concat(u("titles.currency")));return Y("has_components_total_cost",m&&m.phase_id)&&String(x.a.sumBy(m.components,(function(e){return parseFloat(e.cost)}))).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1,")+" ".concat(u("titles.currency")),Y("has_outputs_total_cost",m&&m.phase_id)&&String(Ci(m)).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1,")+" ".concat(u("titles.currency")),r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},!Y("has_pimis_fields")&&r.a.createElement(se.a,{variant:"h2",style:{marginLeft:15,marginBottom:15}},f.name),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",p.bordered,p.table)},r.a.createElement(si.a,null,r.a.createElement(vl,Object.assign({},e,{field:"project_organization",config:"organizational_config",project:f})),r.a.createElement(vl,Object.assign({},e,{field:"program",config:"programs_config",project:f})),r.a.createElement(vl,Object.assign({},e,{field:"function",config:"functions_config",project:f})),Y("has_pimis_fields")&&r.a.createElement(li.a,null,r.a.createElement(ci.a,null,u("printForm.project_info.sector_ids"),":"),r.a.createElement(ci.a,null,m.sector_ids&&m.sector_ids&&e.sectors&&e.sectors.filter((function(e){return m.sector_ids.includes(e.id)})).map((function(e){return e.name})).join(", "))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,u("printForm.project_info.project_title"),":"),r.a.createElement(ci.a,null,f.name)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,u("printForm.project_info.project_no"),":"),r.a.createElement(ci.a,null,f.code)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,u("printForm.project_info.project_duration"),":"),r.a.createElement(ci.a,null,Ti(m.start_date,m.end_date))),!Y("has_pimis_fields")&&r.a.createElement(li.a,null,r.a.createElement(ci.a,null,u("printForm.project_info.classification"),":"),r.a.createElement(ci.a,null,null===f||void 0===f?void 0:f.classification)),Y("has_pimis_fields")&&r.a.createElement(li.a,null,r.a.createElement(ci.a,null,u("printForm.project_info.project_dates"),":"),r.a.createElement(ci.a,null,(E=h,"Start Date: ".concat(g,", \n    End Date: ").concat(E)))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,u("printForm.project_info.project_cost"),":"),r.a.createElement(ci.a,null,m.investment_stats&&m.investment_stats.total_cost?(b=m.investment_stats.total_cost,String(b).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1,")+" ".concat(u("titles.currency"))):"-")),Y("project_show_capital_current_ratio",m.phase_id)&&r.a.createElement(li.a,null,r.a.createElement(ci.a,null,u("printForm.project_info.current_investment_ratio"),":"),r.a.createElement(ci.a,null,m.investment_stats&&m.investment_stats.costing_ratio?m.investment_stats.costing_ratio:"-")),Y("has_pimis_fields")&&r.a.createElement(li.a,null,r.a.createElement(ci.a,null,u("printForm.project_info.project_goal"),":"),r.a.createElement(ci.a,null,gi()(m.project_goal))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,u("printForm.project_info.officer"),":"),r.a.createElement(ci.a,null,Y("has_pimis_fields")?r.a.createElement(n.Fragment,null,r.a.createElement("p",null,u("printForm.project_info.responsible_officers.name"),":"," ",f.user?f.user.full_name:"-"),r.a.createElement("p",null,u("printForm.project_info.responsible_officers.email"),":"," ",f.user?f.user.email:"-"),r.a.createElement("p",null,u("printForm.project_info.responsible_officers.phone"),":"," ",f.user?v(f.user.phone):"-")):m.responsible_officers&&m.responsible_officers.map((function(e,t){return r.a.createElement(n.Fragment,null,r.a.createElement("p",null,u("printForm.project_info.responsible_officers.title"),": ",e.title?e.title:"-"),r.a.createElement("p",null,u("printForm.project_info.responsible_officers.name"),": ",e.name?e.name:"-"),r.a.createElement("p",null,u("printForm.project_info.responsible_officers.mobile_phone"),":"," ",e.mobile_phone?v(e.mobile_phone):"-"),r.a.createElement("p",null,u("printForm.project_info.responsible_officers.phone"),": ",e.phone?v(e.phone):"-"),r.a.createElement("p",null,u("printForm.project_info.responsible_officers.email"),": ",e.email?e.email:"-"),0===t&&r.a.createElement("hr",null))})))),f&&(null===(l=f.approved_appeals)||void 0===l?void 0:l.length)>0&&r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Project has ".concat(null===(c=f.approved_appeals)||void 0===c?void 0:c.length," appeals")),r.a.createElement(ci.a,null,r.a.createElement(Xn.a,{href:"/#/appeals/"+(null===f||void 0===f||null===(s=f.current_project_detail)||void 0===s?void 0:s.id)+"/list",label:"View Appeals"}))),m&&Y("report_submission_dates_show",m.phase_id)&&function(e,t,a){var n=e.customRecord;return Number(n.phase_id)-1===0?null:n?Y("project_report_submission_dates_for_phases",n.phase_id)?[r.a.createElement(li.a,null,r.a.createElement(ci.a,null,t("printForm.project_info.project_approved.phase_".concat(Number(n.phase_id)-1)),":"),r.a.createElement(ci.a,null,Er(function(e,t,a){var n=x.a.keys(e).map((function(t){return e[t]})),r=x.a.groupBy(n,"phase_id"),o=Object.keys(r),i=x.a.findIndex(o,(function(e){return Number(e)===t}));return a?r[o[i-1]][0]:r[t][0]}(a.data,Number(n.phase_id),!0).created_on))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,t("printForm.project_info.project_approved.phase_".concat(n.phase_id)),":"),r.a.createElement(ci.a,null,Er(n.created_on,"DD-MM-YYYY hh:mm A")))]:r.a.createElement(li.a,null,r.a.createElement(ci.a,null,t("printForm.project_info.project_approved.phase_".concat(Number(n.phase_id)-1)),":"),r.a.createElement(ci.a,null,Er(n.created_on,"DD-MM-YYYY hh:mm A"))):null}(e,u,_))))))},Dv=function(e){var t=e.frequency,a=e.years,n=e.isEdit,o=e.data;return r.a.createElement("div",null," ",r.a.createElement(se.a,{variant:"h4",style:{margin:"14px 0px"}},"Intermediary targets"),r.a.createElement("div",null,3===t?r.a.createElement(r.a.Fragment,null,r.a.createElement(oi.a,null,r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Year"),r.a.createElement(ci.a,null,"Target"))),r.a.createElement(si.a,null,null===a||void 0===a?void 0:a.map((function(e,t){return r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{verticalAlign:"middle"}},e.name),r.a.createElement(ci.a,{style:{verticalAlign:"middle"}},n?r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],label:!1,source:"intermediary_targets.".concat(String(e.id),"y..y").concat(t+1),variant:"outlined",margin:"none"}):r.a.createElement(se.a,null,o["".concat(String(e.id),"y")]["y".concat(t+1)])))}))))):2===t?r.a.createElement(r.a.Fragment,null,r.a.createElement(oi.a,null,r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Year"),r.a.createElement(ci.a,null,"First Half Target"),r.a.createElement(ci.a,null,"Second Half Target"))),r.a.createElement(si.a,null,null===a||void 0===a?void 0:a.map((function(e){return r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{verticalAlign:"middle"}},e.name),r.a.createElement(ci.a,{style:{verticalAlign:"middle"}},n?r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],label:!1,source:"intermediary_targets.".concat(String(e.id),"y.h1"),variant:"outlined",margin:"none"}):r.a.createElement(se.a,null,o["".concat(String(e.id),"y")].h1)),r.a.createElement(ci.a,null,n?r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],label:!1,source:"intermediary_targets.".concat(String(e.id),"y.h2"),variant:"outlined",margin:"none"}):r.a.createElement(se.a,null,o["".concat(String(e.id),"y")].h2)))}))))):1===t?r.a.createElement(r.a.Fragment,null,r.a.createElement(oi.a,null,r.a.createElement(si.a,null,r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{variant:"head"},"Year"),r.a.createElement(ci.a,{variant:"head"},"Q1 Target"),r.a.createElement(ci.a,{variant:"head"},"Q2 Target"),r.a.createElement(ci.a,{variant:"head"},"Q3 Target"),r.a.createElement(ci.a,{variant:"head"},"Q4 Target")),null===a||void 0===a?void 0:a.map((function(e){return r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{verticalAlign:"middle"}},e.name),r.a.createElement(ci.a,{style:{verticalAlign:"middle"}},n?r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],label:!1,source:"intermediary_targets.".concat(String(e.id),"y.q1"),variant:"outlined",margin:"none"}):r.a.createElement(se.a,null,o&&o["".concat(String(e.id),"y")].q1)),r.a.createElement(ci.a,{style:{verticalAlign:"middle"}},n?r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],label:!1,source:"intermediary_targets.".concat(String(e.id),"y.q2"),variant:"outlined",margin:"none"}):r.a.createElement(se.a,null,o&&o["".concat(String(e.id),"y")].q2)),r.a.createElement(ci.a,{style:{verticalAlign:"middle"}},n?r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],label:!1,source:"intermediary_targets.".concat(String(e.id),"y.q3"),variant:"outlined",margin:"none"}):r.a.createElement(se.a,null,o&&o["".concat(String(e.id),"y")].q3)),r.a.createElement(ci.a,{style:{verticalAlign:"middle"}},n?r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],label:!1,source:"intermediary_targets.".concat(String(e.id),"y.q4"),variant:"outlined",margin:"none"}):r.a.createElement(se.a,null,o&&o["".concat(String(e.id),"y")].q4)))})))))):void 0))},Tv=["onSaveSuccess","onClose"],Fv=["record","onClose","onRefresh","referencedOptions"],Rv=["getSource","scopedFormData","formData"],Iv=[{id:"",name:"None"},{id:1,name:"Quarterly"},{id:2,name:"Semi-Annually"},{id:3,name:"Annually"}],Mv=function(e){var t=e.onSaveSuccess,a=e.onClose,n=Object(T.a)(e,Tv),o=Object(Na.a)();return r.a.createElement(Zc.a,{style:{width:"100%"}},r.a.createElement(Xn.a,{onClick:a,label:"Cancel",style:{marginRight:5,padding:"7px 15px"},color:"primary",variant:"contained"}),r.a.createElement(Zm.a,Object.assign({},n,{onClick:function(){n.invalid?(window.scrollTo(0,0),o("You should define required fields  before save!","error")):(n.handleSubmitWithRedirect(),t&&t())},onSuccess:t})))};var Wv=function(e){var t=e.record,a=e.onClose,o=e.onRefresh,i=e.referencedOptions,l=Object(T.a)(e,Fv),c=Object(pe.a)();return r.a.createElement(es.a,{basePath:"/indicators",resource:"indicators",redirect:!1},r.a.createElement(ou.a,{variant:"outlined",toolbar:r.a.createElement(Mv,{onSaveSuccess:function(){o(),a()},onClose:a}),redirect:!1},r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData;var a,o=e.formData;Object(T.a)(e,Rv);o&&(o.project_detail_id=t.id,o.entity_type=l.type,"project_detail"===l.type&&(o.entity_id=t.id));var s="outcome"===l.type?"Outcome":"Output";return r.a.createElement(n.Fragment,null,"project_detail"!==l.type&&r.a.createElement(os.a,{margin:"none",variant:"outlined",fullWidth:!0,source:"entity_id",choices:i,validate:Object(rs.j)(),optionText:Or,label:s}),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.name",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],source:"name",label:c("resources.indicators.fields.name"),variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.baseline",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],source:"baseline",label:"".concat(c("resources.indicators.fields.baseline")," - ").concat(wi(S()(null===(a=l.details)||void 0===a?void 0:a.baseline,"YYYY-MM-DD")).name||""),variant:"outlined",margin:"none"})),l.targetYears&&l.targetYears[l.targetYears.length-1]&&r.a.createElement(cs,{tooltipText:"resources.indicators.fields.target",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],label:"End of Project Target",source:"targets.project",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.verification_means",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],source:"verification_means",label:c("resources.indicators.fields.verification_means"),variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.unit_id",fullWidth:!0},r.a.createElement(os.a,{margin:"none",variant:"outlined",fullWidth:!0,source:"unit_id",choices:l.helpers&&l.helpers.units||[],validate:Object(rs.j)(),optionText:Or})),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.format_id",fullWidth:!0},r.a.createElement(os.a,{margin:"none",variant:"outlined",fullWidth:!0,source:"format_id",choices:l.helpers&&l.helpers.formats||[],validate:Object(rs.j)(),optionText:Or})),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.frequency_id",fullWidth:!0},r.a.createElement(os.a,{margin:"none",variant:"outlined",fullWidth:!0,source:"frequency_id",choices:Iv,optionText:Or})),o&&o.frequency_id&&r.a.createElement(Dv,{frequency:null===o||void 0===o?void 0:o.frequency_id,years:l.targetYears,isEdit:!0}),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.kpi",fullWidth:!0},r.a.createElement(I_.a,{source:"has_kpi",label:"KPI",variant:"outlined",margin:"none"})))}))))},Lv=["onSaveSuccess","onClose"],Yv=["record","onClose","isReadOly","onRefresh","referencedOptions"],Bv=["getSource","scopedFormData","formData"],zv=function(e){var t=e.onSaveSuccess,a=e.onClose,n=Object(T.a)(e,Lv);return r.a.createElement(Zc.a,{style:{width:"100%"}},r.a.createElement(Xn.a,{onClick:a,label:"Cancel",style:{marginRight:5,padding:"7px 15px"},color:"primary",variant:"contained"}),r.a.createElement(Zm.a,Object.assign({},n,{onSuccess:t})))};var qv=function(e){var t=e.record,a=e.onClose,o=e.isReadOly,i=e.onRefresh,l=e.referencedOptions,c=Object(T.a)(e,Yv),s=Object(pe.a)();return r.a.createElement(ru.a,{basePath:"/indicators",resource:"indicators",record:t,id:t.id,redirect:!1,undoable:!1},r.a.createElement(ou.a,{undoable:!1,variant:"outlined",redirect:!1,toolbar:r.a.createElement(zv,{onSaveSuccess:function(){i(),a()},onClose:a})},r.a.createElement(js.a,null,(function(e){e.getSource;var t,a=e.scopedFormData,i=e.formData,u=(Object(T.a)(e,Bv),"outcome"===c.type?"Outcome":"Output"),d=c.targetYears&&c.targetYears[c.targetYears.length-1],m=d&&"targets.".concat(String(d.id),"y");return r.a.createElement(n.Fragment,null,"project_detail"!==c.type&&r.a.createElement(os.a,{margin:"none",variant:"outlined",fullWidth:!0,source:"entity_id",choices:l,validate:Object(rs.j)(),optionText:Or,label:u,disabled:o}),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.name",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],source:"name",label:s("resources.indicators.fields.name"),variant:"outlined",margin:"none",disabled:o})),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.baseline",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],source:"baseline",label:"".concat(s("resources.indicators.fields.baseline")," - ").concat(wi(S()(null===(t=c.details)||void 0===t?void 0:t.baseline,"YYYY-MM-DD")).name||""),variant:"outlined",margin:"none",disabled:o})),m&&r.a.createElement(cs,{tooltipText:"resources.indicators.fields.target",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],label:"End of Project Target",source:"targets.project",variant:"outlined",margin:"none",disabled:o})),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.verification_means",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],source:"verification_means",label:s("resources.indicators.fields.verification_means"),variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.unit_id",fullWidth:!0},r.a.createElement(os.a,{margin:"none",variant:"outlined",fullWidth:!0,source:"unit_id",choices:c.helpers&&c.helpers.units||[],validate:Object(rs.j)(),optionText:Or})),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.format_id",fullWidth:!0},r.a.createElement(os.a,{margin:"none",variant:"outlined",fullWidth:!0,source:"format_id",choices:c.helpers&&c.helpers.formats||[],validate:Object(rs.j)(),optionText:Or})),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.frequency_id",fullWidth:!0},r.a.createElement(os.a,{margin:"none",variant:"outlined",fullWidth:!0,source:"frequency_id",choices:Iv,optionText:Or,onChange:function(){a&&(a.intermediary_targets=null)}})),i&&i.frequency_id&&r.a.createElement(Dv,{frequency:null===i||void 0===i?void 0:i.frequency_id,years:c.targetYears,isEdit:!0}),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.kpi",fullWidth:!0},r.a.createElement(I_.a,{source:"has_kpi",label:"KPI",variant:"outlined",margin:"none"})))}))))},Uv=a(180),Vv=a.n(Uv),Gv=a(210),Hv=a.n(Gv),Jv=["onRefresh","referencedOptions"];var Xv=function(e){var t=e.onRefresh,a=e.referencedOptions,o=Object(T.a)(e,Jv),i=(Object(pe.a)(),Object(n.useState)(!1)),l=Object(Z.a)(i,2),c=l[0],s=l[1],u=L();function d(){s(!1)}var m=o.isEdit&&u("edit_indicator"),p=!o.isEdit&&u("create_indicator");return r.a.createElement(n.Fragment,null,(m||p)&&r.a.createElement(Ce.a,{onClick:function(e){e.stopPropagation(),s(!0)},title:o.isEdit?"Edit Indicator":"Add Indicator",color:"primary"},o.isEdit?r.a.createElement(Vv.a,{color:"primary"}):r.a.createElement(Hv.a,{color:"primary"})),c&&r.a.createElement(Gr.a,{fullWidth:!0,maxWidth:"md",open:c,onClose:d,style:{overflow:"hidden"},onClick:function(e){return e.stopPropagation()}},r.a.createElement(Hr.a,null,o.isEdit?"Edit":"Create"," Indicator"),r.a.createElement(Jr.a,null,o.isEdit?r.a.createElement(qv,Object.assign({},o,{helpers:o.helpers,source:o.source,targetYears:o.targetYears,onClose:d,onRefresh:t,referencedOptions:a,details:o.details})):r.a.createElement(Wv,Object.assign({},o,{helpers:o.helpers,source:o.source,targetYears:o.targetYears,onClose:d,onRefresh:t,referencedOptions:a,details:o.details})))))},$v=["indicators"],Kv=Object(ae.a)((function(e){return{row:{cursor:"pointer","&:hover":{backgroundColor:"#f1f6ff"},"& td":{verticalAlign:"middle"}}}})),Qv=function(e){var t=e.indicators,a=Object(T.a)(e,$v),n=L(),o=Kv(),i=(a.targetYears&&a.targetYears[a.targetYears.length-1],a.record&&a.record[a.reference]||[]),l=Object(ai.a)();return t&&0===t.length?r.a.createElement("h3",null,"No Indicators"):r.a.createElement(Fi.a,{style:{overflow:"auto",marginBottom:25}},r.a.createElement(oi.a,{size:"small"},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Name"),r.a.createElement(ci.a,null,"Baseline"),r.a.createElement(ci.a,null,"Target"),r.a.createElement(ci.a,null,"Progress (%)"),r.a.createElement(ci.a,null))),r.a.createElement(si.a,null,t&&t.map((function(e){var t;if(!e)return null;var c=Math.abs(Number(null===(t=e.achieved_target)||void 0===t?void 0:t.indicator_progress)-Number(e.baseline)),s=e.targets&&Math.abs(Number(e.targets.project)-Number(e.baseline)),u=s>0&&c>0?(c/s*100).toFixed(0):"-";return r.a.createElement(li.a,{className:o.row,onClick:function(){return l("/indicators/".concat(e.id,"/show"))}},r.a.createElement(ci.a,{style:{borderLeft:e.is_read_only?"5px solid #d0d0d0":"5px solid green"}},e.name),r.a.createElement(ci.a,{style:{width:"10%"}},br(e.baseline)),r.a.createElement(ci.a,{style:{width:"10%"}},br(e.targets.project)),r.a.createElement(ci.a,{style:{width:"13%"}},br(u)),r.a.createElement(ci.a,{style:{width:"15%",verticalAlign:"middle"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Xv,Object.assign({},a,{record:e,isEdit:!0,referencedOptions:i,details:a.record,isReadOly:e.is_read_only})),!e.is_read_only&&n("delete_indicator")&&r.a.createElement(xv.a,{label:!1,basePath:"/indicators",record:e,resource:"indicators",redirect:!1,undoable:!1,onSuccess:a.onRefresh}))))})))))},Zv=a(604),eb=a.n(Zv),tb=function(e){if(!e)return[];var t=e&&S()(e.end_date,"YYYY-MM-DD").diff(S()(e.start_date,"YYYY-MM-DD"),"years")+1||0,a=e.project.signed_date||e.start_date;return e&&Oi(a,S()(a).add(t,"years"))},ab=function(e){var t,a,o=r.a.useState(!1),i=Object(Z.a)(o,2),l=(i[0],i[1],r.a.useState([])),c=Object(Z.a)(l,2),s=(c[0],c[1]),d=Object(n.useState)(!1),m=Object(Z.a)(d,2),p=(m[0],m[1],Object(n.useState)({units:[],formats:[],frequencies:[],disaggregationTypes:[]})),f=Object(Z.a)(p,2),_=f[0],g=f[1],h=Object(n.useState)(null),v=Object(Z.a)(h,2),b=v[0],E=v[1],j=Object(n.useState)(null),y=Object(Z.a)(j,2),O=y[0],x=y[1],k=Object(n.useState)(!0),S=Object(Z.a)(k,2),P=S[0],C=S[1],N=Object(n.useState)({project_detail:[],outcome:[],output:[]}),A=Object(Z.a)(N,2),D=A[0],T=A[1],F=Object(Ca.a)(),R=Object(ee.e)(),I=L();Object(n.useEffect)((function(){return(null===O||void 0===O?void 0:O.name)&&R({type:"SET_PROJECT_TITLE_HEADER",payload:{data:"".concat(null===O||void 0===O?void 0:O.name)}}),function(){R({type:"SET_PROJECT_TITLE_HEADER",payload:{data:""}})}}),[R,O]),Object(n.useEffect)((function(){return R(Wr([{to:"/reports-indicators-projects",title:"Indicators"},{to:"",title:"Project Indicators"}])),function(){R(Wr([]))}}),[R]),Object(n.useEffect)((function(){F.getListOfAll("formats",{}).then((function(e){e&&e.data&&g((function(t){return Object(u.a)(Object(u.a)({},t),{},{formats:e.data})}))})),F.getListOfAll("frequencies",{}).then((function(e){e&&e.data&&g((function(t){return Object(u.a)(Object(u.a)({},t),{},{frequencies:e.data})}))})),F.getListOfAll("units",{}).then((function(e){e&&e.data&&g((function(t){return Object(u.a)(Object(u.a)({},t),{},{units:e.data})}))})),F.getListOfAll("disaggregation-types",{}).then((function(e){e&&e.data&&g((function(t){return Object(u.a)(Object(u.a)({},t),{},{disaggregationTypes:e.data})}))})),F.getListOfAll("sectors",{sort_field:"id"}).then((function(e){e&&e.data&&s(e.data)}))}),[]);var M=function(e){F.getListOfAll("indicators",{filter:{project_detail_id:Number((null===b||void 0===b?void 0:b.id)||e)}}).then((function(e){e&&e.data&&T(Object(w.groupBy)(e.data,"entity_type"))}))};if(Object(n.useEffect)((function(){var t;F.getOne("projects",{id:null===(t=e.match.params)||void 0===t?void 0:t.projectId}).then((function(e){var t,a,n,r;e&&e.data&&(x(e.data),(null===(t=e.data)||void 0===t||null===(a=t.current_project_detail)||void 0===a?void 0:a.id)&&F.getOne("project-details",{id:null===(n=e.data)||void 0===n||null===(r=n.current_project_detail)||void 0===r?void 0:r.id}).then((function(e){var t;e&&e.data&&(E(e.data),F.getListOfAll("indicators",{filter:{project_detail_id:Number(null===(t=e.data)||void 0===t?void 0:t.id)}}).then((function(e){e&&e.data&&(T(Object(w.groupBy)(e.data,"entity_type")),C(!1))})))})))}))}),[]),P)return null;var W=tb(b);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"100px",margin:"15px 0px"}},r.a.createElement(Xn.a,{label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null),href:"/#/reports-indicators-projects"})),r.a.createElement(In.a,{style:{padding:"25px"}},r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:"50px",marginBottom:"20px"}},r.a.createElement("h2",null,"Project Indicators"),r.a.createElement("div",null,r.a.createElement(Xv,{record:b,source:"indicators",targetYears:W,type:"project_detail",reference:"project_detail",onRefresh:M,helpers:_,details:b}),I("edit_indicator")&&r.a.createElement(Ce.a,{href:"/#/achieve-targets/".concat(null===b||void 0===b?void 0:b.id,"/project_detail"),title:"Achieved Targets"},r.a.createElement(eb.a,{color:"primary"})))),r.a.createElement(Qv,{type:"project_detail",record:b,indicators:D.project_detail,targetYears:W,source:"indicators",reference:"project_detail",onRefresh:M,helpers:_}))),r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:"50px",marginBottom:"20px"}},r.a.createElement("h2",null,"Outcomes Indicators"),r.a.createElement("div",null,r.a.createElement(Xv,{record:b,targetYears:W,source:"indicators",type:"outcome",reference:"outcomes",onRefresh:M,helpers:_,referencedOptions:b.outcomes,details:b}),I("edit_indicator")&&r.a.createElement(Ce.a,{href:"/#/achieve-targets/".concat(null===b||void 0===b?void 0:b.id,"/outcome"),title:"Achieved Targets"},r.a.createElement(eb.a,{color:"primary"})))),null===b||void 0===b||null===(t=b.outcomes)||void 0===t?void 0:t.map((function(e){var t,a=(null===(t=D.outcome)||void 0===t?void 0:t.filter((function(t){return t.entity_id===e.id})))||[];return r.a.createElement("div",null,r.a.createElement("h3",null,e.name),r.a.createElement(Qv,{type:"outcome",record:b,indicators:a,targetYears:W,source:"indicators",reference:"outcomes",onRefresh:M,helpers:_}))}))),r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:"50px",marginBottom:"20px"}},r.a.createElement("h2",null,"Outputs Indicators"),r.a.createElement("div",{style:{alignSelf:"end",marginBottom:"20px"}},r.a.createElement(Xv,{record:b,targetYears:W,source:"indicators",type:"output",reference:"outputs",onRefresh:M,helpers:_,referencedOptions:b.outputs,details:b}),I("edit_indicator")&&r.a.createElement(Ce.a,{href:"/#/achieve-targets/".concat(null===b||void 0===b?void 0:b.id,"/output"),title:"Achieved Targets"},r.a.createElement(eb.a,{color:"primary"})))),null===b||void 0===b||null===(a=b.outputs)||void 0===a?void 0:a.map((function(e){var t,a,n=(null===(t=D.output)||void 0===t?void 0:t.filter((function(t){return t.entity_id===e.id})))||[],o=(null===(a=b.outcomes)||void 0===a?void 0:a.filter((function(t){return e.outcome_ids.includes(t.id)})))||[];return r.a.createElement("div",null,r.a.createElement("h3",null,"Output: ",e.name),r.a.createElement("p",{style:{fontStyle:"italic"}},"Outcome: ",(null===o||void 0===o?void 0:o.map((function(e){return e.name})).join(", "))||"-"),r.a.createElement(Qv,{type:"output",record:b,indicators:n,targetYears:W,source:"indicators",reference:"outputs",onRefresh:M,helpers:_}))})))))},nb=a(268),rb=a.n(nb),ob=["indicators","indicatorsData"],ib=Object(ae.a)((function(e){return{row:{"& td":{verticalAlign:"middle"}}}})),lb=function(e){var t=e.indicators,a=e.indicatorsData,o=Object(T.a)(e,ob),i=ib(),l=Object(Ca.a)(),c=Object(n.useState)(!0),s=Object(Z.a)(c,2),u=(s[0],s[1]),d=Object(n.useState)(!1),m=Object(Z.a)(d,2),p=m[0],f=m[1],_=Object(n.useState)([]),g=Object(Z.a)(_,2),h=g[0],v=g[1];if(t&&0===t.length)return null;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Fi.a,{style:{overflow:"auto",marginBottom:25}},r.a.createElement(oi.a,{size:"small"},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,o.parent&&r.a.createElement(ci.a,{style:{textTransform:"capitalize"}},o.type),r.a.createElement(ci.a,null,"Indicator"),r.a.createElement(ci.a,null,"Baseline"),r.a.createElement(ci.a,null,"Target"),r.a.createElement(ci.a,null,"Achieved Target"),r.a.createElement(ci.a,null,"Comments"))),r.a.createElement(si.a,null,t&&t.map((function(e){var t,n;return e?r.a.createElement(li.a,{className:i.row},o.parent&&r.a.createElement(ci.a,{style:{width:"25%"}},o.parent),r.a.createElement(ci.a,{style:{width:"25%"}},e.name),r.a.createElement(ci.a,{style:{width:"10%"}},br(e.baseline)),r.a.createElement(ci.a,{style:{width:"10%"}},e.targets&&br(e.targets.project)),r.a.createElement(ci.a,{style:{width:"250px"}},r.a.createElement($n.a,{InputProps:{inputProps:{min:0,style:{padding:"18.5px 5px 18.5px 14px"}}},type:"number",defaultValue:null===(t=e.achieved_target)||void 0===t?void 0:t.indicator_progress,name:"achieved_target",variant:"outlined",onChange:function(t){var n;o.onChange({id:e.id,value:t.target.value,comments:(null===a||void 0===a?void 0:a.comments)||(null===(n=e.achieved_target)||void 0===n?void 0:n.comments)})}})),r.a.createElement(ci.a,null,r.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px",width:"250px"}},r.a.createElement($n.a,{InputProps:{inputProps:{max:255}},defaultValue:null===(n=e.achieved_target)||void 0===n?void 0:n.comments,name:"comments",variant:"outlined",onChange:function(t){var n;o.onChange({id:e.id,comments:t.target.value,value:(null===a||void 0===a?void 0:a.value)||(null===(n=e.achieved_target)||void 0===n?void 0:n.indicator_progress)})}}),r.a.createElement(Ce.a,{onClick:function(){return t=e.id,f(!0),u(!0),void l.getListOfAll("achieved-targets",{sort_field:"created_on",sort_order:"DESC",filter:{indicator_id:Number(t)}}).then((function(e){e&&e.data&&(v(e.data),u(!1))}));var t},title:"Show History"},r.a.createElement(rb.a,null))))):null}))))),p&&r.a.createElement(Gr.a,{fullWidth:!0,maxWidth:"md",open:!0,onClose:function(){return f(!1)},style:{overflow:"hidden"}},r.a.createElement(Hr.a,null,"History of Achieved Targets"),r.a.createElement(Jr.a,null,r.a.createElement(Fi.a,{style:{overflow:"auto",marginBottom:25}},r.a.createElement(oi.a,{size:"small"},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Date"),r.a.createElement(ci.a,null,"User"),r.a.createElement(ci.a,null,"Target Progress"),r.a.createElement(ci.a,null,"Comments"))),r.a.createElement(si.a,null,h&&h.map((function(e){var t;return e?r.a.createElement(li.a,{key:e.id},r.a.createElement(ci.a,null,S()(e.created_on).format("DD.MM.YYYY HH:mm").toLocaleString()),r.a.createElement(ci.a,null,null===(t=e.user)||void 0===t?void 0:t.full_name),r.a.createElement(ci.a,null,e.indicator_progress),r.a.createElement(ci.a,null,e.comments)):null})))))),r.a.createElement(Xr.a,null,r.a.createElement(Xn.a,{label:"Close",onClick:function(){return f(!1)}}))))},cb=function(e){var t=Object(n.useState)({}),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(null),c=Object(Z.a)(l,2),s=c[0],d=c[1],m=Object(n.useState)(!0),p=Object(Z.a)(m,2),f=p[0],_=p[1],g=Object(n.useState)([]),h=Object(Z.a)(g,2),v=h[0],b=h[1],E=Object(Ca.a)(),j=Object(ai.a)(),y=Object(ee.e)();if(Object(n.useEffect)((function(){return y(Wr([{to:"/project-indicators/".concat(null===s||void 0===s?void 0:s.project_id),title:"Indicators"},{to:"",title:"Achieved Targets"}])),function(){y(Wr([]))}}),[y,null===s||void 0===s?void 0:s.project_id]),Object(n.useEffect)((function(){var t,a,n,r;E.getOne("project-details",{id:null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.projectDetailsId}).then((function(e){e&&e.data&&d(e.data)})),E.getListOfAll("indicators",{filter:{project_detail_id:Number(null===(n=e.match)||void 0===n||null===(r=n.params)||void 0===r?void 0:r.projectDetailsId)}}).then((function(t){if(t&&t.data){var a=t.data.filter((function(t){var a,n;return t.entity_type===(null===(a=e.match)||void 0===a||null===(n=a.params)||void 0===n?void 0:n.achieveType)}));b(Object(w.groupBy)(a,"entity_type")),_(!1)}}))}),[]),f)return null;var O=tb(s),x=function(e){var t=e.id,a=e.value,n=e.comments;i((function(e){var r,i;return Object(u.a)(Object(u.a)({},e),{},Object(N.a)({},t,{value:a||(null===(r=o[t])||void 0===r?void 0:r.value),comments:n||(null===(i=o[t])||void 0===i?void 0:i.comments)}))}))};return r.a.createElement(In.a,{style:{padding:"25px"}},function(){var t,a,n,i;switch(null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.achieveType){case"outcome":return r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},null===s||void 0===s||null===(n=s.outcomes)||void 0===n?void 0:n.map((function(e){var t,a=(null===(t=v.outcome)||void 0===t?void 0:t.filter((function(t){return t.entity_id===e.id})))||[];return r.a.createElement("div",null,r.a.createElement(lb,{type:"outcome",record:s,indicators:a,indicatorsData:o,targetYears:O,source:"indicators",reference:"outcomes",parent:r.a.createElement("p",null,e.name),onChange:x}))})));case"output":return r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},null===s||void 0===s||null===(i=s.outputs)||void 0===i?void 0:i.map((function(e){var t,a,n=(null===(t=v.output)||void 0===t?void 0:t.filter((function(t){return t.entity_id===e.id})))||[],o=(null===(a=s.outcomes)||void 0===a?void 0:a.filter((function(t){return e.outcome_ids.includes(t.id)})))||[];return r.a.createElement("div",null,r.a.createElement(lb,{type:"output",record:s,indicators:n,targetYears:O,source:"indicators",reference:"outputs",parent:r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null," ",e.name),r.a.createElement("p",{style:{fontStyle:"italic"}},"Outcome:"," ",(null===o||void 0===o?void 0:o.map((function(e){return e.name})).join(", "))||"-")),onChange:x}))})));default:return r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement(lb,{type:"project_detail",record:s,indicators:v.project_detail,targetYears:O,source:"indicators",reference:"project_detail",onChange:x})))}}(),r.a.createElement(Cp.a,null,r.a.createElement(Xn.a,{label:"Cancel",variant:"outlined",onClick:function(){s&&j("/project-indicators/".concat(null===s||void 0===s?void 0:s.project_id))}}),r.a.createElement(Xn.a,{label:"Save",variant:"contained",onClick:function(){var e=Object.keys(o).map((function(e){return{indicator_id:Number(e),indicator_progress:Number(o[e].value),comments:o[e].comments}}));E.achievedTargets({data:e}).then((function(e){e&&s&&j("/project-indicators/".concat(null===s||void 0===s?void 0:s.project_id))})).catch((function(e){return alert(e)}))}})))},sb=["onCreate","onGoBack"],ub=["translate"],db=function(e){var t=e.onCreate,a=e.onGoBack;Object(T.a)(e,sb);return r.a.createElement(Gs.a,{style:{justifyContent:"space-between",display:"flex",alignItems:"center",width:"100%"}},r.a.createElement(Ee.a,{onClick:a,label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null)},"Back"),r.a.createElement(Ee.a,{variant:"contained",color:"primary",startIcon:r.a.createElement(k_.a,null),onClick:t},"Create"))},mb=function(e){var t=e.loading,a=e.loaded,n=e.total,o=L();return 0===n&&!t&&a?r.a.createElement(di.a,{textAlign:"center",m:1},r.a.createElement(se.a,{variant:"h4",paragraph:!0},"There are no custom reports in the system",r.a.createElement("br",null),r.a.createElement("br",null),o("create_custom_report")&&r.a.createElement(ku.a,{basePath:"/custom-reports"}))):r.a.createElement("div",null)},pb=function(e){e.translate;var t=Object(T.a)(e,ub),a=Object(n.useState)(),o=Object(Z.a)(a,2),i=o[0],l=o[1],c=Object(ai.a)(),s=Object(Ca.a)();return Object(n.useEffect)((function(){var e,a;s.getOne("project-details",{id:Number(null===(e=t.match)||void 0===e||null===(a=e.params)||void 0===a?void 0:a.projectId)}).then((function(e){e&&e.data&&l(e.data)}))}),[]),i?r.a.createElement(r.a.Fragment,null,r.a.createElement(ri.a,Object.assign({},t,{empty:r.a.createElement(mb,t),bulkActionButtons:!1,actions:r.a.createElement(db,Object.assign({},t,{onCreate:function(){var e,a;c("/".concat(t.resource,"/").concat(Number(null===(e=t.match)||void 0===e||null===(a=e.params)||void 0===a?void 0:a.projectId),"/create"))},onGoBack:function(){var e,a;c("/implementation-module/".concat(Number(null===(e=t.match)||void 0===e||null===(a=e.params)||void 0===a?void 0:a.projectId),"/costed-annualized-plan"))}})),filter:{project_id:null===i||void 0===i?void 0:i.project_id}}),r.a.createElement(Nl.a,{rowClick:!1},r.a.createElement(Dl.a,{label:"Created on",render:function(e){return Er(null===e||void 0===e?void 0:e.created_on)}}),r.a.createElement(Dl.a,{label:"Proposed extension date",render:function(e){return Er(null===e||void 0===e?void 0:e.proposed_extension_date)}}),r.a.createElement(Al.a,{source:"appeal_status"}),r.a.createElement(Dl.a,{label:"",render:function(e){return"DRAFT"===e.appeal_status?r.a.createElement(v_.a,Object.assign({},t,{record:e})):null}}),r.a.createElement(zs.a,t)))):null},fb=function(e){var t=Object(n.useState)({}),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(null),c=Object(Z.a)(l,2),s=c[0],d=c[1],m=Object(n.useState)(!0),p=Object(Z.a)(m,2),f=p[0],_=p[1],g=Object(n.useState)([]),h=Object(Z.a)(g,2),v=h[0],b=h[1],E=Object(Ca.a)(),j=Object(ai.a)(),y=Object(ee.e)();if(Object(n.useEffect)((function(){var t,a;return y(Wr([{to:"/indicators/".concat(Number(null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.indicatorId),"/show"),title:"Indicators"},{to:"",title:"Achieved Targets"}])),function(){y(Wr([]))}}),[y,null===s||void 0===s?void 0:s.project_id]),Object(n.useEffect)((function(){var t,a;E.getOne("indicators",{id:Number(null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.indicatorId)}).then((function(e){e&&e.data&&(b(e.data.subindicators),E.getOne("project-details",{id:e.data.project_detail_id}).then((function(e){e&&e.data&&(d(e.data),_(!1))})))}))}),[]),f)return null;var O=tb(s);return r.a.createElement(In.a,{style:{padding:"25px"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement("div",null,r.a.createElement(lb,{type:"indicator",record:s,indicators:v,indicatorsData:o,targetYears:O,source:"indicators",reference:"indicators",onChange:function(e){var t=e.id,a=e.value,n=e.comments;i((function(e){var r,i;return Object(u.a)(Object(u.a)({},e),{},Object(N.a)({},t,{value:a||(null===(r=o[t])||void 0===r?void 0:r.value),comments:n||(null===(i=o[t])||void 0===i?void 0:i.comments)}))}))}}))),r.a.createElement(Cp.a,null,r.a.createElement(Xn.a,{label:"Cancel",variant:"outlined",onClick:function(){var t,a;s&&j("/indicators/".concat(Number(null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.indicatorId),"/show"))}}),r.a.createElement(Xn.a,{label:"Save",variant:"contained",onClick:function(){var t=Object.keys(o).map((function(e){return{indicator_id:Number(e),indicator_progress:Number(o[e].value),comments:o[e].comments}}));E.achievedTargets({data:t}).then((function(t){var a,n;t&&s&&j("/indicators/".concat(Number(null===(a=e.match)||void 0===a||null===(n=a.params)||void 0===n?void 0:n.indicatorId),"/show"))})).catch((function(e){return alert(e)}))}})))},_b=Object(ae.a)((function(e){return{table:{minWidth:700,backgroundColor:"#fff"},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"},actions:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"}}})),gb=function(e){var t=_b(),a=r.a.useState([]),n=Object(Z.a)(a,2),o=n[0],i=n[1],l=Object(Ca.a)(),c=(Object(de.g)(),Object(ai.a)());return r.a.useEffect((function(){var t,a;l.getListOfAll("human-resources",{sort_field:"id",filter:{project_detail_id:Number(null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id)}}).then((function(e){if(e&&e.data){var t=x.a.sortBy(e.data,["reporting_date","reporting_quarter"],["asc","asc"]);i(t)}}))}),[]),r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:t.actions},r.a.createElement(Xn.a,{onClick:function(){var t,a;c("/implementation-module/".concat(Number(null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id),"/costed-annualized-plan"))},label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null),style:{marginBottom:15}}),r.a.createElement(nr,{reportId:"report-container",title:"Human Resources Report",exportTypes:[Ha.WORD,Ha.PDF,Ha.XLS]})),r.a.createElement("div",{className:"content-area",id:"report-container"},r.a.createElement(se.a,{variant:"h2",style:{marginLeft:15,marginBottom:15}},"Human Resources Report"),o&&o.length>0&&r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",t.bordered,t.table)},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Reporting Date"),r.a.createElement(ci.a,null,"Reporting Quarter"),r.a.createElement(ci.a,null,"Position"),r.a.createElement(ci.a,null,"Name"),r.a.createElement(ci.a,null,"Contact Details"),r.a.createElement(ci.a,null,"Responsible Entity"),r.a.createElement(ci.a,null,"Involvement Level"))),r.a.createElement(si.a,null,o&&o.map((function(e){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e&&wi(e.reporting_date)&&wi(e.reporting_date).name)," ",r.a.createElement(ci.a,null,e.reporting_quarter),r.a.createElement(ci.a,null,e.position),r.a.createElement(ci.a,null,e.name),r.a.createElement(ci.a,null,e.contact_details),r.a.createElement(ci.a,null,e.responsible_entity),r.a.createElement(ci.a,null,e.involvement_level))})))))))},hb=a(1871),vb=["projectDetails"],bb=function(e){var t=e.projectDetails,a=Object(T.a)(e,vb),o=Object(ee.e)();if(Object(n.useEffect)((function(){var e;a.defaultBreadcrumbs||(o({type:"SET_PROJECT_TITLE_HEADER",payload:{data:"".concat(null===t||void 0===t||null===(e=t.project)||void 0===e?void 0:e.name)}}),o(Wr([Object(u.a)({},function(){switch(!0){case a.showWorkPlan:return{to:"/work_plan",title:"Projected Cash Flow"};case a.showWorkPlanApproved:return{to:"/work_plan_approved",title:"Approved Cash Flow"};case a.showWorkPlanAdjusted:return{to:"/work_plan_adjusted",title:"Adjusted Cash Flow"};case a.showExpenditures:return{to:"/expenditures",title:"Expenditures"}}}()),{to:"",title:"Details"}])))}),[]),!t)return null;var i=Object(w.uniq)(w.concat.apply(void 0,Object(D.a)(t.activities.map((function(e){return e.investments.map((function(a){var n=e.output_ids&&e.output_ids[0],r=Object(w.find)(t.outputs,(function(e){return e.id===n})),o=Object(w.find)(t.components,(function(e){return e.id===r.component_id}));return Object(u.a)(Object(u.a)({},a),{},{activity:e,component_id:null===o||void 0===o?void 0:o.id,component:o,output_id:n,output:r,fund_body_type:a.fund_body_type||3})}))}))))),l=Object(w.groupBy)(i,(function(e){return"".concat(e.fund.name," ").concat(e.fund_body_type&&e.fund_body_type<3?"(".concat(Ka[e.fund_body_type],")"):""," ")})),c=Object(w.groupBy)(i,"component_id"),s=Object(w.sortBy)(Object(w.uniq)(w.concat.apply(void 0,Object(D.a)(i.map((function(e){return Object.keys(e.costs||{})}))))).map((function(e){return Number(e)}))),d=function(e){var t=0;return i.forEach((function(a){t+=parseFloat(a.costs[e]||0)})),t},m=function(e){var t=0;return Object(w.keys)(e).forEach((function(a){t+=parseFloat(e[a]||0)})),t};return r.a.createElement(Fi.a,{style:{overflow:"auto"}},r.a.createElement(oi.a,{size:"small"},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null),s.map((function(e){return r.a.createElement(ci.a,{style:{textAlign:"right"}},xi(e).name)})),r.a.createElement(ci.a,{style:{textAlign:"right"}},"Total"))),r.a.createElement(si.a,null,Object.keys(l).map((function(e){var t=Object(w.groupBy)(l[e],(function(e){var t;return null===(t=e.component)||void 0===t?void 0:t.name})),a={},n=Object.keys(t).map((function(e,n){var o=t[e],i={},l=o.map((function(e){var t,n=0;return r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{maxWidth:300,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},title:null===e||void 0===e||null===(t=e.activity)||void 0===t?void 0:t.name},e.activity.name),s.map((function(t){var o=parseFloat(e.costs[t]||0);return n+=o,i[t]=i[t]?i[t]+o:o,a[t]=a[t]?a[t]+o:o,r.a.createElement(ci.a,{style:{textAlign:"right"}},vr(e.costs[t])||0)})),r.a.createElement(ci.a,{variant:"head",style:{textAlign:"right"}},vr(n)))}));return[r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:s.length+2},"Component: ".concat(_u(o[0].component)))),l]}));return[r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:s.length+2,style:{fontWeight:"bold"}},"Fund Source: ",e)),n,[r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"blue"}},"Fund Source Total"),s.map((function(e){return r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"blue",textAlign:"right"}},vr(a[e]))})),r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"blue",textAlign:"right"}},vr(m(a)))),r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:s.length+2,style:{borderBottom:"1px solid #000"}}))]]}))),Object.keys(c).map((function(e,t){var a={};return c[e].forEach((function(e){Object.keys(e.costs).forEach((function(t){var n=parseFloat(e.costs[t]||0);a[t]=a[t]?a[t]+n:n}))})),[r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{fontWeight:"bold"}},"Component ".concat(t+1,": Total")),s.map((function(e){return r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"green",textAlign:"right"}},vr(a[e]))})),r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"green",textAlign:"right"}},vr(m(a))))]})),r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"red"}},"Grand Total"),s.map((function(e){return r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"red",textAlign:"right"}},vr(d(e)))})),r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"red",textAlign:"right"}},vr(Object(w.sumBy)(s.map((function(e){return{total:d(e)}})),"total"))))))},Eb=function(e){var t=e.start_date,a=e.end_date,n=e.year,r=z("fiscal_year_start_date"),o=S()("".concat(r,"/").concat(n),"DD/MM/YYYY"),i=S()("".concat(r,"/").concat(n+1),"DD/MM/YYYY").add(-1,"days"),l=S()(t).isSameOrAfter(o)||S()(a).isBefore(o),c=S()(a).isSameOrAfter(i)||S()(a).isSameOrAfter(o)&&S()(a).isBefore(i);return l||c},jb=["onSaveSuccess","onClose","projectId"],yb=["projectDetails","year","onSave","onClose","bpmsData"],Ob=["getSource","scopedFormData","formData"],wb=function(e){var t=e.onSaveSuccess,a=e.onClose,n=(e.projectId,Object(T.a)(e,jb));return r.a.createElement(Zc.a,{style:{width:"100%"}},r.a.createElement(Xn.a,{onClick:a,label:"Cancel",style:{marginRight:5,padding:"7px 15px"},color:"primary",variant:"contained"}),r.a.createElement(Zm.a,Object.assign({},n,{onSuccess:t,disabled:n.invalid||n.pristine})))},xb=function(e){var t=e.projectDetails,a=e.year,o=e.onSave,i=e.onClose,l=e.bpmsData,c=Object(T.a)(e,yb),s=Object(ee.e)();Object(n.useEffect)((function(){var e;c.defaultBreadcrumbs||(s({type:"SET_PROJECT_TITLE_HEADER",payload:{data:"".concat(null===t||void 0===t||null===(e=t.project)||void 0===e?void 0:e.name)}}),s(Wr([Object(u.a)({},function(){switch(!0){case c.showWorkPlan:return{to:"/work_plan",title:"Projected Cash Flow"};case c.showWorkPlanApproved:return{to:"/work_plan_approved",title:"Approved Cash Flow"};case c.showWorkPlanAdjusted:return{to:"/work_plan_adjusted",title:"Adjusted Cash Flow"}}}()),{to:"",title:"Details"}])))}),[]);var d=z("fiscal_year_start_date"),m=Object(n.useMemo)((function(){if(!c.showWorkPlanAdjusted)return[];var e=Number(S()().format("MM")),t=Number(d.split("/")[1]);return e<t?Ch.filter((function(a){return Number(a)>=t||Number(a)<=e})):e>t?Ch.filter((function(a){return Number(a)>=t&&Number(a)<=e})):void 0}),[d,c.showWorkPlanAdjusted]);if(!t)return null;var p=Object(w.uniq)(w.concat.apply(void 0,Object(D.a)(t.activities.filter((function(e){var t=e.start_date,n=e.end_date;return Eb({start_date:t,end_date:n,year:a})})).map((function(e){return e.investments.map((function(a){var n=e.output_ids&&e.output_ids[0],r=Object(w.find)(t.outputs,(function(e){return e.id===n})),o=Object(w.find)(t.components,(function(e){return e.id===r.component_id}));return Object(u.a)(Object(u.a)({},a),{},{activity:e,component_id:null===o||void 0===o?void 0:o.id,component:o,output_id:n,output:r,fund_body_type:String(a.fund_body_type||3)})}))}))))),f=Object(w.groupBy)(p,(function(e){return"".concat(e.fund.name," ").concat(e.fund_body_type&&Number(e.fund_body_type)<3?"(".concat(Ka[e.fund_body_type],")"):""," ")})),_=Ch.filter((function(e){return!m.includes(e)}));return r.a.createElement(ru.a,Object.assign({},c,{undoable:!1}),r.a.createElement(ou.a,{redirect:!1,toolbar:r.a.createElement(wb,{projectId:null===t||void 0===t?void 0:t.project_id,onSaveSuccess:o,onClose:i})},r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData;var n=e.formData;Object(T.a)(e,Ob);n&&(n.year=a,n.project_detail_id=null===t||void 0===t?void 0:t.id,(n&&!n.cost_plan_items||n.cost_plan_items&&0===n.cost_plan_items.length)&&(n.cost_plan_items=null===p||void 0===p?void 0:p.map((function(e){return{activity_id:null===e||void 0===e?void 0:e.activity_id,fund_body_type:String(null===e||void 0===e?void 0:e.fund_body_type),fund_id:null===e||void 0===e?void 0:e.fund_id,cash_flow:{}}}))));var o={},i={},c=Object(w.groupBy)(n.cost_plan_items,(function(e){return"".concat(e.fund.name," ").concat(e.fund_body_type&&Number(e.fund_body_type)<3?"(".concat(Ka[e.fund_body_type],")"):""," ")})),s=Object(w.groupBy)(n.cost_plan_items,(function(e){var t;return null===e||void 0===e||null===(t=e.fund)||void 0===t?void 0:t.code}));return Object(w.keys)(c).forEach((function(e){c[e].forEach((function(t){o[e]||(o[e]=0),Object(w.keys)(t.cash_flow).forEach((function(a){o[e]+=parseFloat(t.cash_flow[a]||0)}))}))})),Object(w.keys)(s).forEach((function(e){s[e].forEach((function(t){i[e]||(i[e]=0),Object(w.keys)(t.cash_flow).forEach((function(a){i[e]+=parseFloat(t.cash_flow[a]||0)}))}))})),console.log(i,"totalByFundIds"),console.log(o,"totalByFund"),r.a.createElement(r.a.Fragment,null,r.a.createElement(Fi.a,{style:{overflow:"auto"}},r.a.createElement(oi.a,{size:"small"},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{width:150}}),r.a.createElement(ci.a,{style:{width:150},align:"right"},"Proposed Annual"),m.length>0&&r.a.createElement(ci.a,{style:{width:150},align:"right"},"".concat(S()(m[0],"MM").format("MMM")," - ").concat(S()(m[m.length-1],"MM").format("MMM"))),_.map((function(e){var t=S()(e,"MM").format("MMM").toLowerCase();return r.a.createElement(ci.a,{align:"center",style:{textTransform:"capitalize"}},t)})))),r.a.createElement(si.a,null,Object.keys(f).map((function(e){var t,i,c=null===(t=f[e][0])||void 0===t||null===(i=t.fund)||void 0===i?void 0:i.code,s=Object(w.groupBy)(f[e],(function(e){var t;return null===e||void 0===e||null===(t=e.component)||void 0===t?void 0:t.name})),u=Object.keys(s).map((function(e,t){var o=s[e],i=o.map((function(e){var t,o,i=Object(w.findIndex)(n.cost_plan_items,(function(t){return(null===t||void 0===t?void 0:t.activity_id)===(null===e||void 0===e?void 0:e.activity_id)&&(null===t||void 0===t?void 0:t.fund_id)===(null===e||void 0===e?void 0:e.fund_id)&&(null===t||void 0===t?void 0:t.fund_body_type)===(null===e||void 0===e?void 0:e.fund_body_type)}));return-1===i?null:r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{maxWidth:300,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},title:null===e||void 0===e||null===(t=e.activity)||void 0===t?void 0:t.name},null===e||void 0===e||null===(o=e.activity)||void 0===o?void 0:o.name),m.length>0&&r.a.createElement(ci.a,{align:"right"},vr(function(){var e=0;return m.forEach((function(t){var a,r=S()(t,"MM").format("MMMM").toLowerCase();e+=parseFloat((null===n||void 0===n||null===(a=n.cost_plan_items[i])||void 0===a?void 0:a.cash_flow[r])||0)})),e}(null===e||void 0===e||e.activity))),r.a.createElement(ci.a,{align:"right"},vr(function(e){var t=Object(w.find)(p,(function(t){return t.activity_id===e}));return t&&t.costs?t.costs[a]:0}(e.activity.id))),_.map((function(e){var t=S()(e,"MM").format("MMMM").toLowerCase();return r.a.createElement(ci.a,{style:{width:150},align:"right"},r.a.createElement(ns.a,{source:"cost_plan_items[".concat(i,"].cash_flow.").concat(t),label:!1,variant:"outlined",margin:"none",format:_r,parse:gr,style:{width:120},validate:[Object(rs.h)()],InputProps:{textAlign:"right"}}))})))}));return[r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:_.length+3},"Component: ".concat(_u(o[0].component)))),i]}));return[r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:_.length+3,variant:"head"},"Fund Source: ",e)),u,[r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{fontWeight:"bold",border:"none"}},"Fund Source Total"),r.a.createElement(ci.a,{style:{fontWeight:"bold",textAlign:"right",border:"none"}},vr(o[e]))),r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{fontWeight:"bold",border:"none"}},"Budget Total"),r.a.createElement(ci.a,{style:{fontWeight:"bold",textAlign:"right",border:"none"}},vr(l&&l[c]||0))),r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{fontWeight:"bold",border:"none"}},"Balance"),r.a.createElement(ci.a,{style:{fontWeight:"bold",color:(l&&l[c]||0)-(o[e]||0)<0?"red":"inherit",textAlign:"right",border:"none"}},vr((l&&l[c]||0)-(o[e]||0))))]]}))))))}))))},kb=["projectDetails","bpmsData"],Sb=function(e){var t,a,o,i=e.projectDetails,l=e.bpmsData,c=Object(T.a)(e,kb),s=Object(b_.a)(c).record,d=Object(ee.e)();if(Object(n.useEffect)((function(){return c.defaultBreadcrumbs||d(Wr([Object(u.a)({},function(){switch(!0){case c.showWorkPlan:return{to:"/work_plan",title:"Projected Cash Flow"};case c.showWorkPlanApproved:return{to:"/work_plan_approved",title:"Approved Cash Flow"};case c.showWorkPlanAdjusted:return{to:"/work_plan_adjusted",title:"Adjusted Cash Flow"}}}()),{to:"",title:"Details"}])),function(){d(Wr([]))}}),[]),Object(n.useEffect)((function(){var e;c.defaultBreadcrumbs||d({type:"SET_PROJECT_TITLE_HEADER",payload:{data:"".concat(null===i||void 0===i||null===(e=i.project)||void 0===e?void 0:e.name)}})}),[null===i||void 0===i||null===(t=i.project)||void 0===t?void 0:t.name]),!i)return null;if(!s)return null;if(0===(null===s||void 0===s||null===(a=s.cost_plan_items)||void 0===a?void 0:a.length))return r.a.createElement(se.a,{variant:"h3"},"Data has not been filled in yet.");var m=function(e){var t=S()(e,"MM").format("MMMM").toLowerCase(),a=0;return s.cost_plan_items.forEach((function(e){a+=e.cash_flow&&parseFloat(e.cash_flow[t]||0)||0})),a},p=function(e){var t=0;return Object(w.keys)(e).forEach((function(a){t+=parseFloat(e[a]||0)})),t},f=null===s||void 0===s||null===(o=s.cost_plan_items)||void 0===o?void 0:o.map((function(e){var t=e.activity,a=t.output_ids&&t.output_ids[0],n=Object(w.find)(i.outputs,(function(e){return e.id===a})),r=Object(w.find)(i.components,(function(e){return e.id===n.component_id}));return Object(u.a)(Object(u.a)({},e),{},{activity:t,component_id:null===r||void 0===r?void 0:r.id,component:r,output_id:a,output:n,fund_body_type:e.fund_body_type||3})})),_=Object(w.groupBy)(f,(function(e){return"".concat(e.fund.name," ").concat(e.fund_body_type&&e.fund_body_type<3?"(".concat(Ka[e.fund_body_type],")"):""," ")})),g=Object(w.groupBy)(f,"component_id"),h=Object(w.uniq)(w.concat.apply(void 0,Object(D.a)(i.activities.map((function(e){return e.investments.map((function(t){var a=e.output_ids&&e.output_ids[0],n=Object(w.find)(i.outputs,(function(e){return e.id===a})),r=Object(w.find)(i.components,(function(e){return e.id===n.component_id}));return Object(u.a)(Object(u.a)({},t),{},{activity:e,component_id:null===r||void 0===r?void 0:r.id,component:r,output_id:a,output:n,fund_body_type:String(t.fund_body_type||3)})}))})))));return r.a.createElement(E_.a,Object.assign({},c,{actions:!1}),r.a.createElement(j_.a,null,r.a.createElement("div",{className:"Section2"},c.isHistory&&r.a.createElement("div",{style:{display:"inline-block"}},r.a.createElement(nr,{reportId:"history-container",title:"Cash Flow Adjusted History",exportTypes:[Ha.PDF,Ha.WORD,Ha.XLS]})),r.a.createElement("div",{className:"content-area",id:"history-container"},r.a.createElement(Fi.a,{style:{overflow:"auto"}},r.a.createElement(oi.a,{size:"small"},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null),r.a.createElement(ci.a,{align:"right"},"Total"),Ch.map((function(e){var t=S()(e,"MM").format("MMMM").toLowerCase();return r.a.createElement(ci.a,{align:"right",style:{textTransform:"capitalize"}},t)})),r.a.createElement(ci.a,{align:"right"},"Total"),r.a.createElement(ci.a,{align:"right"},"Proposed Annual"))),r.a.createElement(si.a,null,Object.keys(_).map((function(e){var t,a,n=null===(t=_[e][0])||void 0===t||null===(a=t.fund)||void 0===a?void 0:a.code,o=Object(w.groupBy)(_[e],(function(e){var t;return null===(t=e.component)||void 0===t?void 0:t.name})),i={},s=Object.keys(o).map((function(e,t){var a=o[e],n={},l=a.map((function(e){var t=0;return r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{maxWidth:300,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},title:e.activity.name},e.activity.name),r.a.createElement(ci.a,null),Ch.map((function(a){var o=S()(a,"MM").format("MMMM").toLowerCase(),l=e&&e.cash_flow&&parseFloat(e.cash_flow[o]||0);return t+=l||0,n[o]=n[o]?n[o]+l:l,i[o]=i[o]?i[o]+l:l,r.a.createElement(ci.a,{style:{textAlign:"right"}},vr((null===e||void 0===e?void 0:e.cash_flow)&&e.cash_flow[o])||0)})),r.a.createElement(ci.a,{align:"right",style:{fontWeight:"bold"}},vr(t)),r.a.createElement(ci.a,{align:"right",style:{fontWeight:"bold"}},vr(function(e){var t=Object(w.find)(h,(function(t){return t.activity_id===e}));return t&&t.costs?t.costs[c.record.year]:0}(e.activity.id))))}));return[r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:Ch.length+3},"Component: ".concat(_u(a[0].component)))),l]}));return[r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:Ch.length+3,style:{fontWeight:"bold"}},"Fund Source: ",e)),s,[r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"blue"}},"Fund Source Total"),r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"blue",textAlign:"right"}},vr(p(i))),Ch.map((function(e){var t=S()(e,"MM").format("MMMM").toLowerCase();return r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"blue",textAlign:"right"}},vr(i[t]))})),r.a.createElement(ci.a,{colSpan:2})),r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"blue"}},"Budget Total"),r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"blue",textAlign:"right"}},vr(l&&l[n]||0))),r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"blue"}},"Balance"),r.a.createElement(ci.a,{style:{fontWeight:"bold",color:(l&&l[n]||0)-p(i)<0?"red":"blue",textAlign:"right"}},vr((l&&l[n]||0)-p(i)))),r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:Ch.length+4,style:{borderBottom:"1px solid #000"}}))]]}))),Object.keys(g).map((function(e,t){var a={};return g[e].forEach((function(e){Object.keys(e.cash_flow).forEach((function(t){var n=parseFloat(e.cash_flow[t]||0);a[t]=a[t]?a[t]+n:n}))})),[r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{fontWeight:"bold"}},"Component ".concat(t+1,": Total")),Ch.map((function(e){var t=S()(e,"MM").format("MMMM").toLowerCase();return r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"green",textAlign:"right"}},vr(a[t]))})),r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"green",textAlign:"right"}},vr(p(a))),r.a.createElement(ci.a,null))]})),r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"red"}},"Grand Total"),Ch.map((function(e){return r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"red",textAlign:"right"}},vr(m(e)))})),r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"red",textAlign:"right"}},vr(Object(w.sumBy)(Ch.map((function(e){return{total:m(e)}})),"total"))),r.a.createElement(ci.a,null))))))))},Pb=a(585),Cb=a.n(Pb),Nb=["projectCode","fiscalYear","onClose","bpmsData"],Ab=function(e){e.projectCode,e.fiscalYear;var t=e.onClose,a=e.bpmsData,o=(Object(T.a)(e,Nb),Object(n.useState)({})),i=Object(Z.a)(o,2),l=i[0],c=i[1],s=Object(n.useState)({}),u=Object(Z.a)(s,2),d=(u[0],u[1]),m=Object(n.useState)([]),p=Object(Z.a)(m,2),f=p[0],_=p[1],g=Object(n.useState)({}),h=Object(Z.a)(g,2),v=h[0],b=h[1],E=Object(n.useState)(!0),j=Object(Z.a)(E,2),y=j[0];j[1],Object(Ca.a)();Object(n.useEffect)((function(){if(a){var e=Object(w.groupBy)(null===a||void 0===a?void 0:a.filter((function(e){return e.costing})),(function(e){return e.object_code_only})),t=Object(w.groupBy)(null===a||void 0===a?void 0:a.filter((function(e){return e.costing})),(function(e){return e.fund_source_code})),n={},r={},o={};Object.keys(e).forEach((function(t){r[t]=Object(w.sumBy)(e[t],"amount")-0,n[t]=Object(w.sumBy)(e[t],"amount")})),Object.keys(t).forEach((function(t){o[t]={},Object.keys(e).forEach((function(a){var n=e[a].filter((function(e){return e.fund_source_code===t}));o[t][a]=Object(w.sumBy)(n,"amount")-0}))}));var i={};Object.keys(t).forEach((function(e){var a=t[e][0];i[e]=a.fund.name}));var l={};Object.keys(e).forEach((function(t){var a=Object(w.sumBy)(e[t],"amount");l[t]=a})),c(o),_(Object(w.uniq)(Object.keys(e))),d(l),b(i)}}),[a]);var O=Object(w.sumBy)(a,"amount");return r.a.createElement(Gr.a,{fullWidth:!0,maxWidth:"lg",open:!0,onClose:t},r.a.createElement(Hr.a,null,r.a.createElement(se.a,{variant:"h6",style:{marginLeft:20}},"Budget Information")),r.a.createElement(Jr.a,null,y||0!==f.length?r.a.createElement(Fi.a,null,r.a.createElement(oi.a,null,r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Fund / Object"),r.a.createElement(ci.a,{align:"right"},"Amount"))),r.a.createElement(si.a,null,Object.keys(l).map((function(e){var t=0,n=Object.keys(l[e]);return n.forEach((function(a){t+=l[e][a]?parseFloat(l[e][a]||0):0})),[r.a.createElement(li.a,{key:e},r.a.createElement(ci.a,{variant:"head",style:{fontWeight:"bold"}},"".concat(e," - ").concat(v[e])),r.a.createElement(ci.a,{align:"right",variant:"head"},vr(t))),null===n||void 0===n?void 0:n.map((function(t){return r.a.createElement(li.a,{key:t},r.a.createElement(ci.a,null,"".concat(t," - ").concat(function(e){if(a&&a.length>0){var t,n=Object(w.find)(a,(function(t){return t.object_code_only===e}));return console.log(n,"selected"),n?null===n||void 0===n||null===(t=n.costing)||void 0===t?void 0:t.name:"-"}return"-"}(t))),r.a.createElement(ci.a,{key:t,align:"right"},vr(l[e][t])))}))]})),r.a.createElement(li.a,null,r.a.createElement(ci.a,{variant:"head"},"Total"),r.a.createElement(ci.a,{variant:"head",align:"right"},vr(O)))))):r.a.createElement(se.a,{variant:"h3"},"No budget data for selected period")))},Db=["children","value","index"],Tb=["item","details","project","refresh"],Fb=["filter"];function Rb(e){var t=e.children,a=e.value,n=e.index,o=Object(T.a)(e,Db);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},o),a===n&&r.a.createElement(di.a,{p:3},t))}var Ib=function(e){var t=e.item,a=e.details,o=e.project,i=e.refresh,l=Object(T.a)(e,Tb),c=Object(n.useState)(!1),s=Object(Z.a)(c,2),d=s[0],m=s[1],p="COMPLETED"===(null===o||void 0===o?void 0:o.project_status),f=Object(Ca.a)(),_=Object(Na.a)(),g=Object(ee.e)(),h=Object(n.useState)(!1),v=Object(Z.a)(h,2),b=v[0],E=v[1],j=Object(n.useState)([]),y=Object(Z.a)(j,2),O=y[0],x=y[1],k=Object(n.useState)({}),S=Object(Z.a)(k,2),P=S[0],C=S[1],N=L();if(Object(n.useEffect)((function(){(null===o||void 0===o?void 0:o.budget_code)&&N("list_bpms_data")&&f.getIntegrationData("integrations/bpms",{filter:{project_coa_code:o.budget_code,fiscal_year:"".concat(t.year,"/").concat(String(t.year+1).slice(-2))}}).then((function(e){if(null===e||void 0===e?void 0:e.data){var t,a={},n=Object(w.groupBy)(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.filter((function(e){return e.costing})),(function(e){return e.fund_source_code}));Object.keys(n).forEach((function(e){a[e]=Object(w.sumBy)(n[e],"amount")})),C(a),x(null===e||void 0===e?void 0:e.data)}}))}),[N,f,t.year,o.budget_code]),Object(n.useEffect)((function(){return l.defaultBreadcrumbs||g(Wr([Object(u.a)({},function(){switch(!0){case l.showWorkPlan:return{to:"/work_plan",title:"Projected Cash Flow"};case l.showWorkPlanApproved:return{to:"/work_plan_approved",title:"Approved Cash Flow"};case l.showWorkPlanAdjusted:return{to:"/work_plan_adjusted",title:"Adjusted Cash Flow"}}}()),{to:"",title:"Details"}])),function(){g(Wr([]))}}),[]),!o||!a||!t)return null;var A=function(){E((function(e){return!e}))},D=function(e){f.create("cost-plans",{data:Object(u.a)({},e)}).then((function(e){i()})).catch((function(e){_("Cash flow was not created!","error")}))},F=l.showWorkPlanApproved?N("publish_approved_cash_flow"):N("publish_projected_cash_flow"),R=l.showWorkPlanApproved?N("update_approved_cash_flow"):N("update_projected_cash_flow"),I=l.showWorkPlanApproved?N("view_approved_cash_flow"):N("view_projected_cash_flow"),M=F&&"DRAFT"===t.cost_plan_status&&!p&&!d,W=(!d&&R||d&&I)&&"DRAFT"===t.cost_plan_status&&!p&&!d;return r.a.createElement("div",{style:{position:"relative"}},r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",marginBottom:5,gap:15}},N("list_bpms_data")&&r.a.createElement(Xn.a,{onClick:A,label:"Budget",color:"primary",variant:"text",startIcon:r.a.createElement(We.a,null),disabled:0===O.length}),M&&r.a.createElement(Xn.a,{onClick:function(){f.update("cost-plans",{id:t.id,data:{cost_plan_status:"SUBMITTED"}}).then((function(e){if(i(),_("Cash flow was published!","success"),"PROJECTED"===t.cost_plan_type){var a=Object(u.a)({},t);delete a.id,D(Object(u.a)(Object(u.a)({},a),{},{cost_plan_items:a.cost_plan_items.map((function(e){var t=Object(u.a)({},e);return delete t.id,delete t.cost_plan_id,t})),cost_plan_status:"DRAFT",cost_plan_type:"APPROVED"}))}})).catch((function(e){console.log(e,"result"),_("Cash flow was not published!","error")}))},label:"Publish",color:"primary",variant:"contained",startIcon:r.a.createElement(cm.a,null),disabled:function(){var e,a;if(0===(null===(e=t.cost_plan_items)||void 0===e?void 0:e.length))return!0;var n=t.cost_plan_items.filter((function(e){return Object(w.isEmpty)(e.cash_flow)})),r=Object(w.groupBy)(t.cost_plan_items,(function(e){return e.fund.code})),o={},i=0;Object(w.keys)(r).forEach((function(e){o[e]=0,r[e].forEach((function(t){var a=t.cash_flow;Object(w.keys)(a).forEach((function(t){o[e]+=parseFloat(a[t]||0)}))})),i+=o[e]}));var l=0;return Object(w.keys)(P).forEach((function(e){l+=parseFloat(P[e]||0)})),n.length===(null===(a=t.cost_plan_items)||void 0===a?void 0:a.length)||l!==i}()}),W&&r.a.createElement(Xn.a,{onClick:function(){m((function(e){return!e}))},label:d?"Show":"Edit",color:"primary",variant:"contained",startIcon:d?r.a.createElement(Cb.a,null):r.a.createElement(Vv.a,null)})),r.a.createElement("div",null,d?r.a.createElement(xb,Object.assign({},l,{basePath:"/cost-plans",resource:"cost-plans",id:t.id,record:t,projectDetails:a,year:t.year,onSave:function(){m(!1),i()},onClose:function(){return m(!1)},bpmsData:P})):r.a.createElement(Sb,Object.assign({},l,{basePath:"/cost-plans",id:t.id,resource:"cost-plans",record:t,projectDetails:a,bpmsData:P}))),b&&O.length>0&&r.a.createElement(Ab,{fiscalYear:"".concat(t.year,"/").concat(String(t.year+1).slice(-2)),projectCode:o.budget_code,onClose:A,bpmsData:O}))},Mb=function(e){var t,a=e.filter,o=void 0===a?{}:a,i=Object(T.a)(e,Fb),l=Object(n.useState)(!1),c=Object(Z.a)(l,2),s=c[0],d=c[1],m=Object(n.useState)(!1),p=Object(Z.a)(m,2),f=(p[0],p[1]),_=Object(n.useState)([]),g=Object(Z.a)(_,2),h=g[0],v=g[1],b=Object(n.useState)([]),E=Object(Z.a)(b,2),j=E[0],y=E[1],O=r.a.useState(null),w=Object(Z.a)(O,2),x=w[0],k=w[1],P=r.a.useState(null),C=Object(Z.a)(P,2),N=C[0],A=C[1],F=Object(Ca.a)(),R=r.a.useState(0),I=Object(Z.a)(R,2),M=I[0],W=I[1],L=Object(Na.a)(),Y=Object(rr.a)(),B=Object(ee.e)(),q=Object(n.useMemo)((function(){return N&&S()(N.end_date,"YYYY-MM-DD").diff(S()(N.start_date,"YYYY-MM-DD"),"years")+1||0}),[N]),U=function e(t){var a,n,l=i.id||(null===(a=i.match)||void 0===a||null===(n=a.params)||void 0===n?void 0:n.id);F.getOne("projects",{id:l}).then((function(t){t&&t.data&&(k(t.data),F.getOne("project-details",{id:t.data.current_project_detail.id}).then((function(a){a&&a.data&&(A(H(Object(u.a)({},a.data))),F.getListOfAll("cost-plans",{sort_field:"id",filter:Object(u.a)({project_detail_id:a.data.id},o)}).then((function(n){if(null===n||void 0===n?void 0:n.data){var o=n.data.map((function(n){return{id:n.year,content:r.a.createElement(Ib,Object.assign({},i,{basePath:"/cost-plans",resource:"cost-plans",item:n,details:H(Object(u.a)({},a.data)),project:t.data,refresh:function(){return e(l)}}))}}));v(n.data),y([{id:"annual",content:r.a.createElement(bb,Object.assign({},i,{projectDetails:H(Object(u.a)({},a.data))}))}].concat(Object(D.a)(o)))}})))})))}))};Object(n.useEffect)((function(){i.defaultBreadcrumbs||B(Wr([Object(u.a)({},function(){switch(!0){case i.showWorkPlan:return{to:"/#/work_plan",title:"Projected Cash Flow"};case i.showWorkPlanApproved:return{to:"/#/work_plan_approved",title:"Approved Cash Flow"};case i.showWorkPlanAdjusted:return{to:"/#/work_plan_adjusted",title:"Adjusted Cash Flow"}}}()),{to:"",title:"Details"}]))}),[]),Object(n.useEffect)((function(){var e,t,a=i.id||(null===(e=i.match)||void 0===e||null===(t=e.params)||void 0===t?void 0:t.id);F.getOne("projects",{id:a}).then((function(e){e&&e.data&&(k(e.data),F.getOne("project-details",{id:e.data.current_project_detail.id}).then((function(t){t&&t.data&&(A(H(Object(u.a)({},t.data))),F.getListOfAll("cost-plans",{sort_field:"id",filter:Object(u.a)({project_detail_id:t.data.id},o)}).then((function(a){if(null===a||void 0===a?void 0:a.data){var n=a.data.map((function(a){return{id:a.year,content:r.a.createElement(Ib,Object.assign({},i,{basePath:"/cost-plans",resource:"cost-plans",item:a,details:H(Object(u.a)({},t.data)),project:e.data,refresh:function(){return U()}}))}}));v(a.data),y([{id:"annual",content:r.a.createElement(bb,Object.assign({},i,{projectDetails:H(Object(u.a)({},t.data))}))}].concat(Object(D.a)(n)))}})))})))}))}),[]);var V=function(e){F.create("cost-plans",{data:Object(u.a)({},e)}).then((function(e){L("Cash flow created!"),Y(),U(x.id)})).catch((function(e){L("Cash flow was not created!")}))},G=function(){d(!1)};return r.a.createElement(In.a,null,r.a.createElement(Us.a,{value:M,onChange:function(e,t){W(t)},variant:"scrollable"},null===j||void 0===j?void 0:j.map((function(e){return r.a.createElement(Vs.a,{label:"annual"===e.id?"Annual":xi(e.id).name,key:e.id})})),(null===h||void 0===h?void 0:h.length)<q&&i.showWorkPlan&&r.a.createElement(Xn.a,{disabled:"DRAFT"===(null===(t=h[h.length-1])||void 0===t?void 0:t.cost_plan_status),label:"Add +",onClick:function(){var e;if("DRAFT"===(null===(e=h[h.length-1])||void 0===e?void 0:e.cost_plan_status))d(!0);else{var t=0===h.length?function(){if(!x)return null;var e=z("fiscal_year_start_date"),t=x&&S()(x.signed_date).format("YYYY"),a=S()("".concat(e,"/").concat(t),"DD/MM/YYYY");return S()(x.signed_date).isSameOrAfter(a)?Number(t):Number(t)-1}()||Number(S()().format("YYYY")):Number(h[h.length-1].year)+1;V({cost_plan_items:[],project_detail_id:N.id,year:t})}}})),j.map((function(e,t){return r.a.createElement(Rb,{value:M,index:t,key:e.id},e.content)})),r.a.createElement(Gr.a,{open:s,onClose:G},r.a.createElement(Jr.a,null,r.a.createElement(hb.a,null,r.a.createElement(se.a,{variant:"h5"},"The cash flow data for the past years will be locked."),r.a.createElement(se.a,{variant:"h5"},"Are you sure you want to continue?"))),r.a.createElement(Xr.a,null,r.a.createElement(Xn.a,{label:"Cancel",onClick:G,startIcon:r.a.createElement(Vf.a,null)}),r.a.createElement(Xn.a,{label:"Confirm",onClick:function(){var e=h[h.length-1];F.update("cost-plans",{id:e.id,data:{cost_plan_status:"SUBMITTED"}}).then((function(t){f(!0),L("Cash flow submitted!"),U(x.id),(null===h||void 0===h?void 0:h.length)<q&&V({cost_plan_items:[],project_detail_id:N.id,year:Number(e.year)+1})})).catch((function(e){console.log(e,"err"),L("Cash flow was not submitted!")})),d(!1)},startIcon:r.a.createElement(Wn.a,null),variant:"contained"}))))},Wb=["children","value","index"],Lb=["item","details","project","refresh"],Yb=["filter"];function Bb(e){var t=e.children,a=e.value,n=e.index,o=Object(T.a)(e,Wb);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},o),a===n&&r.a.createElement(di.a,{p:3},t))}var zb=function(e){var t=e.item,a=e.details,o=e.project,i=e.refresh,l=Object(T.a)(e,Lb),c=Object(n.useState)(!1),s=Object(Z.a)(c,2),d=s[0],m=s[1],p=Object(n.useState)(!1),f=Object(Z.a)(p,2),_=(f[0],f[1],"COMPLETED"===(null===o||void 0===o?void 0:o.project_status)),g=Object(Ca.a)(),h=Object(Na.a)(),v=Object(rr.a)(),b=L();if(!o||!a||!t)return null;var E=b("publish_adjusted_cash_flow")&&"DRAFT"===t.cost_plan_status&&!_&&!d,j=b("add_adjusted_cash_flow")&&"SUBMITTED"===t.cost_plan_status&&!d,y=(!d&&b("update_adjusted_cash_flow")||d&&b("view_adjusted_cash_flow"))&&"DRAFT"===t.cost_plan_status&&!_&&!d;return r.a.createElement("div",{style:{position:"relative"}},!l.showWorkPlanAdjusted&&r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:30,gap:15}},!d&&r.a.createElement(Xn.a,{href:"/#/cost-plans-history/".concat(t.project_detail_id,"/").concat(t.year),label:"History",color:"primary",variant:"text",startIcon:r.a.createElement(rb.a,null)}),r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:15}},j&&r.a.createElement(Xn.a,{onClick:function(){g.create("cost-plans",{data:Object(u.a)(Object(u.a)({},t),{},{cost_plan_items:t.cost_plan_items.map((function(e){var t=Object(u.a)({},e);return delete t.id,delete t.cost_plan_id,t})),cost_plan_status:"DRAFT",cost_plan_type:"ADJUSTED"})}).then((function(e){v(),i(o.id)})).catch((function(e){h("Cash flow was not submitted!")}))},label:"Create",color:"primary",variant:"contained",startIcon:r.a.createElement(ud.a,null)}),E&&r.a.createElement(Xn.a,{onClick:function(){g.update("cost-plans",{id:t.id,data:{cost_plan_status:"SUBMITTED"}}).then((function(e){v(),i(o.id)})).catch((function(e){h("Cash flow was not submitted!")}))},label:"Publish",color:"primary",variant:"contained",startIcon:r.a.createElement(cm.a,null)}),y&&r.a.createElement(Xn.a,{onClick:function(){m((function(e){return!e}))},label:d?"Show":"Edit",variant:"contained",color:"primary",startIcon:r.a.createElement(Vv.a,null)}))),r.a.createElement("div",null,d?r.a.createElement(xb,Object.assign({},l,{basePath:"/cost-plans",resource:"cost-plans",id:t.id,record:t,projectDetails:a,year:t.year,onSave:function(){m(!1),i(o.id)},onClose:function(){return m(!1)}})):r.a.createElement(Sb,Object.assign({},l,{basePath:"/cost-plans",id:t.id,resource:"cost-plans",record:t,projectDetails:a}))))},qb=function(e){e.filter;var t,a,o=Object(T.a)(e,Yb),i=Object(n.useState)(!1),l=Object(Z.a)(i,2),c=l[0],s=l[1],d=Object(n.useState)(!1),m=Object(Z.a)(d,2),p=(m[0],m[1]),f=Object(n.useState)([]),_=Object(Z.a)(f,2),g=_[0],h=_[1],v=Object(n.useState)([]),b=Object(Z.a)(v,2),E=(b[0],b[1]),j=Object(n.useState)([]),y=Object(Z.a)(j,2),O=y[0],x=y[1],k=r.a.useState(null),P=Object(Z.a)(k,2),C=P[0],N=P[1],A=r.a.useState(null),F=Object(Z.a)(A,2),R=F[0],I=F[1],M=Object(Ca.a)(),W=r.a.useState(0),L=Object(Z.a)(W,2),Y=L[0],B=L[1],q=Object(Na.a)(),U=Object(rr.a)(),V=Object(ee.e)(),G=Object(n.useMemo)((function(){return R&&S()(R.end_date,"YYYY-MM-DD").diff(S()(R.start_date,"YYYY-MM-DD"),"years")+1||0}),[R]),J=function e(t){var a,n,i=o.id||(null===(a=o.match)||void 0===a||null===(n=a.params)||void 0===n?void 0:n.id);M.getOne("projects",{id:i}).then((function(t){t&&t.data&&(N(t.data),M.getOne("project-details",{id:t.data.current_project_detail.id}).then((function(a){a&&a.data&&(I(H(Object(u.a)({},a.data))),M.getListOfAll("cost-plans",{sort_field:"id",filter:{project_detail_id:a.data.id,cost_plan_type:"APPROVED",cost_plan_status:"SUBMITTED"}}).then((function(n){(null===n||void 0===n?void 0:n.data)&&(h(n.data),M.getListOfAll("cost-plans",{sort_field:"id",filter:{project_detail_id:a.data.id,cost_plan_type:"ADJUSTED"}}).then((function(i){if(null===i||void 0===i?void 0:i.data){E(i.data);var l=i.data[i.data.length-1],c=H(Object(u.a)({},a.data)),s=t.data,d=Object(w.groupBy)(i.data,"year"),m=n.data.map((function(t){var a=Object(w.maxBy)(d[t.year],"id");return a?{id:t.year,content:r.a.createElement(zb,Object.assign({},o,{basePath:"/cost-plans",resource:"cost-plans",item:a,details:c,project:s,refresh:function(){return e(s.id)}}))}:{id:t.year,content:r.a.createElement(Xn.a,{startIcon:r.a.createElement(ud.a,null),variant:"contained",label:"Create",onClick:function(){X(l?Object(u.a)(Object(u.a)({},l),{},{cost_plan_items:l.cost_plan_items.map((function(e){var t=Object(u.a)({},e);return delete t.id,delete t.cost_plan_id,t})),cost_plan_status:"DRAFT",cost_plan_type:"ADJUSTED"}):Object(u.a)(Object(u.a)({},t),{},{cost_plan_items:t.cost_plan_items.map((function(e){var t=Object(u.a)({},e);return delete t.id,delete t.cost_plan_id,t})),cost_plan_status:"DRAFT",cost_plan_type:"ADJUSTED"}))}})}}));h(i.data),x([{id:"annual",content:r.a.createElement(bb,{projectDetails:H(Object(u.a)({},a.data))})}].concat(Object(D.a)(m)))}})))})))})))}))};Object(n.useEffect)((function(){o.defaultBreadcrumbs||V(Wr([Object(u.a)({},function(){switch(!0){case o.showWorkPlan:return{to:"/work_plan",title:"Projected Cash Flow"};case o.showWorkPlanApproved:return{to:"/work_plan_approved",title:"Approved Cash Flow"};case o.showWorkPlanAdjusted:return{to:"/work_plan_adjusted",title:"Adjusted Cash Flow"}}}()),{to:"",title:"Details"}]))}),[]),Object(n.useEffect)((function(){var e,t,a=o.id||(null===(e=o.match)||void 0===e||null===(t=e.params)||void 0===t?void 0:t.id);M.getOne("projects",{id:a}).then((function(e){e&&e.data&&(N(e.data),M.getOne("project-details",{id:e.data.current_project_detail.id}).then((function(t){t&&t.data&&(I(H(Object(u.a)({},t.data))),M.getListOfAll("cost-plans",{sort_field:"id",filter:{project_detail_id:t.data.id,cost_plan_type:"APPROVED",cost_plan_status:"SUBMITTED"}}).then((function(a){(null===a||void 0===a?void 0:a.data)&&(h(a.data),M.getListOfAll("cost-plans",{sort_field:"id",filter:{project_detail_id:t.data.id,cost_plan_type:"ADJUSTED"}}).then((function(n){if(null===n||void 0===n?void 0:n.data){E(n.data);n.data[n.data.length-1];var i=H(Object(u.a)({},t.data)),l=e.data,c=Object(w.groupBy)(n.data,"year"),s=a.data.map((function(e){var t=Object(w.maxBy)(c[e.year],"id");return t?{id:e.year,content:r.a.createElement(zb,Object.assign({},o,{basePath:"/cost-plans",resource:"cost-plans",item:t,details:i,project:l,refresh:function(){return J()}}))}:{id:e.year,content:r.a.createElement(Xn.a,{startIcon:r.a.createElement(ud.a,null),variant:"contained",label:"Create",onClick:function(){X(Object(u.a)(Object(u.a)({},e),{},{cost_plan_items:e.cost_plan_items.map((function(e){var t=Object(u.a)({},e);return delete t.id,delete t.cost_plan_id,t})),cost_plan_status:"DRAFT",cost_plan_type:"ADJUSTED"}))}})}}));h(n.data),x([{id:"annual",content:r.a.createElement(bb,Object.assign({},o,{projectDetails:H(Object(u.a)({},t.data))}))}].concat(Object(D.a)(s)))}})))})))})))}))}),[]);var X=function(e){delete e.id,M.create("cost-plans",{data:Object(u.a)({},e)}).then((function(e){q("Cash flow created!"),U(),J()})).catch((function(e){q("Cash flow was not created!")}))},$=function(){s(!1)};return r.a.createElement(In.a,null,r.a.createElement(Us.a,{value:Y,onChange:function(e,t){B(t)},variant:"scrollable"},null===O||void 0===O?void 0:O.map((function(e){return r.a.createElement(Vs.a,{label:"annual"===e.id?"Annual":xi(e.id).name,key:e.id})})),(null===g||void 0===g?void 0:g.length)<G&&"PROJECTED"===(null===(t=g[g.length-1])||void 0===t?void 0:t.cost_plan_type)&&r.a.createElement(Xn.a,{disabled:"DRAFT"===(null===(a=g[g.length-1])||void 0===a?void 0:a.cost_plan_status),label:"Add +",onClick:function(){var e;if("DRAFT"===(null===(e=g[g.length-1])||void 0===e?void 0:e.cost_plan_status))s(!0);else{var t=0===g.length?function(){var e=z("fiscal_year_start_date"),t=C&&S()(C.signed_date).format("YYYY"),a=S()("".concat(e,"/").concat(t),"DD/MM/YYYY");return C?C&&S()(C.signed_date).isSameOrAfter(a)?Number(t):Number(t)-1:null}()||Number(S()().format("YYYY")):Number(g[g.length-1].year)+1;X({cost_plan_items:[],project_detail_id:R.id,year:t})}}})),O.map((function(e,t){return r.a.createElement(Bb,{value:Y,index:t,key:e.id},e.content)})),r.a.createElement(Gr.a,{open:c,onClose:$},r.a.createElement(Jr.a,null,r.a.createElement(hb.a,null,r.a.createElement(se.a,{variant:"h5"},"The cash flow data for the past years will be locked."),r.a.createElement(se.a,{variant:"h5"},"Are you sure you want to continue?"))),r.a.createElement(Xr.a,null,r.a.createElement(Xn.a,{label:"Cancel",onClick:$,startIcon:r.a.createElement(Vf.a,null)}),r.a.createElement(Xn.a,{label:"Confirm",onClick:function(){var e=g[g.length-1];M.update("cost-plans",{id:e.id,data:{cost_plan_status:"SUBMITTED"}}).then((function(t){p(!0),q("Cash flow submitted!"),(null===g||void 0===g?void 0:g.length)<G&&X({cost_plan_items:[],project_detail_id:R.id,year:Number(e.year)+1}),J(C.id)})).catch((function(e){q("Cash flow was not submitted!")})),s(!1)},startIcon:r.a.createElement(Wn.a,null),variant:"contained"}))))},Ub=a(1074),Vb=["record","projectDetails"],Gb=["projectId"],Hb=function(e){var t=e.record,a=e.projectDetails,n=Object(T.a)(e,Vb);return a?r.a.createElement(Sb,{basePath:"/cost-plans",id:t.id,resource:"cost-plans",record:t,projectDetails:a,defaultBreadcrumbs:!0,isHistory:n.isHistory}):null},Jb=function(e){var t=e.projectId,a=(Object(T.a)(e,Gb),Object(ai.a)());return r.a.createElement(Gs.a,{style:{display:"flex",justifyContent:"flex-start",width:"100%"}},r.a.createElement(Xn.a,{onClick:function(){a("/cost-plans-adjusted/".concat(t,"/show"))},label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null)}))},Xb=function(e){var t,a,o,i,l=r.a.useState(null),c=Object(Z.a)(l,2),s=c[0],d=c[1],m=Object(Ca.a)(),p=null===e||void 0===e||null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id,f=null===e||void 0===e||null===(o=e.match)||void 0===o||null===(i=o.params)||void 0===i?void 0:i.year;return Object(n.useEffect)((function(){m.getOne("project-details",{id:p}).then((function(e){e&&e.data&&d(H(Object(u.a)({},e.data)))}))}),[]),r.a.createElement(ri.a,Object.assign({},e,{bulkActionButtons:!1,sort:{field:"modified_on",order:"DESC"},filter:{project_detail_id:p,year:f,cost_plan_type:"ADJUSTED",cost_plan_status:"SUBMITTED"},actions:r.a.createElement(Jb,{projectId:null===s||void 0===s?void 0:s.project_id})}),r.a.createElement(Nl.a,{rowClick:!1,expand:r.a.createElement(Hb,Object.assign({},e,{projectDetails:s}))},r.a.createElement(Dl.a,{source:"created_on",label:"Created",render:function(e){return e&&Er(e.created_on)}}),r.a.createElement(Dl.a,{source:"created_on",label:"Created by",render:function(e){return e&&e.user&&e.user.full_name}}),r.a.createElement(Dl.a,{source:"modified_on",label:"Approved",render:function(e){return e&&Er(e.modified_on)}}),r.a.createElement(Ub.a,{label:"Approved by",source:"modified_by",reference:"users",linkType:null},r.a.createElement(Dl.a,{source:"modified_by",label:"Approved by",render:function(e){return e&&e.full_name}})),r.a.createElement(Al.a,{source:"year"})))},$b=function(){var e=Object(n.useState)(!1),t=Object(Z.a)(e,2),a=t[0],o=t[1],i=Object(pe.a)(),l=r.a.useState(),c=Object(Z.a)(l,2),s=c[0],u=c[1];return r.a.createElement(In.a,{style:{padding:"30px"}},r.a.createElement("h2",null,"Upload integration BPMS file"),r.a.createElement("br",null),r.a.createElement("h3",null,"1. Attach file downloaded file from BPMS platform"),r.a.createElement(sg,{placeholder:i("titles.drop_files"),onFileUpload:function(e){o(!0),u(e)},approvedUploading:!0,resource:"bpms"}),a&&r.a.createElement("h3",null,"2. BPMS data was uploaded"),r.a.createElement("br",null),a&&function(){var e=0;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"BPMS Data"),r.a.createElement(Fi.a,{style:{overflow:"auto"}},r.a.createElement(oi.a,null,r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Head No & Title"),r.a.createElement(ci.a,null,"Amount"))),r.a.createElement(si.a,null,s&&Object.keys(s).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){var a=s[t];return e+=parseFloat(a.amount),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"".concat(a.code," - ").concat(a.name)),r.a.createElement(ci.a,null,vr(a.amount)))})),r.a.createElement(li.a,null,r.a.createElement(ci.a,{variant:"head"},"Total"),r.a.createElement(ci.a,{variant:"head"},vr(e)))))))}())},Kb=["onClose"],Qb=["onSaveSuccess","onClose","projectId","disabled"],Zb=["projectDetails","projectCode","year","month","onSave","onClose","totalItem","record","previousSubmittedSum"],eE=["getSource","scopedFormData","formData"],tE=function(e){var t=e.onClose;Object(T.a)(e,Kb);return r.a.createElement(Gs.a,{style:{display:"flex",justifyContent:"flex-start",width:"100%"}},r.a.createElement(Xn.a,{onClick:t,label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null)}))},aE=function(e){var t=e.onSaveSuccess,a=e.onClose,n=(e.projectId,e.disabled,Object(T.a)(e,Qb));return r.a.createElement(Zc.a,{style:{width:"100%"}},r.a.createElement(Xn.a,{onClick:a,label:"Cancel",style:{marginRight:5,padding:"7px 15px"},color:"primary",variant:"contained"}),r.a.createElement(Zm.a,Object.assign({},n,{onSuccess:t,disabled:n.invalid})))},nE=function(e){var t=e.projectDetails,a=e.projectCode,o=e.year,i=(e.month,e.onSave),l=e.onClose,c=e.totalItem,s=e.record,d=e.previousSubmittedSum,m=Object(T.a)(e,Zb),p=Object(ee.e)(),f=Object(n.useState)(!1),_=Object(Z.a)(f,2),g=_[0],h=_[1],v=Object(n.useState)([]),b=Object(Z.a)(v,2),E=b[0],j=b[1],y=Object(n.useState)([]),O=Object(Z.a)(y,2),x=O[0],k=O[1],P=Object(n.useState)({}),C=Object(Z.a)(P,2),N=C[0],A=C[1],F=L(),R=Object(Ca.a)(),I="".concat(o,"/").concat(String(o+1).slice(-2));if(Object(n.useEffect)((function(){a&&F("list_bpms_data")&&(h(!0),R.getIntegrationData("integrations/bpms",{filter:{project_coa_code:a,fiscal_year:I}}).then((function(e){if(null===e||void 0===e?void 0:e.data){var t,a;k(e.data);var n=Object(w.groupBy)(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.filter((function(e){return e.costing})),(function(e){return e.object_code_only})),r=Object(w.groupBy)(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.filter((function(e){return e.costing})),(function(e){return e.fund_source_code})),o={},i={},l={};Object.keys(n).forEach((function(e){i[e]=Object(w.sumBy)(n[e],"amount")-(d["v".concat(e)]||0),o[e]=Object(w.sumBy)(n[e],"amount")})),Object.keys(r).forEach((function(e){l[e]={},Object.keys(n).forEach((function(t){var a=d[e]&&d[e]["v".concat(t)]||0,r=n[t].filter((function(t){return t.fund_source_code===e}));l[e][t]=Object(w.sumBy)(r,"amount")-a}))})),A(l),j(Object(w.uniq)(Object.keys(n))),h(!1)}})))}),[F,R,I,d,a]),Object(n.useEffect)((function(){m.defaultBreadcrumbs||p(Wr([Object(u.a)({},function(){switch(!0){case m.showWorkPlan:return{to:"/work_plan",title:"Projected Cash Flow"};case m.showWorkPlanApproved:return{to:"/work_plan_approved",title:"Approved Cash Flow"};case m.showWorkPlanAdjusted:return{to:"/work_plan_adjusted",title:"Adjusted Cash Flow"};case m.showWorkPlanMonthly:return{to:"/cost-plans-monthly/".concat(null===t||void 0===t?void 0:t.project_id,"/show"),title:"Warrant Request",onClick:l}}}()),{to:"",title:"Details"}]))}),[]),!t)return null;var M=Object(w.uniq)(w.concat.apply(void 0,Object(D.a)(t.activities.filter((function(e){var t=e.start_date,a=e.end_date;return Eb({start_date:t,end_date:a,year:o})})).map((function(e){return e.investments.map((function(a){var n=e.output_ids&&e.output_ids[0],r=Object(w.find)(t.outputs,(function(e){return e.id===n})),o=Object(w.find)(t.components,(function(e){return e.id===r.component_id}));return Object(u.a)(Object(u.a)({},a),{},{activity:e,component_id:null===o||void 0===o?void 0:o.id,component:o,output_id:n,output:r,fund_body_type:String(a.fund_body_type||3)})}))}))))),W=Object(w.groupBy)(M,(function(e){return"".concat(e.fund.name," ").concat(e.fund_body_type&&Number(e.fund_body_type)<3?"(".concat(Ka[e.fund_body_type],")"):""," ")})),Y=S()(null===s||void 0===s?void 0:s.month,"MM").format("MMMM").toLowerCase();return g?r.a.createElement(zr,null):r.a.createElement(ru.a,Object.assign({},m,{undoable:!1,actions:r.a.createElement(tE,{onClose:l})}),r.a.createElement(ou.a,{redirect:!1,toolbar:r.a.createElement(aE,{projectId:null===t||void 0===t?void 0:t.project_id,onSaveSuccess:i,onClose:l,disabled:m.disabled})},r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData;var n=e.formData;Object(T.a)(e,eE);n&&(n.year=o,n.project_detail_id=null===t||void 0===t?void 0:t.id,(n&&!n.cost_plan_items||n.cost_plan_items&&0===n.cost_plan_items.length)&&(n.cost_plan_items=null===M||void 0===M?void 0:M.map((function(e){var t;return{activity_id:null===e||void 0===e?void 0:e.activity_id,fund_code:String(null===e||void 0===e||null===(t=e.fund)||void 0===t?void 0:t.code),fund_body_type:String(null===e||void 0===e?void 0:e.fund_body_type),fund_id:null===e||void 0===e?void 0:e.fund_id,cash_flow:{}}}))));var i=function(e,t){if(n){var a,r=null===n||void 0===n||null===(a=n.cost_plan_items)||void 0===a?void 0:a.filter((function(t){var a;return String(null===t||void 0===t?void 0:t.fund_code)===String(e)||String(null===t||void 0===t||null===(a=t.fund)||void 0===a?void 0:a.code)===String(e)})),o=Object(w.sumBy)(r,(function(e){return(null===e||void 0===e?void 0:e.cash_flow)&&parseFloat((null===e||void 0===e?void 0:e.cash_flow["v".concat(t)])||0)}));return parseFloat(o)}return 0};return r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{variant:"h3",style:{textTransform:"capitalize",marginBottom:15}},Y),a&&0===(null===E||void 0===E?void 0:E.length)&&r.a.createElement(se.a,{variant:"h3",style:{textTransform:"capitalize",marginBottom:15}},"No BPMS data for selected period"),r.a.createElement(Fi.a,{style:{overflow:"auto"}},r.a.createElement(oi.a,{size:"small"},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{width:150}}),null===E||void 0===E?void 0:E.map((function(e){return r.a.createElement(ci.a,{key:e},"".concat(e," - ").concat(function(e){var t;if(!x)return"";var a=Object(w.find)(x,(function(t){return Number(t.object_code_only)===Number(e)}));return(null===a||void 0===a||null===(t=a.costing)||void 0===t?void 0:t.name)||""}(e)))})),r.a.createElement(ci.a,{align:"right"},"Total"),r.a.createElement(ci.a,{align:"right"},"Approved"))),r.a.createElement(si.a,null,Object.keys(W).map((function(e){var t=Object(w.groupBy)(W[e],(function(e){var t;return null===e||void 0===e||null===(t=e.component)||void 0===t?void 0:t.name})),a=Object.keys(t).map((function(e,a){var o=t[e].map((function(e){var t,a,o,i=Object(w.findIndex)(n.cost_plan_items,(function(t){return(null===t||void 0===t?void 0:t.activity_id)===(null===e||void 0===e?void 0:e.activity_id)&&(null===t||void 0===t?void 0:t.fund_id)===(null===e||void 0===e?void 0:e.fund_id)&&(null===t||void 0===t?void 0:t.fund_body_type)===(null===e||void 0===e?void 0:e.fund_body_type)})),l=Object(w.findIndex)(c.cost_plan_items,(function(t){return(null===t||void 0===t?void 0:t.activity_id)===(null===e||void 0===e?void 0:e.activity_id)&&(null===t||void 0===t?void 0:t.fund_id)===(null===e||void 0===e?void 0:e.fund_id)&&(null===t||void 0===t?void 0:t.fund_body_type)===(null===e||void 0===e?void 0:e.fund_body_type)})),u=S()().month((null===s||void 0===s?void 0:s.month)-1).format("MMMM").toLowerCase(),d=(null===c||void 0===c||null===(t=c.cost_plan_items[l])||void 0===t?void 0:t.cash_flow[u])||0,m=null===n||void 0===n||null===(a=n.cost_plan_items[i])||void 0===a?void 0:a.cash_flow,p=0;return m&&Object.keys(m).forEach((function(e){p+=m[e]?parseFloat(m[e]):0})),r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{maxWidth:300,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},title:null===e||void 0===e||null===(o=e.activity)||void 0===o?void 0:o.name},e.activity.name),null===E||void 0===E?void 0:E.map((function(e){return r.a.createElement(ci.a,{key:e},r.a.createElement(ns.a,{source:"cost_plan_items[".concat(i,"].cash_flow.v").concat(e),label:!1,variant:"outlined",margin:"none",format:_r,parse:gr,style:{textAlign:"right"},validate:[Object(rs.h)()],fullWidth:!0}))})),r.a.createElement(ci.a,{align:"right",style:{color:p>d?"red":"black"}},vr(p)),r.a.createElement(ci.a,{align:"right"},vr(d)))}));return[r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:E.length+3,variant:"head"},"Component: ".concat(e))),o]})),o=r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:E.length+3,variant:"head"},"Fund Source: ",e)),l=W[e]&&W[e][0].fund&&W[e][0].fund.code;return[o,a,[r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{width:150}},"Total"),null===E||void 0===E?void 0:E.map((function(e){return r.a.createElement(ci.a,{key:e,align:"right"},vr(i(l,e)))})),r.a.createElement(ci.a,{colSpan:2})),r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{width:150}},"Budget"),null===E||void 0===E?void 0:E.map((function(e){return r.a.createElement(ci.a,{key:e,align:"right"},l&&N[l]&&vr(N[l][e]))})),r.a.createElement(ci.a,{colSpan:2})),r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{width:150}},"Balance"),null===E||void 0===E?void 0:E.map((function(e){var t=N[l]?parseFloat(N[l][e])-i(l,e):0;return r.a.createElement(ci.a,{key:e,align:"right"},r.a.createElement("span",{style:{color:t<0?"red":"inherit",fontWeight:"bold"}},N[l]&&vr(parseFloat(N[l][e])-i(l,e))))})),r.a.createElement(ci.a,{colSpan:2}))]]}))))))}))))},rE=["onClose","onApprove","isSubmitted"],oE=["projectDetails","projectCode","onClose","totalItem","onApprove"],iE=function(e){var t=e.onClose,a=e.onApprove,n=e.isSubmitted,o=(Object(T.a)(e,rE),L());return r.a.createElement(Gs.a,{style:{display:"flex",justifyContent:"space-between",width:"100%"}},r.a.createElement(Xn.a,{onClick:t,label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null)}),!n&&o("publish_warrant_request")&&r.a.createElement(Xn.a,{onClick:a,label:"Publish",color:"primary",variant:"text",startIcon:r.a.createElement(cm.a,null)}))},lE=function(e){var t,a,o=e.projectDetails,i=e.projectCode,l=e.onClose,c=e.totalItem,s=e.onApprove,d=Object(T.a)(e,oE),m=Object(n.useState)(!1),p=Object(Z.a)(m,2),f=p[0],_=p[1],g=Object(n.useState)([]),h=Object(Z.a)(g,2),v=h[0],b=h[1],E=Object(n.useState)([]),j=Object(Z.a)(E,2),y=j[0],O=j[1],x=Object(n.useState)({}),k=Object(Z.a)(x,2),P=(k[0],k[1]),C=Object(b_.a)(d).record,N=Object(ee.e)(),A=Object(Ca.a)(),D=L();if(Object(n.useEffect)((function(){d.defaultBreadcrumbs||N(Wr([Object(u.a)({},function(){switch(!0){case d.showWorkPlan:return{to:"/work_plan",title:"Projected Cash Flow"};case d.showWorkPlanApproved:return{to:"/work_plan_approved",title:"Approved Cash Flow"};case d.showWorkPlanAdjusted:return{to:"/work_plan_adjusted",title:"Adjusted Cash Flow"};case d.showWorkPlanMonthly:return{to:"cost-plans-monthly/".concat(null===o||void 0===o?void 0:o.project_id,"/show"),title:"Warrant Request",onClick:l}}}()),{to:"",title:"Details"}]))}),[]),Object(n.useEffect)((function(){var e;d.defaultBreadcrumbs||N({type:"SET_PROJECT_TITLE_HEADER",payload:{data:"".concat(null===o||void 0===o||null===(e=o.project)||void 0===e?void 0:e.name)}})}),[N,o.project.name,d.defaultBreadcrumbs]),Object(n.useEffect)((function(){i&&D("list_bpms_data")&&(_(!0),A.getIntegrationData("integrations/bpms",{filter:{project_coa_code:i}}).then((function(e){if(null===e||void 0===e?void 0:e.data){var t;O(null===e||void 0===e?void 0:e.data);var a=Object(w.groupBy)(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.filter((function(e){return e.costing})),(function(e){return String(e.object_code)[0]+String(e.object_code)[1]})),n={};Object.keys(a).forEach((function(e){n[e]=Object(w.sumBy)(a[e],"amount")})),P(n),b(Object(w.uniq)(Object.keys(a))),_(!1)}})))}),[D,A,i]),!o)return null;if(!C)return null;if(f)return r.a.createElement(zr,null);if(0===(null===C||void 0===C||null===(t=C.cost_plan_items)||void 0===t?void 0:t.length))return r.a.createElement(r.a.Fragment,null,r.a.createElement(Xn.a,{onClick:l,label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null),style:{marginBottom:35}}),r.a.createElement("br",null),r.a.createElement(se.a,{variant:"h3"},"Data has not been filled in yet."));var F=function(e){var t=0;return Object(w.keys)(e).forEach((function(a){t+=parseFloat(e[a]||0)})),t},R=null===C||void 0===C||null===(a=C.cost_plan_items)||void 0===a?void 0:a.map((function(e){var t=e.activity,a=t.output_ids&&t.output_ids[0],n=Object(w.find)(o.outputs,(function(e){return e.id===a})),r=Object(w.find)(o.components,(function(e){return e.id===n.component_id}));return Object(u.a)(Object(u.a)({},e),{},{activity:t,component_id:null===r||void 0===r?void 0:r.id,component:r,output_id:a,output:n,fund_body_type:e.fund_body_type||3})})),I=Object(w.groupBy)(R,(function(e){return"".concat(e.fund.name," ").concat(e.fund_body_type&&e.fund_body_type<3?"(".concat(Ka[e.fund_body_type],")"):""," ")})),M=Object(w.groupBy)(R,"component_id"),W=S()(null===C||void 0===C?void 0:C.month,"MM").format("MMMM").toLowerCase();return r.a.createElement(E_.a,Object.assign({},d,{actions:r.a.createElement(iE,{onClose:l,onApprove:s,isSubmitted:"SUBMITTED"===C.cost_plan_status})}),r.a.createElement(j_.a,null,r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement(se.a,{variant:"h3",style:{textTransform:"capitalize",marginBottom:15}},W),r.a.createElement(Fi.a,{style:{overflow:"auto"}},r.a.createElement(oi.a,{size:"small"},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{width:"150px"}}),null===v||void 0===v?void 0:v.map((function(e){return r.a.createElement(ci.a,{key:e,style:{textAlign:"right"}},"".concat(e," - ").concat(function(e){var t;if(!y)return"";var a=Object(w.find)(y,(function(t){return Number(t.object_code_only)===Number(e)}));return(null===a||void 0===a||null===(t=a.costing)||void 0===t?void 0:t.name)||""}(e)))})),r.a.createElement(ci.a,{style:{textAlign:"right"}},"Total"),r.a.createElement(ci.a,{style:{textAlign:"right"}},"Approved Budget"))),r.a.createElement(si.a,null,Object.keys(I).map((function(e){var t=Object(w.groupBy)(I[e],(function(e){var t;return null===(t=e.component)||void 0===t?void 0:t.name})),a={},n=Object.keys(t).map((function(e,n){var o=t[e],i={},l=o.map((function(e){var t,n,o=0,l=Object(w.findIndex)(c.cost_plan_items,(function(t){var a;return t.activity_id===(null===e||void 0===e||null===(a=e.activity)||void 0===a?void 0:a.id)&&t.fund_id===(null===e||void 0===e?void 0:e.fund_id)&&t.fund_body_type===(null===e||void 0===e?void 0:e.fund_body_type)})),s=S()().month((null===C||void 0===C?void 0:C.month)-1).format("MMMM").toLowerCase(),u=(null===c||void 0===c||null===(t=c.cost_plan_items[l])||void 0===t?void 0:t.cash_flow[s])||0;return r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{maxWidth:300,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},title:null===e||void 0===e||null===(n=e.activity)||void 0===n?void 0:n.name},e.activity.name),null===v||void 0===v?void 0:v.map((function(t){var n="v".concat(t),l=e&&e.cash_flow&&parseFloat(e.cash_flow["v".concat(t)]||0);return o+=l||0,i[n]=i[n]?i[n]+l:l,a[n]=a[n]?a[n]+l:l,r.a.createElement(ci.a,{style:{textAlign:"right"}},vr((null===e||void 0===e?void 0:e.cash_flow)&&e.cash_flow[n])||0)})),r.a.createElement(ci.a,{style:{fontWeight:"bold",textAlign:"right",color:o>u?"red":"black"}},vr(o)),r.a.createElement(ci.a,{style:{fontWeight:"bold",textAlign:"right"}},vr(u)))}));return[r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:v.length+3,variant:"head"},"Component: ".concat(_u(o[0].component)))),l]}));return[r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:v.length+3,variant:"head"},"Fund Source: ",e)),n,[r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"blue"}},"Fund Source Total"),null===v||void 0===v?void 0:v.map((function(e){var t="v".concat(e);return r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"blue",textAlign:"right"}},vr(a[t]))})),r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"blue",textAlign:"right"}},vr(F(a))),r.a.createElement(ci.a,null)),r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:v.length+3,style:{borderBottom:"1px solid #000"}}))]]}))),Object.keys(M).map((function(e,t){var a={};return M[e].forEach((function(e){Object.keys(e.cash_flow).forEach((function(t){var n=parseFloat(e.cash_flow[t]||0);a[t]=a[t]?a[t]+n:n}))})),[r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{fontWeight:"bold"}},"Component ".concat(t+1,": Total")),null===v||void 0===v?void 0:v.map((function(e){var t="v".concat(e);return r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"green",textAlign:"right"}},vr(a[t]))})),r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"green",textAlign:"right"}},vr(F(a))))]})),r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"red"}},"Grand Total"),null===v||void 0===v?void 0:v.map((function(e){var t="v".concat(e);return r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"red",textAlign:"right"}},vr(function(e){var t=0;return C.cost_plan_items.forEach((function(a){t+=a.cash_flow&&parseFloat(a.cash_flow[e]||0)||0})),t}(t)))})),r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"red",textAlign:"right"}}))))))))},cE=["children","value","index"],sE=["item","details","project","refresh"],uE=["filter"];function dE(e){var t=e.children,a=e.value,n=e.index,o=Object(T.a)(e,cE);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},o),a===n&&r.a.createElement(di.a,{p:3},t))}for(var mE=function(e){var t=e.item,a=e.details,o=e.project,i=e.refresh,l=Object(T.a)(e,sE),c=Object(n.useState)(),s=Object(Z.a)(c,2),d=s[0],m=s[1],p=Object(n.useState)(),f=Object(Z.a)(p,2),_=f[0],g=f[1],h=Object(n.useState)(!1),v=Object(Z.a)(h,2),b=v[0],E=v[1],j=Object(n.useState)([]),y=Object(Z.a)(j,2),O=y[0],x=y[1],k=(null===o||void 0===o||o.project_status,Object(Ca.a)()),P=Object(Na.a)(),C=Object(rr.a)(),N=Object(ee.e)(),A=L(),D=r.a.useState(null),F=Object(Z.a)(D,2);F[0],F[1];Object(n.useEffect)((function(){return l.defaultBreadcrumbs||N({type:"SET_PROJECT_TITLE_HEADER",payload:{data:"".concat(null===o||void 0===o?void 0:o.name)}}),function(){N({type:"SET_PROJECT_TITLE_HEADER",payload:{data:""}})}}),[N,o.name,l.defaultBreadcrumbs]);var R=Object(n.useCallback)((function(){E(!0),k.getListOfAll("cost-plans",{sort_field:"id",filter:{project_detail_id:null===a||void 0===a?void 0:a.id,cost_plan_type:"MONTHLY",year:t.year}}).then((function(e){(null===e||void 0===e?void 0:e.data)&&(x(null===e||void 0===e?void 0:e.data),E(!1))}))}),[k,a.id,t.year]);Object(n.useEffect)((function(){R()}),[R]);var I=z("fiscal_year_start_date"),M=Object(n.useMemo)((function(){var e={};if(d){O.filter((function(e){return e.month<d.month})).forEach((function(t){e[t.month]={},t.cost_plan_items.forEach((function(a){var n,r;e[t.month][null===a||void 0===a||null===(n=a.fund)||void 0===n?void 0:n.code]||(e[t.month][null===a||void 0===a||null===(r=a.fund)||void 0===r?void 0:r.code]={});Object.keys(a.cash_flow).forEach((function(n){var r,o,i;e[t.month][null===a||void 0===a||null===(r=a.fund)||void 0===r?void 0:r.code][n]?e[t.month][null===a||void 0===a||null===(o=a.fund)||void 0===o?void 0:o.code][n]+=parseFloat(a.cash_flow[n]||0):e[t.month][null===a||void 0===a||null===(i=a.fund)||void 0===i?void 0:i.code][n]=parseFloat(a.cash_flow[n]||0)}))}))}));var t={};return console.log(e,"resultSubmitted"),Object.keys(e).forEach((function(a){Object.keys(e[a]).forEach((function(n){t[n]={},Object.keys(e[a][n]).forEach((function(r){t[n][r]?t[n][r]+=parseFloat(e[a][n][r]):t[n][r]=parseFloat(e[a][n][r])}))}))})),console.log(t,"resObjects"),t}return e}),[O,d]);if(!o||!a||!t)return null;return b?r.a.createElement(zr,null):r.a.createElement("div",{style:{position:"relative"}},!d&&!_&&r.a.createElement(Fi.a,{style:{overflow:"auto",marginTop:"25px"}},r.a.createElement(oi.a,{size:"small"},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{width:150}},"Month"),r.a.createElement(ci.a,{style:{width:150},align:"right"},"Total Submitted"),r.a.createElement(ci.a,{style:{width:200},align:"right"},"Approved Budget"),r.a.createElement(ci.a,null))),r.a.createElement(si.a,null,Ch.map((function(e){var a=S()(e,"MM").format("MMMM").toLowerCase(),n=0,l=0,c=Object(w.find)(O,(function(t){return t.month===Number(e)})),s=Object(w.find)(O,(function(t){return t.month===Number(e)-1})),d=I.split("/")[1],p=d&&e===d||s&&"SUBMITTED"===s.cost_plan_status;return c&&(c.cost_plan_items.forEach((function(e){Object.keys(e.cash_flow).forEach((function(t){n+=parseFloat(e.cash_flow[t]||0)}))})),n),t.cost_plan_items.forEach((function(e){l+=parseFloat(e.cash_flow[a]||0)})),r.a.createElement(li.a,{key:e},r.a.createElement(ci.a,{style:{width:150,textTransform:"capitalize"}},a),r.a.createElement(ci.a,{align:"right",style:{width:100,color:n>l?"red":"black",verticalAlign:"middle"}},vr(n)),r.a.createElement(ci.a,{align:"right",style:{width:100,verticalAlign:"middle"}},vr(l)),r.a.createElement(ci.a,null,r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:15}},r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:15}},c&&"SUBMITTED"!==c.cost_plan_status&&A("update_warrant_request")&&r.a.createElement(Ce.a,{onClick:function(){m(c)}},r.a.createElement(Vv.a,{color:"primary"})),c&&A("view_warrant_request")&&r.a.createElement(Ce.a,{onClick:function(){g(c)}},r.a.createElement(Cb.a,{color:"primary"})),!c&&p&&A("add_warrant_request")&&r.a.createElement(Ce.a,{onClick:function(){var a;a=Number(e),k.create("cost-plans",{data:Object(u.a)(Object(u.a)({},t),{},{month:Number(a),cost_plan_items:[],cost_plan_status:"DRAFT",cost_plan_type:"MONTHLY"})}).then((function(e){C(),i(o.id),R()})).catch((function(e){P("Cash flow was not submitted!")}))}},r.a.createElement(ud.a,{color:"primary"}))))))})),r.a.createElement(li.a,null,r.a.createElement(ci.a,{variant:"head"},"Total"),r.a.createElement(ci.a,{variant:"head",align:"right"},function(){var e=0;return O.forEach((function(t){t.cost_plan_items.forEach((function(t){Object.keys(t.cash_flow).forEach((function(a){e+=parseFloat(t.cash_flow[a]||0)}))}))})),vr(e)}()||"-"),r.a.createElement(ci.a,{variant:"head",align:"right"},function(){var e=0;return t.cost_plan_items.forEach((function(t){Object.keys(t.cash_flow).forEach((function(a){e+=parseFloat(t.cash_flow[a]||0)}))})),vr(e)}()||"-"))))),d&&!_&&r.a.createElement(nE,Object.assign({},l,{basePath:"/cost-plans",resource:"cost-plans",id:d.id,record:d,projectDetails:a,projectCode:o.budget_code,year:d.year,onSave:function(){m(!1),i(o.id),R()},onClose:function(){return m(!1)},totalItem:t,previousSubmittedSum:M})),_&&r.a.createElement(lE,{basePath:"/cost-plans",id:_.id,resource:"cost-plans",record:_,projectDetails:a,projectCode:o.budget_code,totalItem:t,onClose:function(){return g(!1)},onApprove:function(){return e=_.id,void k.update("cost-plans",{id:e,data:{cost_plan_status:"SUBMITTED"}}).then((function(){C(),i(o.id),R()})).catch((function(){P("Cash flow was not submitted!")}));var e},defaultBreadcrumbs:!0}))},pE=function(e){e.filter;var t=Object(T.a)(e,uE),a=Object(n.useState)(!0),o=Object(Z.a)(a,2),i=o[0],l=o[1],c=Object(n.useState)([]),s=Object(Z.a)(c,2),d=s[0],m=s[1],p=r.a.useState(null),f=Object(Z.a)(p,2),_=f[0],g=f[1],h=r.a.useState(null),v=Object(Z.a)(h,2),b=v[0],E=v[1],j=Object(Ca.a)(),y=r.a.useState(0),O=Object(Z.a)(y,2),x=O[0],k=O[1],S=(Object(Na.a)(),Object(rr.a)(),Object(ee.e)()),P=Object(n.useState)(),C=Object(Z.a)(P,2),N=C[0],A=C[1],F=Object(n.useState)(),R=Object(Z.a)(F,2),I=R[0],M=R[1];Object(n.useEffect)((function(){t.defaultBreadcrumbs||S(Wr([Object(u.a)({},function(){switch(!0){case t.showWorkPlan:return{to:"/work_plan",title:"Projected Cash Flow"};case t.showWorkPlanApproved:return{to:"/work_plan_approved",title:"Approved Cash Flow"};case t.showWorkPlanAdjusted:return{to:"/work_plan_adjusted",title:"Adjusted Cash Flow"};case t.showWorkPlanMonthly:return{to:"/work_plan_monthly",title:"Warrant Request"}}}()),{to:"",title:"Details"}]))}),[]),Object(n.useEffect)((function(){var e,a,n=t.id||(null===(e=t.match)||void 0===e||null===(a=e.params)||void 0===a?void 0:a.id);l(!0),j.getOne("projects",{id:n}).then((function(e){e&&e.data&&(g(e.data),j.getOne("project-details",{id:e.data.current_project_detail.id}).then((function(e){e&&e.data&&(E(H(Object(u.a)({},e.data))),j.getListOfAll("cost-plans",{sort_field:"id",filter:{project_detail_id:e.data.id,cost_plan_type:"ADJUSTED",cost_plan_status:"SUBMITTED"}}).then((function(e){M(e.data)})),j.getListOfAll("cost-plans",{sort_field:"id",filter:{project_detail_id:e.data.id,cost_plan_type:"APPROVED",cost_plan_status:"SUBMITTED"}}).then((function(e){A(e.data)})))})))}))}),[]),Object(n.useEffect)((function(){if(N&&I){var e=Object(w.groupBy)(N,"year"),a=Object(w.groupBy)(I,"year"),n=Object.keys(e).map((function(n){var o={};o[n]=a[n]||e[n];var i=Object(w.maxBy)(o[n],"id");return{id:n,content:r.a.createElement(mE,Object.assign({},t,{basePath:"/cost-plans",resource:"cost-plans",item:i,details:b,project:_,refresh:function(){return function(e){var a,n,r=t.id||(null===(a=t.match)||void 0===a||null===(n=a.params)||void 0===n?void 0:n.id);l(!0),j.getOne("projects",{id:r}).then((function(e){e&&e.data&&(g(e.data),j.getOne("project-details",{id:e.data.current_project_detail.id}).then((function(e){e&&e.data&&(E(H(Object(u.a)({},e.data))),j.getListOfAll("cost-plans",{sort_field:"id",filter:{project_detail_id:e.data.id,cost_plan_type:"ADJUSTED",cost_plan_status:"SUBMITTED"}}).then((function(e){M(e.data)})),j.getListOfAll("cost-plans",{sort_field:"id",filter:{project_detail_id:e.data.id,cost_plan_type:"APPROVED",cost_plan_status:"SUBMITTED"}}).then((function(e){A(e.data)})))})))}))}()}}))}}));m(Object(D.a)(n)),l(!1)}}),[N,I]);return i?null:0===(null===N||void 0===N?void 0:N.length)?r.a.createElement(In.a,{style:{padding:"35px"}},r.a.createElement(se.a,{variant:"h3",style:{marginTop:30}},"No approved budget")):r.a.createElement(In.a,null,r.a.createElement(Us.a,{value:x,onChange:function(e,t){k(t)},variant:"scrollable"},(null===d||void 0===d?void 0:d.length)>0&&(null===d||void 0===d?void 0:d.map((function(e){return r.a.createElement(Vs.a,{label:e&&xi(null===e||void 0===e?void 0:e.id).name,key:null===e||void 0===e?void 0:e.id})})))),(null===d||void 0===d?void 0:d.length)>0&&d.map((function(e,t){return r.a.createElement(dE,{value:x,index:t,key:null===e||void 0===e?void 0:e.id},null===e||void 0===e?void 0:e.content)})))},fE=a(567),_E=a.n(fE),gE=[{id:1,name:"January"},{id:2,name:"February"},{id:3,name:"March"},{id:4,name:"April"},{id:5,name:"May"},{id:6,name:"June"},{id:7,name:"July"},{id:8,name:"August"},{id:9,name:"September"},{id:10,name:"October"},{id:11,name:"November"},{id:12,name:"December"}],hE=function(){var e=S()(),t=z("fiscal_year_start_date"),a=S()().format("YYYY"),n=S()("".concat(t,"/").concat(a),"DD/MM/YYYY");return e.isSameOrAfter(n)?Number(a):Number(a)-1}(),vE=xi(hE),bE=[],EE=0;EE<5;EE++){var jE=xi(hE-EE);bE.push({id:S()(jE.id).format("YYYY"),name:jE.name})}var yE=function(e){var t=e.onChange,a=e.value,n=e.items;return r.a.createElement(xa.a,{value:a,onChange:function(e){t(e.target.value)},label:"Select Month",placeholder:"Month"},n.map((function(e){return r.a.createElement(sa.a,{key:e.id,value:e.id},e.name)})))},OE=function(e){var t=e.orgData,a=e.onUpload,n=e.onClose,o=e.selectedMonth,i=Object(pe.a)();return r.a.createElement(Gr.a,{open:!0,maxWidth:"lg"},r.a.createElement(Hr.a,null,"Upload integration GFMS file"),r.a.createElement(Jr.a,{style:{display:"flex",alignItems:"center",flexDirection:"column",padding:30,width:"450px"}},t.hasData&&r.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:30}},r.a.createElement(_E.a,{style:{fontSize:24,color:"red"}}),r.a.createElement(se.a,{variant:"h4",style:{color:"red",fontWeight:"bold"}},"Your action will overwrite existing data!")),r.a.createElement(se.a,{variant:"h5"},"Current Fiscal Year: ".concat(vE.name)," "),r.a.createElement("br",null),r.a.createElement(se.a,{variant:"h5"},"Current Month: ".concat(Object(w.find)(gE,(function(e){return e.id===o})).name)," "),r.a.createElement("br",null),r.a.createElement(sg,{placeholder:i("titles.drop_files"),onFileUpload:function(e){a(e)},approvedUploading:!0,resource:"gfms",params:{fiscal_year:xi(hE).name.replace("FY",""),month:o,organization_id:t.id}})),r.a.createElement(Xr.a,null,r.a.createElement(Ee.a,{onClick:n,variant:"contained",color:"primary"},"Close")))},wE=function(){var e=Object(n.useState)(),t=Object(Z.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)(hE),l=Object(Z.a)(i,2),c=l[0],s=l[1],u=Object(n.useState)(S()().month()+1),d=Object(Z.a)(u,2),m=d[0],p=d[1],f=r.a.useState(),_=Object(Z.a)(f,2),g=_[0],h=_[1],v=r.a.useState(),b=Object(Z.a)(v,2),E=b[0],j=b[1],y=Object(Ca.a)();Object(n.useEffect)((function(){y.getIntegrationData("integrations/gfms",{filter:{fiscal_year:xi(c).name.replace("FY",""),month:m}}).then((function(e){(null===e||void 0===e?void 0:e.data)&&j(null===e||void 0===e?void 0:e.data)}))}),[c,m]);return r.a.createElement(In.a,{style:{padding:"30px"}},r.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:30}},r.a.createElement(se.a,{variant:"h5"},"Year:"," ",r.a.createElement(yE,{onChange:function(e){return s(e)},value:c,items:bE})),r.a.createElement(se.a,{variant:"h5"},"Month:"," ",r.a.createElement(yE,{onChange:function(e){return p(e)},value:m,items:gE}))),E&&function(){var e=0;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Fi.a,{style:{overflow:"auto"}},r.a.createElement(oi.a,null,r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Head No & Title"),r.a.createElement(ci.a,{align:"right"},"Amount"),r.a.createElement(ci.a,null))),r.a.createElement(si.a,null,E&&Object.keys(E).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){var n,o=E[t];return e+=parseFloat(o.amount),r.a.createElement(li.a,{style:{backgroundColor:o.id===(null===a||void 0===a||null===(n=a.organization)||void 0===n?void 0:n.id)?"#fff3c9":"inherit"}},r.a.createElement(ci.a,null,"".concat(o.code," - ").concat(o.name)),r.a.createElement(ci.a,{align:"right"},vr(o.amount)),r.a.createElement(ci.a,null,Number(hE)===Number(c)&&r.a.createElement(ph.a,{style:{cursor:"pointer"},onClick:function(){return h({id:o.id,hasData:o.amount>0})}})))})),r.a.createElement(li.a,null,r.a.createElement(ci.a,{variant:"head"},"Total"),r.a.createElement(ci.a,{variant:"head",align:"right"},vr(e)),r.a.createElement(ci.a,null))))))}(),g&&r.a.createElement(OE,{onUpload:function(e){y.getIntegrationData("integrations/gfms",{filter:{fiscal_year:xi(c).name.replace("FY",""),month:m}}).then((function(t){h(!1),(null===t||void 0===t?void 0:t.data)&&(j(null===t||void 0===t?void 0:t.data),o(e))}))},orgData:g,onClose:function(){h(!1)},selectedMonth:m}))},xE=[{id:4,name:"April"},{id:5,name:"May"},{id:6,name:"June"},{id:7,name:"July"},{id:8,name:"August"},{id:9,name:"September"},{id:10,name:"October"},{id:11,name:"November"},{id:12,name:"December"},{id:1,name:"January"},{id:2,name:"February"},{id:3,name:"March"}],kE=function(e){var t=Object(n.useState)(),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(),c=Object(Z.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)({}),m=Object(Z.a)(d,2),p=(m[0],m[1]),f=Object(n.useState)({}),_=Object(Z.a)(f,2),g=(_[0],_[1]),h=Object(n.useState)([]),v=Object(Z.a)(h,2),b=v[0],E=v[1],j=Object(n.useState)({}),y=Object(Z.a)(j,2),O=y[0],x=y[1],k=Object(n.useState)(!0),S=Object(Z.a)(k,2),P=S[0],C=(S[1],Object(n.useState)({})),N=Object(Z.a)(C,2),A=(N[0],N[1],Object(n.useState)({})),D=Object(Z.a)(A,2),T=D[0],F=D[1],R=Object(n.useState)([]),I=Object(Z.a)(R,2),M=I[0],W=I[1],L=Object(Ca.a)(),Y=Object(ee.e)();Object(n.useEffect)((function(){return o&&Y({type:"SET_PROJECT_TITLE_HEADER",payload:{data:"".concat(null===o||void 0===o?void 0:o.name)}}),function(){Y({type:"SET_PROJECT_TITLE_HEADER",payload:{data:""}})}}),[Y,o]),Object(n.useEffect)((function(){var t,a,n=e.id||(null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id);L.getOne("projects",{id:n}).then((function(e){var t,a;e&&e.data&&(i(e.data),L.getListOfAll("cost-plans",{sort_field:"id",filter:{project_detail_id:null===(t=e.data)||void 0===t||null===(a=t.current_project_detail)||void 0===a?void 0:a.id,cost_plan_type:"MONTHLY",year:2023,cost_plan_status:"SUBMITTED"}}).then((function(e){(null===e||void 0===e?void 0:e.data)&&W(null===e||void 0===e?void 0:e.data)})),L.getIntegrationData("integrations/gfms",{filter:{project_coa_code:e.data.budget_code}}).then((function(e){(null===e||void 0===e?void 0:e.data)&&u(null===e||void 0===e?void 0:e.data)})))}))}),[L,e.id,e.match.params.id]),Object(n.useEffect)((function(){if(s){var e=Object(w.groupBy)(null===s||void 0===s?void 0:s.filter((function(e){return e.costing})),(function(e){return e.object_code_only})),t=Object(w.groupBy)(null===s||void 0===s?void 0:s.filter((function(e){return e.costing})),(function(e){return e.fund_source_code})),a={},n={},r={},o={};Object.keys(e).forEach((function(t){n[t]=Object(w.sumBy)(e[t],"amount")-0,a[t]=Object(w.sumBy)(e[t],"amount")})),Object.keys(t).forEach((function(t){r[t]={},o[t]={},Object.keys(e).forEach((function(a){var n=e[a].filter((function(e){return e.fund_source_code===t}));r[t][a]=Object(w.sumBy)(n,"amount")-0,o[t][a]=Object(w.groupBy)(n,"month"),Object.keys(o[t][a]).forEach((function(e){var n=o[t][a][e];o[t][a][e]=Object(w.sumBy)(n,"amount")}))}))})),console.log(o,"groupedAmountByFundMonth");var i={};Object.keys(t).forEach((function(e){var a=t[e][0];i[e]=a.fund.name}));var l={};Object.keys(e).forEach((function(t){var a=Object(w.sumBy)(e[t],"amount");l[t]=a})),console.log(r,"groupedAmountByFundPrevious"),F(o),p(r),E(Object(w.uniq)(Object.keys(e))),g(l),x(i)}}),[s]);Object(w.sumBy)(s,"amount");return r.a.createElement(In.a,null,P||0!==b.length?r.a.createElement(Fi.a,{style:{overflow:"auto",marginBottom:25}},r.a.createElement(oi.a,null,r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{rowSpan:2,style:{width:"300px"}},"Fund / Object"),xE.map((function(e){return r.a.createElement(ci.a,{align:"center",key:e.id,colSpan:2},e.name)}))),r.a.createElement(li.a,null,xE.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ci.a,{align:"right",style:{width:"100px"}},"Warrant Approved"),r.a.createElement(ci.a,{align:"right",style:{width:"100px"}},"Expenditure"))})))),r.a.createElement(si.a,null,Object.keys(T).map((function(e){var t=Object.keys(T[e]);return t.forEach((function(t){Object.keys(T[e][t]).forEach((function(a){T[e][t][a]?parseFloat(T[e][t][a]||0):0}))})),[r.a.createElement(li.a,{key:e},r.a.createElement(ci.a,{colSpan:25,variant:"head",style:{fontWeight:"bold"}},"".concat(e," - ").concat(O[e]))),null===t||void 0===t?void 0:t.map((function(t){return r.a.createElement(li.a,{key:t},r.a.createElement(ci.a,{style:{width:"300px"}},"".concat(t," - ").concat(function(e){if(s&&s.length>0){var t,a=Object(w.find)(s,(function(t){return t.object_code_only===e}));return a?null===a||void 0===a||null===(t=a.costing)||void 0===t?void 0:t.name:"-"}return"-"}(t))),xE.map((function(a){var n=function(e,t,a,n){var r=Object(w.find)(M,(function(t){return t.month===e.id})),o=(null===r||void 0===r?void 0:r.cost_plan_items)&&(null===r||void 0===r?void 0:r.cost_plan_items.filter((function(e){var t;return(null===(t=e.fund)||void 0===t?void 0:t.code)===a})).map((function(e){return e.cash_flow})))||[],i={};return o.forEach((function(e){Object.keys(e).forEach((function(t){i[t]=i[t]?i[t]+parseFloat(e[t]||0):parseFloat(e[t]||0)}))})),i["v".concat(n)]}(a,0,e,t);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ci.a,{align:"right",key:a.id,style:{width:"100px"}},vr(n)),r.a.createElement(ci.a,{align:"right",key:a.id,style:{width:"100px"}},vr(T[e][t][a.id])))})))}))]}))))):r.a.createElement(se.a,{variant:"h3"},"No GFMS data"))},SE=["fiscalYear","onClose","project","record","costPlans","onRefresh"],PE=[{id:1,name:"January"},{id:2,name:"February"},{id:3,name:"March"},{id:4,name:"April"},{id:5,name:"May"},{id:6,name:"June"},{id:7,name:"July"},{id:8,name:"August"},{id:9,name:"September"},{id:10,name:"October"},{id:11,name:"November"},{id:12,name:"December"}],CE=function(e){var t=e.onChange,a=e.value,n=e.items;return r.a.createElement(xa.a,{value:a,onChange:function(e){t(e.target.value)},label:"Select Month",placeholder:"Month"},n.map((function(e){return r.a.createElement(sa.a,{key:e.id,value:e.id},e.name)})))},NE=function(e){var t,a=e.fiscalYear,o=e.onClose,i=e.project,l=e.record,c=(e.costPlans,e.onRefresh),s=(Object(T.a)(e,SE),Object(n.useState)(S()().month()+1)),u=Object(Z.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)(!0),f=Object(Z.a)(p,2),_=f[0],g=(f[1],Object(n.useState)()),h=Object(Z.a)(g,2),v=h[0],b=h[1],E=Object(Ca.a)(),j=Object(pe.a)();return r.a.createElement(Gr.a,{open:!0,maxWidth:"lg"},r.a.createElement(Hr.a,null,"Upload Expenditures for selected Fiscal Year and Month"),r.a.createElement(Jr.a,{style:{display:"flex",alignItems:"center",flexDirection:"column",padding:30,width:"450px"}},r.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:30}},r.a.createElement(se.a,{variant:"h5"},"Month:"," ",r.a.createElement(CE,{onChange:function(e){return m(e)},value:d,items:PE}))),r.a.createElement(sg,{placeholder:j("titles.drop_files"),onFileUpload:function(e){b(e),E.getIntegrationData("integrations/expenditures",{filter:{fiscal_year:a,project_id:i.id}}).then((function(e){(null===e||void 0===e?void 0:e.data)&&c(null===e||void 0===e?void 0:e.data)}))},approvedUploading:_,resource:"expenditures",params:{fiscal_year:a,month:d,project_id:null===i||void 0===i?void 0:i.id,project_detail_id:null===i||void 0===i||null===(t=i.current_project_detail)||void 0===t?void 0:t.id}}),v&&r.a.createElement("div",{style:{display:"flex",flexDirection:"column",gap:5,marginTop:"10px"}},r.a.createElement(se.a,{variant:"h5"},"Total rows imported ".concat(v.total_rows-v.error_rows.length,"  out of  ").concat(v.total_rows,".")),v.error_rows.length?r.a.createElement(se.a,{variant:"h5",style:{color:"red"}}," Rows containing errors: ".concat(v.error_rows.join(", "))):null)),r.a.createElement(Xr.a,null,r.a.createElement(Ee.a,{onClick:function(){var e,t=["FundSource,Activity,Amount"],a=null===l||void 0===l||null===(e=l.cost_plan_items)||void 0===e?void 0:e.map((function(e){var t,a;return{fund_code:null===e||void 0===e||null===(t=e.fund)||void 0===t?void 0:t.code,activity_code:null===e||void 0===e||null===(a=e.activity)||void 0===a?void 0:a.code}})),n=Object(w.groupBy)(a,"fund_code");Object.keys(n).forEach((function(e){n[e].forEach((function(a){t.push("".concat(e,',="').concat(a.activity_code,'",'))}))})),tr(t.join("\n"),"Expenditure Template")},variant:"text",color:"primary"},"Generate Template"),r.a.createElement(Ee.a,{onClick:o,variant:"contained",color:"secondary"},"Close")))},AE=["projectDetails","expendituresData"],DE=function(e){var t,a,o,i=e.projectDetails,l=e.expendituresData,c=Object(T.a)(e,AE),s=Object(b_.a)(c).record,d=Object(ee.e)();if(Object(n.useEffect)((function(){return c.defaultBreadcrumbs||d(Wr([Object(u.a)({},function(){switch(!0){case c.showWorkPlan:return{to:"/work_plan",title:"Projected Cash Flow"};case c.showWorkPlanApproved:return{to:"/work_plan_approved",title:"Approved Cash Flow"};case c.showWorkPlanAdjusted:return{to:"/work_plan_adjusted",title:"Adjusted Cash Flow"};case c.showExpenditures:return{to:"/expenditures",title:"Expenditures"}}}()),{to:"",title:"Details"}])),function(){d(Wr([]))}}),[]),Object(n.useEffect)((function(){var e;c.defaultBreadcrumbs||d({type:"SET_PROJECT_TITLE_HEADER",payload:{data:"".concat(null===i||void 0===i||null===(e=i.project)||void 0===e?void 0:e.name)}})}),[null===i||void 0===i||null===(t=i.project)||void 0===t?void 0:t.name]),!i)return null;if(!s)return null;if(0===(null===s||void 0===s||null===(a=s.cost_plan_items)||void 0===a?void 0:a.length))return r.a.createElement(se.a,{variant:"h3"},"Data has not been filled in yet.");var m=null===s||void 0===s||null===(o=s.cost_plan_items)||void 0===o?void 0:o.map((function(e){var t=e.activity,a=t.output_ids&&t.output_ids[0],n=Object(w.find)(i.outputs,(function(e){return e.id===a})),r=Object(w.find)(i.components,(function(e){return e.id===n.component_id}));return Object(u.a)(Object(u.a)({},e),{},{activity:t,component_id:null===r||void 0===r?void 0:r.id,component:r,output_id:a,output:n,fund_body_type:e.fund_body_type||3,fund_code:e.fund.code})})),p=Object(w.groupBy)(m,(function(e){return"".concat(e.fund.name," ").concat(e.fund_body_type&&e.fund_body_type<3?"(".concat(Ka[e.fund_body_type],")"):""," ")})),f=Object(w.groupBy)(m,"component_id"),_=function(e){return Object(w.sumBy)(l.filter((function(t){return parseFloat(e)===t.month})),(function(e){return parseFloat(e.amount||0)}))},g=function(e){var t=0;return Object(w.keys)(e).forEach((function(a){t+=parseFloat(e[a]||0)})),t};return r.a.createElement(E_.a,Object.assign({},c,{actions:!1}),r.a.createElement(j_.a,null,r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement(Fi.a,{style:{overflow:"auto"}},r.a.createElement(oi.a,{size:"small"},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null),Ch.map((function(e){var t=S()(e,"MM").format("MMMM").toLowerCase();return r.a.createElement(ci.a,{align:"right",style:{textTransform:"capitalize"}},t)})),r.a.createElement(ci.a,{align:"right"},"Total"))),r.a.createElement(si.a,null,Object.keys(p).map((function(e){var t=Object(w.groupBy)(p[e],(function(e){var t;return null===(t=e.component)||void 0===t?void 0:t.name})),a={},n=Object.keys(t).map((function(e,n){var o=t[e],i={},c=o.map((function(e){var t=0;return r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{maxWidth:300,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},title:e.activity.name},e.activity.name),Ch.map((function(n){var o=parseFloat(n),c=Object(w.sumBy)(l.filter((function(t){return t.month===o&&t.activity_id===e.activity.id})),(function(e){return parseFloat(e.amount||0)}));return t+=c||0,i[o]=i[o]?i[o]+c:c,a[o]=a[o]?a[o]+c:c,r.a.createElement(ci.a,{style:{textAlign:"right"}},vr(c)||0)})),r.a.createElement(ci.a,{align:"right",style:{fontWeight:"bold"}},vr(t)))}));return[r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:Ch.length+3},"Component: ".concat(_u(o[0].component)))),c]}));return[r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:Ch.length+3,style:{fontWeight:"bold"}},"Fund Source: ",e)),n,[r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"blue"}},"Fund Source Total"),Ch.map((function(e){var t=parseFloat(e);return r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"blue",textAlign:"right"}},vr(a[t]))})),r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"blue",textAlign:"right"}},vr(g(a)))),r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:Ch.length+4,style:{borderBottom:"1px solid #000"}}))]]}))),Object.keys(f).map((function(e,t){var a={};return f[e].forEach((function(e){var t=Object(w.groupBy)(l.filter((function(t){return t.activity_id===e.activity_id})),"month");Object.keys(t).forEach((function(e){var n=Object(w.sumBy)(t[e],(function(e){return parseFloat(e.amount||0)}));a[e]=a[e]?a[e]+n:n}))})),[r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{fontWeight:"bold"}},"Component ".concat(t+1,": Total")),Ch.map((function(e){var t=parseFloat(e);return r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"green",textAlign:"right"}},vr(a[t]))})),r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"green",textAlign:"right"}},vr(g(a))),r.a.createElement(ci.a,null))]})),r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"red"}},"Grand Total"),Ch.map((function(e){return r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"red",textAlign:"right"}},vr(_(e)))})),r.a.createElement(ci.a,{style:{fontWeight:"bold",color:"red",textAlign:"right"}},vr(Object(w.sumBy)(Ch.map((function(e){return{total:_(e)}})),"total"))),r.a.createElement(ci.a,null))))))))},TE=["children","value","index"],FE=["item","details","project","refresh","costPlans"],RE=["filter"];function IE(e){var t=e.children,a=e.value,n=e.index,o=Object(T.a)(e,TE);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},o),a===n&&r.a.createElement(di.a,{p:3},t))}var ME=function(e){var t=e.item,a=e.details,o=e.project,i=(e.refresh,e.costPlans),l=Object(T.a)(e,FE),c=Object(Ca.a)(),s=Object(ee.e)(),d=Object(n.useState)(!1),m=Object(Z.a)(d,2),p=m[0],f=m[1],_=Object(n.useState)([]),g=Object(Z.a)(_,2),h=g[0],v=g[1],b=L();if(Object(n.useEffect)((function(){b("list_expenditures_data")&&c.getIntegrationData("integrations/expenditures",{filter:{project_id:o.id,fiscal_year:"".concat(t.year,"/").concat(String(t.year+1).slice(-2))}}).then((function(e){(null===e||void 0===e?void 0:e.data)&&v(null===e||void 0===e?void 0:e.data)}))}),[b,c,t.year,o.id]),Object(n.useEffect)((function(){return l.defaultBreadcrumbs||s(Wr([Object(u.a)({},function(){switch(!0){case l.showWorkPlan:return{to:"/work_plan",title:"Projected Cash Flow"};case l.showWorkPlanApproved:return{to:"/work_plan_approved",title:"Approved Cash Flow"};case l.showWorkPlanAdjusted:return{to:"/work_plan_adjusted",title:"Adjusted Cash Flow"};case l.showExpenditures:return{to:"/expenditures",title:"Expenditures"}}}()),{to:"",title:"Details"}])),function(){s(Wr([]))}}),[]),!o||!a||!t)return null;var E=function(){f((function(e){return!e}))};return r.a.createElement("div",{style:{position:"relative"}},r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",marginBottom:5,gap:15}},b("sync_expenditures_data")&&r.a.createElement(Xn.a,{onClick:E,label:"Upload",color:"primary",variant:"text",startIcon:r.a.createElement(We.a,null)})),r.a.createElement("div",null,r.a.createElement(DE,Object.assign({},l,{basePath:"/cost-plans",id:t.id,resource:"cost-plans",record:t,projectDetails:a,expendituresData:h,costPlans:i}))),p&&r.a.createElement(NE,{fiscalYear:"".concat(t.year,"/").concat(String(t.year+1).slice(-2)),onClose:E,project:o,costPlans:i,onRefresh:function(e){v(e)},record:t}))},WE=function(e){var t=e.filter,a=void 0===t?{}:t,o=Object(T.a)(e,RE),i=Object(n.useState)([]),l=Object(Z.a)(i,2),c=l[0],s=l[1],d=r.a.useState(null),m=Object(Z.a)(d,2),p=m[0],f=m[1],_=Object(Ca.a)(),g=r.a.useState(0),h=Object(Z.a)(g,2),v=h[0],b=h[1],E=Object(ee.e)();Object(n.useMemo)((function(){return p&&S()(p.end_date,"YYYY-MM-DD").diff(S()(p.start_date,"YYYY-MM-DD"),"years")+1||0}),[p]);Object(n.useEffect)((function(){o.defaultBreadcrumbs||E(Wr([Object(u.a)({},function(){switch(!0){case o.showWorkPlan:return{to:"/#/work_plan",title:"Projected Cash Flow"};case o.showWorkPlanApproved:return{to:"/#/work_plan_approved",title:"Approved Cash Flow"};case o.showWorkPlanAdjusted:return{to:"/#/work_plan_adjusted",title:"Adjusted Cash Flow"};case o.showExpenditures:return{to:"/#/expenditures",title:"Expenditures"}}}()),{to:"",title:"Details"}]))}),[]),Object(n.useEffect)((function(){var e,t,n=o.id||(null===(e=o.match)||void 0===e||null===(t=e.params)||void 0===t?void 0:t.id);_.getOne("projects",{id:n}).then((function(e){e&&e.data&&_.getOne("project-details",{id:e.data.current_project_detail.id}).then((function(t){t&&t.data&&(f(H(Object(u.a)({},t.data))),_.getListOfAll("cost-plans",{sort_field:"id",filter:Object(u.a)({project_detail_id:t.data.id},a)}).then((function(n){if(null===n||void 0===n?void 0:n.data){var i=n.data.map((function(i){return{id:i.year,content:r.a.createElement(ME,Object.assign({},o,{basePath:"/cost-plans",resource:"cost-plans",item:i,details:H(Object(u.a)({},t.data)),project:e.data,refresh:function(){return function e(t){var n,i,l=o.id||(null===(n=o.match)||void 0===n||null===(i=n.params)||void 0===i?void 0:i.id);_.getOne("projects",{id:l}).then((function(t){t&&t.data&&_.getOne("project-details",{id:t.data.current_project_detail.id}).then((function(n){n&&n.data&&(f(H(Object(u.a)({},n.data))),_.getListOfAll("cost-plans",{sort_field:"id",filter:Object(u.a)({project_detail_id:n.data.id},a)}).then((function(a){if(null===a||void 0===a?void 0:a.data){var i=a.data.map((function(i){return{id:i.year,content:r.a.createElement(ME,Object.assign({},o,{basePath:"/cost-plans",resource:"cost-plans",item:i,details:H(Object(u.a)({},n.data)),project:t.data,refresh:function(){return e(l)},costPlans:a.data}))}}));s([{id:"annual",content:r.a.createElement(bb,Object.assign({},o,{projectDetails:H(Object(u.a)({},n.data))}))}].concat(Object(D.a)(i)))}})))}))}))}()},costPlans:n.data}))}}));s([{id:"annual",content:r.a.createElement(bb,Object.assign({},o,{projectDetails:H(Object(u.a)({},t.data))}))}].concat(Object(D.a)(i)))}})))}))}))}),[]);return r.a.createElement(In.a,null,r.a.createElement(Us.a,{value:v,onChange:function(e,t){b(t)},variant:"scrollable"},null===c||void 0===c?void 0:c.map((function(e){return r.a.createElement(Vs.a,{label:"annual"===e.id?"Annual":xi(e.id).name,key:e.id})}))),c.map((function(e,t){return r.a.createElement(IE,{value:v,index:t,key:e.id},e.content)})))},LE=Object(ae.a)((function(e){return{topGroup:{display:"flex",justifyContent:"space-around"},title:{textAlign:"left",fontSize:"15px",fontWeight:"bold",paddingLeft:"30px",margin:"10px auto"}}}));var YE=function(e){var t=LE(),a=r.a.useState([]),n=Object(Z.a)(a,2),o=n[0],i=n[1],l=r.a.useState([]),c=Object(Z.a)(l,2),s=c[0],u=c[1],d=r.a.useState([]),m=Object(Z.a)(d,2),p=m[0],f=m[1],_=Object(Ca.a)();return r.a.useEffect((function(){_.custom("reports",{type:"pivot",method:"GET"}).then((function(e){e&&i(e.data)})),_.getListOfAll("organizations",{filter:{is_hidden:!1}}).then((function(e){e&&u(e.data)})),_.getListOfAll("programs",{}).then((function(e){e&&f(e.data)}))}),[]),r.a.createElement(ui.a,{item:!0,xs:6},r.a.createElement(se.a,{className:t.title},"Projects Costing"),r.a.createElement(In.a,{style:{width:"100%",height:"460px"}},Y("has_pimis_fields")?r.a.createElement(sc,{data:o,items:s,dimension:"project_organization",measure:"cost",field:"organization_id"}):r.a.createElement(uc,{data:o,items:p,dimension:"program",measure:"cost",field:"program_id"})))};function BE(e){var t=Object(io.a)(),a=e.count,n=e.page,o=e.rowsPerPage,i=e.onPageChange;return r.a.createElement(lo.a,{sx:{flexShrink:0,ml:2.5}},r.a.createElement(ho.a,{onClick:function(e){i(e,0)},disabled:0===n,"aria-label":"first page"},"rtl"===t.direction?r.a.createElement(xo.a,null):r.a.createElement(bo.a,null)),r.a.createElement(ho.a,{onClick:function(e){i(e,n-1)},disabled:0===n,"aria-label":"previous page"},"rtl"===t.direction?r.a.createElement(Oo.a,null):r.a.createElement(jo.a,null)),r.a.createElement(ho.a,{onClick:function(e){i(e,n+1)},disabled:n>=Math.ceil(a/o)-1,"aria-label":"next page"},"rtl"===t.direction?r.a.createElement(jo.a,null):r.a.createElement(Oo.a,null)),r.a.createElement(ho.a,{onClick:function(e){i(e,Math.max(0,Math.ceil(a/o)-1))},disabled:n>=Math.ceil(a/o)-1,"aria-label":"last page"},"rtl"===t.direction?r.a.createElement(bo.a,null):r.a.createElement(xo.a,null)))}function zE(e){var t=Object(n.useState)(r.a.createElement(So.a,null)),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(0),c=Object(Z.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)(5),m=Object(Z.a)(d,2),p=m[0],f=m[1],_=function(e,t){u(t)},g=function(e){f(parseInt(e.target.value,10)),u(0)};return Object(n.useEffect)((function(){var t=e.matrices.map((function(e){return t=e.title,a=e.programme,n=e.matrix_date,r=e.link,{title:t,programme:a,matrix_date:n,link:r};var t,a,n,r})),a=s>0?Math.max(0,(1+s)*p-t.length):0;i(r.a.createElement(mo.a,{component:go.a},r.a.createElement(co.a,{sx:{minWidth:500},"aria-label":"custom pagination table"},r.a.createElement(ko.a,null,r.a.createElement(_o.a,null,r.a.createElement(uo.a,{sx:{textDecoration:"underline",fontWeight:"bold"}},"DC Minutes"),r.a.createElement(uo.a,{align:"left",sx:{textDecoration:"underline",fontWeight:"bold"}},"Programme"),r.a.createElement(uo.a,{align:"left",sx:{textDecoration:"underline",fontWeight:"bold"}},"Month/Year"))),r.a.createElement(so.a,null,(p>0?t.slice(s*p,s*p+p):t).map((function(e){return r.a.createElement(_o.a,{key:e.name,sx:{cursor:"pointer",":hover":{backgroundColor:"aliceblue"}}},r.a.createElement(uo.a,{component:"th",scope:"row",style:{width:300}},e.title),r.a.createElement(uo.a,{style:{width:140},align:"left"},e.programme),r.a.createElement(uo.a,{style:{width:100},align:"left"},function(e){var t=e.slice(0,4),a=new Date(e).toLocaleDateString("default",{month:"long"});return"".concat(a," ").concat(t)}(e.matrix_date)),r.a.createElement(uo.a,{style:{width:60},align:"left"},r.a.createElement("a",{href:e.link},"Download")))})),a>0&&r.a.createElement(_o.a,{style:{height:53*a}},r.a.createElement(uo.a,{colSpan:6}))),r.a.createElement(po.a,null,r.a.createElement(_o.a,null,r.a.createElement(fo.a,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:5,count:t.length,rowsPerPage:p,page:s,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onPageChange:_,onRowsPerPageChange:g,ActionsComponent:BE}))))))}),[s,p]),{matrixList:o}}function qE(e){var t=Object(n.useState)(r.a.createElement(Fo.a,null)),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(null),c=Object(Z.a)(l,2),s=c[0],u=c[1];return r.a.createElement("div",{className:"matrix-home-div"},r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"DC Decision Matrices")),r.a.createElement("div",{className:"archive-filter-div"},r.a.createElement("input",{className:"archive-date-picker",type:"number",min:1960,placeholder:"YYYY",id:"date-picker",onChange:function(e){u(e.target.value)}}),r.a.createElement("button",{className:"search-button",onClick:function(){""===s||null===s?i(r.a.createElement(r.a.Fragment,null,"Select Year")):Do({endpoint:"/get_matrix?filter=%7B%22year%22%3A%22".concat(s,"%22%7D")}).then((function(e){i(r.a.createElement(zE,{matrices:e}))}))}},"Search")),r.a.createElement("div",{className:"matrix-home-div"},o))}a(882);function UE(){UE=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(P){c=function(e,t,a){return e[t]=a}}function s(e,t,a,r){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new x(r||[]);return n(i,"_invoke",{value:j(e,a,l)}),i}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(P){return{type:"throw",arg:P}}}e.wrap=s;var d={};function m(){}function p(){}function f(){}var _={};c(_,o,(function(){return this}));var g=Object.getPrototypeOf,h=g&&g(g(k([])));h&&h!==t&&a.call(h,o)&&(_=h);var v=f.prototype=m.prototype=Object.create(_);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var r;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(r,i){!function n(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}(n,o,r,i)}))}return r=r?r.then(i,i):i()}})}function j(e,t,a){var n="suspendedStart";return function(r,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw o;return S()}for(a.method=r,a.arg=o;;){var i=a.delegate;if(i){var l=y(i,a);if(l){if(l===d)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var c=u(e,t,a);if("normal"===c.type){if(n=a.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(n="completed",a.method="throw",a.arg=c.arg)}}}function y(e,t){var a=t.method,n=e.iterator[a];if(void 0===n)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),d;var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,n(v,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,a,n,r,o){void 0===o&&(o=Promise);var i=new E(s(t,a,n,r),o);return e.isGeneratorFunction(a)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,l,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return i.type="throw",i.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),w(a),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;w(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:k(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),d}},e}function VE(e){var t=Object(n.useState)(r.a.createElement(Fo.a,null)),a=Object(Z.a)(t,2),o=a[0],i=a[1];return Object(n.useEffect)((function(){(function(){return HE.apply(this,arguments)})().then((function(e){(function(e){return GE.apply(this,arguments)})(e.data.login.access_token).then((function(e){var t=e.data.cgActiveIbpProjects;i(r.a.createElement("table",{className:"pbs-data-table"},r.a.createElement("tr",null,r.a.createElement("th",null,"Vote Code"),r.a.createElement("th",null,"Vote Name"),r.a.createElement("th",null,"Programme Code"),r.a.createElement("th",null,"Programme Name"),r.a.createElement("th",null,"Sub-Programme Code"),r.a.createElement("th",null,"Sub-Programme Name"),r.a.createElement("th",null,"Sub-SubProgramme Code"),r.a.createElement("th",null,"Sub-SubProgramme Name"),r.a.createElement("th",null,"Project Code"),r.a.createElement("th",null,"Project Name"),r.a.createElement("th",null,"Status")),t.map((function(e){return r.a.createElement("tr",{key:e.Project_Code,className:"data-row"},r.a.createElement("td",{key:"".concat(e.Project_Code,"-").concat(e.Vote_Code)},e.Vote_Code),r.a.createElement("td",null,e.Vote_Name.replaceAll(",","")),r.a.createElement("td",null,e.Programme_Code),r.a.createElement("td",null,e.Programme_Name.replaceAll(",","")),r.a.createElement("td",null,e.SubProgramme_Code),r.a.createElement("td",null,e.SubProgramme_Name.replaceAll(",","")),r.a.createElement("td",null,e.Sub_SubProgramme_Code),r.a.createElement("td",null,e.Sub_SubProgramme_Name.replaceAll(",","")),r.a.createElement("td",null,e.Project_Code),r.a.createElement("td",{className:"data-row",onClick:function(t){e.Project_Code}},e.Project_Name),r.a.createElement("td",null,e.Status))}))))}))}))}),[]),r.a.createElement("div",null,r.a.createElement("div",{className:"responses-options-div"},r.a.createElement("label",{className:"pbs-projects-title"},"PBS Projects"),r.a.createElement("label",{className:"download-label",onClick:function(){!function(){for(var e=[],t=document.getElementsByTagName("tr"),a=0;a<t.length;a++){for(var n=t[a].querySelectorAll("td,th"),r=[],o=0;o<n.length;o++)r.push(n[o].innerHTML);e.push(r.join(","))}!function(e){var t=new Blob([e],{type:"text/csv"}),a=document.createElement("a");a.download="PBS Projects.csv";var n=window.URL.createObjectURL(t);a.href=n,a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}(e=e.join("\n"))}()}},"Download")),o)}function GE(){return(GE=Object(oo.a)(UE().mark((function e(t){var a,n;return UE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.stringify({query:"\n        query {\n                cgActiveIbpProjects {\n                    Vote_Code\n                    Vote_Name\n                    Programme_Code\n                    Programme_Name\n                    SubProgramme_Code\n                    SubProgramme_Name\n                    Sub_SubProgramme_Code\n                    Sub_SubProgramme_Name\n                    Project_Code\n                    Project_Name\n                    Status\n                }\n            }\n        "}),e.next=3,fetch("https://pbsopenapi.finance.go.ug/graphql",{method:"post",body:a,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function HE(){return(HE=Object(oo.a)(UE().mark((function e(){var t,a;return UE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.stringify({query:'\n        mutation {\n                login(\n                    data: {\n                    User_Name: "Nita"\n                    Password: "Nita1290W"\n                    ipAddress: "192.168.5.0"\n                    }\n                ) {\n                    access_token\n                    refresh_token\n                }\n            }\n        '}),e.next=3,fetch("https://pbsopenapi.finance.go.ug/graphql",{method:"post",body:t,headers:{"Content-Type":"application/json"}});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var JE=a(2095),XE=a(2068),$E=a(2057),KE=a(2075);function QE(){QE=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(P){c=function(e,t,a){return e[t]=a}}function s(e,t,a,r){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new x(r||[]);return n(i,"_invoke",{value:j(e,a,l)}),i}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(P){return{type:"throw",arg:P}}}e.wrap=s;var d={};function m(){}function p(){}function f(){}var _={};c(_,o,(function(){return this}));var g=Object.getPrototypeOf,h=g&&g(g(k([])));h&&h!==t&&a.call(h,o)&&(_=h);var v=f.prototype=m.prototype=Object.create(_);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var r;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(r,i){!function n(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}(n,o,r,i)}))}return r=r?r.then(i,i):i()}})}function j(e,t,a){var n="suspendedStart";return function(r,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw o;return S()}for(a.method=r,a.arg=o;;){var i=a.delegate;if(i){var l=y(i,a);if(l){if(l===d)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var c=u(e,t,a);if("normal"===c.type){if(n=a.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(n="completed",a.method="throw",a.arg=c.arg)}}}function y(e,t){var a=t.method,n=e.iterator[a];if(void 0===n)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),d;var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,n(v,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,a,n,r,o){void 0===o&&(o=Promise);var i=new E(s(t,a,n,r),o);return e.isGeneratorFunction(a)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,l,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return i.type="throw",i.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),w(a),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;w(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:k(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),d}},e}function ZE(e){var t=Object(n.useState)(r.a.createElement(Fo.a,null)),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(""),c=Object(Z.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)(""),m=Object(Z.a)(d,2),p=m[0],f=m[1],_=Object(n.useState)({}),g=Object(Z.a)(_,2),h=g[0],v=g[1];return Object(n.useEffect)((function(){(function(e){return ej.apply(this,arguments)})(h).then((function(e){var t=e.data.cgIbpProjectBudgetAllocationByFiscalYearVCAndBOCProjectCode;t&&t.length>0&&i(r.a.createElement("table",{className:"pbs-data-table"},r.a.createElement("tr",null,r.a.createElement("th",null,"Vote_Name"),r.a.createElement("th",null,"Programme_Name"),r.a.createElement("th",null,"SubProgramme_Name"),r.a.createElement("th",null,"Sub_SubProgramme_Name"),r.a.createElement("th",null,"Project_Code"),r.a.createElement("th",null,"Project_Name"),r.a.createElement("th",null,"Budget_Output_Code"),r.a.createElement("th",null,"Budget_Output_Description"),r.a.createElement("th",null,"Item_Code"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"GoU"),r.a.createElement("th",null,"ExtFin"),r.a.createElement("th",null,"AIA"),r.a.createElement("th",null,"GoUArrears"),r.a.createElement("th",null,"BudgetStage"),r.a.createElement("th",null,"Fiscal_Year")),t.map((function(e){return r.a.createElement("tr",{key:e.Project_Code,className:"data-row"},r.a.createElement("td",null,e.Vote_Name.replaceAll(",","")),r.a.createElement("td",null,e.Programme_Name.replaceAll(",","")),r.a.createElement("td",null,e.SubProgramme_Name.replaceAll(",","")),r.a.createElement("td",null,e.Sub_SubProgramme_Name.replaceAll(",","")),r.a.createElement("td",null,e.Project_Code),r.a.createElement("td",null,e.Project_Name.replaceAll(",","")),r.a.createElement("td",null,e.Budget_Output_Code),r.a.createElement("td",null,e.Budget_Output_Description.replaceAll(",","")),r.a.createElement("td",null,e.Item_Code),r.a.createElement("td",null,e.Description.replaceAll(",","")),r.a.createElement("td",null,e.GoU),r.a.createElement("td",null,e.ExtFin),r.a.createElement("td",null,e.AIA),r.a.createElement("td",null,e.GoUArrears),r.a.createElement("td",null,e.BudgetStage),r.a.createElement("td",null,e.Fiscal_Year))}))))}))}),[h]),r.a.createElement("div",null,r.a.createElement("label",{className:"pbs-projects-title"},"Budget Allocations"),r.a.createElement("div",{className:"responses-options-div"},r.a.createElement(Bo.a,{sx:{marginRight:1,minWidth:200}},r.a.createElement(JE.a,{id:"demo-simple-select-helper-label"},"Fiscal Year"),r.a.createElement($E.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:s,label:"Fiscal Year",onChange:function(e){u(e.target.value)}},r.a.createElement(XE.a,{value:""},r.a.createElement("em",null,"None")),r.a.createElement(XE.a,{value:"2000-2001"},"2000-2001"),r.a.createElement(XE.a,{value:"2001-2002"},"2001-2002"),r.a.createElement(XE.a,{value:"2002-2003"},"2002-2003"),r.a.createElement(XE.a,{value:"2003-2004"},"2003-2004"),r.a.createElement(XE.a,{value:"2004-2005"},"2004-2005"),r.a.createElement(XE.a,{value:"2005-2006"},"2005-2006"),r.a.createElement(XE.a,{value:"2006-2007"},"2006-2007"),r.a.createElement(XE.a,{value:"2007-2008"},"2007-2008"),r.a.createElement(XE.a,{value:"2008-2009"},"2008-2009"),r.a.createElement(XE.a,{value:"2009-2010"},"2009-2010"),r.a.createElement(XE.a,{value:"2010-2011"},"2010-2011"),r.a.createElement(XE.a,{value:"2011-2012"},"2011-2012"),r.a.createElement(XE.a,{value:"2012-2013"},"2012-2013"),r.a.createElement(XE.a,{value:"2013-2014"},"2013-2014"),r.a.createElement(XE.a,{value:"2014-2015"},"2014-2015"),r.a.createElement(XE.a,{value:"2015-2016"},"2015-2016"),r.a.createElement(XE.a,{value:"2016-2017"},"2016-2017"),r.a.createElement(XE.a,{value:"2017-2018"},"2017-2018"),r.a.createElement(XE.a,{value:"2018-2019"},"2018-2019"),r.a.createElement(XE.a,{value:"2019-2020"},"2019-2020"),r.a.createElement(XE.a,{value:"2020-2021"},"2020-2021"),r.a.createElement(XE.a,{value:"2021-2022"},"2021-2022"),r.a.createElement(XE.a,{value:"2022-2023"},"2022-2023"),r.a.createElement(XE.a,{value:"2023-2024"},"2023-2024"))),r.a.createElement(Bo.a,{sx:{marginRight:1,minWidth:200}},r.a.createElement(JE.a,{id:"demo-simple-select-helper-label2"},"Budget Stage"),r.a.createElement($E.a,{labelId:"demo-simple-select-helper-label2",id:"demo-simple-select-helper2",value:p,label:"Budget Stage",onChange:function(e){f(e.target.value)}},r.a.createElement(XE.a,{value:""},r.a.createElement("em",null,"None")),r.a.createElement(XE.a,{value:"Draft Budget"},"Draft Budget"),r.a.createElement(XE.a,{value:"Approved Budget"},"Approved Budget"))),r.a.createElement(KE.a,{sx:{marginLeft:4,minWidth:100,height:55,cursor:"pointer"},variant:"outlined",onClick:function(){(function(){return tj.apply(this,arguments)})().then((function(e){var t=e.data.login.access_token;v({token:t,fiscalYear:s,budgetStage:p})}))}},"Search"),r.a.createElement("img",{className:"download-img",src:"excel-icon.png",alt:"Download",onClick:function(){!function(){for(var e=[],t=document.getElementsByTagName("tr"),a=0;a<t.length;a++){for(var n=t[a].querySelectorAll("td,th"),r=[],o=0;o<n.length;o++)r.push(n[o].innerHTML);e.push(r.join(","))}!function(e){var t=new Blob([e],{type:"text/csv"}),a=document.createElement("a");a.download="Budget Allocations.csv";var n=window.URL.createObjectURL(t);a.href=n,a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}(e=e.join("\n"))}()}})),r.a.createElement("div",{className:"table-div"},o))}function ej(){return(ej=Object(oo.a)(QE().mark((function e(t){var a,n;return QE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.stringify({query:'\n          query{\n                cgIbpProjectBudgetAllocationByFiscalYearVCAndBOCProjectCode (BudgetStage:"'.concat(t.budgetStage,'",Fiscal_Year:"').concat(t.fiscalYear,'",\n            ){\n                Vote_Code\n                Vote_Name\n                Programme_Code\n                Programme_Name\n                SubProgramme_Code\n                SubProgramme_Name\n                Sub_SubProgramme_Code\n                Sub_SubProgramme_Name\n                Project_Code\n                Project_Name\n                Budget_Output_Code\n                Budget_Output_Description\n                Item_Code\n                Description\n                GoU\n                ExtFin\n                AIA\n                GoUArrears\n                BudgetStage\n                Fiscal_Year\n            }\n            }\n        ')}),e.next=3,fetch("https://pbsopenapi.finance.go.ug/graphql",{method:"post",body:a,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t.token)}});case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tj(){return(tj=Object(oo.a)(QE().mark((function e(){var t,a;return QE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.stringify({query:'\n        mutation {\n                login(\n                    data: {\n                    User_Name: "Nita"\n                    Password: "Nita1290W"\n                    ipAddress: "192.168.5.0"\n                    }\n                ) {\n                    access_token\n                    refresh_token\n                }\n            }\n        '}),e.next=3,fetch("https://pbsopenapi.finance.go.ug/graphql",{method:"post",body:t,headers:{"Content-Type":"application/json"}});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var aj=j(),nj={organizational_config:"organizations",programs_config:"programs",functions_config:"functions",fund_config:"funds",cost_config:"costings",location_config:"locations"};function rj(e){if(aj&&aj[e])return aj[e]?Object.keys(aj[e]).map((function(t){return r.a.createElement(de.b,{exact:!0,path:"/".concat(aj[e][t].id),render:function(a){return r.a.createElement(hd,Object.assign({hasCreate:!0,filter:{level:t,is_hidden:!1},field:aj[e][t].id,resource:nj[e],basePath:a.match.url,level:t,config:e},a))}})})):[]}var oj,ij,lj,cj,sj,uj,dj,mj,pj,fj,_j,gj,hj,vj,bj,Ej,jj,yj,Oj,wj,xj,kj,Sj=a(212),Pj={printForm:(ij={introduction:{title:"Introduction"},project_framework:{title_logical:"Logical Framework",title:"Project Framework",goal:"Project Goal",outcome:"Outcome |||| Outcomes",output:"Output |||| Outputs",activity:"Activity |||| Activities"},result_matrix:{indicator:"Performance Indicators",indicator_title:"Indicator",means:"Means of Verification",assumption:"Assumptions",risks:"Risks",baseline:"Baseline",target:"Target",project_goal:"Project Goal",activities_title:"Activities to achieve the outputs"},attachments:{title:"List of Attachments",no_attachments:"No attachments"},investments:{title:"Costed Annualized Plan",subtitle:"Project Investment Cost",outputs_title:"Costed Annualized Work Plan",total:"Sub-Total",total_costs:"Total Costs",invest_title:"",code:"Code",name:"Name",funds:"Sources of Funds",period:"Period",fund_id:"Fund"},background:(oj={title:"Project Background",situation_analysis:"Situational Analysis",problem_statement:"Problem Statement",problem_cause:"Problem Causes",problem_effects:"Problem Effects",justification:"Justification",stakeholders:"Stakeholders",location:"Location",geo_location:"Geo Location",technical_description:"Technical Description",government_agencies:"Coordination with Other Government Agencies",government_agencies_empty:"Coordination with Other Government Agencies is empty",strategic_fit:"Strategic Fit",strategic_alignment:"Strategic Alignment",strategic:"Strategic Directive",details:"Details",in_ndp:"Project in NDP",ndp_project_name:"Project Name",ndp_page_no:"Page in NDP",ndp_focus_area:"Focus Area",ndp_intervention:"Interventions"},Object(N.a)(oj,"ndp_project_name","Project Name"),Object(N.a)(oj,"implementing_agencies","Implementing Agencies"),Object(N.a)(oj,"om_costs","Operation and Maintenance Costs (O&M Costs, UGX)"),oj),project_info:{evaluation_period:"Evaluation Period",responsible_officers:{title:"Officer Title",name:"Officer Name",phone:"Officer Phone",email:"Officer Email",mobile_phone:"Officer Mobile Phone",organization_name:"Officer Organization Name",address:"Officer Address"},current_investment_ratio:"Capital to Recurrent Ratio",project_no:"Project No",project_title:"Project Title",project_duration:"Project Duration",project_cost:"Estimated Project Cost",officer:"Responsible Officer",officer_name:"Name",officer_contacts:"Contacts",officer_email:"Email",officer_mobile:"Mobile Phone",officer_phone:"Phone",project_date:"Date of Submission",project_approved:{phase_2:"Date of Approval of Concept note",phase_3:"Date of submission of the profile",phase_4:"Date of approval of the Pre-feasibility Study",phase_5:"Date of approval of the Feasibility Study",phase_6:"Date of Approval of the Budgeting  Study",phase_7:"Date of Approval of the Project Implementation Study"},executive_summary:"Executive Summary",additional_info:"Additional Information",gantt_chart:"Gantt Chart",gantt_chart_title:"Output / Activity Title",evaluation_methodology:"Evaluation Methodology",achieved_outcomes:"Achieved Outcomes",deviation_reasons:"Deviation Reasons",measures:"Measures",lessons_learned:"Lessons Learned"},funding:{title:"Proposed Fundings",fund:"Fund",ugx:"UGX billion"}},Object(N.a)(ij,"introduction",{title:"Introduction"}),Object(N.a)(ij,"options",{title:"Strategic Options Analysis",name:"Option Name",cost:"Project Cost",funding_modality:"Funding Modality",score:"Total Score",modular_scores:"Modular Scores",demand_module:"Demand",tech_module:"Technical",environmental_module:"Environment",hr_module:"HR",legal_module:"Inst. & Legal",detailed_analysis:"Detailed Analysis for",detailed_analysis_empty:"No Detailed Analysis",option_title:"Option",header_title:"Title",description:"Description",advantage:"Advantages",disadvantage:"Disadvantages",cea:"CEA",cba:"CBA",cba_cea:"CBA/CEA",financial_evaluation:{title:"Financial Appraisal",summary:"Summary of Financial Evaluation:",fnpv:"FNPV",irr:"IRR",cba:"CBA",cea:"CEA"},economical_evaluation:{title:"Economic or Social Appraisal",summary:"Summary of Economic Evaluation:",enpv:"ENPV",err:"ERR",cba:"CBA",cea:"CEA",option_title:"Option"},justification:{best_options_empty:"No Preferred Alternative Selected",title:"Justification for the Preferred Project Alternative",description:"Preferred Alternative Description",alternative:"Alternative",alternative_text:"was identified as a best alternative to proceed to the feasibility study stage. Please refer to details below.",details:"Justification for Preferred Alternative",modality:"Justification for the Preferred Funding Modality"},risk_evaluations:{title:"Risk Management",empty:"No Risk Evaluation",description:"Risk Description",occurrence:"Likelihood of Occurrence (Low to Very High)",impact:"Impact (Low to Very High)",mitigation_plan:"Mitigation Plan",analysis:"Risk Analysis for"},stakeholder_evaluations:{title:"Distributional/Stakeholder Impact Assessment",empty:"No stakeholders",number:"s/no",name:"Identity of Stakeholder",impact_sign:"Impact Positive/Negative",beneficiary:"Beneficiary Direct/Indirect",description:"Description",analysis:"Distributional/Stakeholder Analysis for "},criterias:{title:"Cost Effectiveness Results",criteria_title:"Title",criteria_value:"Value",measure_unit:"Measure unit"}}),ij)},Cj={resources:(cj={parameters:{name:"System Parameters"},trash:{name:"Deleted Projects"},"reports-projects-repeated":{name:"Repeated Projects"},"reports-projects-submitted":{name:"Project submitted by the 7th of month"},"reports-projects-donors":{name:"Donor Projects"},"reports-projects-stagnant":{name:"Projects that are stagnant for 14 days"},"reports-projects-for-action":{name:"Projects waiting for User action"},"reports-projects-for-pap":{name:"Projects in PAP"},delegation:{name:"User Delegation"},dashboard:{name:"Dashboard"},"completed-report":{name:"Completed Report"},"reports-projects-ranking":{name:"Ranking Report"},"reports-fiscal-load":{name:"Fiscal Load"},"reports-project-cost-evaluation":{name:"Cost Evolution Report"},"reports-project-count":{name:"Projects Count by Sectors"},"reports-project-ibp-usage":{name:"IBP User Action Tracking Report"},"reports-project-dc-report":{name:"DC Report"},"reports-pipeline-projects":{name:"Projects in Pipeline"},"psip-report-view":{name:"PSIP"},"project-managment":{name:"Project Management"},"project-resources-managment":{name:"Project Resource Management"},"me-report-view":{name:"M&E Report"},"project-portfolio":{name:"Project Porfolio"},"project-resources-management":{name:"Project Resources Management"},"project-management":{name:"Project Management"},programs:{name:"Programs"},sub_programs:{name:"Subprograms"},users:{fields:{roles:"Roles",role_id:"User Role",user_roles:"User Roles",allowed_organization_ids:"Allowed Organizations",allowed_project_ids:"Access to Other Projects (optional)"}},user_roles:{fields:{role_id:"Role"}},votes:{name:"Votes"},notifications:{name:"Notifications",fields:{title_html:"Subject",created_at:"Date",sender:"Sender",body_html:"Message"}},dashboards:{projects_waiting:"Projects Awaiting Your Decision",projects_phases:"Projects by Phases",projects_groups:"Groupped Projects",projects:"Projects"},"report-builder":{name:"Report Builder"},gantt:{name:"Gantt Chart"},reports:{name:"Reports",title:"REPORTS",projects_by_location:"Projects by Location",phases_title:"Phases",filters:"Sector and Vote filters",fiscal_load:"Fiscal Load",cost_evolution:"Evolution of Project Cost",projects_by_cycles:"Projects at different stages of the Development Cycle (UGX)",projects_by_cycles_counts:"Projects at different stages of the Development Cycle",no_data:"No data available",loading:"Data is loading, please wait ...",pipeline:{name:"Pipeline of Projects",header:{id:"ID",title:"Title",cost:"Cost of Investment",start_date:"Proposed Start Date",duration:"Duration",enter_date:"Date of Feasibility"}},ranking:{name:"Project Ranking",header:{rank:"Rank",title:"Title",cost:"Cost (UGX)",sector:"Name of Sector",vote:"Vote",npv:"NPV (UGX)",enpv:"ENPV (UGX)",fnpv:"FNPV (UGX)",irr:"IRR (%)",err:"ERR (%)"}}},roles:{name:"Roles",admin:"Administrator",department_admin_user:"Department Head",pap_commissioner_user:"PAP Commissioner",pap_head_user:"PAP Head",pap_standard_user:"PAP Standard User",standard_user:"Standard User",vote_admin_user:"Head Planning",account_officer:"Accounting officer",dc_member_user:"DC member",sector_head_user:"Sector Head",desk_officer_user:"Desk Officer",donor_user:"Donor",pap_senior_economist_user:"PAP Senior Economist",pap_assist_commissioner_user:"PAP Assistant Commissioner",fields:{name:"Role",is_deleted:"Is Deleted",permissions:"permissions",organization_level:"organization_level",has_allowed_projects:"has_allowed_projects"}},projects:{name:"Project |||| Projects",fields:{phase:"Phase",created_on:"Submission Date",project_no:"Project No",created_by:"Created By",created_at:"Submission Date",phase_id:"Phase",status:"Status","workflow.status":"Workflow Step",title:"Project Title",name:"Project Title",sector_id:"Name of Sector",department_id:"Sub Program Name",vote_id:"Vote",program:{code:"Program Code",name:"Program Name"},fund:{code:"Fund Code",name:"Fund Name"},"fund-source":{code:"Source of Fund Code",name:"Source of Fund Name"},vote:{code:"Vote Code",name:"Vote Name"},vote_function:{code:"Department Code",name:"Department Name"},sector:{code:"Sector Code",name:"Sector Name"},sub_program:{code:"Sub Program Code",name:"Sub Program Name"},sender:"Sender"}},"project-details":{name:"Project Details",fields:(lj={vote:"Vote",classification:"Project Classification",responsible_officers:{header:"Responsible Officers",title:"Officer Title",name:"Officer Name",phone:"Officer Phone",email:"Officer Email",mobile_phone:"Officer Mobile Phone",organization_name:"Officer Organization Name",address:"Officer Address"},name:"Project Title",current_investment_ratio:"Capital to Recurrent Ratio",title:"Project Title",summary:"Technical Description",start_date:"Start Date",end_date:"End Date",locations:"Location",geo_location:"Geo Location",estimated_lifetime:"Estimated Lifetime",is_dlp:"Project Has Defect Liability Period",liability_period:"Defect Liability Period",is_omp:"Does the project require O&M?",maintenance_period:"Operation & Maintenance Period",om_cost:"Operation & Maintenance Costs (O&M Costs, UGX)",om_fund_id:"Fund Name",exec_management_plan:"Executive Management Plan",exec_management_plan_pfs:"Executive Summary",introduction:"Introduction",implementing_agencies:"Implementing Agencies",project_categories_id:"Project Category",situation_analysis:"Situation Analysis",situation_analysis_file:"Situation Analysis Attachment",problem_statement:"Problem Statement",problem_statement_file:"Problem Statement Attachment",problem_cause:"Problem Cause",problem_causes_file:"Problem Causes Attachment",problem_effects:"Problem Effects",problem_effects_file:"Problem Effects Attachment",justification:"Justification",sustainability_plan:"Sustainability Plan",me_strategies:"Monitoring and Evaluation Strategies",justification_file:"Justification Attachment",evaluation_methodology:"Evaluation Methodology",evaluation_period:"Evaluation Period",achieved_outcomes:"Achieved Outcomes",deviation_reasons:"Deviation Reasons",measures:"Measures",lessons_learned:"Lessons Learned",is_evaluation:"Project Requires Ex-Post Evaluation",government_agencies:{title:"Coordination with Other Government Agencies",name:"Name",description:"Details"},government_coordinations:{title:"Coordination with Other Government Agencies",name:"Name",description:"Details"},stakeholders:{title:"Stakeholders and their responsibilities",name:"Name",responsibilities:"Responsibilities"},in_ndp:{title:"In NDP",yes:"National Development Plan",other:"Other Strategic Documents"},ndp_type:{title:"NDP Type",core:"NDP Core Projects",priority:"NDP Priority Area"},ndp_name:"Project Name",ndp_page_no:"Page in NDP",ndp_focus_area:{null:"",title:"Focus Area",wealth_creation:"Wealth Creation",inclusive_growth:"Inclusive growth",competitiveness:"Competitiveness"},ndp_intervention:"Intervention",ndp_strategic_directives:"Other Strategic Directives",other_plans:{development_partners:"Development partners",cabinet_directives:"Cabinet directives",parliament_approval:"Parliament approval",stare_owned_enterprise:"Stare owned enterprise",regional_integration_policy:"Regional integration policy",political_manifestos:"Political manifestos",interest_groups_or_beneficiaries:"Interest groups or beneficiaries",private_sponsors:"Private sponsors",sustainable_development_goals:"Sustainable development goals"},ndp_plan_details:"Strategic Alignment",officer_title:"Officer Title",officer_name:"Officer Name",officer_phone:"Officer Phone",officer_email:"Officer Email",officer_mobile_phone:"Officer Mobile Phone",rational_study:"Rationale of the Study",methodology:"Methodology",organization_study:"Organisation of the PFS and FS",organization_study_pfs:"Organisation of the Pre-feasibility Study",organization_study_fs:"Organisation of the Feasibility Study",other_info:"Project Additional Information",attachments:{title:"Mandatory attachments",add:"Add Attachment",remove:"Remove Attachment"},benefits:"Benefits",goal:"Project Goal",commentaries:"Commentaries",files:"Project Files",demand_analysis:"Demand Analysis",demand_analysis_files:"Demand Analysis Files",pre_feasibility_cost:"Pre-Feasibility Cost",pre_feasibility_consultants:"Pre-Feasibility Consultants",strategic_analysis:"Strategic Analysis",strategic_alignment:"Strategic Alignment",financing_modality:"Financing Modality",feasbility_cost:"Feasibility Cost",feasibility_consultants:"Feasibility Consultants",feasibility_funds_request:"Feasibility Funds Request",env_impact_assessment:"Environmental Impact Assessment",technical_design:"Technical Design",production_plan:"Production Plan",hr_requirements:"HR Requirements",legal_assessment:"Legal Assessment",financial_evaluation:"Financial/Private Evaluation",economic_evaluation:"Economic/Social Evaluation",risk_evaluations:"Risk Evaluation",distributional_assessment:"Distributional Assessment"},Object(N.a)(lj,"exec_management_plan","Executive Management Plan"),Object(N.a)(lj,"exec_management_plan_pfs","Executive Summary"),Object(N.a)(lj,"sustainability_assessment","Sustainability Assessment"),Object(N.a)(lj,"pcn_outcome","Outcomes"),Object(N.a)(lj,"pcn_interventions","Interventions"),Object(N.a)(lj,"interventions","Interventions"),Object(N.a)(lj,"investments","Investment Costs"),Object(N.a)(lj,"in_ndpi","Already Existing in NDPI"),Object(N.a)(lj,"in_ndpii","Already Existing in NDPII"),Object(N.a)(lj,"in_mfped","Already Existing in MFPED PIP"),Object(N.a)(lj,"strategic_other_plan","Strategic Other Plan"),Object(N.a)(lj,"strategic_considerations","Other Strategic Considerations"),Object(N.a)(lj,"strategic_fit","Strategic Fit"),Object(N.a)(lj,"strategic_alignment","Strategic Alignment"),Object(N.a)(lj,"baseline","Indicator Baseline Year"),Object(N.a)(lj,"outcome_targets","Outcome Indicator Target Years"),Object(N.a)(lj,"output_base","Output Indicator Baseline"),Object(N.a)(lj,"output_targets","Output Indicator Target Years"),lj)},organizations:{name:"Organisation |||| Organisations",fields:{code:"Organisation Code",name:"Organisation Name"}},departments:{name:"Sub Program |||| Sub Programs",fields:{code:"Sub Program Code",name:"Sub Program Name",organization_id:"Organisation Name",vote_id:"Vote",sector_id:"Sector"}},funds:{name:"Fund |||| Funds",fields:{code:"Fund Code",name:"Fund Name"}},"fund-sources":{name:"Source of Fund |||| Source of Funds",fields:{code:"Source of Fund Code",name:"Source of Fund Name",fund_id:"Fund Name"}}},Object(N.a)(cj,"votes",{name:"Vote |||| Votes",fields:{code:"Vote Code",name:"Vote Name",sector_id:"Sector Name"}}),Object(N.a)(cj,"vote-functions",{name:"Program Outcome|||| Program Outcomes",fields:{code:"Program Code",name:"Program Name",vote_id:"Vote Name"}}),Object(N.a)(cj,"sectors",{name:"Sector |||| Sectors",fields:{code:"Sector Code",name:"Sector Name"}}),Object(N.a)(cj,"outcomes",{name:"Outcome |||| Outcomes",fields:{name:"Outcome Title"},actions:{create:"Create Outcome",edit:"Manage Indicators"}}),Object(N.a)(cj,"outputs",{name:"Output |||| Outputs",fields:{outcome_ids:"Outcomes",name:"Output Title",description:"Output Description",tech_specs:"Technical Specifications",alternative_specs:"Alternative Specifications",vote_id:"Output Votes",output_value:"Output Quantity",unit_id:"Unit",investments:{name:"Outputs Investments",fields:{fund_id:"Fund",fund_source_id:"Fund sources",total:"Total",cost_classification_id:"Cost Classification",cost_category_id:"Cost Category"},actions:{edit:"Estimated Cost"}}},actions:{create:"Create Output",edit:"Manage Indicators",editCosts:"Estimated Cost"}}),Object(N.a)(cj,"indicators",{name:"Indicator |||| Indicators",fields:{name:"Indicator Name",baseline:"Baseline",verification_means:"Verification Means",assumptions:"Assumptions",risk_factors:"Risk Factors",target:"Target"}}),Object(N.a)(cj,"phases",{name:"Phase Name",phase_1:"Project Concept",phase_2:"Project Profile",phase_3:"Pre-feasibility",phase_4:"Feasibility",phase_5:"Project Propposal",phase_6:"Budgeting",phase_7:"Implementation",phase_8:"Ex-Post Evaluation"}),Object(N.a)(cj,"project-categories",{name:"Project Category |||| Project Categories",fields:{project_categories_id:"Project Category Id",title:"Project Category Title",last_phase_id:"Last Phase"}}),Object(N.a)(cj,"activities",{name:"Activity |||| Activities",fields:{name:"Activity Name",start_date:"Start date",end_date:"End date",description:"Activity Description",output_id:"Activity Outputs",vote_id:"Activity Votes",investments:{name:"Activities Investments",fields:{fund_id:"Fund",fund_source_id:"Fund sources",total:"Total",cost_classification_id:"Cost Classification",cost_category_id:"Cost Category"},actions:{edit:"Estimated Cost"}}}}),Object(N.a)(cj,"project_options",{name:"Options Analysis",fields:{title:"Title",description:"Description",cost:"Cost (UGX)",score:"Total Score",funding_modality:{title:"Preferred funding modality",title_pfs:"Preferred Implementation modality",PROCUREMENT:"Traditional procurement",procurement:"Traditional procurement",PARTNERSHIP:"Public private partnership",partnership:"Public private partnership"},is_preferred:"Preferred Alternative",justification:"Justification of the Preferred Alternative",modality_justification:"Justification for the Preferred Funding Modality",modality_justification_pfs:"Justification for the Preferred Implementation Modality",stepper:{description:"Description",building_blocks:"Building Blocks",analytical_modules:"Analytical Modules",best_option:"Preferred Alternative Selection"},building_blocks:{title:"Building Blocks",description:"Description",advantage:"Advantages",disadvantage:"Disadvantages",score:"Score",modules:{demand_module:"Demand Analysis",technical_module:"Technical & Engineering",environmental_module:"Environmental",hr_module:"HR requirements",legal_module:"Legal assessment"},demand_module:{present_supply:"Current Supply",present_demand:"Current Demand",deficit:"Deficit",demand_projections:"Demand Projections"}},analytical_modules:{title:"Analytical Modules",description:"Description",advantage:"Advantages",disadvantage:"Disadvantages",score:"Score",appraisal_methodology:{title:"Appraisal Methodology",cea:"CEA",cba:"CBA"},financial_evaluation:{fnpv:"FNPV (UGX bln.)",irr:"IRR %",summary:"Financial Analysis Details"},economic_evaluation:{enpv:"ENPV (UGX bln.)",err:"ERR %",summary:"Economical Analysis Details"},criterias:{title:"Cost Effectiveness Results",criteria_title:"Title",criteria_value:"Value",measure_unit:"Measure unit"},stakeholder_evaluations:{name:"Identity of the Stakeholder",description:"Description",impact_sign:{title:"Impact",positive:"Positive",negative:"Negative"},beneficiary:{title:"Relation",direct:"Direct",indirect:"Indirect"}},risk_evaluations:{description:"Description",occurrence:"Likelihood of Occurrence",impact:"Impact",levels:{low:"Low",medium:"Medium",high:"High",very_high:"Very High"},mitigation_plan:"Mitigation Plan"},modules:{financial:"Financial",economic:"Economic",distributional:"Distributional",risk:"Risk"}},summary:{title:"Analysis of Alternatives Summary"}}}),Object(N.a)(cj,"risk_factors",{name:"Risk Factor |||| Risk Factors",fields:{risk_level:"Risk Level",measures:"Measures",risk_description:"Risk Description"}}),Object(N.a)(cj,"file-types",{name:"File Type |||| File Types",fields:{is_required:"Is Required",phase_ids:"Project Phases",name:"File Type Name"}}),Object(N.a)(cj,"users",{name:"User Management",fields:{username:"Username",email:"E-mail",fullname:"Full Name",phone:"Phone",vote_id:"Vote",role:"Role",password_hash:"Password",department_id:"Sub Program Name",management_id:"Name of Management",sector_id:"Name of Sector",sector_ids:"Name of Sectors",donor_id:"Donors Name",user_roles:"User Roles"}}),Object(N.a)(cj,"locations",{name:"Location Name"}),Object(N.a)(cj,"costings",{name:"Costing Classification Name"}),Object(N.a)(cj,"fund_sources",{name:"Funds Classification Name"}),Object(N.a)(cj,"cost_classifications",{name:"Costing Classification Name"}),Object(N.a)(cj,"cost_categories",{name:"Cost Categories |||| Cost Categories"}),Object(N.a)(cj,"cost-classifications",{name:"Cost Classification |||| Cost Classifications",fields:{code:"Code",name:"Name",cost_category_id:"Cost Category"}}),Object(N.a)(cj,"workflow-chart",{name:"Workflow Name"}),Object(N.a)(cj,"workflows",{name:"Workflow Name"}),Object(N.a)(cj,"currency-rates",{name:"Currency Rate Name"}),Object(N.a)(cj,"units",{name:"Unit Name"}),Object(N.a)(cj,"currencies",{name:"Currency Name"}),Object(N.a)(cj,"cost-categories",{name:"Cost Categories |||| Cost Categories",fields:{code:"Code",name:"Name",expenditure_type:"Expenditure Type"}}),Object(N.a)(cj,"me-reports",{name:"M&E Report",fields:{quarter:"Quarter",year:"Year",data_collection_type:"Data Collection Type",me_outputs:"Outputs",unit:"Output Unit",output_progress:"Output Progress",output_value:"Planned Output Quantity",indicators:"Indicators",target:"Achieved Target",planned_target:"Planned Target",me_activities:"Activities",status:"Status",expected_completion_date:"Expected Completion Date",challenges:"Challenges",measures:"Measures",allocation_challenges:"Allocation Challenges",budget_appropriation:"Budget Appropriation",allocation_measures:"Allocation Measures",financial_execution:"Financial Execution",execution_challenges:"Execution Challenges",execution_measures:"Execution Measures",next_budget_appropriation:"Next Budget Appropriation",me_releases:"Releases",type:"Type",government:"Government",donor:"Donor",budget_allocation:"Budget Allocation",me_type:"Type of M&E activity"}}),Object(N.a)(cj,"investments",{fields:{target:"Target"}}),cj)},Nj={tooltips:{resources:{"me-reports":{name:"M&E Report",fields:{quarter:"Quarter",year:"Year",data_collection_type:"Data Collection Type",me_outputs:"Outputs",output_progress:"Output Progress",indicators:"Indicators",target:"Target",me_activities:"Activities",status:"Status",expected_completion_date:"Expected Completion Date",challenges:"Challenges",measures:"Measures",allocation_challenges:"Allocation Challenges",budget_appropriation:"Budget Appropriation",allocation_measures:"Allocation Measures",financial_execution:"Financial Execution",execution_challenges:"Execution Challenges",execution_measures:"Execution Measures",next_budget_appropriation:"Next Budget Appropriation",me_releases:"Releases",type:"Type",government:"Government",donor:"Donor",budget_allocation:"Budget Allocation",me_type:"Type of M&E activity"}},roles:{fields:{name:"Role Name",is_deleted:"Is Deleted",permissions:"permissions",organization_level:"organization_level",has_allowed_projects:"has_allowed_projects"}},om_costs:{om_fund_id:"Select the fund name from which the operation and maintenance cost will be obtained from.",om_fund_source_id:"Select the source from where the operation and maintenance cost will be got from",om_cost_category_id:"Select the cost category of the expense",om_cost_classification_id:"Select the cost classification of the expense",om_years:"Identify the amounts that will be spent for each financial year."},reports:{projects_by_location_help:"Turn on/off selectors to filter projects showed on geo map",projects_by_location_filters:"Select Sector or Vote to filter projects showed on geo map"},projects:{fields:{project_no:"A unique project identification number that can be used to track the project throughout its lifecycle.",created_by:"User that created project",created_at:"Submission Date",phase_id:"Phase of the project.",status:"Status of the project.","workflow.status":"Workflow Step"}},"project-details":{fields:(sj={classification:"Project Classification",responsible_officers:{title:"Officer Title",name:"Officer Name",phone:"Officer Phone",email:"Officer Email",mobile_phone:"Officer Mobile Phone",organization_name:"Officer Organization Name",address:"Officer Address"},current_investment_ratio:"Capital to Recurrent Ratio",title:"Let it be as clear as possible, avoiding duplication of names within the Public Investment Plan",summary:"Provide a detailed technical description detailing the project planning elements required to achieve the project outcome.",start_date:"Indicate the financial year in when the project is expected to commence.",end_date:"The expected date of the project construction completion",duration:"Estimate the project construction timeline",location:"Precisely identify all the districts where the project will be located.",geo_location:"Geo Location",province:"Province",estimated_lifetime:"Operational life of the project after construction is completed. A typical operational lifetime of infrastructure project range from 10 to 25 years.",is_dlp:"Select if project has a defect liability period.",liability_period:"Defect Liability Period of the project. Enter number of years.",is_omp:"Select if project has operation & maintenance Period",evaluation_period:"Number of years after project completion",maintenance_period:"Operational life of the project after construction is completed. A typical operational lifetime of infrastructure project range from 10 to 25 years.",introduction:"Introduction",implementing_agencies:"Agencies responsible for delivery of the project outputs.",project_categories_id:"Project Category",situation_analysis:"Provide a background to the project idea or the problem your project will focus on by: (i) describing current situation including past and on-going interventions; ii) recent developments in the area of interest, achievements and challenges if any, iii) Explain projected trends using published forecasts. Quote official statistics to support your narrative.",situation_analysis_file:"Provide a background to the project idea or the problem your project will focus on by;\n\t(i) describing the current situation including past and on-going interventions, recent developments in the area of interest, achievements and challenges if any.\n        Quote official statistics to support your narrative.\n\t(ii) Explaining projected trends using published forecasts\n        ",problem_statement:"Provide an explicit definition of the problem to be addressed in terms of challenges, constraints or gaps that the market or private sector cannot resolve and:\n\ti.\t Mention the likely causes of the problem both direct and indirect and\n\tii.\t Give a brief insight of the likely consequences if no government intervention is made.",problem_statement_file:"Provide an explicit definition of the problem to be addressed in terms of challenges, constraints or gaps that the market or private sector cannot resolve.",problem_cause:"Please provide the likely causes of the problem both direct and indirect.",problem_causes_file:"Problem Causes Attachment",problem_effects:"Please provide a brief insight of the likely consequences if no government intervention is made.",problem_effects_file:"Problem Effects Attachment",justification:"Justify the need for the proposed project by: (i) linking the project to the National Development Plan (NDP) strategic interventions by identifying the objective (s) that the proposed project is expected to contribute to; (ii) Linking the proposed project to Sector Investment Plan (SIP) objectives by describing the sector outcomes that the project is expected to impact.",sustainability_plan:"Sustainability Plan",me_strategies:"Monitoring and Evaluation Strategies",justification_file:"Justification Attachment",stakeholders:"Identify the key stakeholders that are likely to be affected by the interventions including: (i) Direct Beneficiaries (ii) Indirect Beneficiaries (iii) Project Affected Persons.  Give a brief description of the likely impact of the project on the stakeholders.",government_agencies:{name:"Identify the government agency that will take part in the project implementation",details:"Describe the specific activities and issues for which the identified government agency will coordinate the implementation and it`s role"},stakeholder:{name:"Stakeholder Name",responsibilities:"Stakeholders Responsibilities"},evaluation_methodology:"Evaluation Methodology",achieved_outcomes:"Achieved Outcomes",deviation_reasons:"Deviation Reasons",measures:"Measures",lessons_learned:"Lessons Learned",in_ndp:{title:"Please select National Development Plan if the project is included in the plan. Select Other if project is included in other strategic directives.",yes:"Yes",other:"Other"},ndp_type:{title:"Please identify the NDP type in which the project belongs to",core:"NDP Core Projects",priority:"NDP Priority Area"},ndp_name:"Project Name",ndp_page_no:"Page in NDP",ndp_focus_area:{null:"",title:"Identify the focus area of the project",wealth_creation:"Wealth Creation",inclusive_growth:"Inclusive growth",competitiveness:"Competitiveness"},ndp_intervention:"Identify the suitable intervention from the NDP to which the project is focusing on.",ndp_strategic_directives:"Other Strategic Directives",other_plans:{development_partners:"Development partners",cabinet_directives:"Cabinet directives",parliament_approval:"Parliament approval",stare_owned_enterprise:"Stare owned enterprise",regional_integration_policy:"Regional integration policy",political_manifestos:"Political manifestos",interest_groups_or_beneficiaries:"Interest groups or beneficiaries",private_sponsors:"Private sponsors",sustainable_development_goals:"Sustainable development goals"},ndp_plan_details:"Give a clear description of the project in relation to the NDP",officer_title:"Officer Title",officer_name:"Officer Name",officer_phone:"Officer Phone",officer_email:"Officer Email",officer_mobile_phone:"Officer Mobile Phone",rational_study:"Please provide a detailed description / justification for undertaking the project",methodology:"Please describe the approach and methodology adopted in conducting the Pre- Feasibility Study.",organization_study:"Describe how the Pre-Feasibility Study is organized.",organization_study_pfs:"Organisation of the Pre-feasibility Study",organization_study_fs:"Organisation of the Feasibility Study",other_info:"Provide any additional information necessary for the project",attachments:{title:"Mandatory attachments",add:"Add Attachment"},benefits:"Benefits",goal:"Describe the project goal.  This should be in relation to the development objective that the project is designed to contribute to.  Identify an indicator that will be used to measure success of the project against the goal and briefly explain how information on this indicator shall be obtained.",commentaries:"Commentaries",files:"Project Files",demand_analysis:"Identifies the need for public investment by assessing: (i) current demand (based on statistics provided by service suppliers/ regulators/ ministries/ national and regional statistical offices for the various types of users); (ii) future demand (based on reliable demand forecasting models) in both the scenarios with- and without the project",demand_analysis_files:"Demand Analysis Files",pre_feasibility_cost:"Pre-Feasibility Cost",pre_feasibility_consultants:"Pre-Feasibility Consultants",strategic_analysis:"Strategic Analysis",strategic_alignment:"Strategic Alignment",financing_modality:"Financing Modality",feasbility_cost:"Feasibility Cost",feasibility_consultants:"Feasibility Consultants",feasibility_funds_request:"Feasibility Funds Request",env_impact_assessment:"Environmental Impact Assessment",technical_design:"A summary of the proposed project solution shall be presented with the following headings\n(i)\tLocation: description of the location of the project including a graphical illustration (map). Availability of land is a key aspect: evidence should be provided that the land is owned (or can be accessed) by the beneficiary, who has the full title to use it, or has to be purchased (or rented) through an acquisition process. In the latter case, the conditions of acquisition should be described. The administrative process and the availability of the relevant permits to carry out the works should also be explained.\n(ii)\tTechnical design: description of the main works components, technology adopted, design standards and specifications. Key output indicators, defined as the main physical quantities produced (e.g. kilometers of pipeline, number of overpasses, number of trees planted, etc.), should be provided.\n(iii)\tProduction plan: description of the infrastructure capacity and the expected utilization rate. These elements describe the service provision from the supply side. Project scope and size should be justified in the context of the forecasted demand.",production_plan:"Production Plan",hr_requirements:"HR Requirements",legal_assessment:"Legal Assessment",financial_evaluation:"Financial/Private Evaluation",economic_evaluation:"Economic/Social Evaluation",risk_evaluations:"Risk Evaluation",distributional_assessment:"Distributional Assessment",exec_management_plan:"Describe the key headline information from the components of the feasibility study assessment the option evaluated, key results and recommendations.",sustainability_assessment:"Sustainability Assessment",pcn_outcome:"Outcomes",pcn_interventions:"Interventions",investments:"Investment Costs",in_ndpi:"Already Existing in NDPI",in_ndpii:"Already Existing in NDPII",in_mfped:"Already Existing in MFPED PIP",strategic_other_plan:"Strategic Other Plan",strategic_considerations:"Other Strategic Considerations",strategic_fit:"Strategic Fit"},Object(N.a)(sj,"strategic_alignment","Strategic Alignment"),Object(N.a)(sj,"baseline","Indicator Baseline Year"),Object(N.a)(sj,"outcome_targets","Outcome Indicator Target Years"),Object(N.a)(sj,"output_base","Output Indicator Baseline"),Object(N.a)(sj,"output_targets","Output Indicator Target Years"),sj)},organizations:{fields:{code:"Organisation Code",name:"Organisation Name"}},departments:{fields:{code:"Sub Program Code",name:"Sub Program Name",organization_id:"Organisation Name",vote_id:"Vote Name",sector_id:"Sector Name"}},funds:{fields:{code:"Fund Code",name:"Fund Name"}},"fund-sources":{fields:{code:"Source of Fund Code",name:"Source of Fund Name",fund_id:"Fund Name"}},votes:{fields:{code:"Vote Code",name:"Vote Name",sector_id:"Sector Name"}},"vote-functions":{fields:{code:"Program Code",name:"Program Name",vote_id:"Vote Name"}},sectors:{fields:{code:"Sector Code",name:"Sector Name"}},outcomes:{fields:{name:"Define the project outcomes to include the effects that will follow from the utilization of products or services delivered by the project. These could be the eventual benefits to society that the project interventions are intended to achieve and are reflected in terms of  what people will be able to do better, faster, or more efficiently, or what they could never do before."},actions:{create:"Create Outcome",edit:"For each project outcome identified, you are required to define at least one indicator that will be used to measure performance of the project against the relevant outcome and briefly explain how information on this indicator shall be obtained."}},outputs:{fields:{outcome_ids:"Outcomes",name:"Describe the direct/tangible results that the project is expected to deliver.  These outputs shall be the basis for the components around which the project shall be built. Some examples of project deliverables could be: trainings equipment purchased, ICT backbone developed, infrastructure built / renovated and etc. Outputs are usually the immediate and concrete consequences of the implemented activities and resources used..\n    With the exception of the project management, monitoring and evaluation components, the project outputs should relate to physical assets and must contribute at-least 70% of the total project.",description:"Clearly describe the output. Describe the tangible products and services delivered or competences and capacities established directly as a result of the project",vote_id:"Identify the implementing agency that will undertake the identified output.",output_value:"Quantity",unit_id:"Unit",tech_specs:"Technical Specifications",alternative_specs:"Alternative Specification",investments:{name:"Outputs Investments",fields:{fund_id:"Fund",fund_source_id:"Fund sources",total:"Total",cost_classification_id:"Cost Classification"},actions:{edit:"Estimated Cost"}}}},indicators:{fields:{name:"For each project output identified, you will be required to define at least one indicator that will be used to measure performance of the project against the relevant output and briefly explain how information on this indicator (s) shall be obtained.  This could be through surveys or secondary data sources",baseline:"Identify a standard that will be used to measure the performance of the project",verification_means:"Define the exact source of data that will be used to evaluate and measure performance",assumptions:"Describe the conditions that must be met to obtain the expected project objectives.",risk_factors:"Clearly provide information about the risks that may affect the project activities",target:"Identify the expected performance of the project in each financial year."}},"project-categories":{fields:{project_categories_id:"Project Category Id",title:"Project Category Title",last_phase_id:"Last Phase"}},activities:{fields:{name:"For each output briefly highlight the major activities that you propose to implement in order to achieve the output",start_date:"For the given activity identify the financial year when it\u2019s expected to commerce",end_date:"Provide the expected end date of the define activity",description:"Describe specific details of the activities.",output_id:"For the given activity identify the corresponding output",vote_id:"For the given activity identify the corresponding votes",investments:{fields:{fund_id:"Fund",fund_source_id:"Fund sources",total:"Total",cost_classification_id:"Cost Classification"},actions:{edit:"Estimated Cost"}}}},project_options:{fields:{title:"Describe the title of the option intended to achieve the project objective.",description:"Describe the option identified clearly detailing its components.",cost:"Identify the investment cost for this option",score:"The option score is autogenerated after populating the building blocks",funding_modality:{title:"Identify the preferred funding modality suitable for the option.",title_pfs:"Identify the preferred Implementation modality suitable for the option.",procurement:"Traditional procurement",partnership:"Public private partnership"},is_preferred:"Identify Preferred Alternative",justification:"Provide a detailed description for the selection of the option for the project intervention.",modality_justification:"Provide a detailed description for the selection of the option for the project preferred Funding Modality.",modality_justification_pfs:"Provide a detailed description for the selection of the option for the project intervention.",stepper:{description:"Description",building_blocks:"Building Blocks",analytical_modules:"Analytical Modules",best_option:"Preferred Alternative Selection"},building_blocks:{description:{demand_module:"Describe the nature and source of demand, nature of the market, prices and qualities of the project.",technical_module:"Determine and specify in detail the technical parameters, investment and operational costs",environmental_module:"Determine and specify the environmental impacts and risks, possible compensation for the ecological damages and where possible qualify the environmental impacts.",hr_module:"Determine the human resource requirements for implementation and operation, in terms of quantities and specialties; identifies the sources of the work force and the cost of employing them. In addition, determine the management capacity and the functional structure of the operating entity.",legal_module:"Describe the legal restrictions that may obstruct or impede construction or operation, for example, limitations in localization and in the use of land, special tax considerations, and guarantees in the case of Public- Private Partnership among others."},advantage:{demand_module:"Identify the advantages of the option in relation to demand module",technical_module:"Identify the advantages of the option in relation to the technical and engineering module",environmental_module:"Identify the advantages of the option in relation to the environmental module",hr_module:"Identify the advantages of the option in relation to the HR requirement module",legal_module:"Identify the advantages of the option in relation to the legal assessment module"},disadvantage:{demand_module:"Identify the disadvantages of the option in regard to demand module.",technical_module:"Identify the disadvantages of the option in relation to the technical and engineering module",environmental_module:"Identify the advantages of the option in relation to the environmental module",hr_module:"Identify the disadvantages of the option in relation to the HR requirements module",legal_module:"Identify the disadvantages of the option in relation to the legal assessment module"},score:"Score",modules:{demand_module:"Demand Analysis",technical_module:"Technical & Engineering",environmental_module:"Describe and specify the economic effects of environmental norms and possible compensations for ecological damages. Key questions to address:\nThe likely environmental impacts from undertaking project?\n(i)\tWhat is the cost of reducing the negative impact?\n(ii)\tEvaluation of the environmental impacts and risks with and without\n(iii)\tTechnical measures are taken to reduce these impacts?\n(iv)\tAre there alternative ways of supplying the good or service of project without incurring these environmental costs?\n(v)\tWhat are the costs of these alternatives?",hr_module:"Point out the human resource requirements for implementation and operation, in terms of quantities and specialties; identifies the sources of the work force. Also it determines the management capacity and the functional structure of the operating entity.  Key Issues to be addressed:\n(i)\tWhat are the managerial and labour needs of the project?\n(ii)\tDoes organisation have the ability to get the managerial skills\nNeeded?\n(iii)\tIs timing of project consistent with quantity and quality of\n(iv)\tManagement?\n(v)\tWhat are wage rates for labour skills required?\n(vi)\tManpower requirements by category are reconciled with\n(vii)\tavailabilities and project timing.",legal_module:"Studies the legal restrictions that may obstruct or impede construction or operation, for example, limitations in localization and in the use of soil, special tax considerations in the case of public\u2013private partnerships, etc.\n(i)\tIs the entity that is supposed to manage the project properly\norganized and its management adequately equipped to handle the\nProject?\n(ii)\tAre the capabilities and facilities being properly utilized?\n(iii)\tIs there a need for changes in the policy and institutional set up\n(iv)\tOutside this entity? What changes may be needed in policies of the Local, regional and central governments?"}},analytical_modules:{description:"Description",advantage:"Advantages",disadvantage:"Disadvantages",score:"Score",appraisal_methodology:{title:"Appraisal Methodology",cea:"CEA",cba:"CBA"},financial_evaluation:{appraisal_methodology:"Select the appraisal methodology to be used either CBA or CEA",fnpv:"State the Financial Net Present Value obtained using the selected appraisal methodology",irr:"State the Internal Rate of Return obtained using the selected appraisal methodology",summary:"Describe the financial costs and benefits at market prices, studies alternative financial leverage methods.\n(i)\tIntegration of financial and technical variables from demand module, technical module, and management module\n(ii)\t Construct cash flow (resource flow) profile of project\n(iii)\tIdentify key variables for doing economic and social analysis\n\nKey questions:\na. What is relative certainty of financial variables?\nb. What are sources and costs of financing?\nc. What are minimum cash flow requirements for each of the stakeholders?\nd. What can be adjusted to satisfy each of the stakeholders?"},economic_evaluation:{appraisal_methodology:"Select the appraisal methodology to be used either CBA or CEA",enpv:"State the Economic Net Present Value obtained using the selected appraisal methodology",err:"State the Economic Rate of Return obtained using the selected appraisal methodology",summary:"Economic adjustments from financial data using conversion factors; after that, costs and benefits are appraised from the point of view of the entire economy.\n(i)\tExamines the project using the whole country as the accounting\nentity\n(ii)\tEvaluation of externalities including environmental\n(iii)\tWhat are differences between financial and economic values for a\nVariable?\n(iv)\tWhat causes these differences?\n(v)\tWith what degrees of certainty do we know values of these\nDifferences?\n(vi)\tWhat is the expected value of economic net benefits?\n(vii)\tWhat is the probability of positive economic feasibility?"},criterias:{title:"Cost Effectiveness Results",criteria_title:"Describe the Cost Effectiveness Analysis method that will be used",criteria_value:"State the value obtained using the CEA method selected",measure_unit:"Identify the measurement units that are used in the analysis"},stakeholder_evaluations:{title:"Identify the stakeholder that will be affected by the project",description:"Give a detailed description of the stakeholder.",impact_sign:{title:"Select the likely impact of the project on the stakeholders",positive:"Positive",negative:"Negative"},beneficiary:{title:"Identify the relationship of the stakeholder to the project",direct:"Direct",indirect:"Indirect"}},risk_evaluations:{description:"identify the uncertainty that may arise during the lifetime of the project.",occurrence:"Select the likelihood of occurrence of the uncertainty",impact:"Select the impact of the risk on the project",levels:{low:"Low",medium:"Medium",high:"High",very_high:"Very High"},mitigation_plan:"Identify and generate guidance on how to reduce the exposure of the risk through different contractual clauses."},modules:{financial:"Financial",economic:"Economic",distributional:"Distributional",risk:"Risk"}}}},risk_factors:{fields:{risk_level:"Risk Level",measures:"Measures",risk_description:"Risk Description"}},"file-types":{fields:{is_required:"Is Required",phase_ids:"Project Phases",name:"File Type Name",extensions:"File Type Extension"}},users:{name:"User Management",fields:{username:"Username",email:"E-mail",fullname:"Full Name",phone:"Phone",vote:"Vote",role:"Role",password_hash:"Enter New Password",sector_id:"Sector Name",vote_id:"Vote Name",department_id:"Sub Program Name",sector_ids:"Name of Sectors",donor_id:"Donors Name",user_roles:"User Roles"}},"cost-classifications":{fields:{code:"Code",name:"Name",cost_category_id:"Cost Category"}},"cost-categories":{fields:{code:"Code",name:"Name",expenditure_type:"Expenditure Type"}}},workflow:{assign:"Select assigned user",decision:"Input decision reason",assign_user:"Assigned user"}}},Aj=Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({common:{home:"Home",avatar:{loadingPrimary:"Loading",loadingSecondary:"The avatar is loading, just a moment please"}}},Sj.a),{buttons:{show_map:"Show Map",hide_map:"Hide Map",assign:"Assign",approve:"Approve",revise:"Revise",reject:"Reject",select_file:"Select File",upload:"Upload",delete:"Delete",submit:"Submit",back:"Back",next:"Next",save_exit:"Save And Exit",create:"Create a Project",timeline:"Timeline",close:"Close",logout:"Logout",account:"Account",help:"HELP",profile_edit:"Edit Profile",profile:"Profile",reset_password:"Reset Password",confirm:"Confirm",cancel:"Cancel",save:"Save",allocate_funds:"Allocate Funds",complete:"Complete",export_pdf:"Export in PDF format",export_word:"Export in Word format",export_csv:"Export in XlS format",revoke:"Revoke"}}),{messages:{"Failed to fetch":"Failed to fetch",project_reject_confirmation:"Are you sure you want to reject this project?",reset_password:"Reset Password",reset_password_confirmation:"Are you sure you want to reset the password?",reset_password_error:"Your password wasn`t changed.",reset_password_success:"New password was sent to your email",high_risk_project:"High Risk Project!",unathorised:"Incorrect user name and password.",new_messages:"You have new messages",saving_data:"Data is saving, please wait",loading_data:"Data is loading, please wait",file_uploaded:"File was uploaded",file_deleted:"File was deleted",file_ext_error:"You should select correct file",all_steps_completed:"All steps completed!",max_outcomes:"Maximum 2 outcomes per project",max_outcomes_per_output:"Maximum 2 outcomes per output",min_activity_per_output:"At least 1 activity per output",max_shortlisted_options:"Maximum 3 shortlisted options",min_selected_option:"At least 1 shortlisted options must be selected",max_best_option:"Maximum 1 Preferred Alternative",min_best_option:"At least 1 Preferred Alternative must be selected",no_files:"No files uploaded",no_file_type:"File type",no_file_action:"Not Uploaded",no_outcomes:"At least one outcome has to be filled",no_outputs:"At least one output has to be filled",om_cost:"This project does not have Operation & Maintenance Period. You can change it in Summary Section.",options_blocks_all:"All building blocks must be filled",options_evaluation_all:"All Analytical Modules must be filled",options_blocks_single:"You should asses every building block",options_required:"All Required fields must be filled",options_summary:"All Description Fields must be filled",duplicate_project_title:"You are about to create a project with a name that already exist in the database. Are you sure you want to proceed?",year:"Year"}}),Nj),Cj),{timeline:{status:{submit:"Project Submitted",approve:"Approved",revise:"Deferred",reject:"Rejected"},title:"Flow of Approvals",event_title:"Project Status Information",submitted:"Project Submitted",draft:"Draft",approved:"Approved",revised:"Deferred",rejected:"Rejected","in pipeline":"In Pipeline",completed:"Completed",assigned:"Assigned",by:"by",date:"Date",comments:"Comments",no_data:"Creation of a project is in progress.",phase:"Phase",files:"Files",not_pap_status:"Waiting for DC decision",hidden_phase_status:"Approved at ",in_pipeline:"In Pipeline",ongoing:"Ongoing",post_evaluation:"Ex-Post Evaluation"}}),Pj),{workflow:{va_file_subtitle:"* You must submit PPC Minutes file before submitting the project.",va_additionalFile_subtitle:"* You must submit SWG Minutes file before submitting the project.",workflow_additional_file_upload:"* You must submit DC Minutes file before submitting the project.",workflow_file_upload:"* You must submit project analysis before submitting the project.",assign:"Select assigned user",decision:"Input decision reason",comments:"Comments",assign_user:"Assigned user",messages:{status_change:"Workflow status changed",status_not_change:"Workflow status not changed"}}}),{validation:{government_coordinations:"Coordination with Other Government Agencies",options_appraisal_empty:"You must create at least one option",empty_fields:"These Fields Must Be Filled",ndp_plan_details:"Details",sector_id:"Name of Sector",vote_id:"Vote",vote_function_id:"Program Name",pillar_id:"Pillar Name",subprogram_id:"Subprogramm Name",implementing_agencies:"Sectors responsible for implementation",title:"Project Title",summary:"Technical description",start_date:"Start date",end_date:"End Date",location:"Location",geo_location:"Geo Location",administrative_post:"Administrative Post",district_id:"Name Districts",province_id:"Name of Provinces",exec_management_plan:"Executive summary",officer_title:"Title Officer",officer_name:"Name Officer",officer_phone:"Officer Phone",officer_email:"Officer Email",officer_mobile_phone:"Officer Mobile Phone ",situation_analysis:"Situation Analysis",problem_statement:"Problem Identification",problem_cause:"Causes of the Problem",problem_effects:"Effects of the Problem",justification:"Justification",sustainability_plan:"Sustainability Plan",me_strategies:"Monitoring and Evaluation Strategies",stakeholders:"Stakeholders",goal:"Project goal",goal_indicators:"Goals Indicators",outcomes:"Outcomes",outcomes_indicators:"Outcomes  Indicators",outputs:"Outputs",outputs_design:"Output Technical/Alternative Specifications",outputs_indicators:"Outputs Indicators",outputs_investments:"Outputs Cost of Investment",activities:"Activities",activities_investments:"Activities Cost of Investments",baseline:"Baseline of the Result Indicator",ndp_type:"NDP Type",om_costs:"O & M Costs",rational_study:"Rationality of the Study",methodology:"Methodology",organization_study:"Organisation of the PFS and FS",organization_study_pfs:"Organisation of the Pre-feasibility Study",organization_study_fs:"Organisation of the Feasibility Study",beneficiary_analysis:"Analysis of Beneficiaries",strategic_alignments:"Strategic Alignments",project_options:{all_fields:"All Fields",summary:{description:"Description",title:"Title",cost:"Cost",score:"Total Result",funding_modality:"Preferential Financing Mode"},building_blocks:{description:"Description",advantage:"Advantages",disadvantage:"Disadvantages",score:"Score",modules:{demand_module:"Demand Analysis",technical_module:"Technical & Engineering",environmental_module:"Environmental",hr_module:"HR requirements",legal_module:"Legal Evaluation"}},financial_evaluation:{title:"Financial Evaluation",summary:"Financial Analysis Details",fnpv:"FNPV",irr:"IRR",cea:"Cost-Effectiveness Analysis",criterias:"Cost Effectiveness Results"},economic_evaluation:{title:"Economic evaluation",summary:"Summary of economic evaluation",enpv:"ENPV",err:"ERR",cea:"Cost-Effectiveness Analysis",option_title:"Option Title",criterias:"Cost Effectiveness Results"},risk_evaluations:{title:"Risk management",empty:"No risk assessment",description:"Risk Description",occurrence:"Probability of Occurrence (Low to Very High)",impact:"Impact (low to very high)",mitigation_plan:"Mitigation Plan",analysis:"Risk analysis for"},stakeholder_evaluations:{title:"Impact Assessment on Distribution",empty:"No Stakeholders",number:"s/no",name:"Stakeholder Identity",impact_sign:"Positive Impact / Negative",beneficiary:"Direct / Indirect Beneficiary",description:"Description"}}}}),{titles:{project_background:"Project Background",implementing_strategies:"Implementation Strategies",drop_files:"Attach files"}}),{comments:{empty:"No Notes",title:"Project Notes",created:"Note was added!",edited:"Note was saved!",deleted:"Note was deleted!",edit_comment:"Edit Note",delete_comment:"Delete Note"}}),{projectSteps:{SUMMARY:"Summary",RESPONSIBLE_OFFICER:"Responsible Officer",PROJECT_BACKGROUND:"Project Background",PROJECT_FRAMEWORK:"Project Framework",DEMAND_ANALYSIS:"Demand Analysis",OPTIONS_ANALYSIS:"Options Analysis",PROJECT_APPRAISAL:"Project Appraisal",FIN_ANALYSIS:"Fin&Econ Analysis",COST:"Costs",RESULT_MATRIX:"Result Matrix",MODULES:"Modules",ADDITIONAL_INFO:"Additional information",OM_COSTS:"O&M Cost",INTRODUCTION:"Introduction",ME_REPORT:"M&E Report",EX_POST_EVALUATION:"Ex-Post Evaluation"}}),Dj={printForm:(dj={ndp:{ndp_sustainable_goals:"Sustainable Development Goals Alignment",ndp_policy_alignment:"Policy Alignment",ndp_compliance:"Compliance with all Relevat Statutes and Organisational Mandate",ndp_goal:"Goal",ndp_outcome:"Outcome",ndp_strategy:"Strategy",ndp_sdg:"SDG",ndp_mtf:"MTF"},introduction:{title:"Introduction"},cost_estimates:{components:{title:"Component Name and Description",name:"Component",cost:"Component Cost"},subcomponents:{name:"Sub-Component Name and Description"}},project_framework:{title_cost_estimates:"Cost Estimates",title_logical:"Logical Framework",title:"Project Framework",goal:"Project Goal",component:"Component |||| Components",outcome:"Outcome |||| Outcomes",output:"Output  |||| Outputs",activity:"Activity |||| Activities"},result_matrix:{indicator:"Performance Indicators",indicator_title:"Indicator",means:"Means of Verification",assumption:"Assumptions",risks:"Risks",baseline:"Baseline",target:"Target",project_goal:"Project Goal",activities_title:"Activities to achieve the components",target_achieved:"Achieved Target",component_id:"Outcomes and components to achieve the output",components:"Components",outcomes:"Outcomes"},attachments:{title:"List of Attachments",no_attachments:"No attachments",project_analysis:"Project Analysis:",completion_report:"Completion Report",expost_report:"Ex-Post Evaluation Report"},investments:{title:"Costed Annualized Plan",subtitle:"Project Investment Cost",outputs_title:"Costed Annualized Work Plan",totalAll:"Total",total:"Sub-Total",total_costs:"Total Costs",invest_title:"",code:"Code",name:"Name",funds:"Sources of Funds",period:"Period",fund_id:"Fund",components_title:"Costing by Year"},procurement_modality:{ppp_similar_reference:"Similar Reference",ppp_interest:"Interest",ppp_impediments:"Impediments",ppp_risk_allocation:"Risk Allocation"},project_options:{name:"Option Title",title:"Option Title",default_option_name:"Default Option Name",default_option_description:"Cost associated with the status quo",default_option_description_impact:"Impacts of maintaining the status quo",description:"Description",swot_analysis:"SWOT Analysis",funding_modality:"Preferred funding modality",is_commercial:"Commercial driven project",is_shortlisted:"Shortlisted Option",om_cost:"OM Cost",om_start_date:"OM Start Date",om_end_date:"OM End Date",capital_expenditure:"Capital Expenditure",end_date:"End Date",start_date:"Start Date",me_strategy:"Monitoring and Evaluation",contract_management:"Change and Contract Management",risk_allocation:"Risk Allocation, Management and Response",value_for_money:"Value for Money Proposition"},background:(uj={stakeholder_consultation:"Stakeholder Consultation",risk_assessment:"Risk Assessment",me_strategies:"Monitoring and Evaluation Strategies",governance:"Project Governance",title:"Project Description",situation_analysis:"Situational Analysis",problem_statement:"Project Status",problem_cause:"Problem Causes",problem_effects:"Problem Effects",justification:"Justification",stakeholders:"Stakeholders",location:"Location",geo_location:"Geo Location",technical_description:"Technical Description",government_agencies:"Coordination with Other Government Agencies",government_agencies_empty:"Coordination with Other Government Agencies is empty",strategic_fit:"Strategic Fit",strategic_alignment:"Strategic Alignment",strategic:"Strategic Directive",details:"Details",in_ndp:"Project in NDP",ndp_project_name:"Project Name",ndp_page_no:"Page in NDP",ndp_focus_area:"Focus Area",ndp_intervention:"Interventions"},Object(N.a)(uj,"ndp_project_name","Project Name"),Object(N.a)(uj,"implementing_agencies","Implementing Agencies"),Object(N.a)(uj,"executing_agencies","Executing Agencies"),Object(N.a)(uj,"om_costs","Operation and Maintenance Costs (O&M Costs)"),uj),workflow:{issues:"Issues",recommendations:"Recommendations"},project_info:{project_goal:"Project Goal",sector_ids:"Sectors",proposed_fund_source:"Proposed Funding Source",budget_allocation_title:"Project Budget Appropriation",budget_allocation:"Project Budget Appropriation",budget_code:" PSIP Project Code",signed_date:" Contract Signed Date",project_om_cost:"Project Operational & Maintenance Estimates",project_financing:"Project Financing",title:"Project Overview",implementing_agencies:"Implementing Agencies",summary:"Project Background",stakeholder_consultation:"Stakeholder Consultation",problem_statement:"Project Status",locations:"Project Locations",justification:"Project Demand",problem_cause:"Project Benefits",problem_effects:"Synergies",risk_assessment:"Risk Assessment",situation_analysis:"Environmental and climate change impact screening",revenue_source:"Entity`s Revenue Source",procurement_modality:"Procurement and Implementation Modality",me_strategies:"Monitoring and Evaluation",governance:"Project Governance",workflow_issues:"Issues and Recommendations",evaluation_period:"Evaluation Period",responsible_officers:{title:"Officer Title",name:"Officer Name",phone:"Officer Phone",email:"Officer Email",mobile_phone:"Officer Mobile Phone",organization_name:"Officer Organization Name",address:"Officer Address"},current_investment_ratio:"Capital to Recurrent Ratio",project_no:"Project No",project_title:"Project Title",project_duration:"Project Duration",project_dates:"Project Dates",project_cost:"Estimated Project Cost",officer:"Responsible Officer",officer_name:"Name",officer_contacts:"Contacts",officer_email:"Email",officer_mobile:"Mobile Phone",officer_phone:"Phone",project_date:"Date of Submission",project_approved:{phase_1:"Date of Creation of Concept note",phase_2:"Date of Approval of Concept note",phase_3:"Date of Approval of the profile",phase_4:"Date of approval of the Pre-feasibility Study",phase_5:"Date of approval of the Feasibility Study",phase_6:"Date of Approval of the Budgeting Study",phase_7:"Date of Approval of the Project Implementation Study"},executive_summary:"Executive Summary",additional_info:"Additional Information",gantt_chart:"Gantt Chart",gantt_chart_title:"Output / Activity Title",evaluation_methodology:"Evaluation Methodology",achieved_outcomes:"Achieved Outcomes",deviation_reasons:"Deviation Reasons",measures:"Measures",lessons_learned:"Lessons Learned"},funding:{title:"Proposed Fundings",fund:"Fund",ugx:"Cost"}},Object(N.a)(dj,"introduction",{title:"Introduction"}),Object(N.a)(dj,"options",{title:"Strategic Options Analysis",name:"Option Name",cost:"Project Cost",funding_modality:"Funding Modality",score:"Total Score",modular_scores:"Modular Scores",demand_module:"Demand",tech_module:"Technical",environmental_module:"Environment",hr_module:"HR",legal_module:"Inst. & Legal",detailed_analysis:"Detailed Analysis for",detailed_analysis_empty:"No Detailed Analysis",option_title:"Option",header_title:"Title",description:"Description",advantage:"Advantages",disadvantage:"Disadvantages",cea:"CEA",cba:"CBA",cba_cea:"CBA/CEA",financial_evaluation:{title:"Financial Appraisal",summary:"Summary of Financial Evaluation:",fnpv:"FNPV",irr:"IRR",cba:"CBA",cea:"CEA"},economical_evaluation:{title:"Economic or Social Appraisal",summary:"Summary of Economic Evaluation:",enpv:"ENPV",err:"ERR",cba:"CBA",cea:"CEA",option_title:"Option"},justification:{best_options_empty:"No Preferred Alternative Selected",title:"Justification for the Preferred Project Alternative",description:"Preferred Alternative Description",alternative:"Alternative",alternative_text:"was identified as a best alternative to proceed to the feasibility study stage. Please refer to details below.",details:"Justification for Preferred Alternative",modality:"Justification for the Preferred Funding Modality"},risk_evaluations:{title:"Risk Management",empty:"No Risk Evaluation",description:"Risk Description",occurrence:"Likelihood of Occurrence (Low to Very High)",impact:"Impact (Low to Very High)",mitigation_plan:"Mitigation Plan",analysis:"Risk Analysis for"},stakeholder_evaluations:{title:"Distributional/Stakeholder Impact Assessment",empty:"No stakeholders",number:"s/no",name:"Identity of Stakeholder",impact_sign:"Impact Positive/Negative",beneficiary:"Beneficiary Direct/Indirect",description:"Description",analysis:"Distributional/Stakeholder Analysis for "},criterias:{title:"Cost Effectiveness Results",criteria_title:"Title",criteria_value:"Value",measure_unit:"Measure unit"}}),Object(N.a)(dj,"reports",{phase:"Phase",vote_id:"Vote",title:"Project Title",start_date:"Start Date",status:"Project Status",date_modify:"Modified",total_cost:"Total Cost",total_cost_project:"Total",program:"Program"}),dj)},Tj={resources:(fj={integrations:{bpms:{project_coa_code:"Project COA Code",head_code:"Head",object_code:"Object",fund_source_code:"Fund Source",financial_pattern_code:"Financial Pattern",amount:"Amount"},gfms:{project_coa_code:"Project COA Code",head_code:"Head",object_code:"Object",fund_source_code:"Fund Source",financial_pattern_code:"Financial Pattern",amount:"Amount"}},formats:{name:"Formats"},bpms:{name:"BPMS"},gfms:{name:"GFMS"},gfms_data:{name:"GFMS Data"},"cost-plans-history":{name:"Cash Flow Adjusted History"},work_plan_adjusted:{name:"Cash Flow Adjusted"},work_plan_approved:{name:"Cash Flow Approved"},"cost-plans-projected":{name:"Cash Flow Projected"},"cost-plans-approved":{name:"Cash Flow Approved"},"cost-plans-adjusted":{name:"Cash Flow Adjusted"},"achieve-targets":{name:"Achieve Targets"},"reports-indicators-projects":{name:"Indicators"},"project-indicators":{name:"Project Indicators"},validation:{name:"Validation"},"workflow-instances":{name:"Workflow instances"},departments:{name:"Departments"},"cost-plans":{name:"Cash Flow"},work_plan:{name:"Cash Flow"},"work-plans":{name:"Cash Flow"},periodical:{name:"Periodical Reports"},quarter:{name:"Quarter Reports"},"reports-periodic-monitoring-projects":{name:"Independent Monitoring"},"reports-annual-monitoring-projects":{name:"Quarterly/Semi-Annual/Annual Project Progress Report"},independent_monitoring:{name:"Independent Monitoring"},"custom-reports":{name:"Custom Reports"},"budjet-proposals":{name:"Pre-Investments"},annualized:{name:"Annualized Reports"},monthly:{name:"Monthly Reports"},reports_list:{name:"Reports"},concepts:{name:"Concepts"},proposals:{name:"Proposals"},gantt_chart:{name:"Implementations"},cost_estimates:{name:"Cost Estimates"},warrant_req:{name:"Warrant Request"},log_frame:{name:"Log Frame"},query_builder:{name:"Query Builder"},user_mgmt:{name:"User Management"},classifiers:{name:"Classifiers"},resources:{name:"Resources"},"ndp-mtfs":{name:"MTF"},"ndp-sdgs":{name:"SDG"},false:{name:"Periodical Report"},true:{name:"Quarterly Report"},"reports-ndp-goals":{name:"National Development Projects"},"useful-links":{name:"Useful Links"},"reports-project-programs-count":{name:"Projects by Programs"},"reports-project-functions-count":{name:"Projects by Functions"},"ndp-goals":{name:"NDP Goals"},"ndp-outcomes":{name:"NDP Outcomes"},"ndp-strategies":{name:"NDP Strategies"},sub_function:{name:"Sub Functions"},function:{name:"Functions"},project:{name:"Project"},"me-report":{name:"M&E Report"},parameters:{name:"System Parameters"},central:{name:"Parish"},province:{name:"Constituency"},ministry:{name:"Ministry"},public_body:{name:"Other Organizations"},program:{name:"Programs"},sub_program:{name:"Sub Programs"},fund:{name:"Fund"},cost_class:{name:"Cost Class"},cost_object:{name:"Cost Object"},cost_sub_object:{name:"Cost Sub-Object"},cost_detail_sub_object:{name:"Cost Detailed Sub-Object"},trash:{name:"Deleted Projects"},"reports-projects-repeated":{name:"Repeated Projects"},"reports-projects-submitted":{name:"Project submitted by the 7th of month"},"reports-projects-donors":{name:"Donor Projects"},"reports-projects-stagnant":{name:"Projects that are stagnant for 7 days"},"reports-projects-for-action":{name:"Projects waiting for User action"},"reports-projects-for-pap":{name:"Projects in PAP"},delegation:{name:"User Delegation"},dashboard:{name:"Dashboard"},"completed-report":{name:"Completed Report"},"reports-projects-ranking":{name:"Ranking Report"},"reports-fiscal-load":{name:"Fiscal Load"},"reports-project-cost-evaluation":{name:"Cost Evolution Report"},"reports-project-count":{name:"Projects Count by Sectors"},"reports-project-ibp-usage":{name:"IBP Usage"},"reports-project-dc-report":{name:"DC Report"},"reports-pipeline-projects":{name:"Projects in Pipeline"},"reports-pipeline-projects-portfolio":{name:"Public Investment Portfolio"},"psip-report-view":{name:"PSIP"},"project-managment":{name:"Project Management"},"project-resources-managment":{name:"Project Resource Management"},"me-report-view":{name:"M&E Report"},"project-portfolio":{name:"Project Porfolio"},"project-resources-management":{name:"Project Resources Management"},"project-management":{name:"Project Management"},programs:{name:"Programs"},sub_programs:{name:"Subprograms"},user_roles:{fields:{role_id:"Role"}},votes:{name:"Votes"},notifications:{name:"Notifications",fields:{title_html:"Subject",created_at:"Date",sender:"Sender",body_html:"Message"}},dashboards:{projects_waiting:"Projects Awaiting Your Decision",projects_phases:"Projects by Phases",projects_groups:"Groupped Projects",projects:"Projects"},"report-builder":{name:"Report Builder"},gantt:{name:"Gantt Chart"},reports:{name:"Reports",title:"REPORTS",projects_by_location:"Projects by Location",phases_title:"Phases",filters:"Sector and Vote filters",fiscal_load:"Fiscal Load",cost_evolution:"Evolution of Project Cost",projects_by_cycles:"Projects at different stages of the Development Cycle",projects_by_cycles_counts:"Projects at different stages of the Development Cycle",no_data:"No data available",loading:"Data is loading, please wait ...",pipeline:{name:"Pipeline of Projects",header:{id:"ID",title:"Title",cost:"Cost of Investment",start_date:"Proposed Start Date",duration:"Duration",enter_date:"Date of Feasibility"}},ranking:{name:"Project Ranking",header:{rank:"Rank",title:"Title",cost:"Cost",sector:"Name of Sector",vote:"Vote",npv:"NPV",enpv:"ENPV",fnpv:"FNPV",irr:"IRR (%)",err:"ERR (%)"}}},roles:{name:"Roles",admin:"Administrator",department_admin_user:"Department Head",pap_commissioner_user:"PAP Commissioner",pap_head_user:"PAP Head",pap_standard_user:"PAP Standard User",standard_user:"Standard User",vote_admin_user:"Head Planning",account_officer:"Accounting officer",dc_member_user:"DC member",sector_head_user:"Sector Head",desk_officer_user:"Desk Officer",donor_user:"Donor",pap_senior_economist_user:"PAP Senior Economist",pap_assist_commissioner_user:"PAP Assistant Commissioner",fields:{name:"Role",is_deleted:"Is Deleted",permissions:"Permissions",organization_level:"Organization level",has_allowed_projects:"Has Allowed Projects"}},projects:{name:"Project |||| Projects",fields:{budget_code:"PSIP Project Code",signed_date:" Contract Signed Date",financing_agreement_date:"Financing Agreement Date",budget_allocation:"Appropriate Budget",phase:"Phase",created_on:"Submission Date",ministry:{code:"Ministry Code",name:"Ministry Name"},public_body:{code:"Other Organization Code",name:"Other Organization Name"},departments:{code:"Department Code",name:"Department Name"},project_no:"Project No",created_by:"Created By",created_at:"Submission Date",phase_id:"Phase",status:"Status","workflow.status":"Workflow Step",workflow_status:"Workflow Step",title:"Project Title",name:"Project Title",sector_id:"Name of Sector",department_id:"Sub Program Name",vote_id:"Vote",program:{code:"Program Code",name:"Program Name"},fund:{code:"Fund Code",name:"Fund Name"},"fund-source":{code:"Source of Fund Code",name:"Source of Fund Name"},vote:{code:"Vote Code",name:"Vote Name"},vote_function:{code:"Department Code",name:"Department Name"},sector:{code:"Sector Code",name:"Sector Name"},sub_program:{code:"Sub Program Code",name:"Sub Program Name"},sender:"Sender",function:{code:"Function Code",name:"Function Name"},sub_function:{code:"Sub Function Code",name:"Sub Function Name"}}},"project-details":{name:"Project Details",fields:(mj={revenue_sources:"Entity`s Revenue Source",proposed_fund_source:"Proposed Funding Source",financial_pattern_type:"Financial Pattern Type",financial_pattern_subtype:"Financial Pattern SubType",fund_body_type:"Fund Type",project_risks:{name:"Title",impact_level:"Impact Level",probability:"Probability",score:"Score",response:"Response",owner:"Owner"},climate_risks:{name:"Climate Risks",climate_hazard:"Climate Hazard",climate_hazard_other:"Other Climate Hazard",exposure_risk:"Exposure Risk",vulnerability_risk:"Vulnerability Risk",vulnerability_impact:"Vulnerability Impact",overall_risk:"Overall Risk"},stakeholders_consultation:"Stakeholders Consultation",stakeholders_communication:"Stakeholders Communication Plan",ppp_similar_reference:"Has a similar project been implemented by the private sector utilising a PPP modality locally, regionally or globally? If so, kindly include references.",ppp_interest:"Have you had any discussions with or received any proposals or expressions of interest from any private sector party in developing this project concept? If so, please provide further information on the nature of interest",ppp_impediments:"Are there any legal, social, environmental, technical or financial impediments to private sector involvement in the development of this project concept? If so, please explain.",ppp_risk_allocation:"Provide a high level allocation of risk and function/responsibilities between the private sector and the GOJ in a PPP arrangement.",procurement_modality:"Procurement and Implementation Modality",revenue_source:"Entity`s Revenue Source",governance:"Project Governance",monitoring_evaluation:"Monitoring & Evaluation",ndp_goal_id:"Goal",ndp_outcome_id:"Outcome",ndp_sdgs_id:"SDG",ndp_strategy_id:"National Strategies",ndp_mtf_id:"MTF",ndp_sustainable_goals:"Sustainable Development Goals Alignment",ndp_policy_alignment:"Policy Alignment",ndp_compliance:"Compliance with all Relevant Statutes and Organizational Mandate",vote:"Vote",classification:"Project Classification",responsible_officers:{header:"Responsible Officers",title:"Officer Title",name:"Officer Name",phone:"Officer Phone",email:"Officer Email",mobile_phone:"Officer Mobile Phone",organization_name:"Officer Organization Name",address:"Officer Address"},name:"Project Title",current_investment_ratio:"Capital to Recurrent Ratio",title:"Project Title",summary:"Project Background",start_date:"Start Date",end_date:"End Date",locations:"Project Location",geo_location:"Geo Location",estimated_lifetime:"Estimated Lifetime",is_dlp:"Project Has Defect Liability Period",liability_period:"Defect Liability Period",is_omp:"Project Has Operation & Maintenance Period",maintenance_period:"Operation & Maintenance Period",om_cost:"Operation & Maintenance Costs (O&M Costs)",om_fund_id:"Fund Name",exec_management_plan:"Project Status",exec_management_plan_pfs:"Executive Summary",introduction:"Introduction",implementing_agencies:"Implementing Agencies",executing_agencies:"Executing Agencies",project_categories_id:"Project Category",situation_analysis:"Environmental and Climate Change Impact Screening",situation_analysis_file:"Situation Analysis Attachment",problem_statement:"Project Status",risk_assessment:"Risk Assessment",problem_statement_file:"Problem Statement Attachment",problem_cause:"Project Benefits",problem_causes_file:"Problem Causes Attachment",problem_effects:"Synergies",problem_effects_file:"Problem Effects Attachment",justification:"Project Demand",sustainability_plan:"Sustainability Plan",me_strategies:"Monitoring and Evaluation Strategies",justification_file:"Justification Attachment",evaluation_methodology:"Evaluation Methodology",evaluation_period:"Evaluation Period",achieved_outcomes:"Achieved Outcomes",deviation_reasons:"Deviation Reasons",measures:"Measures",lessons_learned:"Lessons Learned",is_evaluation:"Project Requires Ex-Post Evaluation",government_agencies:{title:"Coordination with Other Government Agencies",name:"Name",description:"Details"},government_coordinations:{title:"Coordination with Other Government Agencies",name:"Name",description:"Details"},stakeholders:{title:"Stakeholder Consultation",name:"Name",responsibilities:"Description"},in_ndp:{title:"In NDP",yes:"National Development Plan",other:"Other Strategic Documents"},ndp_type:{title:"NDP Type",core:"NDP Core Projects",priority:"NDP Priority Area"},ndp_name:"Project Name",ndp_page_no:"Page in NDP",ndp_focus_area:{null:"",title:"Focus Area",wealth_creation:"Wealth Creation",inclusive_growth:"Inclusive growth",competitiveness:"Competitiveness"},ndp_intervention:"Intervention",ndp_strategic_directives:"Other Strategic Directives",other_plans:{development_partners:"Development partners",cabinet_directives:"Cabinet directives",parliament_approval:"Parliament approval",stare_owned_enterprise:"Stare owned enterprise",regional_integration_policy:"Regional integration policy",political_manifestos:"Political manifestos",interest_groups_or_beneficiaries:"Interest groups or beneficiaries",private_sponsors:"Private sponsors",sustainable_development_goals:"Sustainable development goals"},ndp_plan_details:"Strategic Alignment",officer_title:"Officer Title",officer_name:"Officer Name",officer_phone:"Officer Phone",officer_email:"Officer Email",officer_mobile_phone:"Officer Mobile Phone",rational_study:"Rationale of the Study",methodology:"Methodology",organization_study:"Organisation of the PFS and FS",organization_study_pfs:"Organisation of the Pre-feasibility Study",organization_study_fs:"Organisation of the Feasibility Study",other_info:"Project Additional Information",attachments:{title:"Mandatory attachments",add:"Add Attachment",remove:"Remove Attachment"},benefits:"Benefits",goal:"Goal",project_goal:"Project Goal",goal_description:"Project Goal Description",goals:"Goals",commentaries:"Commentaries",files:"Project Files",demand_analysis:"Demand Analysis",demand_analysis_files:"Demand Analysis Files",pre_feasibility_cost:"Pre-Feasibility Cost",pre_feasibility_consultants:"Pre-Feasibility Consultants",strategic_analysis:"Strategic Analysis",strategic_alignment:"Strategic Alignment",financing_modality:"Financing Modality",feasbility_cost:"Feasibility Cost",feasibility_consultants:"Feasibility Consultants",feasibility_funds_request:"Feasibility Funds Request",env_impact_assessment:"Environmental Impact Assessment",technical_design:"Technical Design",production_plan:"Production Plan",hr_requirements:"HR Requirements",legal_assessment:"Legal Assessment",financial_evaluation:"Financial/Private Evaluation",economic_evaluation:"Economic/Social Evaluation",risk_evaluations:"Risk Evaluation",distributional_assessment:"Distributional Assessment"},Object(N.a)(mj,"exec_management_plan","Project Status"),Object(N.a)(mj,"exec_management_plan_pfs","Executive Summary"),Object(N.a)(mj,"sustainability_assessment","Sustainability Assessment"),Object(N.a)(mj,"pcn_outcome","Outcomes"),Object(N.a)(mj,"pcn_interventions","Interventions"),Object(N.a)(mj,"interventions","Interventions"),Object(N.a)(mj,"investments","Investment Costs"),Object(N.a)(mj,"in_ndpi","Already Existing in NDPI"),Object(N.a)(mj,"in_ndpii","Already Existing in NDPII"),Object(N.a)(mj,"in_mfped","Already Existing in MFPED PIP"),Object(N.a)(mj,"strategic_other_plan","Strategic Other Plan"),Object(N.a)(mj,"strategic_considerations","Other Strategic Considerations"),Object(N.a)(mj,"strategic_fit","Strategic Fit"),Object(N.a)(mj,"strategic_alignment","Strategic Alignment"),Object(N.a)(mj,"baseline","Indicator Baseline Year"),Object(N.a)(mj,"outcome_targets","Outcome Indicator Target Years"),Object(N.a)(mj,"output_base","Output Indicator Baseline"),Object(N.a)(mj,"output_targets","Output Indicator Target Years"),mj)},organizations:{name:"Organisation |||| Organisations",fields:{code:"Organisation Code",name:"Organisation Name"}}},Object(N.a)(fj,"departments",{name:"Department |||| Departments",fields:{code:"Sub Program Code",name:"Sub Program Name",organization_id:"Organisation Name",vote_id:"Vote",sector_id:"Sector"}}),Object(N.a)(fj,"funds",{name:"Fund |||| Funds",fields:{code:"Fund Code",name:"Fund Name"}}),Object(N.a)(fj,"fund-sources",{name:"Source of Fund |||| Source of Funds",fields:{code:"Source of Fund Code",name:"Source of Fund Name",fund_id:"Fund Name"}}),Object(N.a)(fj,"votes",{name:"Vote |||| Votes",fields:{code:"Vote Code",name:"Vote Name",sector_id:"Sector Name"}}),Object(N.a)(fj,"vote-functions",{name:"Program Outcome|||| Program Outcomes",fields:{code:"Program Code",name:"Program Name",vote_id:"Vote Name"}}),Object(N.a)(fj,"sectors",{name:"Sector |||| Sectors",fields:{code:"Sector Code",name:"Sector Name"}}),Object(N.a)(fj,"outcomes",{name:"Outcome |||| Outcomes",fields:{name:"Outcome Title",description:"Outcome Description"},actions:{create:"Create Outcome",edit:"Manage Indicators"}}),Object(N.a)(fj,"outputs_1",{fields:{name:"Output"}}),Object(N.a)(fj,"outputs",{name:"Output |||| Outputs",fields:{output_1_ids:"Outputs",output_agencies:"Implementing agencies",ndp_strategy_id:"Strategic Objective",outcome_ids:"Project Outcomes",component_id:"Project Components",subcomponent_id:"Project Sub-Components",name:"Output Title",description:"Output Description and Implementation Arrangements",tech_specs:"Technical Specifications",alternative_specs:"Alternative Specifications",vote_id:"Component Implementing Agency",output_value:"Output Quantity",unit_id:"Unit",investments:{name:"Project Cost Estimates",fields:{fund_id:"Fund Source",fund_source_id:"Fund sources",total:"Total",cost_classification_id:"Cost Classification",cost_category_id:"Cost Category"},actions:{edit:"Estimated Cost"}}},actions:{create:"Create Output",edit:"Manage Indicators",editCosts:"Estimated Cost"}}),Object(N.a)(fj,"subcomponents",{name:"Sub-Component |||| Sub-Components",fields:{name:"Title",description:"Description"}}),Object(N.a)(fj,"components",{name:"Component |||| Components",fields:{investments:{name:"Component Investments",fields:{fund_id:"Fund",fund_source_id:"Fund sources",total:"Total",cost_classification_id:"Cost Classification",cost_category_id:"Cost Category"},actions:{edit:"Estimated Cost"}},subcomponents:"Sub-Components",cost:"Cost",name:"Title",description:"Description and Implementation Arrangements",is_milestone:"If Components are not yet defined please identify Major Milestones and the cost associated to each of these."}}),Object(N.a)(fj,"indicators",{name:"Indicator |||| Indicators",fields:{name:"Indicator Name",baseline:"Baseline",verification_means:"Verification Means",assumptions:"Assumptions",risk_factors:"Risk Factors",target:"Target"}}),Object(N.a)(fj,"phases",{name:"Phase Name",phase_1:"Project Concept",phase_2:"Project Proposal",phase_3:"Initiation",phase_4:"Implementation",phase_5:"Ex-Post Evaluation"}),Object(N.a)(fj,"breadcrumbs",{phase_1:"Concept",phase_2:"Proposal",phase_3:"Initiation",phase_4:"Implementation",phase_5:"Ex-Post Evaluation"}),Object(N.a)(fj,"project-categories",{name:"Project Category |||| Project Categories",fields:{project_categories_id:"Project Category Id",title:"Project Category Title",last_phase_id:"Last Phase"}}),Object(N.a)(fj,"activities",{name:"Activity |||| Activities",fields:{subcomponent_id:"Sub-Component",work_plan_activities:"Activity",procurement_amount:"Procurement Amount",procurement_details:"Procurement Details",procurement_contract_sign:"Procurement Contract Sign",procurement_start_date:"Procurement Start Date",procurement_method:"Procurement Method",cost_plan_activities:"Work Plan Activity",contract_signed_date:"Contract Sign Date",amount:"Amount",name:"Activity Name",start_date:"Start date",end_date:"End date",description:"Activity Description",output_ids:"Activity Output / Component",vote_id:"Activity Votes",investments:{name:"Activities Investments",fields:{fund_id:"Fund",fund_source_id:"Fund sources",total:"Total",cost_classification_id:"Cost Classification",cost_category_id:"Cost Category"},actions:{edit:"Estimated Cost"}}}}),Object(N.a)(fj,"default_option_name","Title"),Object(N.a)(fj,"default_option_description","Cost associated with the status quo"),Object(N.a)(fj,"default_option_description_impact","Impacts of maintaining the status quo"),Object(N.a)(fj,"project_options",{name:"Project Options",fields:{om_cost_title:"O&M Annual Cost Estimates",capex_cost_title:"Annual Capital Cost Estimates",name:"Title",title:"Title",description:"Description",swot_analysis:"SWOT Analysis",value_for_money:"Value for Money Proposition",risk_allocation:"Risk Allocation, Management and Response",contract_management:"Change and Contract Management",me_strategy:"Monitoring and Evaluation",is_shortlisted:"Shortlisted",is_commercial:"Is this project a commercially driven and was the business Case Developed? ",start_date:"Start Date",end_date:"End Date",duration:"Duration",has_omp:"O&M Period",om_start_date:"O&M Start Date",om_end_date:"O&M End Date",om_duration:"O&M Duration",cost:"Cost",score:"Total Score",funding_modality:{title:"Procurement and Implementation Modality",title_pfs:"Preferred Implementation modality",PROCUREMENT:"Regular GOJ Procurement",procurement:"Regular GOJ Procurement",PARTNERSHIP:"Public private partnerships",partnership:"Public private partnerships",joint_venture:"Joint-Venture",unsolicited_proposal:"Unsolicited Proposal"},is_preferred:"Preferred Alternative",justification:"Justification of the Preferred Alternative",modality_justification:"Justification for the Procurement and Implementation Modality",modality_justification_pfs:"Justification for the Preferred Implementation Modality",stepper:{description:"Description",building_blocks:"Building Blocks",analytical_modules:"Analytical Modules",best_option:"Preferred Alternative Selection"},building_blocks:{title:"Building Blocks",description:"Description",advantage:"Advantages",disadvantage:"Disadvantages",score:"Score",modules:{demand_module:"Demand Analysis",technical_module:"Technical & Engineering",environmental_module:"Environmental",hr_module:"HR requirements",legal_module:"Legal assessment"},demand_module:{present_supply:"Current Supply",present_demand:"Current Demand",deficit:"Deficit",demand_projections:"Demand Projections"}},analytical_modules:{title:"Analytical Modules",description:"Description",advantage:"Advantages",disadvantage:"Disadvantages",score:"Score",appraisal_methodology:{title:"Appraisal Methodology",cea:"CEA",cba:"CBA"},financial_evaluation:{fnpv:"FNPV",irr:"IRR %",summary:"Financial Analysis Details"},economic_evaluation:{enpv:"ENPV",err:"ERR %",summary:"Economical Analysis Details"},criterias:{title:"Cost Effectiveness Results",criteria_title:"Title",criteria_value:"Value",measure_unit:"Measure unit"},stakeholder_evaluations:{name:"Identity of the Stakeholder",responsible_entity:"Responsible Entity",responsibilities:"Needs",engagement_frequency:"Engagement Frequency",communication_channel:"Communicational Channel",influence_level:"Influence Level",interest_level:"Interest Level",description:"Description",impact_sign:{title:"Impact",positive:"Positive",negative:"Negative"},beneficiary:{title:"Relation",direct:"Direct",indirect:"Indirect"}},risk_evaluations:{description:"Description",occurrence:"Likelihood of Occurrence",impact:"Impact",levels:{low:"Low",medium:"Medium",high:"High",very_high:"Very High"},mitigation_plan:"Mitigation Plan"},modules:{financial:"Financial",economic:"Economic",distributional:"Stakeholders",risk:"Risk"}},summary:{title:"Analysis of Alternatives Summary"}}}),Object(N.a)(fj,"risk_factors",{name:"Risk Factor |||| Risk Factors",fields:{risk_level:"Risk Level",measures:"Measures",risk_description:"Risk Description"}}),Object(N.a)(fj,"file-types",{name:"File Type |||| File Types",fields:{is_required:"Is Required",phase_ids:"Project Phases",name:"File Type Name"}}),Object(N.a)(fj,"users",{name:"User Management",fields:{username:"Username",email:"E-mail",fullname:"Full Name",phone:"Telephone Number",vote_id:"Vote",role:"Role",role_id:"Role",allowed_organization_ids:"Allowed Organizations",allowed_project_ids:"Access to only Selected Projects (optional)",password_hash:"Password",department_id:"Sub Program Name",management_id:"Name of Management",sector_id:"Name of Sector",sector_ids:"Name of Sectors",donor_id:"Donors Name",user_roles:"User Roles",roles:"Roles",is_donor:"External"}}),Object(N.a)(fj,"locations",{name:"Location Name",fields:{central:"Parish",province:"Constituency"}}),Object(N.a)(fj,"costings",{name:"Costing Classification Name"}),Object(N.a)(fj,"fund_sources",{name:"Funds Classification Name"}),Object(N.a)(fj,"cost_classifications",{name:"Costing Classification Name"}),Object(N.a)(fj,"cost_categories",{name:"Cost Categories |||| Cost Categories"}),Object(N.a)(fj,"cost-classifications",{name:"Cost Classification |||| Cost Classifications",fields:{code:"Code",name:"Name",cost_category_id:"Cost Category"}}),Object(N.a)(fj,"workflow-chart",{name:"Workflow Name"}),Object(N.a)(fj,"workflows",{name:"Workflow Name"}),Object(N.a)(fj,"currency-rates",{name:"Currency Rate Name"}),Object(N.a)(fj,"units",{name:"Unit Name"}),Object(N.a)(fj,"currencies",{name:"Currency Name"}),Object(N.a)(fj,"cost-categories",{name:"Cost Categories |||| Cost Categories",fields:{code:"Code",name:"Name",expenditure_type:"Expenditure Type"}}),Object(N.a)(fj,"me-workflows",{name:"M&E Workflow"}),Object(N.a)(fj,"me-reports",{name:"M&E Report",fields:(pj={me_liabilities:{amount:"Amount",due_date:"Due Date",description:"Description"},methodology:"Methodology",effectiveness_date:"Effectiveness Date",disbursement:"Disbursement requested for the next quarter",signed_date:"Contract Signed Date",challenges:"Challenges",recommendations:"Recommendations",lessons_learned:"Lessons Learned",fund_source:"Source of Funds",budget_supplemented:"Budget Supplemented",actual:"Actual",risk:"Risk",quarter:"Quarter",year:"Year",data_collection_type:"Data Collection Type",me_outputs:"Outputs",unit:"Output Unit",output_progress:"Output Progress",output_value:"Planned Output Quantity",indicators:"Indicators",target:"Achieved Target",planned_target:"Planned Target",me_activities:"Activities",status:"Status",expected_completion_date:"Expected Completion Date"},Object(N.a)(pj,"challenges","Challenges"),Object(N.a)(pj,"measures","Measures"),Object(N.a)(pj,"allocation_challenges","Allocation Challenges"),Object(N.a)(pj,"budget_appropriation","Budget Appropriation"),Object(N.a)(pj,"allocation_measures","Allocation Measures"),Object(N.a)(pj,"financial_execution","Financial Execution"),Object(N.a)(pj,"execution_challenges","Execution Challenges"),Object(N.a)(pj,"execution_measures","Execution Measures"),Object(N.a)(pj,"next_budget_appropriation","Next Budget Appropriation"),Object(N.a)(pj,"me_releases","Releases"),Object(N.a)(pj,"type","Type"),Object(N.a)(pj,"government","Government"),Object(N.a)(pj,"donor","Donor"),Object(N.a)(pj,"budget_allocation","Budget Allocation"),Object(N.a)(pj,"me_type","Type of M&E activity"),pj)}),Object(N.a)(fj,"investments",{fields:{target:"Target"}}),fj)},Fj={tooltips:{notifications:"Notifications",help:"Help",user_actions:"User actions",resources:{locations:{fields:{central:"Select Project Location Parish",province:"Select Project Location Constituency"}},"ndp-strategies":{fields:{name:"Input Strategy Name",ndp_goal_id:"Select NDP Goal to filter NDP Outcomes",ndp_outcome_id:"Select NDP Outcomes for Strategy"}},"ndp-outcomes":{fields:{name:"Input Outcome Name",ndp_goal_id:"Select NDP Goal for Outcome"}},"ndp-sdgs":{fields:{name:"Input SDG Name",ndp_goal_id:"Select NDP Goal to filter NDP Outcomes",ndp_outcome_ids:"Select NDP Outcomes for SDG"}},"ndp-goals":{fields:{name:"Input Goal Name"}},"me-reports":{name:"M&E Report",fields:{quarter:"Quarter",year:"Year",data_collection_type:"Data Collection Type",me_outputs:"Outputs",output_progress:"Output Progress",indicators:"Indicators",target:"Target",me_activities:"Activities",status:"Status",expected_completion_date:"Expected Completion Date",challenges:"Challenges",measures:"Measures",allocation_challenges:"Allocation Challenges",budget_appropriation:"Budget Appropriation",allocation_measures:"Allocation Measures",financial_execution:"Financial Execution",execution_challenges:"Execution Challenges",execution_measures:"Execution Measures",next_budget_appropriation:"Next Budget Appropriation",me_releases:"Releases",type:"Type",government:"Government",donor:"Donor",budget_allocation:"Budget Allocation",me_type:"Type of M&E activity"}},roles:{fields:{name:"Role Name",is_deleted:"Is Deleted",permissions:"permissions",organization_level:"organization_level",has_allowed_projects:"has_allowed_projects"}},om_costs:{om_fund_id:"Select the fund name from which the operation and maintenance cost will be obtained from.",om_fund_source_id:"Select the source from where the operation and maintenance cost will be got from",om_cost_category_id:"Select the cost category of the expense",om_cost_classification_id:"Select the cost classification of the expense",om_years:"Identify the amounts that will be spent for each financial year."},reports:{projects_by_location_help:"Turn on/off selectors to filter projects showed on geo map",projects_by_location_filters:"Select Sector or Vote to filter projects showed on geo map"},projects:{fields:{project_no:"A unique project identification number that can be used to track the project throughout its lifecycle.",created_by:"User that created project",created_at:"Submission Date",phase_id:"Phase of the project.",status:"Status of the project.","workflow.status":"Workflow Step"}},"project-details":{fields:(_j={output_agencies:"Identify the implementing agencies for the output",ndp_mtfs_id:"Identify the MTF which the project is aligned",ndp_sdgs_id:"Identify the SDG which the project is aligned",function:"Function",sub_function:"Sub Function",program:"Program",sub_program:"Sub Program",stakeholders_consultation:"Identify the key stakeholders of the proposed project and outline the nature and extent of consultation undertaken and/or to be undertaken with all interested parties/stakeholders, including those who will be affected by the project, as well as those who need to make inputs into the project. Indicate the outcomes of consultations already undertaken.",ppp_similar_reference:"Has a similar project been implemented by the private sector utilising a PPP modality locally, regionally or globally? If so, kindly include references.",ppp_interest:"Have you had any discussions with or received any proposals or expressions of interest from any private sector party in developing this project concept? If so, please provide further information on the nature of interest",ppp_impediments:"Are there any legal, social, environmental, technical or financial impediments to private sector involvement in the development of this project concept? If so, please explain.",ppp_risk_allocation:"Provide a high level allocation of risk and function/responsibilities between the private sector and the GOJ in a PPP arrangement.",financial_pattern_type:"Financial Pattern Type",financial_pattern_subtype:"Financial Pattern Sub-Type",fund_body_type:"Fund Type",proposed_fund_source:"Proposed Funding Source",is_evaluation:"Is Evaluation",ndp_compliance:"Indicate how this project fits within the organizational mandate and/or satisfies relevant statutes.",ndp_policy_alignment:"To which GOJ policy or policies is this project contributing?",ndp_sustainable_goals:"state the SDG goals to which the project is directly contributing",ndp_strategy_id:"Identify the National Strategy to which the project is aligned",ndp_outcome_id:"Identify the Outcome to which the project is aligned",ndp_goal_id:"Identify the goal to which the project is aligned",fund:"Fund",cost_detail_sub_object:"Cost Detail Sub Object",cost_sub_object:"Cost Sub Object",cost_object:"Cost Object",cost_class:"Cost Class",climate_risks:{climate_hazard:"Select the Climate Risk Events/Hazards that are likely to occur in the project area now & in the future.",vulnerability_impact:"Describe the main area of medium & high vulnerability of the project and indicate proposed adaptation action(s) to be implemented in this project in order to minimize negative climate change impacts. ",overall_risk:"What is the overall Climate Risk profile of the project for each climate hazard?",vulnerability_risk:"Assess the Vulnerability  of the Project - How significant would the damage to the project be, if any of the climate risk events (hazards) occurred? (High, Medium, Low). Vulnerability is Low: Project not affected by a particular hazard; Medium: Project is somewhat vulnerable to particular hazard; High: Project is very vulnerable to a particular hazard. ",exposure_risk:"What\u2019s the likelihood of these various climate risk events/hazards occurring in the future? Exposure is: Low - If natural hazards are not likely to occur during construction and/or operation of the project.\n            Medium - If the hazard is likely to occur at least once during the implementation and/or the operation of the project. High - If hazards may occur several times during the implementation and/or the operation of the project\n            "},project_risks:{score:"Score",probability:"Select the probability of occurrence of the risk",impact_level:"Select the impact level of risk on the project",title:"Identify the significant risk that may prevent the project from achieving its objective. ",name:"Identify the significant risk that may prevent the project from achieving its objective. ",owner:"Identify the entity of responsible ",response:"Identify and generate guidance on how to reduce the exposure of the risk through different contractual clauses"},governance:"Outline how the project is structured and the levels of decision making \u2013 the roles and responsibilities of the project steering committee, the project manager, and other key technical team members, and the main stakeholders. The members of the Project Steering Committee and the proposed senior officer to function as chairperson should be indicated. A chart should be added to summarize the requirement.",ministry:"This is the entity with ultimate policy governance responsibility for the initiative",public_body:"These are statutory bodies, Government companies and Institutions.",procurement_modality:"Identify the likely methodology to be used by the project.",revenue_source:"Identify the projects source of financing",sector:"This is the entity with ultimate policy governance responsibility for the initiative",vote:"These are statutory bodies, Government companies and Institutions.",central:"Parish",classification:"Project Classification",responsible_officers:{title:"Officer Title",name:"Officer Name",phone:"Officer Phone (i.e. (876)9292732)",email:"Officer Email",mobile_phone:"Officer Mobile Phone (i.e. (876)9292732)",organization_name:"Officer Organization Name",address:"Officer Address"},current_investment_ratio:"Capital to Recurrent Ratio",name:"Let it be as clear as possible, avoiding duplication of names within the Public Investment Plan",title:"Let it be as clear as possible, avoiding duplication of names within the Public Investment Plan",summary:"Describe the current situation (i.e. what needs to change (problem statement). State what was done previously (if anything was done) to address the problem and actions that have been taken to date). What will happen if the project does not proceed contrasted with what will happen if the project proceeds? Include any research data to support the case being made.",start_date:"Indicate the financial year in when the project is expected to commence.",end_date:"The expected date of the project completion date",duration:"Estimate the project construction period.",location:"Precisely identify all the districts where the project will be located.",geo_location:"Geo Location",province:"Constituency",estimated_lifetime:"Operational life of the project after construction is completed. A typical operational lifetime of infrastructure project range from 10 to 25 years.",is_dlp:"Select if the project has a defect liability period.",liability_period:"Defect Liability Period of the project. Enter number of years.",is_omp:"Select if the project has operation and maintenance period",evaluation_period:"Number of years after project completion",maintenance_period:"Operational life of the project after construction is completed. A typical operational lifetime of infrastructure project range from 10 to 25 years.",introduction:"Introduction",implementing_agencies:"These are statutory bodies, Government companies and Institutions.",executing_agencies:"These are statutory bodies, Government companies and Institutions.",project_categories_id:"Project Category",situation_analysis:"Conduct an initial/preliminary environmental scan to determine if the project will have significant negative impacts. The factors to be considered include:\n          \u2022 Impacts on human health, fauna and flora, soils, land use, material assets, water quality, air quality, noise and vibration, the landscape and visual environment, historical and cultural heritage resources, and the interactions between them.\n          Indicate steps that could be proposed in the project design to reduce, avoid or offset significant adverse impacts.\n          A climate impact scan should also be done based on available data. This should include:  Listing the Climate Risk Events/Hazards that are likely to occur in the project area in the future (e.g. landslides, hurricane\u2013winds, sea level rise, hurricane storm surge, flooding and drought); determining the likelihood of these various climate risk events/hazards impacting the project in the future; and determining the extent of damage that is likely to done to the project if any of the climate risk events (hazards) occur? \n          These preliminary findings as well as the recommendations should be used to inform the detailed EIA for enhanced climate resilience at the proposal stage.\n          N.B: Use the CCCORAL platform or some other appropriate tool/technique to assist with the Climate Change Scan.\n          ",situation_analysis_file:"",problem_statement:"Project Status",problem_statement_file:"",problem_cause:'"Financial (including cost savings), technical, economic, social, environmental, etc.)\n          What are some of the immediate/medium term benefits/outputs to implementing the project?\n          [Short term: 12-24 months, Medium term: 3-5 years]\n          "',problem_causes_file:"Problem Causes Attachment",problem_effects:"Clarify whether the completion or effectiveness of the project will be dependent on any event, or other project(s), and conversely, whether any other project(s) is dependent on this one. State what is likely to happen if these dependencies are not met.",problem_effects_file:"Problem Effects Attachment",justification:"Who needs the good/services/ process/system that will be delivered by the project? Indicate the main beneficiaries/customers/users. \n          Estimate # of direct and indirect beneficiaries); where applicable indicate the price beneficiaries/customers are willing to pay for any product/service emanating from the project.\n          ",risk_assessment:"Identify at least high level potential risks that may prevent the project from achieving its objective.",sustainability_plan:"Sustainability Plan",me_strategies:"Outline the state of readiness of the organizational systems and capacity for monitoring and evaluation of this project.Indicate if any external support would be required to enhance the current organizational systems and capacity for monitoring and evaluation of this project",justification_file:"Justification Attachment",stakeholders:"Identify the key stakeholders that are likely to be affected by the interventions including: (i) Direct Beneficiaries (ii) Indirect Beneficiaries (iii) Project Affected Persons.  Give a brief description of the likely impact of the project on the stakeholders.",government_agencies:{name:"Identify the government agency that will take part in the project implementation",details:"Describe the specific activities and issues for which the identified government agency will coordinate the implementation and it`s role"},stakeholder:{name:"Stakeholder Name",responsibilities:"Stakeholders Responsibilities"},evaluation_methodology:"Evaluation Methodology",achieved_outcomes:"Achieved Outcomes",deviation_reasons:"Deviation Reasons",measures:"Measures",lessons_learned:"Lessons Learned",in_ndp:{title:"Please select National Development Plan if the project is included in the plan. Select Other if project is included in other strategic directives.",yes:"Yes",other:"Other"},ndp_type:{title:"Please identify the NDP type in which the project belongs to",core:"NDP Core Projects",priority:"NDP Priority Area"},ndp_name:"Project Name",ndp_page_no:"Page in NDP",ndp_focus_area:{null:"",title:"Identify the focus area of the project",wealth_creation:"Wealth Creation",inclusive_growth:"Inclusive growth",competitiveness:"Competitiveness"},ndp_intervention:"Identify the suitable intervention from the NDP to which the project is focusing on.",ndp_strategic_directives:"Other Strategic Directives",other_plans:{development_partners:"Development partners",cabinet_directives:"Cabinet directives",parliament_approval:"Parliament approval",stare_owned_enterprise:"Stare owned enterprise",regional_integration_policy:"Regional integration policy",political_manifestos:"Political manifestos",interest_groups_or_beneficiaries:"Interest groups or beneficiaries",private_sponsors:"Private sponsors",sustainable_development_goals:"Sustainable development goals"},ndp_plan_details:"Give a clear description of the project in relation to the NDP",officer_title:"Officer Title",officer_name:"Officer Name",officer_phone:"Officer Phone (i.e. (876)9292732)",officer_email:"Officer Email",officer_mobile_phone:"Officer Mobile Phone (i.e. (876)9292732)",rational_study:"Please provide a detailed description / justification for undertaking the project",methodology:"Please describe the approach and methodology adopted in conducting the Pre- Feasibility Study.",organization_study:"Describe how the Pre-Feasibility Study is organized.",organization_study_pfs:"Organisation of the Pre-feasibility Study",organization_study_fs:"Organisation of the Feasibility Study",other_info:"Provide any additional information necessary for the project",attachments:{title:"Mandatory attachments",add:"Add Attachment"},benefits:"Benefits",goal:"State the Impact statement. What is the expected ultimate (long-term: > 5 years) developmental change that the project seeks to bring about? This should be succinct.",commentaries:"Commentaries",files:"Project Files",demand_analysis:"Identifies the need for public investment by assessing: (i) current demand (based on statistics provided by service suppliers/ regulators/ ministries/ national and regional statistical offices for the various types of users); (ii) future demand (based on reliable demand forecasting models) in both the scenarios with- and without the project",demand_analysis_files:"Demand Analysis Files",pre_feasibility_cost:"Pre-Feasibility Cost",pre_feasibility_consultants:"Pre-Feasibility Consultants",strategic_analysis:"Strategic Analysis",strategic_alignment:"Strategic Alignment",financing_modality:"Financing Modality",feasbility_cost:"Feasibility Cost",feasibility_consultants:"Feasibility Consultants",feasibility_funds_request:"Feasibility Funds Request",env_impact_assessment:"Environmental Impact Assessment",technical_design:"A summary of the proposed project solution shall be presented with the following headings\n(i)\tLocation: description of the location of the project including a graphical illustration (map). Availability of land is a key aspect: evidence should be provided that the land is owned (or can be accessed) by the beneficiary, who has the full title to use it, or has to be purchased (or rented) through an acquisition process. In the latter case, the conditions of acquisition should be described. The administrative process and the availability of the relevant permits to carry out the works should also be explained.\n(ii)\tTechnical design: description of the main works components, technology adopted, design standards and specifications. Key output indicators, defined as the main physical quantities produced (e.g. kilometers of pipeline, number of overpasses, number of trees planted, etc.), should be provided.\n(iii)\tProduction plan: description of the infrastructure capacity and the expected utilization rate. These elements describe the service provision from the supply side. Project scope and size should be justified in the context of the forecasted demand.",production_plan:"Production Plan",hr_requirements:"HR Requirements",legal_assessment:"Legal Assessment",financial_evaluation:"Financial/Private Evaluation",economic_evaluation:"Economic/Social Evaluation",risk_evaluations:"Risk Evaluation",distributional_assessment:"Distributional Assessment",exec_management_plan:"Describe the key headline information from the components of the feasibility study assessment the option evaluated, key results and recommendations.",sustainability_assessment:"Sustainability Assessment",pcn_outcome:"Outcomes",pcn_interventions:"Interventions",investments:"Investment Costs",in_ndpi:"Already Existing in NDPI",in_ndpii:"Already Existing in NDPII",in_mfped:"Already Existing in MFPED PIP",strategic_other_plan:"Strategic Other Plan",strategic_considerations:"Other Strategic Considerations",strategic_fit:"Strategic Fit"},Object(N.a)(_j,"strategic_alignment","Strategic Alignment"),Object(N.a)(_j,"baseline","Indicator Baseline Year"),Object(N.a)(_j,"outcome_targets","Outcome Indicator Target Years"),Object(N.a)(_j,"output_base","Output Indicator Baseline"),Object(N.a)(_j,"output_targets","Output Indicator Target Years"),_j)},organizations:{fields:{code:"Organisation Code",name:"Organisation Name"}},departments:{fields:{code:"Sub Program Code",name:"Sub Program Name",organization_id:"Organisation Name",vote_id:"Vote Name",sector_id:"Sector Name"}},funds:{fields:{code:"Fund Code",name:"Fund Name"}},"fund-sources":{fields:{code:"Source of Fund Code",name:"Source of Fund Name",fund_id:"Fund Name"}},votes:{fields:{code:"Vote Code",name:"Vote Name",sector_id:"Sector Name"}},"vote-functions":{fields:{code:"Program Code",name:"Program Name",vote_id:"Vote Name"}},sectors:{fields:{code:"Sector Code",name:"Sector Name"}},outcomes:{fields:{name:"State the Specific, Measurable, Achievable, Realistic and Timely (SMART) high level result to be attained from this project"},actions:{create:"Create Outcome",edit:"For each project outcome identified, you are required to define at least one indicator that will be used to measure performance of the project against the relevant outcome and briefly explain how information on this indicator shall be obtained."}},outputs:{fields:{outcome_ids:"Select the project objectives for the project component.",name:"Describe the main project component.",description:"Clearly define the component and how it will be implemented.",vote_id:"Identity the implementing Agency that will undertake the component",output_value:"Quantity",unit_id:"Unit",tech_specs:"Technical Specifications",alternative_specs:"Alternative Specification",investments:{name:"Outputs Investments",fields:{fund_id:"Fund",fund_source_id:"Fund sources",total:"Total",cost_classification_id:"Cost Classification"},actions:{edit:"Estimated Cost"}}}},subcomponents:{name:"Sub-Component |||| Sub-Components",fields:{name:"Sub-Component Title",description:"Sub-Component Description"}},components:{name:"Component |||| Components",fields:{subcomponents:"Sub-Components",cost:"Component Cost",name:"Component Title",description:"Component Description and Implementation Arrangements"}},indicators:{fields:{name:"For each project output identified, you will be required to define at least one indicator that will be used to measure performance of the project against the relevant output and briefly explain how information on this indicator (s) shall be obtained.  This could be through surveys or secondary data sources",baseline:"Identify a standard that will be used to measure the performance of the project",verification_means:"Define the exact source of data that will be used to evaluate and measure performance",assumptions:"Describe the conditions that must be met to obtain the expected project objectives.",risk_factors:"Clearly provide information about the risks that may affect the project activities",target:"Identify the expected performance of the project in each financial year."}},"project-categories":{fields:{project_categories_id:"Project Category Id",title:"Project Category Title",last_phase_id:"Last Phase"}},activities:{fields:{name:"For the identified components highlight the major activities that you propose to implement.",start_date:"Identify the activity start date",end_date:"Identify the activity end date",description:"Describe specific details of the activity.",output_id:"Identify the component to which the activity belongs to.",vote_id:"For the given activity identify the corresponding votes",investments:{fields:{fund_id:"Fund",fund_source_id:"Fund sources",total:"Total",cost_classification_id:"Cost Classification"},actions:{edit:"Estimated Cost"}}}},project_options:{fields:{default_option_name:"Maintaining things as they are currently with no major change",default_option_description:"Clearly describe the Maintaining things",default_option_description_impact:"Impacts of maintaining the status quo",has_omp:"Will the project option have O&M period?",om_start_date:"Identify the option`s O&M start date",om_end_date:"Identify the option`s O&M end date",om_duration:"Estimate O&M option duration",om_cost:"O&M Costs",is_shortlisted:"Is Preferred Option",is_commercial:"Is this project a commercially driven and was the business Case Developed? ",me_strategy:"Strategy",start_date:"Identify the financial year in which the project option  is expected to commerce",end_date:"Identify the financial year in which the project option  is expected to be completed",duration:"Estimate the option duration",capital_expenditure:"Capital Expenditure",risk_allocation:"Risk Allocation",contract_management:"Contract Management",swot_analysis:"Clearly outline among  the strengths, weaknesses, threat and opportunities",value_for_money:"Value for Money",name:"Describe the title of the option intended to achieve the project objective.",title:"Describe the title of the option intended to achieve the project objective.",description:"Describe the option identified clearly detailing its components.",cost:"Identify the investment cost for this option",score:"The option score is autogenerated after populating the building blocks",funding_modality:{title:"Identify the preferred funding modality suitable for the option.",title_pfs:"Identify the preferred Implementation modality suitable for the option.",procurement:"Traditional procurement",partnership:"Public private partnership"},is_preferred:"Identify Preferred Alternative",justification:"Provide a detailed description for the selection of the option as the project intervention.",modality_justification:"Provide a detailed description for the selection of the option as the preferred project funding modality",modality_justification_pfs:"Provide a detailed description for the selection of the option as the project intervention.",stepper:{description:"Description",building_blocks:"Building Blocks",analytical_modules:"Analytical Modules",best_option:"Preferred Alternative Selection"},building_blocks:{description:{demand_module:"Describe the nature and source of demand, nature of the market, prices and qualities of the project.",technical_module:"Determine and specify in detail the technical parameters, investment and operational costs",environmental_module:"Determine and specify the environmental impacts and risks, possible compensation for the ecological damages and where possible qualify the environmental impacts.",hr_module:"Determine the human resource requirements for implementation and operation, in terms of quantities and specialties; identifies the sources of the work force and the cost of employing them. In addition, determine the management capacity and the functional structure of the operating entity.",legal_module:"Describe the legal restrictions that may obstruct or impede construction or operation, for example, limitations in localization and in the use of land, special tax considerations, and guarantees in the case of Public- Private Partnership among others."},advantage:{demand_module:"Identify the advantages of the option in relation to demand module",technical_module:"Identify the advantages of the option in relation to the technical and engineering module",environmental_module:"Identify the advantages of the option in relation to the environmental module",hr_module:"Identify the advantages of the option in relation to the HR requirement module",legal_module:"Identify the advantages of the option in relation to the legal assessment module"},disadvantage:{demand_module:"Identify the disadvantages of the option in regard to demand module.",technical_module:"Identify the disadvantages of the option in relation to the technical and engineering module",environmental_module:"Identify the advantages of the option in relation to the environmental module",hr_module:"Identify the disadvantages of the option in relation to the HR requirements module",legal_module:"Identify the disadvantages of the option in relation to the legal assessment module"},score:"Score",modules:{demand_module:"Demand Analysis",technical_module:"Technical & Engineering",environmental_module:"Describe and specify the economic effects of environmental norms and possible compensations for ecological damages. Key questions to address:\nThe likely environmental impacts from undertaking project?\n(i)\tWhat is the cost of reducing the negative impact?\n(ii)\tEvaluation of the environmental impacts and risks with and without\n(iii)\tTechnical measures are taken to reduce these impacts?\n(iv)\tAre there alternative ways of supplying the good or service of project without incurring these environmental costs?\n(v)\tWhat are the costs of these alternatives?",hr_module:"Point out the human resource requirements for implementation and operation, in terms of quantities and specialties; identifies the sources of the work force. Also it determines the management capacity and the functional structure of the operating entity.  Key Issues to be addressed:\n(i)\tWhat are the managerial and labour needs of the project?\n(ii)\tDoes organisation have the ability to get the managerial skills\nNeeded?\n(iii)\tIs timing of project consistent with quantity and quality of\n(iv)\tManagement?\n(v)\tWhat are wage rates for labour skills required?\n(vi)\tManpower requirements by category are reconciled with\n(vii)\tavailabilities and project timing.",legal_module:"Studies the legal restrictions that may obstruct or impede construction or operation, for example, limitations in localization and in the use of soil, special tax considerations in the case of public\u2013private partnerships, etc.\n(i)\tIs the entity that is supposed to manage the project properly\norganized and its management adequately equipped to handle the\nProject?\n(ii)\tAre the capabilities and facilities being properly utilized?\n(iii)\tIs there a need for changes in the policy and institutional set up\n(iv)\tOutside this entity? What changes may be needed in policies of the Local, regional and central governments?"}},analytical_modules:{description:"Description",advantage:"Advantages",disadvantage:"Disadvantages",score:"Score",appraisal_methodology:{title:"Appraisal Methodology",cea:"CEA",cba:"CBA"},financial_evaluation:{appraisal_methodology:"Select the appraisal methodology to be used.",fnpv:"State the Financial Net Present Value obtained using the selected appraisal methodology.",irr:"State the Internal Rate of Return using the selected appraisal methodology",summary:"Describe the financial costs and benefits at market prices, studies alternative financial leverage methods.\n(i)\tIntegration of financial and technical variables from demand module, technical module, and management module\n(ii)\t Construct cash flow (resource flow) profile of project\n(iii)\tIdentify key variables for doing economic and social analysis\n\nKey questions:\na. What is relative certainty of financial variables?\nb. What are sources and costs of financing?\nc. What are minimum cash flow requirements for each of the stakeholders?\nd. What can be adjusted to satisfy each of the stakeholders?"},economic_evaluation:{appraisal_methodology:"Select the appraisal methodology to be used.",enpv:"State the Economic Net Present  Value obtained using the selected appraisal methodology.",err:"State the Internal Rate of Return using the selected appraisal methodology",summary:"Economic adjustments from financial data using conversion factors; after that, costs and benefits are appraised from the point of view of the entire economy.\n(i)\tExamines the project using the whole country as the accounting\nentity\n(ii)\tEvaluation of externalities including environmental\n(iii)\tWhat are differences between financial and economic values for a\nVariable?\n(iv)\tWhat causes these differences?\n(v)\tWith what degrees of certainty do we know values of these\nDifferences?\n(vi)\tWhat is the expected value of economic net benefits?\n(vii)\tWhat is the probability of positive economic feasibility?"},criterias:{title:"Cost Effectiveness Results",criteria_title:"Describe the Cost Effectiveness Analysis method that will be used",criteria_value:"State the value obtained using the CEA method selected",measure_unit:"Identify the measurement units that are used in the analysis"},stakeholder_evaluations:{communication_channel:"Identify the means of communication that will be used by the stakeholder",influence_level:"Select the stakeholders level of project influence",interest_level:"Identify the level of interst in the project by the stakeholder",responsibilities:"Describe the need of the stakeholder identified.",responsible_entity:"Responsible Entity",engagement_frequency:"Select the number of times the stakeholder will e engaged in the project activities.",name:"Identify the stakeholders that will be affected by the project as well as those who need to make inputs into the project",title:"Identify the stakeholders that will be affected by the project as well as those who need to make inputs into the project",description:"Give a detailed description of the stakeholder.",impact_sign:{title:"Select the likely impact of the project on the stakeholders",positive:"Positive",negative:"Negative"},beneficiary:{title:"Identify the relationship of the stakeholder to the project",direct:"Direct",indirect:"Indirect"}},risk_evaluations:{description:"identify the uncertainty that may arise during the lifetime of the project.",occurrence:"Select the likelihood of occurrence of the uncertainty",impact:"Select the impact of the risk on the project",levels:{low:"Low",medium:"Medium",high:"High",very_high:"Very High"},mitigation_plan:"Identify and generate guidance on how to reduce the exposure of the risk through different contractual clauses."},modules:{financial:"Financial",economic:"Economic",distributional:"Distributional",risk:"Risk"}}}},risk_factors:{fields:{risk_level:"Risk Level",measures:"Measures",risk_description:"Risk Description"}},"file-types":{fields:{is_required:"Is Required",phase_ids:"Project Phases",name:"File Type Name",extensions:"File Type Extension"}},users:{name:"User Management",fields:{username:"Username",email:"E-mail",fullname:"Full Name",phone:"Phone (i.e. (876)9292732)",vote:"Vote",role:"Role",password_hash:"Enter New Password",sector_id:"Sector Name",vote_id:"Vote Name",department_id:"Sub Program Name",sector_ids:"Name of Sectors",donor_id:"Donors Name",user_roles:"User Roles",ministry:"Level 1 includes Ministries",public_body:"Level 2 includes Public bodies, Ministries Departments and Agencies."}},"cost-classifications":{fields:{code:"Code",name:"Name",cost_category_id:"Cost Category"}},"cost-categories":{fields:{code:"Code",name:"Name",expenditure_type:"Expenditure Type"}}},workflow:{assign:"Select assigned user",decision:"Input decision reason",assign_user:"Assigned user"}}},Rj=Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({common:{home:"Home",avatar:{loadingPrimary:"Loading",loadingSecondary:"The avatar is loading, just a moment please"}},ra:{false:"false",undefined:"undefined","Source of funding identified":"Source of funding identified","You have new messages":"You have new messages"}},Sj.a),{buttons:{indicator_indicators:"Add Sub-Indicator",project_detail_indicators:"Manage Project Indicators",conditionally_approve:"Approve Conditionally",goals_indicators:"Manage Project Indicators",project_indicators:"Manage Project Indicators",outcomes_indicators:"Manage Outcome Indicators",outputs_indicators:"Manage Output Indicators",investments:"Manage Investments",activity_investments:"Manage Activity Investments",output_investments:"Manage Output Investments",components_investments:"Manage Components Investments",show_map:"Show Map",hide_map:"Hide Map",assign:"Assign",approve:"Approve",revise:"Revise",reject:"Reject",select_file:"Select File",upload:"Upload",delete:"Delete",submit:"Submit",back:"Back",next:"Next",save_exit:"Save And Exit",create:"Create a Project",timeline:"Timeline",close:"Close",logout:"Logout",account:"Account",help:"HELP",profile_edit:"Edit Profile",profile:"Profile",reset_password:"Reset Password",confirm:"Confirm",cancel:"Cancel",save:"Save",allocate_funds:"Allocate Funds",complete:"Complete",export_pdf:"Export in PDF format",export_word:"Export in Word format",export_csv:"Export in XlS format",revoke:"Revoke",budget_allocation:"Initiate Budget",project_management:"Gantt Chart",notes:"Notes",validate:"Validate"}}),{messages:{"You have new messages":"You have new messages",project_has_validation_errors:"Please fill in the values marked as required",project_management_saved:"Project Saved",project_management_error:"Failed to save the project","Failed to fetch":"Failed to fetch",project_reject_confirmation:"Are you sure you want to reject this project?",reset_password:"Reset Password",reset_password_confirmation:"Are you sure you want to reset the password?",reset_password_error:"Your password wasn`t changed.",reset_password_success:"New password was sent to your email",high_risk_project:"High Risk Project!",unathorised:"Incorrect user name and password.",new_messages:"You have new messages",saving_data:"Data is saving, please wait",loading_data:"Data is loading, please wait",file_uploaded:"File was uploaded",file_deleted:"File was deleted",file_ext_error:"You should select correct file",all_steps_completed:"All steps completed!",max_outcomes:"Maximum 2 outcomes per project",max_outcomes_per_output:"Maximum 2 outcomes per output",min_activity_per_output:"At least 1 activity per output",max_shortlisted_options:"Maximum 3 shortlisted options",min_selected_option:"At least 1 shortlisted options must be selected",max_best_option:"Maximum 1 Preferred Alternative",min_best_option:"At least 1 Preferred Alternative must be selected",no_files:"No files uploaded",no_file_type:"File type",no_file_action:"Not Uploaded",no_outcomes:"At least one outcome has to be filled",no_outputs:"At least one output has to be filled",om_cost:"This project does not have Operation & Maintenance Period. You can change it in Summary Section.",options_blocks_all:"All building blocks must be filled",options_evaluation_all:"All Analytical Modules must be filled",options_blocks_single:"You should asses every building block",options_required:"All Required fields must be filled",options_summary:"All Description Fields must be filled",duplicate_project_title:"You are about to create a project with a name that already exist in the database. Are you sure you want to proceed?",year:"Year"}}),Fj),Tj),{timeline:{status:{submit:"Project Submitted",approve:"Approved",revise:"Revise",reject:"Rejected"},title:"Flow of Approvals",event_title:"Project Status Information",submitted:"Project Submitted",draft:"Draft",approved:"Approved",revised:"Revise",rejected:"Rejected","in pipeline":"In Pipeline",completed:"Completed",assigned:"Assigned",by:"by",date:"Date",comments:"Comments",no_data:"Creation of a project is in progress.",phase:"Phase",files:"Files",not_pap_status:"Waiting for DC decision",hidden_phase_status:"Approved at ",in_pipeline:"In Pipeline",ongoing:"Ongoing",post_evaluation:"Ex-Post Evaluation"}}),Dj),{workflow:{va_file_subtitle:"* You must submit PPC Minutes file before submitting the project.",va_additionalFile_subtitle:"* You must submit SWG Minutes file before submitting the project.",workflow_additional_file_upload:"* You must submit DC Minutes file before submitting the project.",workflow_file_upload:"* You must submit project analysis before submitting the project.",assign:"Select assigned user",decision:"Input decision reason",comments:"Comments",assign_user:"Assigned user",messages:{status_change:"Workflow status changed",status_not_change:"Workflow status not changed"}}}),{validation:{ndp_policy_alignment:"You must input NDP Policy Alignment",ndp_compliance:"You must input NDP Compliance",project_options:"You must define Project Options",governance:"You must input governance",ppp_similar_reference:"You must input Similar Reference",ppp_interest:"You must input Interest",ppp_impediments:"You must input Impediments",ppp_risk_allocation:"You must input Risk Allocation",ndp_strategy_id:"You must select NDP Strategy Goal and Outcomes",ndp_sdgs_id:"You must select NDP Strategy or NDP SDG",revenue_source:"You must add some revenue sources",proposed_funding_source:"You must select proposed funding source",outcomes_indicators_empty:"You must enter Indicators for Outcomes! ",outputs_indicators_empty:"You must enter Indicators for Outputs! ",outputs_investments_empty:"You must enter Investments for Outputs! ",components_investments_empty:"You must enter Investments for Components! ",activities_investments_empty:"You must enter Investments for Activities! ",other_info:"Additional information",default_option_name:"Default option name",default_option_description:"Cost associated with the status quo",default_option_description_impact:"Impacts of maintaining the status quo",climate_risks:"Climate Risks",project_risks:"Project Risks",government_coordinations:"Coordination with Other Government Agencies",options_appraisal_empty:"You must create at least one option",empty_fields:"These Fields Must Be Filled",ndp_plan_details:"Details",sector_id:"Name of Sector",vote_id:"Vote",vote_function_id:"Program Name",pillar_id:"Pillar Name",subprogram_id:"Subprogramm Name",implementing_agencies:"Sectors responsible for implementation",title:"Project Title",summary:"Technical description",start_date:"Start date",end_date:"End Date",location:"Location",geo_location:"Geo Location",administrative_post:"Administrative Post",district_id:"Name Districts",province_id:"Name of Provinces",exec_management_plan:"Executive summary",officer_title:"Title Officer",officer_name:"Name Officer",officer_phone:"Officer Phone",officer_email:"Officer Email",officer_mobile_phone:"Officer Mobile Phone ",risk_assessment:"Risk Assessment",situation_analysis:"Situation Analysis",problem_statement:"Project Status",problem_cause:"Causes of the Problem",problem_effects:"Effects of the Problem",justification:"Project Demand",sustainability_plan:"Sustainability Plan",me_strategies:"Monitoring and Evaluation Strategies",stakeholders:"Stakeholders",goal:"Project goal",goal_indicators:"Goals Indicators",outcomes:"Outcomes",outcomes_indicators:"Outcomes  Indicators",outputs:"Outputs",outputs_design:"Output Technical/Alternative Specifications",outputs_indicators:"Outputs Indicators",outputs_investments:"Outputs Cost of Investment",activities:"Activities",activities_investments:"Activities Cost of Investments",baseline:"Baseline of the Result Indicator",ndp_type:"NDP Type",om_costs:"O & M Costs",rational_study:"Rationality of the Study",methodology:"Methodology",organization_study:"Organisation of the PFS and FS",organization_study_pfs:"Organisation of the Pre-feasibility Study",organization_study_fs:"Organisation of the Feasibility Study",beneficiary_analysis:"Analysis of Beneficiaries",strategic_alignments:"Strategic Alignments"}}),{titles:{project_background:"Project Information",implementing_strategies:"Implementation Strategies",drop_files:"Drop files",currency:"JMD",budget_allocation:" Appropriate budget for project years",budget_code:"Project Initialization"}}),{comments:{empty:"No Notes",title:"Project Notes",created:"Note was added!",edited:"Note was saved!",deleted:"Note was deleted!",edit_comment:"Edit Note",delete_comment:"Delete Note"}}),{projectSteps:{COST_ESTIMATES:"Cost Estimates",SUMMARY:"Profile",RESPONSIBLE_OFFICER:"Responsible Officer",PROJECT_BACKGROUND:"Project Overview",PROJECT_FRAMEWORK:"Project Framework",DEMAND_ANALYSIS:"Demand Analysis",OPTIONS_ANALYSIS:"Options Analysis",PROJECT_APPRAISAL:"Project Appraisal",FIN_ANALYSIS:"Fin&Econ Analysis",COST:"Costs",RESULT_MATRIX:"Result Matrix",MODULES:"Modules",ADDITIONAL_INFO:"Additional information",OM_COSTS:"O&M Cost",INTRODUCTION:"Introduction",ME_REPORT:"M&E Report",EX_POST_EVALUATION:"Ex-Post Evaluation",NDP:"Strategic Objectives",PROCUREMENT:"PPP/JV Option",RISK_ASSESSMENT:"Risk Assessment",STAKEHOLDERS:"Stakeholders",CLIMATE_RISK_ASSESSMENT:"Climate Risk Matrix",BUDGET_ALLOCATION:"Budget Allocation"}}),{navigation:{location_config:{1:"Parish",2:"Constituency"},organizational_config:{1:"Ministry",2:"Departments",3:"Other Organizations"},programs_config:{1:"Programs",2:"Sub Programs"},functions_config:{1:"Functions",2:"Sub Functions"},fund_config:{1:"Fund",2:"Fund Source"},cost_config:{1:"Cost Class",2:"Cost Object",3:"Cost Sub-Object",4:"Cost Detailed Sub-Object"},reports:{pipeline_report:"Projects in Pipeline",completed_projects_report:"Projects Completed",pipeline_of_projects_report:"Pipeline of Projects",fiscal_load_report:"Fiscal Load",project_cost_evolution_report:"Project Cost Evolution",costs_and_counts_report:"Projects at different stages of the project cycle",projects_ranking_report:"Projects Ranking",projects_location_report:"Project Locations",ibp_usage_report:"IBP User Action Tracking Report",projects_scheduled_dc_report:"Projects Scheduled for DC",projects_for_pap_report:"Project for PAP",projects_waiting_actions_report:"Projects waiting for action",stagnant_projects_report:"Stagnant Projects",donors_projects_report:"Donor Projects",submitted_projects_report:"Submitted Projects",repeated_projects_report:"Repeated Projects",pipeline_report_portfolio:"Public Investment Portfolio",projects_programs_report:"Projects by Programs",projects_functions_report:"Projects by Functions",projects_ndp_report:"National Development Projects"}}}),{validationFields:{summary:"Summary",revenue_source:"Entity`s Revenue Source",proposed_funding_source:"Proposed Funding Source",start_date:"Start Date",end_date:"End Date",locations:"Locations",project_goal:"Project Goal",procurement_modality:"Procurement and Implementation Modality",governance:"Project Governance",me_strategies:"Monitoring and Evaluation Strategies",problem_statement:"Project Status",problem_cause:"Project Benefits",problem_effects:"Synergies",justification:"Project Demand",stakeholder_consultation:"Stakeholder consultation",stakeholders:"Stakeholders",stakeholders_name:"Name",stakeholders_description:"Description",stakeholders_interest_level:"Interest level",stakeholders_influence_level:"Influence level",stakeholders_communication_channel:"Communication channel",stakeholders_engagement_frequency:"Engagement frequency",stakeholders_responsible_entity:"Responsible entity",goal:"Goal",outcomes:"Outcomes",outcomes_name:"Name","outcomes.indicators":"Outcome Indicators","outcomes.indicators_name":"Name","outcomes.indicators_baseline":"Baseline","outcomes.indicators_verification_means":"Verification Means","outcomes.indicators_assumptions":"Assumptions","outcomes.indicators_risk_factors":"Risk Factors",outputs:"Outputs",outputs_name:"Name",outputs_outcome_ids:"Project Outcomes",outputs_organization_ids:"Output Implementing Agency",outputs_component_id:"Project Components",outputs_description:"description","outputs.indicators":"Output Indicators","outputs.indicators_name":"Name","outputs.indicators_baseline":"Baseline","outputs.indicators_verification_means":"Verification Means","outputs.indicators_assumptions":"Assumptions","outputs.indicators_risk_factors":"Risk Factors",baseline:"Baseline",components:"Components",components_name:"Components Name",components_description:"Components Description","components.investments":"Components Investments","components.investments_fund_id":"Components Investments Fund","components.subcomponents":"Sub-Components","components.subcomponents_name":"Name","components.subcomponents_description":"Description",om_costs:"O&M Costs",om_costs_fund_id:"O&M Costs Fund Source",om_costs_costing_id:"O&M Costs Costing",ppp_similar_reference:"Similar Reference",ppp_interest:"Interest",ppp_impediments:"Impediments",ppp_risk_allocation:"Risk allocation",ndp_compliance:"Ndp Compliance",ndp_policy_alignment:"Ndp Policy Alignment",ndp_strategies:"Ndp Strategies",ndp_strategies_ndp_goal_id:"Goal",ndp_strategies_ndp_outcome_id:"Outcome",ndp_strategies_ndp_sdgs_ids:"SDG",ndp_strategies_ndp_strategy_ids:"National Strategies",default_option_name:"Default option name",default_option_description:"Default option description",default_option_description_impact:"Default option description impact",project_options:"Project Options",project_options_name:"Name",project_options_description:"Description",project_options_swot_analysis:"SWOT Analysis",project_options_start_date:"Start Date",project_options_end_date:"End Date",project_options_capital_expenditure:"Capital Expenditure",project_options_funding_modality:"Funding Modality",project_options_financial_evaluation:"Financial evaluation",project_options_economic_evaluation:"Economic evaluation",project_options_stakeholder_evaluations:"Stakeholder evaluations",climate_risks:"Climate Risks",climate_risks_climate_hazard:"Climate Hazard",climate_risks_exposure_risk:"Exposure Risk",climate_risks_vulnerability_risk:"Vulnerability Risk",climate_risks_overall_risk:"Overall Risk",climate_risks_vulnerability_impact:"Vulnerability Impact",project_risks:"Project Risks",project_risks_name:"Title",project_risks_impact_level:"Impact Level",project_risks_probability:"Probability",project_risks_score:"Score",project_risks_response:"Response",project_risks_owner:"Owner"}}),Ij={resources:(bj={"reports-consolidated-monitoring-projects":{name:"Consolidated Projects Progress Report"},periodical:{name:"Periodical Reports"},quarter:{name:"Quarter Reports"},integrations:{amp:{actual_commitment_amount:"Actual Commitment Amount",actual_disbursement_amount:"Actual Disbursement Amount",agreement_close_date:"Agreement Close Date",agreement_effective_date:"Agreement Effective Date",agreement_sign_date:"Agreement Sign Date",agreement_title:"Agreement Title",donor:"Donor",donor_commitment_date:"Donor Commitment Date",executing_agency:"Executing Agency",financing_instrument:"Financing Instrument",implementing_agency:"Implementing Agency",planned_commitment_amount:"Planned Commitment Amount",project_coa_code:"Project COA Code",project_status:"Project Status",project_title:"Project Title"}},"implementation-module":{name:"Implementation Module"},"reports-cost-plans":{name:"Cost Annualized Plans"},"reports-public-investment-plan":{name:"Project Public Investment Plan Report"},"reports-contingency-liability-report":{name:"Contingency Liability Report"},"reports-completion-projects":{name:"Project Completion Report"},"reports-periodic-monitoring-projects":{name:"Periodic Project Monitoring Report"},"reports-annual-monitoring-projects":{name:"Quarterly/Semi-Annual/Annual project progress Report"},"project-completion":{fields:{outcome_performance:{short_term_outcomes:"Short term outcomes",impact:"Impact"},challenges_recommendations:"Challenges and recommendations",lessons_learnt:"Lessons learnt",future_considerations:"Future considerations",financial_sustainability:"Financial Sustainability plan",environmental_sustainability:"Environmental Sustainability Plan",achievements:"Project Achievements"}},project:{myc_data:{funding_source:"Funding Source",start_date:"Start Date ",end_date:"End Date ",status:"Project Status",classification:"Project Classification",start_spending:"Spending since start of project",approved_budget:"Approved Budget FY 1",estimate_areas:"Estimate of Arrears at end of the current FY 1",counterpart_funding:"Counterpart Funding signed agreements only (value FY 1)",cash_required:"Cash Required for Commitments (FY 1)",arrears_contractual:"Arrears + All Contractual Commitments (FY 1 )",estimate_f2:"FY 2 ",estimate_f3:"FY 3 ",estimate_f4:"FY 4 ",estimate_f5:"FY 5 ",outstanding_commitments:"Outstanding Commitments",cumulative_expenditure:"Cummulative expenditure to end June FY0 + Approved budget + Total Estimates",approved_project_costs:"Approved Project Costs by DC as indicated in the PIP",mda_comments:"Comments from MDA (Important information or assumptions when populating the template)"}},parameters:{name:"System Parameters"},trash:{name:"Deleted Projects"},"reports-ranking-projects":{name:"Project Prioritization Report"},"reports-myc":{name:"MYC Report"},"reports-project-geo-by-phases":{name:"Project Locations by Phases"},"reports-projects-repeated":{name:"Repeated Projects"},"reports-projects-submitted":{name:"Project submitted by the 7th of month"},"reports-projects-donors":{name:"Donor Projects"},"reports-projects-stagnant":{name:"Projects that are stagnant for 14 days"},"reports-projects-for-action":{name:"Projects waiting for User action"},"reports-projects-for-pap":{name:"Projects in PAP"},"reports-projects-categories":{name:"Projects by Categories"},delegation:{name:"User Delegation"},dashboard:{name:"Dashboard"},"completed-report":{name:"Completed Report"},"reports-projects-ranking":{name:"Ranking Report"},"reports-fiscal-load":{name:"Fiscal Load"},"reports-project-cost-evaluation":{name:"Cost Evolution Report"},"reports-project-count":{name:"Projects at different stages of the project cycle"},"reports-project-ibp-usage":{name:"IBP User Action Tracking Report"},"reports-project-dc-report":{name:"Projects scheduled for DC"},"reports-pipeline-projects":{name:"Projects in Pipeline"},"psip-report-view":{name:"PSIP"},"project-managment":{name:"Project Management"},"project-resources-managment":{name:"Project Resource Management"},"me-report-view":{name:"M&E Report"},"project-portfolio":{name:"Project Porfolio"},"project-resources-management":{name:"Project Resources Management"},"project-management":{name:"Project Management"},programs:{name:"Programs"},sub_programs:{name:"Subprograms"},user_roles:{fields:{role_id:"Role"}},votes:{name:"Votes"},notifications:{name:"Notifications",fields:{title_html:"Subject",created_at:"Date",sender:"Sender",body_html:"Message"}},dashboards:{projects_waiting:"Projects Awaiting Your Decision",projects_phases:"Projects by Phases",projects_groups:"Groupped Projects",projects:"Projects"},"report-builder":{name:"Report Builder"},gantt:{name:"Gantt Chart"},reports:{name:"Reports",title:"REPORTS",projects_by_location:"Projects by Location",phases_title:"Phases",filters:"Organization filters",fiscal_load:"Fiscal Load",cost_evolution:"Evolution of Project Cost",projects_by_cycles:"Projects at different stages of the Development Cycle (UGX)",projects_by_cycles_counts:"Projects at different stages of the Development Cycle",no_data:"No data available",loading:"Data is loading, please wait ...",pipeline:{name:"Pipeline of Projects",header:{id:"ID",title:"Title",cost:"Cost of Investment",start_date:"Proposed Start Date",duration:"Duration",enter_date:"Date of Feasibility"}},ranking:{name:"Project Ranking",header:{rank:"Rank",title:"Title",cost:"Cost (UGX)",vote:"Vote",npv:"NPV (UGX)",enpv:"ENPV (UGX)",fnpv:"FNPV (UGX)",irr:"IRR (%)",err:"ERR (%)"}}},roles:{name:"Roles",admin:"Administrator",department_admin_user:"Department Head",pap_commissioner_user:"PAP Commissioner",pap_head_user:"PAP Head",pap_standard_user:"PAP Standard User",standard_user:"Standard User",vote_admin_user:"Head Planning",account_officer:"Accounting officer",dc_member_user:"DC member",sector_head_user:"Vote Head",desk_officer_user:"Desk Officer",donor_user:"Donor",pap_senior_economist_user:"PAP Senior Economist",pap_assist_commissioner_user:"PAP Assistant Commissioner",fields:{name:"Role",is_deleted:"Is Deleted",permissions:"permissions",organization_level:"organization_level",has_allowed_projects:"has_allowed_projects"}},projects:{name:"Project |||| Projects",fields:(gj={deleted_on:"Deleted on",total_costs:"Total Cost",signed_date:"Actual Start Date",budget_code:"Project Code",budget_allocation:"Appropriate Budget",phase:"Phase",created_on:"Submission Date",project_no:"Project No",created_by:"Created By",created_at:"Submission Date",phase_id:"Phase",status:"Status",workflow_status:"Workflow Step","workflow.status":"Workflow Step",title:"Project Title",name:"Project Title",sector_id:"Vote",department_id:"Sub Program Name",vote_id:"Vote",program:{code:"Program Code",name:"Program Name"},fund:{code:"Fund Code",name:"Fund Name"},"fund-source":{code:"Source of Fund Code",name:"Source of Fund Name"},vote:{code:"Vote Code",name:"Vote Name"},vote_function:{code:"Department Code",name:"Department Name"},function:{code:"Directorate Code",name:"Directorate Name"},sub_program:{code:"Sub Program Code",name:"Sub Program Name"},department:{code:"Department Code",name:"Department Name"},sender:"Sender"},Object(N.a)(gj,"function",{code:"Function Code",name:"Function Name"}),Object(N.a)(gj,"sub_function",{code:"Sub Function Code",name:"Sub Function Name"}),gj)},"project-details":{name:"Project Details",fields:(hj={expected_fund_source:"Expected fund source",national_scope:"Regional Balance",procurement_plan_description:"Procurement plan description",work_plan_description:"Work plan description",behavior_knowledge_products:"Behavior knowledge products",behavior_project_results:"Behavior project results",behavior_measures:"Behavior measures",goals:"Project Goal",intervention:"Intervention",vote:"Vote",classification:"Project Classification",responsible_officers:{header:"Responsible Officers",title:"Officer Title",name:"Officer Name",phone:"Officer Phone",email:"Officer Email",mobile_phone:"Officer Mobile Phone",organization_name:"Officer Organization Name",address:"Officer Address"},name:"Project Title",current_investment_ratio:"Capital to Recurrent Ratio",title:"Project Title",summary:"Technical Description",start_date:"Start Date",end_date:"End Date",locations:"Location",geo_location:"Geo Location",estimated_lifetime:"Estimated Lifetime",is_dlp:"Project Has Defect Liability Period",liability_period:"Defect Liability Period",is_omp:"Project Has Operation & Maintenance Period",maintenance_period:"Operation & Maintenance Period",om_cost:"Operation & Maintenance Costs (O&M Costs, UGX)",om_fund_id:"Fund Name",exec_management_plan:"Executive Management Plan",exec_management_plan_pfs:"Executive Summary",introduction:"Introduction",implementing_agencies:"Implementing Agencies",project_categories_id:"Project Category",situation_analysis:"Situation Analysis",situation_analysis_file:"Situation Analysis Attachment",problem_statement:"Problem Statement",problem_statement_file:"Problem Statement Attachment",problem_cause:"Problem Cause",problem_causes_file:"Problem Causes Attachment",problem_effects:"Problem Effects",problem_effects_file:"Problem Effects Attachment",justification:"Justification",sustainability_plan:"Sustainability Plan",me_strategies:"Monitoring and Evaluation Strategies",justification_file:"Justification Attachment",evaluation_methodology:"Evaluation Methodology",evaluation_period:"Evaluation Period",achieved_outcomes:"Achieved Outcomes",deviation_reasons:"Deviation Reasons",measures:"Measures",lessons_learned:"Lessons Learned",is_evaluation:"Project Requires Ex-Post Evaluation",government_agencies:{title:"Coordination with Other Government Agencies",name:"Name",description:"Details"},government_coordinations:{title:"Coordination with Other Government Agencies",name:"Name",description:"Details"},stakeholders:{title:"Stakeholders and their responsibilities",name:"Name",responsibilities:"Responsibilities",affected_population:"Affected population"},in_ndp:{title:"In NDP",yes:"National Development Plan",other:"Other Strategic Documents"},ndp_type:{title:"NDP Type",core:"NDP Core Projects",priority:"NDP Priority Area"},ndp_number:"NDP Number",ndp_name:"Project Name",ndp_page_no:"Page in NDP",ndp_focus_area:{null:"",title:"Focus Area",wealth_creation:"Wealth Creation",inclusive_growth:"Inclusive Growth",competitiveness:"Competitiveness"},ndp_intervention:"Intervention",ndp_strategic_directives:"Other Strategic Directives",other_plans:{development_partners:"Development partners",cabinet_directives:"Cabinet directives",parliament_approval:"Parliament approval",stare_owned_enterprise:"Stare owned enterprise",regional_integration_policy:"Regional integration policy",political_manifestos:"Political manifestos",interest_groups_or_beneficiaries:"Interest groups or beneficiaries",private_sponsors:"Private sponsors",sustainable_development_goals:"Sustainable development goals"},ndp_plan_details:"Strategic Alignment Details",officer_title:"Officer Title",officer_name:"Officer Name",officer_phone:"Officer Phone",officer_email:"Officer Email",officer_mobile_phone:"Officer Mobile Phone",rational_study:"Rationale of the Study",methodology:"Methodology",organization_study:"Organisation of the PFS and FS",organization_study_pfs:"Organisation of the Pre-feasibility Study",organization_study_fs:"Organisation of the Feasibility Study",other_info:"Project Additional Information",attachments:{title:"Mandatory attachments",add:"Add Attachment",remove:"Remove Attachment"},benefits:"Benefits",goal:"Project Goal",commentaries:"Commentaries",files:"Project Files",demand_analysis:"Demand Analysis",demand_analysis_files:"Demand Analysis Files",pre_feasibility_cost:"Pre-Feasibility Cost",pre_feasibility_consultants:"Pre-Feasibility Consultants",strategic_analysis:"Strategic Analysis",strategic_alignment:"Strategic Alignment",financing_modality:"Financing Modality",feasbility_cost:"Feasibility Cost",feasibility_consultants:"Feasibility Consultants",feasibility_funds_request:"Feasibility Funds Request",env_impact_assessment:"Environmental Impact Assessment",technical_design:"Technical Design",production_plan:"Production Plan",hr_requirements:"HR Requirements",legal_assessment:"Legal Assessment",financial_evaluation:"Financial/Private Evaluation",economic_evaluation:"Economic/Social Evaluation",risk_evaluations:"Risk Evaluation",distributional_assessment:"Distributional Assessment"},Object(N.a)(hj,"exec_management_plan","Executive Management Plan"),Object(N.a)(hj,"exec_management_plan_pfs","Executive Summary"),Object(N.a)(hj,"sustainability_assessment","Sustainability Assessment"),Object(N.a)(hj,"pcn_outcome","Outcomes"),Object(N.a)(hj,"pcn_interventions","Interventions"),Object(N.a)(hj,"interventions","Interventions"),Object(N.a)(hj,"investments","Investment Costs"),Object(N.a)(hj,"in_ndpi","Already Existing in NDPI"),Object(N.a)(hj,"in_ndpii","Already Existing in NDPII"),Object(N.a)(hj,"in_mfped","Already Existing in MFPED PIP"),Object(N.a)(hj,"strategic_other_plan","Strategic Other Plan"),Object(N.a)(hj,"strategic_considerations","Other Strategic Considerations"),Object(N.a)(hj,"strategic_fit","Strategic Fit"),Object(N.a)(hj,"strategic_alignment","Strategic Alignment"),Object(N.a)(hj,"baseline","Indicator Baseline Year"),Object(N.a)(hj,"outcome_targets","Outcome Indicator Target Years"),Object(N.a)(hj,"output_base","Output Indicator Baseline"),Object(N.a)(hj,"output_targets","Output Indicator Target Years"),hj)},organizations:{name:"Organisation |||| Organisations",fields:{code:"Organisation Code",name:"Organisation Name"}},departments:{name:"Sub Program |||| Sub Programs",fields:{code:"Sub Program Code",name:"Sub Program Name",organization_id:"Organisation Name",vote_id:"Vote"}},funds:{name:"Fund |||| Funds",fields:{code:"Fund Code",name:"Fund Name"}},"fund-sources":{name:"Source of Fund |||| Source of Funds",fields:{code:"Source of Fund Code",name:"Source of Fund Name",fund_id:"Fund Name"}}},Object(N.a)(bj,"votes",{name:"Vote |||| Votes",fields:{code:"Vote Code",name:"Vote Name"}}),Object(N.a)(bj,"vote-functions",{name:"Program Outcome|||| Program Outcomes",fields:{code:"Program Code",name:"Program Name",vote_id:"Vote Name"}}),Object(N.a)(bj,"outcomes",{name:"Outcome |||| Outcomes",fields:{name:"Outcome Title"},actions:{create:"Create Outcome",edit:"Manage Indicators"}}),Object(N.a)(bj,"outputs",{name:"Output |||| Outputs",fields:{outcome_ids:"Outcomes",name:"Output Title",description:"Output Description",tech_specs:"Technical Specifications",alternative_specs:"Alternative Specifications",vote_id:"Output Votes",output_value:"Output Quantity",unit_id:"Unit",investments:{name:"Outputs Investments",fields:{fund_id:"Fund",fund_source_id:"Fund sources",total:"Total",cost_classification_id:"Cost Classification",cost_category_id:"Cost Category"},actions:{edit:"Estimated Cost"}}},actions:{create:"Create Output",edit:"Manage Indicators",editCosts:"Estimated Cost"}}),Object(N.a)(bj,"indicators",{name:"Indicator |||| Indicators",fields:{name:"Indicator Name",baseline:"Baseline",verification_means:"Verification Means",assumptions:"Assumptions",risk_factors:"Risk Factors",target:"Target"}}),Object(N.a)(bj,"phases",{name:"Phase Name",phase_1:"Project Concept",phase_2:"Project Profile",phase_3:"Pre-feasibility",phase_4:"Feasibility",phase_5:"Project Proposal",phase_6:"Budgeting",phase_7:"Implementation",phase_8:"Ex-Post Evaluation"}),Object(N.a)(bj,"breadcrumbs",{phase_1:"Concept",phase_2:"Profile",phase_3:"Pre-feasibility",phase_4:"Feasibility",phase_5:"Proposal",phase_6:"Budgeting",phase_7:"Implementation",phase_8:"Ex-Post Evaluation"}),Object(N.a)(bj,"project-categories",{name:"Project Category |||| Project Categories",fields:{project_categories_id:"Project Category Id",title:"Project Category Title",last_phase_id:"Last Phase"}}),Object(N.a)(bj,"activities",{name:"Activity |||| Activities",fields:{procurement_amount:"Procurement Amount",procurement_details:"Procurement Details",procurement_contract_sign:"Procurement Contract Sign",procurement_start_date:"Procurement Start Date",procurement_method:"Procurement Method",cost_plan_activities:"Cost Plan Activity",contract_signed_date:"Contract Sign Date",amount:"Amount",name:"Activity Name",start_date:"Start date",end_date:"End date",description:"Activity Description",output_ids:"Activity Outputs",vote_id:"Activity Votes",investments:{name:"Activities Investments",fields:{fund_id:"Fund",fund_source_id:"Fund sources",total:"Total",cost_classification_id:"Cost Classification",cost_category_id:"Cost Category"},actions:{edit:"Estimated Cost"}}}}),Object(N.a)(bj,"project_options",{name:"Options Analysis",fields:{title:"Title",description:"Description",cost:"Cost (UGX)",score:"Total Score",funding_modality:{title:"Preferred funding modality",title_pfs:"Preferred Implementation modality",PROCUREMENT:"Traditional procurement",procurement:"Traditional procurement",PARTNERSHIP:"Public private partnership",partnership:"Public private partnership"},is_preferred:"Preferred Alternative",justification:"Justification of the Preferred Alternative",modality_justification:"Justification for the Preferred Funding Modality",modality_justification_pfs:"Justification for the Preferred Implementation Modality",stepper:{description:"Description",building_blocks:"Building Blocks",analytical_modules:"Analytical Modules",best_option:"Preferred Alternative Selection"},building_blocks:{title:"Building Blocks",description:"Description",advantage:"Advantages",disadvantage:"Disadvantages",score:"Score",modules:{demand_module:"Demand Analysis",technical_module:"Technical & Engineering",environmental_module:"Environmental",hr_module:"HR requirements",legal_module:"Legal assessment"},demand_module:{present_supply:"Current Supply",present_demand:"Current Demand",deficit:"Deficit",demand_projections:"Demand Projections"}},analytical_modules:{title:"Analytical Modules",description:"Description",advantage:"Advantages",disadvantage:"Disadvantages",score:"Score",appraisal_methodology:{title:"Appraisal Methodology",cea:"CEA",cba:"CBA"},financial_evaluation:{fnpv:"FNPV (UGX bln.)",irr:"IRR %",summary:"Financial Analysis Details"},economic_evaluation:{enpv:"ENPV (UGX bln.)",err:"ERR %",summary:"Economical Analysis Details"},criterias:{title:"Cost Effectiveness Results",criteria_title:"Title",criteria_value:"Value",measure_unit:"Measure unit"},stakeholder_evaluations:{name:"Identity of the Stakeholder",description:"Description",impact_sign:{title:"Impact",positive:"Positive",negative:"Negative"},beneficiary:{title:"Relation",direct:"Direct",indirect:"Indirect"}},risk_evaluations:{description:"Description",occurrence:"Likelihood of Occurrence",impact:"Impact",levels:{low:"Low",medium:"Medium",high:"High",very_high:"Very High"},mitigation_plan:"Mitigation Plan"},modules:{financial:"Financial",economic:"Economic",distributional:"Distributional",risk:"Risk"}},summary:{title:"Analysis of Alternatives Summary"}}}),Object(N.a)(bj,"risk_factors",{name:"Risk Factor |||| Risk Factors",fields:{risk_level:"Risk Level",measures:"Measures",risk_description:"Risk Description"}}),Object(N.a)(bj,"file-types",{name:"File Type |||| File Types",fields:{is_required:"Is Required",phase_ids:"Project Phases",name:"File Type Name"}}),Object(N.a)(bj,"users",{name:"User Management",fields:{username:"Username",email:"E-mail",fullname:"Full Name",phone:"Phone",vote_id:"Vote",role:"Role",password_hash:"Password",department_id:"Sub Program Name",management_id:"Name of Management",donor_id:"Donors Name",user_roles:"User Roles",roles:"Roles",role_id:"User Role",allowed_organization_ids:"Allowed Organizations",allowed_project_ids:"Access to Other Projects (optional)",is_donor:"Donor"}}),Object(N.a)(bj,"locations",{name:"Location Name",fields:{central:"Region Name",province:"Location Name"}}),Object(N.a)(bj,"costings",{name:"Costing Classification Name"}),Object(N.a)(bj,"fund_sources",{name:"Funds Classification Name"}),Object(N.a)(bj,"cost_classifications",{name:"Costing Classification Name"}),Object(N.a)(bj,"cost_categories",{name:"Cost Categories |||| Cost Categories"}),Object(N.a)(bj,"cost-classifications",{name:"Cost Classification |||| Cost Classifications",fields:{code:"Code",name:"Name",cost_category_id:"Cost Category"}}),Object(N.a)(bj,"workflow-chart",{name:"Workflow Name"}),Object(N.a)(bj,"workflows",{name:"Workflow Name"}),Object(N.a)(bj,"currency-rates",{name:"Currency Rate Name"}),Object(N.a)(bj,"units",{name:"Unit Name"}),Object(N.a)(bj,"currencies",{name:"Currency Name"}),Object(N.a)(bj,"cost-categories",{name:"Cost Categories |||| Cost Categories",fields:{code:"Code",name:"Name",expenditure_type:"Expenditure Type"}}),Object(N.a)(bj,"me-workflows",{name:"M&E Workflow"}),Object(N.a)(bj,"me-reports",{name:"M&E Report",fields:(vj={me_liabilities:{amount:"Amount",due_date:"Due Date",description:"Description"},environmental_issues:"Environmental and Safe Guard Issues",methodology:"Methodology",effectiveness_date:"Effectiveness Date",disbursement:"Disbursement requested for the next quarter",signed_date:"Contract Signed Date",challenges:"Challenges",recommendations:"Recommendations",lessons_learned:"Lessons Learned",fund_source:"Source of Funds",budget_supplemented:"Budget Supplemented",actual:"Actual",risk:"Risk",quarter:"Quarter",year:"Year",data_collection_type:"Data Collection Type",me_outputs:"Outputs",unit:"Output Unit",output_progress:"Output Progress",output_value:"Planned Output Quantity",indicators:"Indicators",target:"Achieved Target",planned_target:"Planned Target",me_activities:"Activities",status:"Status",expected_completion_date:"Expected Completion Date"},Object(N.a)(vj,"challenges","Challenges"),Object(N.a)(vj,"measures","Measures"),Object(N.a)(vj,"allocation_challenges","Allocation Challenges"),Object(N.a)(vj,"budget_appropriation","Budget Appropriation"),Object(N.a)(vj,"allocation_measures","Allocation Measures"),Object(N.a)(vj,"financial_execution","Financial Execution"),Object(N.a)(vj,"execution_challenges","Execution Challenges"),Object(N.a)(vj,"execution_measures","Execution Measures"),Object(N.a)(vj,"next_budget_appropriation","Next Budget Appropriation"),Object(N.a)(vj,"me_releases","Releases"),Object(N.a)(vj,"type","Type"),Object(N.a)(vj,"government","Government"),Object(N.a)(vj,"donor","Donor"),Object(N.a)(vj,"budget_allocation","Budget Allocation"),Object(N.a)(vj,"me_type","Type of M&E Methodology"),Object(N.a)(vj,"remarks","Remarks"),Object(N.a)(vj,"overall_project_rating","Overall Project Rating"),vj)}),Object(N.a)(bj,"investments",{fields:{target:"Target"}}),bj)},Mj={tooltips:{resources:{project:{myc_data:{funding_source:"Funding Source",start_date:"Start Date ",end_date:"End Date ",status:"Project Status",classification:"Project Classification",start_spending:"Spending since start of project",approved_budget:"Approved Budget FY 1",estimate_areas:"Estimate of Arrears at end of the current FY 1",counterpart_funding:"Counterpart Funding signed agreements only (value FY 1)",cash_required:"Cash Required for Commitments (FY 1)",arrears_contractual:"Arrears + All Contractual Commitments (FY 1 )",estimate_f2:"FY 2 ",estimate_f3:"FY 3 ",estimate_f4:"FY 4 ",estimate_f5:"FY 5 ",outstanding_commitments:"Outstanding Commitments",cumulative_expenditure:"Cummulative expenditure to end June FY0 + Approved budget + Total Estimates",approved_project_costs:"Approved Project Costs by DC as indicated in the PIP",mda_comments:"Comments from MDA (Important information or assumptions when populating the template)"}},"me-reports":{name:"M&E Report",fields:{start_date:"Start Date",end_date:"End Date",effectiveness_date:"Indicate the date agreed upon by the implementing agency and the external funder when the project will commence in the financing agreement.",disbursement:"Disbursement requested for the next quarter",signed_date:"Contract Signed Date",financing_agreement_date:"Indicate the specific date the financing agreement was signed. ",summary:"summarize the vital information in the monitoring report which includes components like implemented outputs, financial performance challenges, recommendations and lessons learned.",rational_study:"Describe the scope and provide a brief explanation of the report.",methodology:"Describe the approach & methodology used during monitoring of the project.",risk_description:"Describe the likely risks that may impact project implementation",risk_response:"Identify the strategies to address the likely risks affecting the project",challenges_measures:"Identify the challenges that are affecting implementation of the project output and measures to overcome these challenges.",quarter:"Indicate the quarter for the reporting period",year:"Indicate the reporting financial year",data_collection_type:"Indicate the method used in gathering information on the targeted variables i.e surveys, interviews, observation and experiment",me_outputs:"Outputs",output_progress:"Indicate the percentage of completion of the project output.",indicators:"Indicators",target:"What is the achieved output value at a given reporting period?",me_activities:"Activities",status:"Status",expected_completion_date:"Expected Completion Date",challenges:"Describe the problems encountered during project implementation and how this affected project implementation.",lessons_learned:"Please detail the lessons learned both positive and negative during project implementation.",recommendations:"Describe the measures that were or can be implemented to address the problems encountered during project implementation.",measures:"Measures",issue_recommendations:"Describe the measures that can be implemented to overcome the challenge identified.",issue_challenges:"Identify the problem affecting progress of the project implementation.",allocation_challenges:"Allocation Challenges",budget_appropriation:"Budget Appropriation",allocation_measures:"Allocation Measures",financial_execution:"Financial Execution",execution_challenges:"Execution Challenges",execution_measures:"Execution Measures",next_budget_appropriation:"Next Budget Appropriation",me_releases:"Releases",type:"Type",government:"Government",donor:"Donor",budget_allocation:"Budget Allocation",me_type:"Select the type of M&E methodology used",approved_budget:"Indicate the approved funds for the project.",revised_budget:"Indicate the revised funds for the project.",budget_released:"Indicate the approved funds that have been released for the project implementation.",release_spent:"Indicate the funds that have been spent on the project implementation so far.",source_of_funds:"Identify the source of funds",remarks:"Remarks",overall_project_rating:"Overall Rating"}},roles:{fields:{name:"Role Name",is_deleted:"Is Deleted",permissions:"permissions",organization_level:"organization_level",has_allowed_projects:"has_allowed_projects"}},om_costs:{om_fund_id:"Select the fund name from which the operation and maintenance cost will be obtained from.",om_fund_source_id:"Select the source from where the operation and maintenance cost will be got from",om_cost_category_id:"Select the cost category of the expense",om_cost_classification_id:"Select the cost classification of the expense",om_years:"Identify the amounts that will be spent for each financial year."},reports:{projects_by_location_help:"Turn on/off selectors to filter projects showed on geo map",projects_by_location_filters:"Select Sector or Vote to filter projects showed on geo map"},projects:{fields:{project_no:"A unique project identification number that can be used to track the project throughout its lifecycle.",created_by:"User that created project",created_at:"Submission Date",phase_id:"Phase of the project.",status:"Status of the project.","workflow.status":"Workflow Step"}},"project-details":{fields:(Ej={expected_fund_source:"Expected fund source",national_scope:"Interventions that directly target growth in key highly poverty hit regions as identified in the NDP III. For example Bukedi, Busoga, Bugisu, Karamoja, Teso, West Nile, Acholi and Bunyoro.",procurement_plan_description:"Describe how goods and services will be acquired from outside your entity such as source. Clearly specify the type of contracts that will be, the processes for obtaining and evaluating the bids and describe how the various providers will be managed. Describe how procurement activities will be managed. ",work_plan_description:"Describe how the project costs will be managed over runs, budget cuts etc.",behavior_knowledge_products:"What knowledge products or transfer activities will be developed or conducted as part of this project?",behavior_project_results:"How will your project results reach your target population(s) and how do you plan to follow-up?",behavior_measures:"What measures have been put in place to ensure that this problem does not occur again",vote:"This is a self accounting entity",central:"Identify the place where the project is going to be executed.",classification:"Social Investments -\tThese are projects with investments aimed at improving the social welfare of citizens or those that will result into creation of intangible assets that are declared as Government assets in the Charter of accounts(Transfer, funds, seedling).|\n          Infrastructure Project -\tThis is a capital investment aimed at the acquisition or rehabilitation of fixed capital assets based which belong to Government of Uganda.|\n          Studies\t- These only consider complex studies leading to viability of the project of which will assist in Physical planning.|\n          Retooling Project -\tThese projects assist MDA acquire fixed assets needed to support staff in executing the delivery of services.  The fixed assets shall exclude construction of office space, land acquisition and acquisition of heavy duty equipment.",responsible_officers:{title:"This is the officer responsible for the project.",coordinator:"This is the Officer implementing the project.",name:"Officer Name",phone:"Officer Phone",email:"Officer Email",mobile_phone:"Officer Mobile Phone",organization_name:"Officer Organization Name",address:"Officer Address"},current_investment_ratio:"Capital to Recurrent Ratio",title:"Let it be as clear as possible, avoiding duplication of names within the Public Investment Plan",summary:"Provide a detailed technical description detailing the project planning elements required to achieve the project outcome.",start_date:"Indicate the financial year in when the project is expected to commence.",end_date:"The expected date of the project construction completion",duration:"Estimate the project construction timeline",location:"Precisely identify all the districts where the project will be located.",geo_location:"Geo Location",province:"Province",estimated_lifetime:"Operational life of the project after construction is completed. A typical operational lifetime of infrastructure project range from 10 to 25 years.",is_dlp:"Select if project has a defect liability period.",liability_period:"Defect Liability Period of the project. Enter number of years.",is_omp:"Select if project has operation & maintenance Period",evaluation_period:"Number of years after project completion",maintenance_period:"Operational life of the project after construction is completed. A typical operational lifetime of infrastructure project range from 10 to 25 years.",introduction:"Introduction",implementing_agencies:"Agencies responsible for delivery of the project outputs.",project_categories_id:"Project Category",situation_analysis:"Provide a background to the project idea or the problem your project will focus on by: (i) describing current situation including past and on-going interventions; ii) recent developments in the area of interest, achievements and challenges if any, iii) Explain projected trends using published forecasts. Quote official statistics to support your narrative.",situation_analysis_file:"Provide a background to the project idea or the problem your project will focus on by;\n\t(i) describing the current situation including past and on-going interventions, recent developments in the area of interest, achievements and challenges if any.\n        Quote official statistics to support your narrative.\n\t(ii) Explaining projected trends using published forecasts\n        ",problem_statement:"Provide an explicit definition of the problem to be addressed in terms of challenges, constraints or gaps that the market or private sector cannot resolve and:\n\ti.\t Mention the likely causes of the problem both direct and indirect and\n\tii.\t Give a brief insight of the likely consequences if no government intervention is made.",problem_statement_file:"Provide an explicit definition of the problem to be addressed in terms of challenges, constraints or gaps that the market or private sector cannot resolve.",problem_cause:"Please provide the likely causes of the problem both direct and indirect.",problem_causes_file:"Problem Causes Attachment",problem_effects:"Please provide a brief insight of the likely consequences if no government intervention is made.",problem_effects_file:"Problem Effects Attachment",justification:"Justify the need for the proposed project by: (i) linking the project to the National Development Plan (NDP) strategic interventions by identifying the objective (s) that the proposed project is expected to contribute to; (ii) Linking the proposed project to Sector Investment Plan (SIP) objectives by describing the sector outcomes that the project is expected to impact.",sustainability_plan:"Sustainability Plan",me_strategies:"Monitoring and Evaluation Strategies",justification_file:"Justification Attachment",stakeholders:"Identify the key stakeholders that are likely to be affected by the interventions including: (i) Direct Beneficiaries (ii) Indirect Beneficiaries (iii) Project Affected Persons.  Give a brief description of the likely impact of the project on the stakeholders.",government_agencies:{name:"Identify the government agency that will take part in the project implementation",details:"Describe the specific activities and issues for which the identified government agency will coordinate the implementation and it`s role",description:"Describe the specific activities and issues for which the identified government agency will coordinate the implementation and it`s role"},stakeholder:{name:"Stakeholder Name",affected_population:"Indicate the stakeholders / project affected persons for this project categories disaggregated in gender, vulnerability, economic activities etc.",responsibilities:"Identify the persons group or organization that are involved in delivery or affected by a particular project. (i) Direct Beneficiaries (ii) Indirect Beneficiaries (iii) Project Affected Persons. "},evaluation_methodology:"Evaluation Methodology",achieved_outcomes:"Achieved Outcomes",deviation_reasons:"Deviation Reasons",measures:"Measures",lessons_learned:"Lessons Learned",in_ndp:{title:"Please select National Development Plan if the project is included in the plan. Select Other if project is included in other strategic directives.",yes:"Yes",other:"Other"},ndp_type:{title:"Please identify the NDP type in which the project belongs to",core:"NDP Core Projects",priority:"NDP Priority Area"},ndp_number:"Project NDP Number",ndp_name:"Project Name",ndp_page_no:"Page in NDP",ndp_focus_area:{null:"",title:"Identify the focus area of the project",wealth_creation:"Wealth Creation",inclusive_growth:"Inclusive growth",competitiveness:"Competitiveness"},ndp_intervention:"Identify the suitable intervention from the NDP to which the project is focusing on.",ndp_strategic_directives:"Other Strategic Directives",other_plans:{development_partners:"Development partners",cabinet_directives:"Cabinet directives",parliament_approval:"Parliament approval",stare_owned_enterprise:"Stare owned enterprise",regional_integration_policy:"Regional integration policy",political_manifestos:"Political manifestos",interest_groups_or_beneficiaries:"Interest groups or beneficiaries",private_sponsors:"Private sponsors",sustainable_development_goals:"Sustainable development goals"},ndp_plan_details:"Give a clear description of the project in relation to the NDP",officer_title:"Officer Title",officer_name:"Officer Name",officer_phone:"Officer Phone",officer_email:"Officer Email",officer_mobile_phone:"Officer Mobile Phone",rational_study:"Please provide a detailed description / justification for undertaking the project",methodology:"Please describe the approach and methodology adopted in conducting the Pre- Feasibility Study.",organization_study:"Describe how the Pre-Feasibility Study is organized.",organization_study_pfs:"Organisation of the Pre-feasibility Study",organization_study_fs:"Organisation of the Feasibility Study",other_info:"Provide any additional information necessary for the project",attachments:{title:"Mandatory attachments",add:"Add Attachment"},benefits:"Benefits",goal:"Describe the project goal.  This should be in relation to the development objective that the project is designed to contribute to.  Identify an indicator that will be used to measure success of the project against the goal and briefly explain how information on this indicator shall be obtained.",commentaries:"Commentaries",files:"Project Files",demand_analysis:"Identifies the need for public investment by assessing: (i) current demand (based on statistics provided by service suppliers/ regulators/ ministries/ national and regional statistical offices for the various types of users); (ii) future demand (based on reliable demand forecasting models) in both the scenarios with- and without the project",demand_analysis_files:"Demand Analysis Files",pre_feasibility_cost:"Pre-Feasibility Cost",pre_feasibility_consultants:"Pre-Feasibility Consultants",strategic_analysis:"Strategic Analysis",strategic_alignment:"Strategic Alignment",financing_modality:"Financing Modality",feasbility_cost:"Feasibility Cost",feasibility_consultants:"Feasibility Consultants",feasibility_funds_request:"Feasibility Funds Request",env_impact_assessment:"Environmental Impact Assessment",technical_design:"A summary of the proposed project solution shall be presented with the following headings\n(i)\tLocation: description of the location of the project including a graphical illustration (map). Availability of land is a key aspect: evidence should be provided that the land is owned (or can be accessed) by the beneficiary, who has the full title to use it, or has to be purchased (or rented) through an acquisition process. In the latter case, the conditions of acquisition should be described. The administrative process and the availability of the relevant permits to carry out the works should also be explained.\n(ii)\tTechnical design: description of the main works components, technology adopted, design standards and specifications. Key output indicators, defined as the main physical quantities produced (e.g. kilometers of pipeline, number of overpasses, number of trees planted, etc.), should be provided.\n(iii)\tProduction plan: description of the infrastructure capacity and the expected utilization rate. These elements describe the service provision from the supply side. Project scope and size should be justified in the context of the forecasted demand.",production_plan:"Production Plan",hr_requirements:"HR Requirements",legal_assessment:"Legal Assessment",financial_evaluation:"Financial/Private Evaluation",economic_evaluation:"Economic/Social Evaluation",risk_evaluations:"Risk Evaluation",distributional_assessment:"Distributional Assessment",exec_management_plan:"Describe the key headline information from the components of the feasibility study assessment the option evaluated, key results and recommendations.",sustainability_assessment:"Sustainability Assessment",pcn_outcome:"Outcomes",pcn_interventions:"Interventions",investments:"Investment Costs",in_ndpi:"Already Existing in NDPI",in_ndpii:"Already Existing in NDPII",in_mfped:"Already Existing in MFPED PIP",strategic_other_plan:"Strategic Other Plan",strategic_considerations:"Other Strategic Considerations",strategic_fit:"Strategic Fit"},Object(N.a)(Ej,"strategic_alignment","Strategic Alignment"),Object(N.a)(Ej,"baseline","Indicator Baseline Year"),Object(N.a)(Ej,"outcome_targets","Outcome Indicator Target Years"),Object(N.a)(Ej,"output_base","Output Indicator Baseline"),Object(N.a)(Ej,"output_targets","Output Indicator Target Years"),Object(N.a)(Ej,"coordinator_id","Project Coordinator ID"),Object(N.a)(Ej,"me_creator_id","M & E Creator ID"),Ej)},organizations:{fields:{code:"Organisation Code",name:"Organisation Name"}},departments:{fields:{code:"Sub Program Code",name:"Sub Program Name",organization_id:"Organisation Name",vote_id:"Vote Name",sector_id:"Sector Name"}},funds:{fields:{code:"Fund Code",name:"Fund Name"}},"fund-sources":{fields:{code:"Source of Fund Code",name:"Source of Fund Name",fund_id:"Fund Name"}},votes:{fields:{code:"Vote Code",name:"Vote Name",sector_id:"Sector Name"}},"vote-functions":{fields:{code:"Program Code",name:"Program Name",vote_id:"Vote Name"}},sectors:{fields:{code:"Sector Code",name:"Sector Name"}},outcomes:{fields:{name:"Define the project outcomes to include the effects that will follow from the utilization of products or services delivered by the project. These could be the eventual benefits to society that the project interventions are intended to achieve and are reflected in terms of  what people will be able to do better, faster, or more efficiently, or what they could never do before."},actions:{create:"Create Outcome",edit:"For each project outcome identified, you are required to define at least one indicator that will be used to measure performance of the project against the relevant outcome and briefly explain how information on this indicator shall be obtained."}},outputs:{fields:{outcome_ids:"Outcomes",name:"Describe the direct/tangible results that the project is expected to deliver.  These outputs shall be the basis for the components around which the project shall be built. Some examples of project deliverables could be: trainings equipment purchased, ICT backbone developed, infrastructure built / renovated and etc. Outputs are usually the immediate and concrete consequences of the implemented activities and resources used..\n    With the exception of the project management, monitoring and evaluation components, the project outputs should relate to physical assets and must contribute at-least 70% of the total project.",description:"Clearly describe the output. Describe the tangible products and services delivered or competences and capacities established directly as a result of the project",vote_id:"Identify the implementing agency that will undertake the identified output.",output_value:"Quantity",unit_id:"Unit",tech_specs:"Technical Specifications",alternative_specs:"Alternative Specification",investments:{name:"Outputs Investments",fields:{fund_id:"Fund",fund_source_id:"Fund sources",total:"Total",cost_classification_id:"Cost Classification"},actions:{edit:"Estimated Cost"}}}},indicators:{fields:{name:"For each project output identified, you will be required to define at least one indicator that will be used to measure performance of the project against the relevant output and briefly explain how information on this indicator (s) shall be obtained.  This could be through surveys or secondary data sources",baseline:"Identify a standard that will be used to measure the performance of the project",verification_means:"Define the exact source of data that will be used to evaluate and measure performance",assumptions:"Describe the conditions that must be met to obtain the expected project objectives.",risk_factors:"Clearly provide information about the risks that may affect the project activities",target:"Identify the expected performance of the project in each financial year."}},"project-categories":{fields:{project_categories_id:"Project Category Id",title:"Project Category Title",last_phase_id:"Last Phase"}},activities:{fields:{name:"For each output briefly highlight the major activities that you propose to implement in order to achieve the output",start_date:"For the given activity identify the financial year when it\u2019s expected to commerce",end_date:"Provide the expected end date of the define activity",description:"Describe specific details of the activities.",output_id:"For the given activity identify the corresponding output",vote_id:"For the given activity identify the corresponding votes",investments:{fields:{fund_id:"Fund",fund_source_id:"Fund sources",total:"Total",cost_classification_id:"Cost Classification"},actions:{edit:"Estimated Cost"}}}},project_options:{fields:{title:"Describe the title of the option intended to achieve the project objective.",description:"Describe the option identified clearly detailing its components.",cost:"Identify the investment cost for this option",score:"The option score is autogenerated after populating the building blocks",funding_modality:{title:"Identify the preferred funding modality suitable for the option.",title_pfs:"Identify the preferred Implementation modality suitable for the option.",procurement:"Traditional procurement",partnership:"Public private partnership"},is_preferred:"Identify Preferred Alternative",justification:"Provide a detailed description for the selection of the option for the project intervention.",modality_justification:"Provide a detailed description for the selection of the option for the project preferred Funding Modality.",modality_justification_pfs:"Provide a detailed description for the selection of the option for the project intervention.",stepper:{description:"Description",building_blocks:"Building Blocks",analytical_modules:"Analytical Modules",best_option:"Preferred Alternative Selection"},building_blocks:{description:{demand_module:"Describe the nature and source of demand, nature of the market, prices and qualities of the project.",technical_module:"Determine and specify in detail the technical parameters, investment and operational costs",environmental_module:"Determine and specify the environmental impacts and risks, possible compensation for the ecological damages and where possible qualify the environmental impacts.",hr_module:"Determine the human resource requirements for implementation and operation, in terms of quantities and specialties; identifies the sources of the work force and the cost of employing them. In addition, determine the management capacity and the functional structure of the operating entity.",legal_module:"Describe the legal restrictions that may obstruct or impede construction or operation, for example, limitations in localization and in the use of land, special tax considerations, and guarantees in the case of Public- Private Partnership among others."},advantage:{demand_module:"Identify the advantages of the option in relation to demand module",technical_module:"Identify the advantages of the option in relation to the technical and engineering module",environmental_module:"Identify the advantages of the option in relation to the environmental module",hr_module:"Identify the advantages of the option in relation to the HR requirement module",legal_module:"Identify the advantages of the option in relation to the legal assessment module"},disadvantage:{demand_module:"Identify the disadvantages of the option in regard to demand module.",technical_module:"Identify the disadvantages of the option in relation to the technical and engineering module",environmental_module:"Identify the advantages of the option in relation to the environmental module",hr_module:"Identify the disadvantages of the option in relation to the HR requirements module",legal_module:"Identify the disadvantages of the option in relation to the legal assessment module"},score:"Score",modules:{demand_module:"Demand Analysis",technical_module:"Technical & Engineering",environmental_module:"Describe and specify the economic effects of environmental norms and possible compensations for ecological damages. Key questions to address:\nThe likely environmental impacts from undertaking project?\n(i)\tWhat is the cost of reducing the negative impact?\n(ii)\tEvaluation of the environmental impacts and risks with and without\n(iii)\tTechnical measures are taken to reduce these impacts?\n(iv)\tAre there alternative ways of supplying the good or service of project without incurring these environmental costs?\n(v)\tWhat are the costs of these alternatives?",hr_module:"Point out the human resource requirements for implementation and operation, in terms of quantities and specialties; identifies the sources of the work force. Also it determines the management capacity and the functional structure of the operating entity.  Key Issues to be addressed:\n(i)\tWhat are the managerial and labour needs of the project?\n(ii)\tDoes organisation have the ability to get the managerial skills\nNeeded?\n(iii)\tIs timing of project consistent with quantity and quality of\n(iv)\tManagement?\n(v)\tWhat are wage rates for labour skills required?\n(vi)\tManpower requirements by category are reconciled with\n(vii)\tavailabilities and project timing.",legal_module:"Studies the legal restrictions that may obstruct or impede construction or operation, for example, limitations in localization and in the use of soil, special tax considerations in the case of public\u2013private partnerships, etc.\n(i)\tIs the entity that is supposed to manage the project properly\norganized and its management adequately equipped to handle the\nProject?\n(ii)\tAre the capabilities and facilities being properly utilized?\n(iii)\tIs there a need for changes in the policy and institutional set up\n(iv)\tOutside this entity? What changes may be needed in policies of the Local, regional and central governments?"}},analytical_modules:{description:"Description",advantage:"Advantages",disadvantage:"Disadvantages",score:"Score",appraisal_methodology:{title:"Appraisal Methodology",cea:"CEA",cba:"CBA"},financial_evaluation:{appraisal_methodology:"Select the appraisal methodology to be used either CBA or CEA",fnpv:"State the Financial Net Present Value obtained using the selected appraisal methodology",irr:"State the Internal Rate of Return obtained using the selected appraisal methodology",summary:"Describe the financial costs and benefits at market prices, studies alternative financial leverage methods.\n(i)\tIntegration of financial and technical variables from demand module, technical module, and management module\n(ii)\t Construct cash flow (resource flow) profile of project\n(iii)\tIdentify key variables for doing economic and social analysis\n\nKey questions:\na. What is relative certainty of financial variables?\nb. What are sources and costs of financing?\nc. What are minimum cash flow requirements for each of the stakeholders?\nd. What can be adjusted to satisfy each of the stakeholders?"},economic_evaluation:{appraisal_methodology:"Select the appraisal methodology to be used either CBA or CEA",enpv:"State the Economic Net Present Value obtained using the selected appraisal methodology",err:"State the Economic Rate of Return obtained using the selected appraisal methodology",summary:"Economic adjustments from financial data using conversion factors; after that, costs and benefits are appraised from the point of view of the entire economy.\n(i)\tExamines the project using the whole country as the accounting\nentity\n(ii)\tEvaluation of externalities including environmental\n(iii)\tWhat are differences between financial and economic values for a\nVariable?\n(iv)\tWhat causes these differences?\n(v)\tWith what degrees of certainty do we know values of these\nDifferences?\n(vi)\tWhat is the expected value of economic net benefits?\n(vii)\tWhat is the probability of positive economic feasibility?"},criterias:{title:"Cost Effectiveness Results",name:"Cost Effectiveness Results",criteria_title:"Describe the Cost Effectiveness Analysis method that will be used",criteria_value:"State the value obtained using the CEA method selected",measure_unit:"Identify the measurement units that are used in the analysis"},stakeholder_evaluations:{name:"Identify the stakeholder that will be affected by the project",title:"Identify the stakeholder that will be affected by the project",description:"Give a detailed description of the stakeholder.",impact_sign:{name:"Select the likely impact of the project on the stakeholders",title:"Select the likely impact of the project on the stakeholders",positive:"Positive",negative:"Negative"},beneficiary:{name:"Identify the relationship of the stakeholder to the project",title:"Identify the relationship of the stakeholder to the project",direct:"Direct",indirect:"Indirect"}},risk_evaluations:{description:"identify the uncertainty that may arise during the lifetime of the project.",occurrence:"Select the likelihood of occurrence of the uncertainty",impact:"Select the impact of the risk on the project",levels:{low:"Low",medium:"Medium",high:"High",very_high:"Very High"},mitigation_plan:"Identify and generate guidance on how to reduce the exposure of the risk through different contractual clauses."},modules:{financial:"Financial",economic:"Economic",distributional:"Distributional",risk:"Risk"}}}},risk_factors:{fields:{risk_level:"Risk Level",measures:"Measures",risk_description:"Risk Description"}},"file-types":{fields:{is_required:"Is Required",phase_ids:"Project Phases",name:"File Type Name",extensions:"File Type Extension"}},users:{name:"User Management",fields:{username:"Username",email:"E-mail",fullname:"Full Name",phone:"Phone",vote:"Vote",role:"Role",password_hash:"Enter New Password",sector_id:"Sector Name",vote_id:"Vote Name",department_id:"Sub Program Name",sector_ids:"Name of Sectors",donor_id:"Donors Name",user_roles:"User Roles"}},"cost-classifications":{fields:{code:"Code",name:"Name",cost_category_id:"Cost Category"}},"cost-categories":{fields:{code:"Code",name:"Name",expenditure_type:"Expenditure Type"}}},workflow:{assign:"Select assigned user",decision:"Input decision reason",assign_user:"Assigned user"},completionReport:{actual_start_date:"Identify the date in which the project commenced",actual_end_date:"Identify the date in which the project ended",actual_specifications:"Describe the actual output specifications",initial_completion_date:"Identify the initial intended completion date",actual_completion_date:"Identify the actual completion date.",related_challenges:"Describe the challenges encountered by the identified output.",short_term_outcomes:"What short term outcomes have been achieved by the project.",impacts:"What long-term impact is expected from the project.",challenges_and_recommendations:"Describe the problems encountered during project implementation, risks actualized and how they affected project implementation. What measures were implemented to address the problems.",lessons_learnt:"Outline the lessons learned during the implementation of this intervention.",future_considerations:" List any continuing development and operational objectives. What actions still need to be completed, and who is responsible for completing them? List any additional outstanding project activities?",financial_sustainability_plan:"Outlines the financial sustainability strategies for the intervention. ",environmental_sustainability_plan:"Identify the strategies to conserve natural resources and protect global ecosystems to support health and wellbeing for this project. ",project_achievements:"Describe the project achievements against the workplan"},help:"Help",notifications:"Notifications"}},Wj=Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({common:{home:"Home",avatar:{loadingPrimary:"Loading",loadingSecondary:"The avatar is loading, just a moment please"}}},Sj.a),{buttons:{goals_indicators:"Manage Project Indicators",project_indicators:"Manage Project Indicators",outcomes_indicators:"Manage Outcome Indicators",outputs_indicators:"Manage Output Indicators",output_indicators:"Manage Component Indicators",investments:"Allocate Money",activity_investments:"Manage Activity Investments",output_investments:"Manage Component Investments",show_map:"Show Map",hide_map:"Hide Map",assign:"Assign",approve:"Approve",conditionally_approve:"Conditional Approval",revise:"Revise",reject:"Reject",select_file:"Select File",upload:"Upload",delete:"Delete",submit:"Submit",back:"Back",next:"Next",save_exit:"Save And Exit",create:"Create a Project",timeline:"Timeline",close:"Close",logout:"Logout",account:"Account",help:"HELP",profile_edit:"Edit Profile",profile:"Profile",reset_password:"Reset Password",confirm:"Confirm",cancel:"Cancel",save:"Save",allocate_funds:"Allocate Funds",complete:"Complete",export_pdf:"Export in PDF format",export_word:"Export in Word format",export_csv:"Export in XlS format",revoke:"Revoke",budget_allocation:"Appropriated Budget",project_management:"Project Management",notes:"Notes",validate:"Validate",differ:"Defer"}}),{messages:{project_is_completed:"Project is Completed","You have new messages":"You have new messages",project_management_saved:"Project Saved",project_management_error:"Failed to save the project",project_has_validation_errors:"Please fill in the values marked as required","Failed to fetch":"Failed to fetch",project_reject_confirmation:"Are you sure you want to reject this project?",reset_password:"Reset Password",reset_password_confirmation:"Are you sure you want to reset the password?",reset_password_error:"Your password wasn`t changed.",reset_password_success:"New password was sent to your email",high_risk_project:"High Risk Project!",unathorised:"Incorrect user name and password.",new_messages:"You have new messages",saving_data:"Data is saving, please wait",loading_data:"Data is loading, please wait",file_uploaded:"File was uploaded",file_deleted:"File was deleted",file_ext_error:"You should select correct file",all_steps_completed:"All steps completed!",max_outcomes:"Maximum 2 outcomes per project",max_outcomes_per_output:"Maximum 2 outcomes per output",min_activity_per_output:"At least 1 activity per output",max_shortlisted_options:"Maximum 3 shortlisted options",min_selected_option:"At least 1 shortlisted options must be selected",max_best_option:"Maximum 1 Preferred Alternative",min_best_option:"At least 1 Preferred Alternative must be selected",no_files:"No files uploaded",no_file_type:"File type",no_file_action:"Not Uploaded",no_outcomes:"At least one outcome has to be filled",no_outputs:"At least one output has to be filled",om_cost:"This project does not have Operation & Maintenance Period. You can change it in Summary Section.",options_blocks_all:"All building blocks must be filled",options_evaluation_all:"All Analytical Modules must be filled",options_blocks_single:"You should asses every building block",options_required:"All Required fields must be filled",options_summary:"All Description Fields must be filled",duplicate_project_title:"You are about to create a project with a name that already exist in the database. Are you sure you want to proceed?",year:"Year"}}),Mj),Ij),{timeline:{status:{submit:"Project Submitted",approve:"Approved",revise:"Revise",reject:"Rejected"},title:"Flow of Approvals",event_title:"Project Status Information",submitted:"Project Submitted",draft:"Draft",conditionally_approved:"Conditionally Approved",approved:"Approved",revised:"Revise",rejected:"Rejected","in pipeline":"In Pipeline",completed:"Completed",assigned:"Assigned",by:"by",date:"Date",comments:"Comments",no_data:"Creation of a project is in progress.",phase:"Phase",files:"Files",not_pap_status:"Waiting for DC decision",hidden_phase_status:"Approved at ",in_pipeline:"In Pipeline",ongoing:"Ongoing",post_evaluation:"Ex-Post Evaluation"}}),{printForm:{behavior:{title:"Behavior Changes",behavior_knowledge_products:"Behavior knowledge products",behavior_project_results:"Behavior project results",behavior_measures:"Behavior measures"},introduction:{title:"Introduction"},project_framework:{title_logical:"Logical Framework",title:"Project Framework",goal:"Project Goal",outcome:"Outcome |||| Outcomes",output:"Output |||| Outputs",activity:"Activity |||| Activities"},result_matrix:{indicator:"Performance Indicators",indicator_title:"Indicator",means:"Means of Verification",assumption:"Assumptions",risks:"Risks",baseline:"Baseline",target:"Target",project_goal:"Project Goal",activities_title:"Activities to achieve the outputs",annual:"Annual",actual:"Actual",risk:"Risk",target_achieved:"Achieved Target"},attachments:{title:"List of Attachments",no_attachments:"No attachments",project_analysis:"Project Analysis:",completion_report:"Completion Report",expost_report:"Ex-Post Evaluation Report"},investments:{title:"Costed Annualized Plan",subtitle:"Project Investment Cost",outputs_title:"Costed Annualized Work Plan",total:"Sub-Total",total_costs:"Total Costs",invest_title:"",code:"Code",name:"Name",funds:"Sources of Funds",period:"Period",fund_id:"Fund"},background:{affected_population:"Affected population",expected_fund_source:"Expected fund source",national_scope:"Regional Balance",procurement_plan_description:"Procurement plan description",work_plan_description:"Work plan description",title:"Project Background",situation_analysis:"Situational Analysis",problem_statement:"Problem Statement",problem_cause:"Problem Causes",problem_effects:"Problem Effects",justification:"Justification",stakeholders:"Stakeholders",location:"Location",geo_location:"Geo Location",technical_description:"Technical Description",government_agencies:"Coordination with Other Government Agencies",government_agencies_empty:"Coordination with Other Government Agencies is empty",strategic_fit:"Strategic Fit",strategic_alignment:"Strategic Alignment",strategic:"Strategic Directive",details:"Details",in_ndp:"Project in NDP",ndp_project_name:"Project Name",ndp_page_no:"Page in NDP",ndp_focus_area:"Focus Area",ndp_intervention:"Interventions",implementing_agencies:"Implementing Agencies",om_costs:"Operation and Maintenance Costs (O&M Costs, UGX)"},workflow:{issues:"Issues",recommendations:"Recommendations"},project_info:{classification:"Classification",extension_reason:"Extension Reason",project_code:"Project Code",budget_allocation_title:"Project Budget Appropriation",budget_allocation:"Project Budget Appropriation",budget_code:"Project Code",signed_date:"Contract Signed Date",workflow_issues:"Issues and Recommendations",evaluation_period:"Evaluation Period",responsible_officers:{title:"Officer Title",name:"Officer Name",phone:"Officer Phone",email:"Officer Email",mobile_phone:"Officer Mobile Phone",organization_name:"Officer Organization Name",address:"Officer Address"},current_investment_ratio:"Capital to Recurrent Ratio",project_no:"Project No",project_title:"Project Title",project_duration:"Project Duration",project_cost:"Estimated Project Cost",officer:"Responsible Officer",officer_name:"Name",officer_contacts:"Contacts",officer_email:"Email",officer_mobile:"Mobile Phone",officer_phone:"Phone",project_date:"Date of Submission",project_approved:{phase_1:"Date of Approval of Concept note",phase_2:"Date of Approval of Concept note",phase_3:"Date of Approval of the Profile",phase_4:"Date of Approval of the Pre-feasibility Study",phase_5:"Date of Approval of the Feasibility Study",phase_6:"Date of Approval of the Budgeting Study",phase_7:"Date of Approval of the Project Implementation Study"},executive_summary:"Executive Summary",additional_info:"Additional Information",gantt_chart:"Gantt Chart",gantt_chart_title:"Output / Activity Title",evaluation_methodology:"Evaluation Methodology",achieved_outcomes:"Achieved Outcomes",deviation_reasons:"Deviation Reasons",measures:"Measures",lessons_learned:"Lessons Learned",ranking_data:"Ranking Data"},funding:{title:"Proposed Fundings",fund:"Fund",ugx:"UGX billion"},options:{title:"Strategic Options Analysis",name:"Option Name",cost:"Project Cost",funding_modality:"Funding Modality",score:"Total Score",modular_scores:"Modular Scores",demand_module:"Demand",tech_module:"Technical",environmental_module:"Environment",hr_module:"HR",legal_module:"Inst. & Legal",detailed_analysis:"Detailed Analysis for",detailed_analysis_empty:"No Detailed Analysis",option_title:"Option",header_title:"Title",description:"Description",advantage:"Advantages",disadvantage:"Disadvantages",cea:"CEA",cba:"CBA",cba_cea:"CBA/CEA",financial_evaluation:{title:"Financial Appraisal",summary:"Summary of Financial Evaluation:",fnpv:"FNPV",irr:"IRR",cba:"CBA",cea:"CEA"},economical_evaluation:{title:"Economic or Social Appraisal",summary:"Summary of Economic Evaluation:",enpv:"ENPV",err:"ERR",cba:"CBA",cea:"CEA",option_title:"Option"},justification:{best_options_empty:"No Preferred Alternative Selected",title:"Justification for the Preferred Project Alternative",description:"Preferred Alternative Description",alternative:"Alternative",alternative_text:"was identified as a best alternative to proceed to the feasibility study stage. Please refer to details below.",details:"Justification for Preferred Alternative",modality:"Justification for the Preferred Funding Modality"},risk_evaluations:{title:"Risk Management",empty:"No Risk Evaluation",description:"Risk Description",occurrence:"Likelihood of Occurrence (Low to Very High)",impact:"Impact (Low to Very High)",mitigation_plan:"Mitigation Plan",analysis:"Risk Analysis for"},stakeholder_evaluations:{title:"Distributional/Stakeholder Impact Assessment",empty:"No stakeholders",number:"s/no",name:"Identity of Stakeholder",impact_sign:"Impact Positive/Negative",beneficiary:"Beneficiary Direct/Indirect",description:"Description",analysis:"Distributional/Stakeholder Analysis for "},criterias:{title:"Cost Effectiveness Results",criteria_title:"Title",criteria_value:"Value",measure_unit:"Measure unit"}},reports:{phase:"Phase",vote_id:"Vote",title:"Project Title",start_date:"Start Date",status:"Project Status",date_modify:"Modified",total_cost:"Total Cost",total_cost_project:"Total",program:"Program",previous_decision:"Previous DC Decision"}}}),{workflow:{va_file_subtitle:"* You must submit PPC Minutes file before submitting the project.",va_additionalFile_subtitle:"* You must submit SWG Minutes file before submitting the project.",workflow_additional_file_upload:"* You must submit DC Minutes file before submitting the project.",workflow_file_upload:"* You must submit project analysis before submitting the project.",assign:"Select assigned user",decision:"Input decision reason",comments:"Comments",assign_user:"Assigned user",messages:{status_change:"Workflow status changed",status_not_change:"Workflow status not changed"},not_pap_status:"Waiting for DC decision"}}),{validation:{me_reports:{year:"Report Year",quarter:"Report Quarter",data_collection_type:"Data Collection Type",me_type:"M&E Type",effectiveness_date:"Effectiveness Date",summary:"Summary",rational_study:"Rational Study",methodology:"Methodology",challenges:"Challenges",recommendations:"Recommendations",lessons_learned:"Lessons Learned",me_outputs:"Outputs Information",me_activities:"Activities Information",issues:"Issues"},outcomes_indicators_empty:"You must enter Indicators for Outcomes! ",outputs_indicators_empty:"You must enter Indicators for Outputs! ",outputs_investments_empty:"You must enter Investments for Outputs! ",activities_investments_empty:"You must enter Investments for Activities! ",government_coordinations:"Coordination with Other Government Agencies",options_appraisal_empty:"You must create at least one option",empty_fields:"These Fields Must Be Filled",ndp_plan_details:"Strategic Alignment Details",sector_id:"Name of Sector",vote_id:"Vote",vote_function_id:"Program Name",pillar_id:"Pillar Name",subprogram_id:"Subprogramm Name",implementing_agencies:"Sectors responsible for implementation",title:"Project Title",summary:"Technical description",start_date:"Start date",end_date:"End Date",location:"Location",geo_location:"Geo Location",administrative_post:"Administrative Post",district_id:"Name Districts",province_id:"Name of Provinces",exec_management_plan:"Executive summary",officer_title:"Title Officer",officer_name:"Name Officer",officer_phone:"Officer Phone",officer_email:"Officer Email",officer_mobile_phone:"Officer Mobile Phone ",situation_analysis:"Situation Analysis",problem_statement:"Problem Identification",problem_cause:"Causes of the Problem",problem_effects:"Effects of the Problem",justification:"Justification",sustainability_plan:"Sustainability Plan",me_strategies:"Monitoring and Evaluation Strategies",stakeholders:"Stakeholders",goal:"Project goal",goal_indicators:"Goals Indicators",outcomes:"Outcomes",outcomes_indicators:"Outcomes  Indicators",outputs:"Outputs",outputs_design:"Output Technical/Alternative Specifications",outputs_indicators:"Outputs Indicators",outputs_investments:"Outputs Cost of Investment",activities:"Activities",activities_investments:"Activities Cost of Investments",baseline:"Baseline of the Result Indicator",ndp_type:"NDP Type",om_costs:"O & M Costs",rational_study:"Rationality of the Study",methodology:"Methodology",organization_study:"Organisation of the PFS and FS",organization_study_pfs:"Organisation of the Pre-feasibility Study",organization_study_fs:"Organisation of the Feasibility Study",beneficiary_analysis:"Analysis of Beneficiaries",strategic_alignments:"Strategic Alignments",project_options:{all_fields:"All Fields",summary:{description:"Description",title:"Title",cost:"Cost",score:"Total Result",funding_modality:"Preferential Financing Mode"},building_blocks:{description:"Description",advantage:"Advantages",disadvantage:"Disadvantages",score:"Score",modules:{demand_module:"Demand Analysis",technical_module:"Technical & Engineering",environmental_module:"Environmental",hr_module:"HR requirements",legal_module:"Legal Evaluation"}},financial_evaluation:{title:"Financial Evaluation",summary:"Financial Analysis Details",fnpv:"FNPV",irr:"IRR",cea:"Cost-Effectiveness Analysis",criterias:"Cost Effectiveness Results"},economic_evaluation:{title:"Economic evaluation",summary:"Summary of economic evaluation",enpv:"ENPV",err:"ERR",cea:"Cost-Effectiveness Analysis",option_title:"Option Title",criterias:"Cost Effectiveness Results"},risk_evaluations:{title:"Risk management",empty:"No risk assessment",description:"Risk Description",occurrence:"Probability of Occurrence (Low to Very High)",impact:"Impact (low to very high)",mitigation_plan:"Mitigation Plan",analysis:"Risk analysis for"},stakeholder_evaluations:{title:"Impact Assessment on Distribution",empty:"No Stakeholders",number:"s/no",name:"Stakeholder Identity",impact_sign:"Positive Impact / Negative",beneficiary:"Direct / Indirect Beneficiary",description:"Description"}}}}),{titles:{project_background:"Project Background",implementing_strategies:"Implemenatation Strategies",drop_files:"Attach files",currency:"UGX",budget_allocation:"Project Funding Allocation",budget_code:"Project Initialization"}}),{comments:{empty:"No Notes",title:"Project Notes",created:"Note was added!",edited:"Note was saved!",deleted:"Note was deleted!",edit_comment:"Edit Note",delete_comment:"Delete Note"}}),{projectSteps:{SUMMARY:"Summary",RESPONSIBLE_OFFICER:"Responsible Officer",PROJECT_BACKGROUND:"Project Background",PROJECT_FRAMEWORK:"Project Framework",DEMAND_ANALYSIS:"Demand Analysis",OPTIONS_ANALYSIS:"Options Analysis",PROJECT_APPRAISAL:"Project Appraisal",FIN_ANALYSIS:"Fin&Econ Analysis",COST:"Costs",RESULT_MATRIX:"Result Matrix",MODULES:"Modules",ADDITIONAL_INFO:"Additional information",OM_COSTS:"O&M Cost",INTRODUCTION:"Introduction",ME_REPORT:"M&E Report",EX_POST_EVALUATION:"Ex-Post Evaluation",BENEFICIARY:"Beneficiary",STRATEGIC_ALIGNMENT:"StrategicAlignment",BEHAVIOR_CHANGE:"Behavior Change"}}),{navigation:{location_config:{1:"Region",2:"Location"},organizational_config:{1:"Vote",2:"Department"},programs_config:{1:"Programs"},functions_config:{1:"Directorate"},fund_config:{1:"Fund",2:"Fund Source"},cost_config:{1:"Cost Category",2:"Cost Classification"},reports:{project_appeals_report:"Appealed Projects",projects_consolidated_monitoring_report:"Consolidated Projects Progress Report",reports_cost_plans:"Cost Annualized Plans",pipeline_report:"Projects in Pipeline",completed_projects_report:"Projects Completed",pipeline_of_projects_report:"Pipeline of Projects",fiscal_load_report:"Fiscal Load",project_cost_evolution_report:"Project Cost Evolution",costs_and_counts_report:"Projects at different stages of the project cycle",projects_ranking_report:"Projects Ranking",projects_location_report:"Project Locations",ibp_usage_report:"IBP User Action Tracking Report",projects_scheduled_dc_report:"Projects Scheduled for DC",projects_for_pap_report:"Project for PAP",projects_waiting_actions_report:"Projects waiting for action",stagnant_projects_report:"Stagnant Projects",donors_projects_report:"Donor Projects",submitted_projects_report:"Submitted Projects",repeated_projects_report:"Repeated Projects",projects_categories_report:"Projects by Categories",projects_myc_report:"MYC Report",project_ranking_report:"Project Prioritization Report",projects_completion_report:"Project Completion Report",projects_monitoring_report:"Periodic Project Monitoring Report",projects_progress_report:"Quarterly/Semi-Annual/Annual project progress Report",projects_public_investment_plan_report:"Project Public Investment Plan Report",projects_contingency_liability_report:"Contingency Liability Report"}}}),Lj={buttons:(jj={project_indicators:"Manage Project Indicators",output_indicators:"Manage Component Indicators",investments:"Manage Investments",activity_investments:"Manage Activity Investments",output_investments:"Manage Component Investments",show_map:"Show Map",hide_map:"Hide Map",assign:"Assign",approve:"Approve",conditionally_approve:"Conditional Approval",revise:"Revise",reject:"Reject",select_file:"Select File",upload:"Upload",delete:"Delete",submit:"Submit",back:"Back",next:"Next",save_exit:"Save And Exit",create:"Create a Project",timeline:"Timeline",close:"Close",logout:"Logout",account:"Account",help:"HELP",profile_edit:"Edit Profile",profile:"Profile",reset_password:"Reset Password",confirm:"Confirm",cancel:"Cancel",save:"Save",allocate_funds:"Allocate Funds",complete:"Complete",export_pdf:"Export in PDF format",export_word:"Export in Word format",export_csv:"Export in XlS format",revoke:"Revoke",budget_allocation:"Appropriate Budget",project_management:"Project Management",notes:"Notes"},Object(N.a)(jj,"timeline","Timeline"),Object(N.a)(jj,"validate","Validate"),jj)},Yj={printForm:(Oj={introduction:{title:"Introduction"},project_framework:{title_logical:"Logical Framework",title:"Project Framework",goal:"Project Goal",outcome:"Outcome |||| Outcomes",output:"Output |||| Outputs",activity:"Activity |||| Activities"},result_matrix:{indicator:"Performance Indicators",indicator_title:"Indicator",means:"Means of Verification",assumption:"Assumptions",risks:"Risks",baseline:"Baseline",target:"Target",project_goal:"Project Goal",activities_title:"Activities to achieve the outputs"},attachments:{title:"List of Attachments",no_attachments:"No attachments",project_analysis:"Project Analysis:"},investments:{title:"Costed Annualized Plan",subtitle:"Project Investment Cost",outputs_title:"Costed Annualized Work Plan",total:"Sub-Total",total_costs:"Total Costs",invest_title:"",code:"Code",name:"Name",funds:"Sources of Funds",period:"Period",fund_id:"Fund"},background:(yj={title:"Project Background",situation_analysis:"Situational Analysis",problem_statement:"Problem Statement",problem_cause:"Problem Causes",problem_effects:"Problem Effects",justification:"Justification",stakeholders:"Stakeholders",location:"Location",geo_location:"Geo Location",technical_description:"Technical Description",government_agencies:"Coordination with Other Government Agencies",government_agencies_empty:"Coordination with Other Government Agencies is empty",strategic_fit:"Strategic Fit",strategic_alignment:"Strategic Alignment",strategic:"Strategic Directive",details:"Details",in_ndp:"Project in NDP",ndp_project_name:"Project Name",ndp_page_no:"Page in NDP",ndp_focus_area:"Focus Area",ndp_intervention:"Interventions"},Object(N.a)(yj,"ndp_project_name","Project Name"),Object(N.a)(yj,"implementing_agencies","Implementing Agencies"),Object(N.a)(yj,"om_costs","Operation and Maintenance Costs (O&M Costs, UGX)"),yj),workflow:{issues:"Issues",recommendations:"Recommendations"},project_info:{workflow_issues:"Issues and Recommendations",evaluation_period:"Evaluation Period",responsible_officers:{title:"Officer Title",name:"Officer Name",phone:"Officer Phone",email:"Officer Email",mobile_phone:"Officer Mobile Phone",organization_name:"Officer Organization Name",address:"Officer Address"},current_investment_ratio:"Capital to Recurrent Ratio",project_no:"Project No",project_title:"Project Title",project_duration:"Project Duration",project_cost:"Estimated Project Cost",officer:"Responsible Officer",officer_name:"Name",officer_contacts:"Contacts",officer_email:"Email",officer_mobile:"Mobile Phone",officer_phone:"Phone",project_date:"Date of Submission",project_approved:{phase_1:"Date of Approval of Concept note",phase_2:"Date of Approval of Concept note",phase_3:"Date of Approval of the Profile",phase_4:"Date of Approval of the Pre-feasibility Study",phase_5:"Date of Approval of the Feasibility Study",phase_6:"Date of Approval of the Budgeting Study",phase_7:"Date of Approval of the Project Implementation Study"},executive_summary:"Executive Summary",additional_info:"Additional Information",gantt_chart:"Gantt Chart",gantt_chart_title:"Output / Activity Title",evaluation_methodology:"Evaluation Methodology",achieved_outcomes:"Achieved Outcomes",deviation_reasons:"Deviation Reasons",measures:"Measures",lessons_learned:"Lessons Learned"},funding:{title:"Proposed Fundings",fund:"Fund",ugx:"UGX billion"}},Object(N.a)(Oj,"introduction",{title:"Introduction"}),Object(N.a)(Oj,"options",{title:"Strategic Options Analysis",name:"Option Name",cost:"Project Cost",funding_modality:"Funding Modality",score:"Total Score",modular_scores:"Modular Scores",demand_module:"Demand",tech_module:"Technical",environmental_module:"Environment",hr_module:"HR",legal_module:"Inst. & Legal",detailed_analysis:"Detailed Analysis for",detailed_analysis_empty:"No Detailed Analysis",option_title:"Option",header_title:"Title",description:"Description",advantage:"Advantages",disadvantage:"Disadvantages",cea:"CEA",cba:"CBA",cba_cea:"CBA/CEA",financial_evaluation:{title:"Financial Appraisal",summary:"Summary of Financial Evaluation:",fnpv:"FNPV",irr:"IRR",cba:"CBA",cea:"CEA"},economical_evaluation:{title:"Economic or Social Appraisal",summary:"Summary of Economic Evaluation:",enpv:"ENPV",err:"ERR",cba:"CBA",cea:"CEA",option_title:"Option"},justification:{best_options_empty:"No Preferred Alternative Selected",title:"Justification for the Preferred Project Alternative",description:"Preferred Alternative Description",alternative:"Alternative",alternative_text:"was identified as a best alternative to proceed to the feasibility study stage. Please refer to details below.",details:"Justification for Preferred Alternative",modality:"Justification for the Preferred Funding Modality"},risk_evaluations:{title:"Risk Management",empty:"No Risk Evaluation",description:"Risk Description",occurrence:"Likelihood of Occurrence (Low to Very High)",impact:"Impact (Low to Very High)",mitigation_plan:"Mitigation Plan",analysis:"Risk Analysis for"},stakeholder_evaluations:{title:"Distributional/Stakeholder Impact Assessment",empty:"No stakeholders",number:"s/no",name:"Identity of Stakeholder",impact_sign:"Impact Positive/Negative",beneficiary:"Beneficiary Direct/Indirect",description:"Description",analysis:"Distributional/Stakeholder Analysis for "},criterias:{title:"Cost Effectiveness Results",criteria_title:"Title",criteria_value:"Value",measure_unit:"Measure unit"}}),Oj)},Bj={resources:(xj={parameters:{name:"System Parameters"},trash:{name:"Deleted Projects"},"reports-project-geo-by-phases":{name:"Project Locations by Phases"},"reports-projects-repeated":{name:"Repeated Projects"},"reports-projects-submitted":{name:"Project submitted by the 7th of month"},"reports-projects-donors":{name:"Donor Projects"},"reports-projects-stagnant":{name:"Projects that are stagnant for 14 days"},"reports-projects-for-action":{name:"Projects waiting for User action"},"reports-projects-for-pap":{name:"Projects in PAP"},"reports-projects-categories":{name:"Projects by Categories"},delegation:{name:"User Delegation"},dashboard:{name:"Dashboard"},"completed-report":{name:"Completed Report"},"reports-projects-ranking":{name:"Ranking Report"},"reports-fiscal-load":{name:"Fiscal Load"},"reports-project-cost-evaluation":{name:"Cost Evolution Report"},"reports-project-count":{name:"Projects Count by Programs"},"reports-project-ibp-usage":{name:"IBP User Action Tracking Report"},"reports-project-dc-report":{name:"DC Report"},"reports-pipeline-projects":{name:"Projects in Pipeline"},"psip-report-view":{name:"PSIP"},"project-managment":{name:"Project Management"},"project-resources-managment":{name:"Project Resource Management"},"me-report-view":{name:"M&E Report"},"project-portfolio":{name:"Project Porfolio"},"project-resources-management":{name:"Project Resources Management"},"project-management":{name:"Project Management"},programs:{name:"Programs"},sub_programs:{name:"Subprograms"},user_roles:{fields:{role_id:"Role"}},votes:{name:"Votes"},notifications:{name:"Notifications",fields:{title_html:"Subject",created_at:"Date",sender:"Sender",body_html:"Message"}},dashboards:{projects_waiting:"Projects Awaiting Your Decision",projects_phases:"Projects by Phases",projects_groups:"Groupped Projects",projects:"Projects"},"report-builder":{name:"Report Builder"},gantt:{name:"Gantt Chart"},reports:{name:"Reports",title:"REPORTS",projects_by_location:"Projects by Location",phases_title:"Phases",filters:"Organization filters",fiscal_load:"Fiscal Load",cost_evolution:"Evolution of Project Cost",projects_by_cycles:"Projects at different stages of the Development Cycle (UGX)",projects_by_cycles_counts:"Projects at different stages of the Development Cycle",no_data:"No data available",loading:"Data is loading, please wait ...",pipeline:{name:"Pipeline of Projects",header:{id:"ID",title:"Title",cost:"Cost of Investment",start_date:"Proposed Start Date",duration:"Duration",enter_date:"Date of Feasibility"}},ranking:{name:"Project Ranking",header:{rank:"Rank",title:"Title",cost:"Cost (UGX)",vote:"Vote",npv:"NPV (UGX)",enpv:"ENPV (UGX)",fnpv:"FNPV (UGX)",irr:"IRR (%)",err:"ERR (%)"}}},roles:{name:"Roles",admin:"Administrator",department_admin_user:"Department Head",pap_commissioner_user:"PAP Commissioner",pap_head_user:"PAP Head",pap_standard_user:"PAP Standard User",standard_user:"Standard User",vote_admin_user:"Head Planning",account_officer:"Accounting officer",dc_member_user:"DC member",sector_head_user:"Vote Head",desk_officer_user:"Desk Officer",donor_user:"Donor",pap_senior_economist_user:"PAP Senior Economist",pap_assist_commissioner_user:"PAP Assistant Commissioner",fields:{name:"Role",is_deleted:"Is Deleted",permissions:"permissions",organization_level:"organization_level",has_allowed_projects:"has_allowed_projects"}},projects:{name:"Project |||| Projects",fields:{phase:"Phase",created_on:"Submission Date",project_no:"Project No",created_by:"Created By",created_at:"Submission Date",phase_id:"Phase",status:"Status",workflow_status:"Workflow Step","workflow.status":"Workflow Step",title:"Project Title",name:"Project Title",sector_id:"Vote",department_id:"Sub Program Name",vote_id:"Vote",program:{code:"Program Code",name:"Program Name"},fund:{code:"Fund Code",name:"Fund Name"},"fund-source":{code:"Source of Fund Code",name:"Source of Fund Name"},vote:{code:"Vote Code",name:"Vote Name"},vote_function:{code:"Department Code",name:"Department Name"},function:{code:"Directorate Code",name:"Directorate Name"},sub_program:{code:"Sub Program Code",name:"Sub Program Name"},department:{code:"Department Code",name:"Department Name"},sender:"Sender"}},"project-details":{name:"Project Details",fields:(wj={intervention:"Intervention",vote:"Vote",classification:"Project Classification",responsible_officers:{header:"Responsible Officers",title:"Officer Title",name:"Officer Name",phone:"Officer Phone",email:"Officer Email",mobile_phone:"Officer Mobile Phone",organization_name:"Officer Organization Name",address:"Officer Address"},name:"Project Title",current_investment_ratio:"Capital to Recurrent Ratio",title:"Project Title",summary:"Technical Description",start_date:"Start Date",end_date:"End Date",locations:"Location",geo_location:"Geo Location",estimated_lifetime:"Estimated Lifetime",is_dlp:"Project Has Defect Liability Period",liability_period:"Defect Liability Period",is_omp:"Project Has Operation & Maintenance Period",maintenance_period:"Operation & Maintenance Period",om_cost:"Operation & Maintenance Costs (O&M Costs, UGX)",om_fund_id:"Fund Name",exec_management_plan:"Executive Management Plan",exec_management_plan_pfs:"Executive Summary",introduction:"Introduction",implementing_agencies:"Implementing Agencies",project_categories_id:"Project Category",situation_analysis:"Situation Analysis",situation_analysis_file:"Situation Analysis Attachment",problem_statement:"Problem Statement",problem_statement_file:"Problem Statement Attachment",problem_cause:"Problem Cause",problem_causes_file:"Problem Causes Attachment",problem_effects:"Problem Effects",problem_effects_file:"Problem Effects Attachment",justification:"Justification",sustainability_plan:"Sustainability Plan",me_strategies:"Monitoring and Evaluation Strategies",justification_file:"Justification Attachment",evaluation_methodology:"Evaluation Methodology",evaluation_period:"Evaluation Period",achieved_outcomes:"Achieved Outcomes",deviation_reasons:"Deviation Reasons",measures:"Measures",lessons_learned:"Lessons Learned",is_evaluation:"Project Requires Ex-Post Evaluation",government_agencies:{title:"Coordination with Other Government Agencies",name:"Name",description:"Details"},government_coordinations:{title:"Coordination with Other Government Agencies",name:"Name",description:"Details"},stakeholders:{title:"Stakeholders and their responsibilities",name:"Name",responsibilities:"Responsibilities"},in_ndp:{title:"In NDP",yes:"National Development Plan",other:"Other Strategic Documents"},ndp_type:{title:"NDP Type",core:"NDP Core Projects",priority:"NDP Priority Area"},ndp_number:"NDP Number",ndp_name:"Project Name",ndp_page_no:"Page in NDP",ndp_focus_area:{null:"",title:"Focus Area",wealth_creation:"Wealth Creation",inclusive_growth:"Inclusive Growth",competitiveness:"Competitiveness"},ndp_intervention:"Intervention",ndp_strategic_directives:"Other Strategic Directives",other_plans:{development_partners:"Development partners",cabinet_directives:"Cabinet directives",parliament_approval:"Parliament approval",stare_owned_enterprise:"Stare owned enterprise",regional_integration_policy:"Regional integration policy",political_manifestos:"Political manifestos",interest_groups_or_beneficiaries:"Interest groups or beneficiaries",private_sponsors:"Private sponsors",sustainable_development_goals:"Sustainable development goals"},ndp_plan_details:"Strategic Alignment Details",officer_title:"Officer Title",officer_name:"Officer Name",officer_phone:"Officer Phone",officer_email:"Officer Email",officer_mobile_phone:"Officer Mobile Phone",rational_study:"Rationale of the Study",methodology:"Methodology",organization_study:"Organisation of the PFS and FS",organization_study_pfs:"Organisation of the Pre-feasibility Study",organization_study_fs:"Organisation of the Feasibility Study",other_info:"Project Additional Information",attachments:{title:"Mandatory attachments",add:"Add Attachment",remove:"Remove Attachment"},benefits:"Benefits",goal:"Project Goal",commentaries:"Commentaries",files:"Project Files",demand_analysis:"Demand Analysis",demand_analysis_files:"Demand Analysis Files",pre_feasibility_cost:"Pre-Feasibility Cost",pre_feasibility_consultants:"Pre-Feasibility Consultants",strategic_analysis:"Strategic Analysis",strategic_alignment:"Strategic Alignment",financing_modality:"Financing Modality",feasbility_cost:"Feasibility Cost",feasibility_consultants:"Feasibility Consultants",feasibility_funds_request:"Feasibility Funds Request",env_impact_assessment:"Environmental Impact Assessment",technical_design:"Technical Design",production_plan:"Production Plan",hr_requirements:"HR Requirements",legal_assessment:"Legal Assessment",financial_evaluation:"Financial/Private Evaluation",economic_evaluation:"Economic/Social Evaluation",risk_evaluations:"Risk Evaluation",distributional_assessment:"Distributional Assessment"},Object(N.a)(wj,"exec_management_plan","Executive Management Plan"),Object(N.a)(wj,"exec_management_plan_pfs","Executive Summary"),Object(N.a)(wj,"sustainability_assessment","Sustainability Assessment"),Object(N.a)(wj,"pcn_outcome","Outcomes"),Object(N.a)(wj,"pcn_interventions","Interventions"),Object(N.a)(wj,"interventions","Interventions"),Object(N.a)(wj,"investments","Investment Costs"),Object(N.a)(wj,"in_ndpi","Already Existing in NDPI"),Object(N.a)(wj,"in_ndpii","Already Existing in NDPII"),Object(N.a)(wj,"in_mfped","Already Existing in MFPED PIP"),Object(N.a)(wj,"strategic_other_plan","Strategic Other Plan"),Object(N.a)(wj,"strategic_considerations","Other Strategic Considerations"),Object(N.a)(wj,"strategic_fit","Strategic Fit"),Object(N.a)(wj,"strategic_alignment","Strategic Alignment"),Object(N.a)(wj,"baseline","Indicator Baseline Year"),Object(N.a)(wj,"outcome_targets","Outcome Indicator Target Years"),Object(N.a)(wj,"output_base","Output Indicator Baseline"),Object(N.a)(wj,"output_targets","Output Indicator Target Years"),wj)},organizations:{name:"Organisation |||| Organisations",fields:{code:"Organisation Code",name:"Organisation Name"}},departments:{name:"Sub Program |||| Sub Programs",fields:{code:"Sub Program Code",name:"Sub Program Name",organization_id:"Organisation Name",vote_id:"Vote"}},funds:{name:"Fund |||| Funds",fields:{code:"Fund Code",name:"Fund Name"}},"fund-sources":{name:"Source of Fund |||| Source of Funds",fields:{code:"Source of Fund Code",name:"Source of Fund Name",fund_id:"Fund Name"}}},Object(N.a)(xj,"votes",{name:"Vote |||| Votes",fields:{code:"Vote Code",name:"Vote Name"}}),Object(N.a)(xj,"vote-functions",{name:"Program Outcome|||| Program Outcomes",fields:{code:"Program Code",name:"Program Name",vote_id:"Vote Name"}}),Object(N.a)(xj,"outcomes",{name:"Outcome |||| Outcomes",fields:{name:"Outcome Title"},actions:{create:"Create Outcome",edit:"Manage Indicators"}}),Object(N.a)(xj,"outputs",{name:"Output |||| Outputs",fields:{outcome_ids:"Outcomes",name:"Output Title",description:"Output Description",tech_specs:"Technical Specifications",alternative_specs:"Alternative Specifications",vote_id:"Output Votes",output_value:"Output Quantity",unit_id:"Unit",investments:{name:"Outputs Investments",fields:{fund_id:"Fund",fund_source_id:"Fund sources",total:"Total",cost_classification_id:"Cost Classification",cost_category_id:"Cost Category"},actions:{edit:"Estimated Cost"}}},actions:{create:"Create Output",edit:"Manage Indicators",editCosts:"Estimated Cost"}}),Object(N.a)(xj,"indicators",{name:"Indicator |||| Indicators",fields:{name:"Indicator Name",baseline:"Baseline",verification_means:"Verification Means",assumptions:"Assumptions",risk_factors:"Risk Factors",target:"Target"}}),Object(N.a)(xj,"phases",{name:"Phase Name",phase_1:"Project Concept",phase_2:"Project Profile",phase_3:"Pre-feasibility",phase_4:"Feasibility",phase_5:"Project Propposal",phase_6:"Project Design",phase_7:"Implementation",phase_8:"Ex-Post Evaluation"}),Object(N.a)(xj,"project-categories",{name:"Project Category |||| Project Categories",fields:{project_categories_id:"Project Category Id",title:"Project Category Title",last_phase_id:"Last Phase"}}),Object(N.a)(xj,"activities",{name:"Activity |||| Activities",fields:{name:"Activity Name",start_date:"Start date",end_date:"End date",description:"Activity Description",output_ids:"Activity Outputs",vote_id:"Activity Votes",investments:{name:"Activities Investments",fields:{fund_id:"Fund",fund_source_id:"Fund sources",total:"Total",cost_classification_id:"Cost Classification",cost_category_id:"Cost Category"},actions:{edit:"Estimated Cost"}}}}),Object(N.a)(xj,"project_options",{name:"Options Analysis",fields:{title:"Title",description:"Description",cost:"Cost (UGX)",score:"Total Score",funding_modality:{title:"Preferred funding modality",title_pfs:"Preferred Implementation modality",PROCUREMENT:"Traditional procurement",procurement:"Traditional procurement",PARTNERSHIP:"Public private partnership",partnership:"Public private partnership"},is_preferred:"Preferred Alternative",justification:"Justification of the Preferred Alternative",modality_justification:"Justification for the Preferred Funding Modality",modality_justification_pfs:"Justification for the Preferred Implementation Modality",stepper:{description:"Description",building_blocks:"Building Blocks",analytical_modules:"Analytical Modules",best_option:"Preferred Alternative Selection"},building_blocks:{title:"Building Blocks",description:"Description",advantage:"Advantages",disadvantage:"Disadvantages",score:"Score",modules:{demand_module:"Demand Analysis",technical_module:"Technical & Engineering",environmental_module:"Environmental",hr_module:"HR requirements",legal_module:"Legal assessment"},demand_module:{present_supply:"Current Supply",present_demand:"Current Demand",deficit:"Deficit",demand_projections:"Demand Projections"}},analytical_modules:{title:"Analytical Modules",description:"Description",advantage:"Advantages",disadvantage:"Disadvantages",score:"Score",appraisal_methodology:{title:"Appraisal Methodology",cea:"CEA",cba:"CBA"},financial_evaluation:{fnpv:"FNPV (UGX bln.)",irr:"IRR %",summary:"Financial Analysis Details"},economic_evaluation:{enpv:"ENPV (UGX bln.)",err:"ERR %",summary:"Economical Analysis Details"},criterias:{title:"Cost Effectiveness Results",criteria_title:"Title",criteria_value:"Value",measure_unit:"Measure unit"},stakeholder_evaluations:{name:"Identity of the Stakeholder",description:"Description",impact_sign:{title:"Impact",positive:"Positive",negative:"Negative"},beneficiary:{title:"Relation",direct:"Direct",indirect:"Indirect"}},risk_evaluations:{description:"Description",occurrence:"Likelihood of Occurrence",impact:"Impact",levels:{low:"Low",medium:"Medium",high:"High",very_high:"Very High"},mitigation_plan:"Mitigation Plan"},modules:{financial:"Financial",economic:"Economic",distributional:"Distributional",risk:"Risk"}},summary:{title:"Analysis of Alternatives Summary"}}}),Object(N.a)(xj,"risk_factors",{name:"Risk Factor |||| Risk Factors",fields:{risk_level:"Risk Level",measures:"Measures",risk_description:"Risk Description"}}),Object(N.a)(xj,"file-types",{name:"File Type |||| File Types",fields:{is_required:"Is Required",phase_ids:"Project Phases",name:"File Type Name"}}),Object(N.a)(xj,"users",{name:"User Management",fields:{username:"Username",email:"E-mail",fullname:"Full Name",phone:"Phone",vote_id:"Vote",role:"Role",password_hash:"Password",department_id:"Sub Program Name",management_id:"Name of Management",donor_id:"Donors Name",user_roles:"User Roles",roles:"Roles",role_id:"User Role",allowed_organization_ids:"Allowed Organizations",allowed_project_ids:"Access to Other Projects (optional)"}}),Object(N.a)(xj,"locations",{name:"Location Name"}),Object(N.a)(xj,"costings",{name:"Costing Classification Name"}),Object(N.a)(xj,"fund_sources",{name:"Funds Classification Name"}),Object(N.a)(xj,"cost_classifications",{name:"Costing Classification Name"}),Object(N.a)(xj,"cost_categories",{name:"Cost Categories |||| Cost Categories"}),Object(N.a)(xj,"cost-classifications",{name:"Cost Classification |||| Cost Classifications",fields:{code:"Code",name:"Name",cost_category_id:"Cost Category"}}),Object(N.a)(xj,"workflow-chart",{name:"Workflow Name"}),Object(N.a)(xj,"workflows",{name:"Workflow Name"}),Object(N.a)(xj,"currency-rates",{name:"Currency Rate Name"}),Object(N.a)(xj,"units",{name:"Unit Name"}),Object(N.a)(xj,"currencies",{name:"Currency Name"}),Object(N.a)(xj,"cost-categories",{name:"Cost Categories |||| Cost Categories",fields:{code:"Code",name:"Name",expenditure_type:"Expenditure Type"}}),Object(N.a)(xj,"me-reports",{name:"M&E Report",fields:{quarter:"Quarter",year:"Year",data_collection_type:"Data Collection Type",me_outputs:"Outputs",unit:"Output Unit",output_progress:"Output Progress",output_value:"Planned Output Quantity",indicators:"Indicators",target:"Achieved Target",planned_target:"Planned Target",me_activities:"Activities",status:"Status",expected_completion_date:"Expected Completion Date",challenges:"Challenges",measures:"Measures",allocation_challenges:"Allocation Challenges",budget_appropriation:"Budget Appropriation",allocation_measures:"Allocation Measures",financial_execution:"Financial Execution",execution_challenges:"Execution Challenges",execution_measures:"Execution Measures",next_budget_appropriation:"Next Budget Appropriation",me_releases:"Releases",type:"Type",government:"Government",donor:"Donor",budget_allocation:"Budget Allocation",me_type:"Type of M&E activity"}}),Object(N.a)(xj,"investments",{fields:{target:"Target"}}),xj)},zj={tooltips:{resources:{"me-reports":{name:"M&E Report",fields:{quarter:"Quarter",year:"Year",data_collection_type:"Data Collection Type",me_outputs:"Outputs",output_progress:"Output Progress",indicators:"Indicators",target:"Target",me_activities:"Activities",status:"Status",expected_completion_date:"Expected Completion Date",challenges:"Challenges",measures:"Measures",allocation_challenges:"Allocation Challenges",budget_appropriation:"Budget Appropriation",allocation_measures:"Allocation Measures",financial_execution:"Financial Execution",execution_challenges:"Execution Challenges",execution_measures:"Execution Measures",next_budget_appropriation:"Next Budget Appropriation",me_releases:"Releases",type:"Type",government:"Government",donor:"Donor",budget_allocation:"Budget Allocation",me_type:"Type of M&E activity"}},roles:{fields:{name:"Role Name",is_deleted:"Is Deleted",permissions:"permissions",organization_level:"organization_level",has_allowed_projects:"has_allowed_projects"}},om_costs:{om_fund_id:"Select the fund name from which the operation and maintenance cost will be obtained from.",om_fund_source_id:"Select the source from where the operation and maintenance cost will be got from",om_cost_category_id:"Select the cost category of the expense",om_cost_classification_id:"Select the cost classification of the expense",om_years:"Identify the amounts that will be spent for each financial year."},reports:{projects_by_location_help:"Turn on/off selectors to filter projects showed on geo map",projects_by_location_filters:"Select Sector or Vote to filter projects showed on geo map"},projects:{fields:{project_no:"A unique project identification number that can be used to track the project throughout its lifecycle.",created_by:"User that created project",created_at:"Submission Date",phase_id:"Phase of the project.",status:"Status of the project.","workflow.status":"Workflow Step"}},"project-details":{fields:(kj={vote:"This is a self accounting entity",central:"Identify the place where the project is going to be executed.",classification:"Social Investments -\tThese are projects with investments aimed at improving the social welfare of citizens or those that will result into creation of intangible assets that are declared as Government assets in the Charter of accounts(Transfer, funds, seedling).\n          Infrastructure Project -\tThis is a capital investment aimed at the acquisition or rehabilitation of fixed capital assets based which belong to Government of Uganda.\n          Studies\t- These only consider complex studies leading to viability of the project of which will assist in Physical planning.\n          Retooling Project -\tThese projects assist MDA acquire fixed assets needed to support staff in executing the delivery of services.  The fixed assets shall exclude construction of office space, land acquisition and acquisition of heavy duty equipment.",responsible_officers:{title:"This is the officer responsible for the project.",coordinator:"This is the Officer implementing the project.",name:"Officer Name",phone:"Officer Phone",email:"Officer Email",mobile_phone:"Officer Mobile Phone",organization_name:"Officer Organization Name",address:"Officer Address"},current_investment_ratio:"Capital to Recurrent Ratio",title:"Let it be as clear as possible, avoiding duplication of names within the Public Investment Plan",summary:"Provide a detailed technical description detailing the project planning elements required to achieve the project outcome.",start_date:"Indicate the financial year in when the project is expected to commence.",end_date:"The expected date of the project construction completion",duration:"Estimate the project construction timeline",location:"Precisely identify all the districts where the project will be located.",geo_location:"Geo Location",province:"Province",estimated_lifetime:"Operational life of the project after construction is completed. A typical operational lifetime of infrastructure project range from 10 to 25 years.",is_dlp:"Select if project has a defect liability period.",liability_period:"Defect Liability Period of the project. Enter number of years.",is_omp:"Select if project has operation & maintenance Period",evaluation_period:"Number of years after project completion",maintenance_period:"Operational life of the project after construction is completed. A typical operational lifetime of infrastructure project range from 10 to 25 years.",introduction:"Introduction",implementing_agencies:"Agencies responsible for delivery of the project outputs.",project_categories_id:"Project Category",situation_analysis:"Provide a background to the project idea or the problem your project will focus on by: (i) describing current situation including past and on-going interventions; ii) recent developments in the area of interest, achievements and challenges if any, iii) Explain projected trends using published forecasts. Quote official statistics to support your narrative.",situation_analysis_file:"Provide a background to the project idea or the problem your project will focus on by;\n\t(i) describing the current situation including past and on-going interventions, recent developments in the area of interest, achievements and challenges if any.\n        Quote official statistics to support your narrative.\n\t(ii) Explaining projected trends using published forecasts\n        ",problem_statement:"Provide an explicit definition of the problem to be addressed in terms of challenges, constraints or gaps that the market or private sector cannot resolve and:\n\ti.\t Mention the likely causes of the problem both direct and indirect and\n\tii.\t Give a brief insight of the likely consequences if no government intervention is made.",problem_statement_file:"Provide an explicit definition of the problem to be addressed in terms of challenges, constraints or gaps that the market or private sector cannot resolve.",problem_cause:"Please provide the likely causes of the problem both direct and indirect.",problem_causes_file:"Problem Causes Attachment",problem_effects:"Please provide a brief insight of the likely consequences if no government intervention is made.",problem_effects_file:"Problem Effects Attachment",justification:"Justify the need for the proposed project by: (i) linking the project to the National Development Plan (NDP) strategic interventions by identifying the objective (s) that the proposed project is expected to contribute to; (ii) Linking the proposed project to Sector Investment Plan (SIP) objectives by describing the sector outcomes that the project is expected to impact.",sustainability_plan:"Sustainability Plan",me_strategies:"Monitoring and Evaluation Strategies",justification_file:"Justification Attachment",stakeholders:"Identify the key stakeholders that are likely to be affected by the interventions including: (i) Direct Beneficiaries (ii) Indirect Beneficiaries (iii) Project Affected Persons.  Give a brief description of the likely impact of the project on the stakeholders.",government_agencies:{name:"Identify the government agency that will take part in the project implementation",details:"Describe the specific activities and issues for which the identified government agency will coordinate the implementation and it`s role",description:"Describe the specific activities and issues for which the identified government agency will coordinate the implementation and it`s role"},stakeholder:{name:"Stakeholder Name",responsibilities:"Identify the persons group or organization that are involved in delivery or affected by a particular project. (i) Direct Beneficiaries (ii) Indirect Beneficiaries (iii) Project Affected Persons. "},evaluation_methodology:"Evaluation Methodology",achieved_outcomes:"Achieved Outcomes",deviation_reasons:"Deviation Reasons",measures:"Measures",lessons_learned:"Lessons Learned",in_ndp:{title:"Please select National Development Plan if the project is included in the plan. Select Other if project is included in other strategic directives.",yes:"Yes",other:"Other"},ndp_type:{title:"Please identify the NDP type in which the project belongs to",core:"NDP Core Projects",priority:"NDP Priority Area"},ndp_number:"Project NDP Number",ndp_name:"Project Name",ndp_page_no:"Page in NDP",ndp_focus_area:{null:"",title:"Identify the focus area of the project",wealth_creation:"Wealth Creation",inclusive_growth:"Inclusive growth",competitiveness:"Competitiveness"},ndp_intervention:"Identify the suitable intervention from the NDP to which the project is focusing on.",ndp_strategic_directives:"Other Strategic Directives",other_plans:{development_partners:"Development partners",cabinet_directives:"Cabinet directives",parliament_approval:"Parliament approval",stare_owned_enterprise:"Stare owned enterprise",regional_integration_policy:"Regional integration policy",political_manifestos:"Political manifestos",interest_groups_or_beneficiaries:"Interest groups or beneficiaries",private_sponsors:"Private sponsors",sustainable_development_goals:"Sustainable development goals"},ndp_plan_details:"Give a clear description of the project in relation to the NDP",officer_title:"Officer Title",officer_name:"Officer Name",officer_phone:"Officer Phone",officer_email:"Officer Email",officer_mobile_phone:"Officer Mobile Phone",rational_study:"Please provide a detailed description / justification for undertaking the project",methodology:"Please describe the approach and methodology adopted in conducting the Pre- Feasibility Study.",organization_study:"Describe how the Pre-Feasibility Study is organized.",organization_study_pfs:"Organisation of the Pre-feasibility Study",organization_study_fs:"Organisation of the Feasibility Study",other_info:"Provide any additional information necessary for the project",attachments:{title:"Mandatory attachments",add:"Add Attachment"},benefits:"Benefits",goal:"Describe the project goal.  This should be in relation to the development objective that the project is designed to contribute to.  Identify an indicator that will be used to measure success of the project against the goal and briefly explain how information on this indicator shall be obtained.",commentaries:"Commentaries",files:"Project Files",demand_analysis:"Identifies the need for public investment by assessing: (i) current demand (based on statistics provided by service suppliers/ regulators/ ministries/ national and regional statistical offices for the various types of users); (ii) future demand (based on reliable demand forecasting models) in both the scenarios with- and without the project",demand_analysis_files:"Demand Analysis Files",pre_feasibility_cost:"Pre-Feasibility Cost",pre_feasibility_consultants:"Pre-Feasibility Consultants",strategic_analysis:"Strategic Analysis",strategic_alignment:"Strategic Alignment",financing_modality:"Financing Modality",feasbility_cost:"Feasibility Cost",feasibility_consultants:"Feasibility Consultants",feasibility_funds_request:"Feasibility Funds Request",env_impact_assessment:"Environmental Impact Assessment",technical_design:"A summary of the proposed project solution shall be presented with the following headings\n(i)\tLocation: description of the location of the project including a graphical illustration (map). Availability of land is a key aspect: evidence should be provided that the land is owned (or can be accessed) by the beneficiary, who has the full title to use it, or has to be purchased (or rented) through an acquisition process. In the latter case, the conditions of acquisition should be described. The administrative process and the availability of the relevant permits to carry out the works should also be explained.\n(ii)\tTechnical design: description of the main works components, technology adopted, design standards and specifications. Key output indicators, defined as the main physical quantities produced (e.g. kilometers of pipeline, number of overpasses, number of trees planted, etc.), should be provided.\n(iii)\tProduction plan: description of the infrastructure capacity and the expected utilization rate. These elements describe the service provision from the supply side. Project scope and size should be justified in the context of the forecasted demand.",production_plan:"Production Plan",hr_requirements:"HR Requirements",legal_assessment:"Legal Assessment",financial_evaluation:"Financial/Private Evaluation",economic_evaluation:"Economic/Social Evaluation",risk_evaluations:"Risk Evaluation",distributional_assessment:"Distributional Assessment",exec_management_plan:"Describe the key headline information from the components of the feasibility study assessment the option evaluated, key results and recommendations.",sustainability_assessment:"Sustainability Assessment",pcn_outcome:"Outcomes",pcn_interventions:"Interventions",investments:"Investment Costs",in_ndpi:"Already Existing in NDPI",in_ndpii:"Already Existing in NDPII",in_mfped:"Already Existing in MFPED PIP",strategic_other_plan:"Strategic Other Plan",strategic_considerations:"Other Strategic Considerations",strategic_fit:"Strategic Fit"},Object(N.a)(kj,"strategic_alignment","Strategic Alignment"),Object(N.a)(kj,"baseline","Indicator Baseline Year"),Object(N.a)(kj,"outcome_targets","Outcome Indicator Target Years"),Object(N.a)(kj,"output_base","Output Indicator Baseline"),Object(N.a)(kj,"output_targets","Output Indicator Target Years"),kj)},organizations:{fields:{code:"Organisation Code",name:"Organisation Name"}},departments:{fields:{code:"Sub Program Code",name:"Sub Program Name",organization_id:"Organisation Name",vote_id:"Vote Name",sector_id:"Sector Name"}},funds:{fields:{code:"Fund Code",name:"Fund Name"}},"fund-sources":{fields:{code:"Source of Fund Code",name:"Source of Fund Name",fund_id:"Fund Name"}},votes:{fields:{code:"Vote Code",name:"Vote Name",sector_id:"Sector Name"}},"vote-functions":{fields:{code:"Program Code",name:"Program Name",vote_id:"Vote Name"}},sectors:{fields:{code:"Sector Code",name:"Sector Name"}},outcomes:{fields:{name:"Define the project outcomes to include the effects that will follow from the utilization of products or services delivered by the project. These could be the eventual benefits to society that the project interventions are intended to achieve and are reflected in terms of  what people will be able to do better, faster, or more efficiently, or what they could never do before."},actions:{create:"Create Outcome",edit:"For each project outcome identified, you are required to define at least one indicator that will be used to measure performance of the project against the relevant outcome and briefly explain how information on this indicator shall be obtained."}},outputs:{fields:{outcome_ids:"Outcomes",name:"Describe the direct/tangible results that the project is expected to deliver.  These outputs shall be the basis for the components around which the project shall be built. Some examples of project deliverables could be: trainings equipment purchased, ICT backbone developed, infrastructure built / renovated and etc. Outputs are usually the immediate and concrete consequences of the implemented activities and resources used..\n    With the exception of the project management, monitoring and evaluation components, the project outputs should relate to physical assets and must contribute at-least 70% of the total project.",description:"Clearly describe the output. Describe the tangible products and services delivered or competences and capacities established directly as a result of the project",vote_id:"Identify the implementing agency that will undertake the identified output.",output_value:"Quantity",unit_id:"Unit",tech_specs:"Technical Specifications",alternative_specs:"Alternative Specification",investments:{name:"Outputs Investments",fields:{fund_id:"Fund",fund_source_id:"Fund sources",total:"Total",cost_classification_id:"Cost Classification"},actions:{edit:"Estimated Cost"}}}},indicators:{fields:{name:"For each project output identified, you will be required to define at least one indicator that will be used to measure performance of the project against the relevant output and briefly explain how information on this indicator (s) shall be obtained.  This could be through surveys or secondary data sources",baseline:"Identify a standard that will be used to measure the performance of the project",verification_means:"Define the exact source of data that will be used to evaluate and measure performance",assumptions:"Describe the conditions that must be met to obtain the expected project objectives.",risk_factors:"Clearly provide information about the risks that may affect the project activities",target:"Identify the expected performance of the project in each financial year."}},"project-categories":{fields:{project_categories_id:"Project Category Id",title:"Project Category Title",last_phase_id:"Last Phase"}},activities:{fields:{name:"For each output briefly highlight the major activities that you propose to implement in order to achieve the output",start_date:"For the given activity identify the financial year when it\u2019s expected to commerce",end_date:"Provide the expected end date of the define activity",description:"Describe specific details of the activities.",output_id:"For the given activity identify the corresponding output",vote_id:"For the given activity identify the corresponding votes",investments:{fields:{fund_id:"Fund",fund_source_id:"Fund sources",total:"Total",cost_classification_id:"Cost Classification"},actions:{edit:"Estimated Cost"}}}},project_options:{fields:{title:"Describe the title of the option intended to achieve the project objective.",description:"Describe the option identified clearly detailing its components.",cost:"Identify the investment cost for this option",score:"The option score is autogenerated after populating the building blocks",funding_modality:{title:"Identify the preferred funding modality suitable for the option.",title_pfs:"Identify the preferred Implementation modality suitable for the option.",procurement:"Traditional procurement",partnership:"Public private partnership"},is_preferred:"Identify Preferred Alternative",justification:"Provide a detailed description for the selection of the option for the project intervention.",modality_justification:"Provide a detailed description for the selection of the option for the project preferred Funding Modality.",modality_justification_pfs:"Provide a detailed description for the selection of the option for the project intervention.",stepper:{description:"Description",building_blocks:"Building Blocks",analytical_modules:"Analytical Modules",best_option:"Preferred Alternative Selection"},building_blocks:{description:{demand_module:"Describe the nature and source of demand, nature of the market, prices and qualities of the project.",technical_module:"Determine and specify in detail the technical parameters, investment and operational costs",environmental_module:"Determine and specify the environmental impacts and risks, possible compensation for the ecological damages and where possible qualify the environmental impacts.",hr_module:"Determine the human resource requirements for implementation and operation, in terms of quantities and specialties; identifies the sources of the work force and the cost of employing them. In addition, determine the management capacity and the functional structure of the operating entity.",legal_module:"Describe the legal restrictions that may obstruct or impede construction or operation, for example, limitations in localization and in the use of land, special tax considerations, and guarantees in the case of Public- Private Partnership among others."},advantage:{demand_module:"Identify the advantages of the option in relation to demand module",technical_module:"Identify the advantages of the option in relation to the technical and engineering module",environmental_module:"Identify the advantages of the option in relation to the environmental module",hr_module:"Identify the advantages of the option in relation to the HR requirement module",legal_module:"Identify the advantages of the option in relation to the legal assessment module"},disadvantage:{demand_module:"Identify the disadvantages of the option in regard to demand module.",technical_module:"Identify the disadvantages of the option in relation to the technical and engineering module",environmental_module:"Identify the advantages of the option in relation to the environmental module",hr_module:"Identify the disadvantages of the option in relation to the HR requirements module",legal_module:"Identify the disadvantages of the option in relation to the legal assessment module"},score:"Score",modules:{demand_module:"Demand Analysis",technical_module:"Technical & Engineering",environmental_module:"Describe and specify the economic effects of environmental norms and possible compensations for ecological damages. Key questions to address:\nThe likely environmental impacts from undertaking project?\n(i)\tWhat is the cost of reducing the negative impact?\n(ii)\tEvaluation of the environmental impacts and risks with and without\n(iii)\tTechnical measures are taken to reduce these impacts?\n(iv)\tAre there alternative ways of supplying the good or service of project without incurring these environmental costs?\n(v)\tWhat are the costs of these alternatives?",hr_module:"Point out the human resource requirements for implementation and operation, in terms of quantities and specialties; identifies the sources of the work force. Also it determines the management capacity and the functional structure of the operating entity.  Key Issues to be addressed:\n(i)\tWhat are the managerial and labour needs of the project?\n(ii)\tDoes organisation have the ability to get the managerial skills\nNeeded?\n(iii)\tIs timing of project consistent with quantity and quality of\n(iv)\tManagement?\n(v)\tWhat are wage rates for labour skills required?\n(vi)\tManpower requirements by category are reconciled with\n(vii)\tavailabilities and project timing.",legal_module:"Studies the legal restrictions that may obstruct or impede construction or operation, for example, limitations in localization and in the use of soil, special tax considerations in the case of public\u2013private partnerships, etc.\n(i)\tIs the entity that is supposed to manage the project properly\norganized and its management adequately equipped to handle the\nProject?\n(ii)\tAre the capabilities and facilities being properly utilized?\n(iii)\tIs there a need for changes in the policy and institutional set up\n(iv)\tOutside this entity? What changes may be needed in policies of the Local, regional and central governments?"}},analytical_modules:{description:"Description",advantage:"Advantages",disadvantage:"Disadvantages",score:"Score",appraisal_methodology:{title:"Appraisal Methodology",cea:"CEA",cba:"CBA"},financial_evaluation:{appraisal_methodology:"Select the appraisal methodology to be used either CBA or CEA",fnpv:"State the Financial Net Present Value obtained using the selected appraisal methodology",irr:"State the Internal Rate of Return obtained using the selected appraisal methodology",summary:"Describe the financial costs and benefits at market prices, studies alternative financial leverage methods.\n(i)\tIntegration of financial and technical variables from demand module, technical module, and management module\n(ii)\t Construct cash flow (resource flow) profile of project\n(iii)\tIdentify key variables for doing economic and social analysis\n\nKey questions:\na. What is relative certainty of financial variables?\nb. What are sources and costs of financing?\nc. What are minimum cash flow requirements for each of the stakeholders?\nd. What can be adjusted to satisfy each of the stakeholders?"},economic_evaluation:{appraisal_methodology:"Select the appraisal methodology to be used either CBA or CEA",enpv:"State the Economic Net Present Value obtained using the selected appraisal methodology",err:"State the Economic Rate of Return obtained using the selected appraisal methodology",summary:"Economic adjustments from financial data using conversion factors; after that, costs and benefits are appraised from the point of view of the entire economy.\n(i)\tExamines the project using the whole country as the accounting\nentity\n(ii)\tEvaluation of externalities including environmental\n(iii)\tWhat are differences between financial and economic values for a\nVariable?\n(iv)\tWhat causes these differences?\n(v)\tWith what degrees of certainty do we know values of these\nDifferences?\n(vi)\tWhat is the expected value of economic net benefits?\n(vii)\tWhat is the probability of positive economic feasibility?"},criterias:{title:"Cost Effectiveness Results",name:"Cost Effectiveness Results",criteria_title:"Describe the Cost Effectiveness Analysis method that will be used",criteria_value:"State the value obtained using the CEA method selected",measure_unit:"Identify the measurement units that are used in the analysis"},stakeholder_evaluations:{name:"Identify the stakeholder that will be affected by the project",title:"Identify the stakeholder that will be affected by the project",description:"Give a detailed description of the stakeholder.",impact_sign:{name:"Select the likely impact of the project on the stakeholders",title:"Select the likely impact of the project on the stakeholders",positive:"Positive",negative:"Negative"},beneficiary:{name:"Identify the relationship of the stakeholder to the project",title:"Identify the relationship of the stakeholder to the project",direct:"Direct",indirect:"Indirect"}},risk_evaluations:{description:"identify the uncertainty that may arise during the lifetime of the project.",occurrence:"Select the likelihood of occurrence of the uncertainty",impact:"Select the impact of the risk on the project",levels:{low:"Low",medium:"Medium",high:"High",very_high:"Very High"},mitigation_plan:"Identify and generate guidance on how to reduce the exposure of the risk through different contractual clauses."},modules:{financial:"Financial",economic:"Economic",distributional:"Distributional",risk:"Risk"}}}},risk_factors:{fields:{risk_level:"Risk Level",measures:"Measures",risk_description:"Risk Description"}},"file-types":{fields:{is_required:"Is Required",phase_ids:"Project Phases",name:"File Type Name",extensions:"File Type Extension"}},users:{name:"User Management",fields:{username:"Username",email:"E-mail",fullname:"Full Name",phone:"Phone",vote:"Vote",role:"Role",password_hash:"Enter New Password",sector_id:"Sector Name",vote_id:"Vote Name",department_id:"Sub Program Name",sector_ids:"Name of Sectors",donor_id:"Donors Name",user_roles:"User Roles"}},"cost-classifications":{fields:{code:"Code",name:"Name",cost_category_id:"Cost Category"}},"cost-categories":{fields:{code:"Code",name:"Name",expenditure_type:"Expenditure Type"}}},workflow:{assign:"Select assigned user",decision:"Input decision reason",assign_user:"Assigned user"}}},qj=Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({common:{home:"Home",avatar:{loadingPrimary:"Loading",loadingSecondary:"The avatar is loading, just a moment please"}}},Sj.a),Lj),{messages:{project_has_validation_errors:"Please fill in the values marked as required","Failed to fetch":"Failed to fetch",project_reject_confirmation:"Are you sure you want to reject this project?",reset_password:"Reset Password",reset_password_confirmation:"Are you sure you want to reset the password?",reset_password_error:"Your password wasn`t changed.",reset_password_success:"New password was sent to your email",high_risk_project:"High Risk Project!",unathorised:"Incorrect user name and password.",new_messages:"You have new messages",saving_data:"Data is saving, please wait",loading_data:"Data is loading, please wait",file_uploaded:"File was uploaded",file_deleted:"File was deleted",file_ext_error:"You should select correct file",all_steps_completed:"All steps completed!",max_outcomes:"Maximum 2 outcomes per project",max_outcomes_per_output:"Maximum 2 outcomes per output",min_activity_per_output:"At least 1 activity per output",max_shortlisted_options:"Maximum 3 shortlisted options",min_selected_option:"At least 1 shortlisted options must be selected",max_best_option:"Maximum 1 Preferred Alternative",min_best_option:"At least 1 Preferred Alternative must be selected",no_files:"No files uploaded",no_file_type:"File type",no_file_action:"Not Uploaded",no_outcomes:"At least one outcome has to be filled",no_outputs:"At least one output has to be filled",om_cost:"This project does not have Operation & Maintenance Period. You can change it in Summary Section.",options_blocks_all:"All building blocks must be filled",options_evaluation_all:"All Analytical Modules must be filled",options_blocks_single:"You should asses every building block",options_required:"All Required fields must be filled",options_summary:"All Description Fields must be filled",duplicate_project_title:"You are about to create a project with a name that already exist in the database. Are you sure you want to proceed?",year:"Year"}}),zj),Bj),{timeline:{status:{submit:"Project Submitted",approve:"Approved",revise:"Revise",reject:"Rejected"},title:"Flow of Approvals",event_title:"Project Status Information",submitted:"Project Submitted",draft:"Draft",approved:"Approved",revised:"Revise",rejected:"Rejected","in pipeline":"In Pipeline",completed:"Completed",assigned:"Assigned",by:"by",date:"Date",comments:"Comments",no_data:"Creation of a project is in progress.",phase:"Phase",files:"Files",not_pap_status:"Waiting for DC decision",hidden_phase_status:"Approved at ",in_pipeline:"In Pipeline",ongoing:"Ongoing",post_evaluation:"Ex-Post Evaluation"}}),Yj),{workflow:{va_file_subtitle:"* You must submit PPC Minutes file before submitting the project.",va_additionalFile_subtitle:"* You must submit SWG Minutes file before submitting the project.",workflow_additional_file_upload:"* You must submit DC Minutes file before submitting the project.",workflow_file_upload:"* You must submit project analysis before submitting the project.",assign:"Select assigned user",decision:"Input decision reason",comments:"Comments",assign_user:"Assigned user",messages:{status_change:"Workflow status changed",status_not_change:"Workflow status not changed"},not_pap_status:"Waiting for DC decision"}}),{validation:{outcomes_indicators_empty:"You must enter Indicators for Outcomes! ",outputs_indicators_empty:"You must enter Indicators for Outputs! ",outputs_investments_empty:"You must enter Investments for Outputs! ",activities_investments_empty:"You must enter Investments for Activities! ",government_coordinations:"Coordination with Other Government Agencies",options_appraisal_empty:"You must create at least one option",empty_fields:"These Fields Must Be Filled",ndp_plan_details:"Strategic Alignment Details",sector_id:"Name of Sector",vote_id:"Vote",vote_function_id:"Program Name",pillar_id:"Pillar Name",subprogram_id:"Subprogramm Name",implementing_agencies:"Sectors responsible for implementation",title:"Project Title",summary:"Technical description",start_date:"Start date",end_date:"End Date",location:"Location",geo_location:"Geo Location",administrative_post:"Administrative Post",district_id:"Name Districts",province_id:"Name of Provinces",exec_management_plan:"Executive summary",officer_title:"Title Officer",officer_name:"Name Officer",officer_phone:"Officer Phone",officer_email:"Officer Email",officer_mobile_phone:"Officer Mobile Phone ",situation_analysis:"Situation Analysis",problem_statement:"Problem Identification",problem_cause:"Causes of the Problem",problem_effects:"Effects of the Problem",justification:"Justification",sustainability_plan:"Sustainability Plan",me_strategies:"Monitoring and Evaluation Strategies",stakeholders:"Stakeholders",goal:"Project goal",goal_indicators:"Goals Indicators",outcomes:"Outcomes",outcomes_indicators:"Outcomes  Indicators",outputs:"Outputs",outputs_design:"Output Technical/Alternative Specifications",outputs_indicators:"Outputs Indicators",outputs_investments:"Outputs Cost of Investment",activities:"Activities",activities_investments:"Activities Cost of Investments",baseline:"Baseline of the Result Indicator",ndp_type:"NDP Type",om_costs:"O & M Costs",rational_study:"Rationality of the Study",methodology:"Methodology",organization_study:"Organisation of the PFS and FS",organization_study_pfs:"Organisation of the Pre-feasibility Study",organization_study_fs:"Organisation of the Feasibility Study",beneficiary_analysis:"Analysis of Beneficiaries",strategic_alignments:"Strategic Alignments",project_options:{all_fields:"All Fields",summary:{description:"Description",title:"Title",cost:"Cost",score:"Total Result",funding_modality:"Preferential Financing Mode"},building_blocks:{description:"Description",advantage:"Advantages",disadvantage:"Disadvantages",score:"Score",modules:{demand_module:"Demand Analysis",technical_module:"Technical & Engineering",environmental_module:"Environmental",hr_module:"HR requirements",legal_module:"Legal Evaluation"}},financial_evaluation:{title:"Financial Evaluation",summary:"Financial Analysis Details",fnpv:"FNPV",irr:"IRR",cea:"Cost-Effectiveness Analysis",criterias:"Cost Effectiveness Results"},economic_evaluation:{title:"Economic evaluation",summary:"Summary of economic evaluation",enpv:"ENPV",err:"ERR",cea:"Cost-Effectiveness Analysis",option_title:"Option Title",criterias:"Cost Effectiveness Results"},risk_evaluations:{title:"Risk management",empty:"No risk assessment",description:"Risk Description",occurrence:"Probability of Occurrence (Low to Very High)",impact:"Impact (low to very high)",mitigation_plan:"Mitigation Plan",analysis:"Risk analysis for"},stakeholder_evaluations:{title:"Impact Assessment on Distribution",empty:"No Stakeholders",number:"s/no",name:"Stakeholder Identity",impact_sign:"Positive Impact / Negative",beneficiary:"Direct / Indirect Beneficiary",description:"Description"}}}}),{titles:{project_background:"Project Background",implementing_strategies:"Implemenatation Strategies",drop_files:"Attach files",currency:"MZB"}}),{comments:{empty:"No Notes",title:"Project Notes",created:"Note was added!",edited:"Note was saved!",deleted:"Note was deleted!",edit_comment:"Edit Note",delete_comment:"Delete Note"}}),{projectSteps:{SUMMARY:"Summary",RESPONSIBLE_OFFICER:"Responsible Officer",PROJECT_BACKGROUND:"Project Background",PROJECT_FRAMEWORK:"Project Framework",DEMAND_ANALYSIS:"Demand Analysis",OPTIONS_ANALYSIS:"Options Analysis",PROJECT_APPRAISAL:"Project Appraisal",FIN_ANALYSIS:"Fin&Econ Analysis",COST:"Costs",RESULT_MATRIX:"Result Matrix",MODULES:"Modules",ADDITIONAL_INFO:"Additional information",OM_COSTS:"O&M Cost",INTRODUCTION:"Introduction",ME_REPORT:"M&E Report",EX_POST_EVALUATION:"Ex-Post Evaluation"}}),{navigation:{location_config:{1:"Location"},organizational_config:{1:"Vote",2:"Department"},programs_config:{1:"Programs"},functions_config:{1:"Directorate"},fund_config:{1:"Fund",2:"Fund Source"},cost_config:{1:"Cost Category",2:"Cost Classification"},reports:{pipeline_report:"Projects in Pipeline",completed_projects_report:"Projects Completed",pipeline_of_projects_report:"Pipeline of Projects",fiscal_load_report:"Fiscal Load",project_cost_evolution_report:"Project Cost Evolution",costs_and_counts_report:"Projects at different stages of the project cycle",projects_ranking_report:"Projects Ranking",projects_location_report:"Project Locations",ibp_usage_report:"IBP User Action Tracking Report",projects_scheduled_dc_report:"Projects Scheduled for DC",projects_for_pap_report:"Project for PAP",projects_waiting_actions_report:"Projects waiting for action",stagnant_projects_report:"Stagnant Projects",donors_projects_report:"Donor Projects",submitted_projects_report:"Submitted Projects",repeated_projects_report:"Repeated Projects",projects_categories_report:"Projects by Categories"}}}),Uj=a(587),Vj=j(),Gj=Object(Uj.a)((function(e){if(Vj&&Vj.application_config)switch(Vj.application_config.prefix){case"jm":return Rj;case"ug":return Wj;case"mzb":return qj;default:return Aj}}),"en"),Hj={popupVisible:!1,popupContent:null,rightPanelVisible:!1,rightPanelContent:null,ganttData:null,headerTitle:null,breadCrumps:[],isExporting:!1},Jj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hj,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_IS_EXPORTING":return Object(u.a)(Object(u.a)({},e),{},{isExporting:n.data});case"SET_BREADCRUMPS":return Object(u.a)(Object(u.a)({},e),{},{breadCrumps:n.data});case"SET_PROJECT_TITLE_HEADER":return Object(u.a)(Object(u.a)({},e),{},{headerTitle:n.data});case"SHOW_POPUP":return Object(u.a)(Object(u.a)({},e),{},{popupVisible:n.data});case"POPUP_CONTENT":return Object(u.a)(Object(u.a)({},e),{},{popupContent:n.data});case"SHOW_RIGHT_PANEL":return Object(u.a)(Object(u.a)({},e),{},{rightPanelVisible:n.data});case"RIGHT_PANEL_CONTENT":return Object(u.a)(Object(u.a)({},e),{},{rightPanelContent:n.data});case"SAVE_GANTT_DATA":return Object(u.a)(Object(u.a)({},e),{},{ganttData:n.data});default:return e}},Xj={userInfo:JSON.parse(localStorage.getItem("user"))},$j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xj,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_USER_INFORMATION":return Object(u.a)(Object(u.a)({},e),{},{userInfo:n});default:return e}},Kj={appConfig:j()},Qj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kj,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"UPDATE_CONFIG":return Object(u.a)(Object(u.a)({},e),{},{appConfig:n});default:return e}},Zj=a(2034),ey=function(e){var t=Object(qr.a)((function(e){return e.breakpoints.down("xs")}));return r.a.createElement(ri.a,Object.assign({},e,{bulkActionButtons:!1}),t?r.a.createElement(Su.a,{primaryText:function(e){return e.name},secondaryText:function(e){return Y("has_roles_organization_level")?"Organization level: ".concat(e.organization_level):null}}):r.a.createElement(Nl.a,{rowClick:"edit"},r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Al.a,{source:"name"}),Y("has_roles_organization_level")&&r.a.createElement(Al.a,{source:"organization_level"}),r.a.createElement(Zj.a,null)))},ty=function(e){return r.a.createElement(E_.a,e,r.a.createElement(j_.a,null,r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Al.a,{source:"name"})))},ay=a(2076);var ny=function(e){var t=Object(n.useState)(),a=Object(Z.a)(t,2),o=a[0],i=(a[1],Object(n.useState)([])),l=Object(Z.a)(i,2),c=l[0],s=l[1],u=Object(n.useState)("project"),d=Object(Z.a)(u,2),m=d[0],p=d[1],f=Object(n.useState)((function(){var t=[];e.permissionsConfig&&x.a.keys(e.permissionsConfig.permissions).forEach((function(a){t=[].concat(Object(D.a)(t),Object(D.a)(e.permissionsConfig.permissions[a].map((function(e){return e.key}))))}));return t})),_=Object(Z.a)(f,2),g=_[0];_[1];var h=Object(R.a)(e),v=h.input.onChange,b=h.meta;return b.touched,b.error,Object(n.useEffect)((function(){e.record&&(e.record.includes("all")?s(Object(D.a)(g)):s(e.record))}),[e.record]),r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("h2",{style:{marginRight:"20px"}},"Permissions")),r.a.createElement(ke.a,null),o&&r.a.createElement("h4",null,"loading..."),r.a.createElement("div",null,r.a.createElement(Us.a,{value:m,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){p(t)},variant:"scrollable",scrollButtons:"auto"},e.permissionsConfig&&x.a.keys(e.permissionsConfig.permissions).map((function(e){return r.a.createElement(Vs.a,{value:e,label:r.a.createElement("span",null,e)})}))),e.permissionsConfig&&e.permissionsConfig.permissions[m].map((function(e){return r.a.createElement(Kn.a,{control:r.a.createElement(Qn.a,{checked:!x.a.isEmpty(x.a.find(c,(function(t){return t===e.key}))),onChange:(t=e,function(e){if("all"===t){var a=Object(D.a)(g);e.target.checked?s(a):(a=[],s([])),v(["all"])}else{var n=Object(D.a)(c);x.a.find(c,(function(e){return e===t.key}))?(n=n.filter((function(e){return e!==t.key})),s(n)):(n.push(t.key),s(n)),v(n)}})}),label:e.name});var t}))))},ry=a(588),oy=a(589),iy=["formData","scopedFormData","getSource"],ly={list:ey,show:ty,create:function(e){var t=Object(ee.f)((function(e){return e.router.location.search})),a=Object(ee.f)((function(e){return e.app.appConfig})),n=a.application_config,o=a.organizational_config,i=t&&Object(A.parseUrl)(t)&&Object(A.parseUrl)(t).query&&Object(A.parseUrl)(t).query.source&&JSON.parse(Object(A.parseUrl)(t).query.source),l=Object.keys(o).map((function(e){return{id:e,name:"(".concat(e,") ").concat(o[e].name)}}));console.log(a);var c="ug"===n.prefix?ry:oy;return r.a.createElement(es.a,Object.assign({},e,{style:{width:"80vw"}}),r.a.createElement(ou.a,{redirect:"show",toolbar:r.a.createElement(s_,null)},r.a.createElement(cs,{tooltipText:"tooltips.resources.roles.fields.name",fullWidth:!0},r.a.createElement(ns.a,{source:"name",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.roles.fields.organization_level",fullWidth:!0},r.a.createElement(ny,Object.assign({permissionsConfig:c,source:"permissions",record:i&&i.permissions},e))),Y("has_roles_organization_level")&&r.a.createElement(cs,{tooltipText:"tooltip",fullWidth:!0},r.a.createElement(os.a,{source:"organization_level",choices:l,variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.roles.fields.has_allowed_projects",bool:!0},r.a.createElement(I_.a,{source:"has_allowed_projects",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.roles.fields.phase_ids",fullWidth:!0},r.a.createElement(ay.a,{label:"resources.file-types.fields.phase_ids",source:"phase_ids",sort:Ra,reference:"phases",linkType:"show"},r.a.createElement(Tf.a,{variant:"outlined",margin:"none",optionText:"name",options:{fullWidth:"true"}})))))},edit:function(e){var t=Object(ee.f)((function(e){return e.app.appConfig})),a=t.application_config,n=t.organizational_config,o=Object.keys(n).map((function(e){return{id:e,name:"(".concat(e,") ").concat(n[e].name)}})),i="ug"===(null===a||void 0===a?void 0:a.prefix)?ry:oy;return r.a.createElement(ru.a,Object.assign({},e,{style:{width:"80vw"},actions:!1}),r.a.createElement(ou.a,{redirect:"show",toolbar:r.a.createElement(s_,null)},r.a.createElement(cs,{tooltipText:"tooltip",fullWidth:!0},r.a.createElement(ns.a,{source:"name",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.roles.fields.organization_level",fullWidth:!0},r.a.createElement(js.a,null,(function(t){var a=t.formData;t.scopedFormData,t.getSource,Object(T.a)(t,iy);return r.a.createElement(ny,Object.assign({permissionsConfig:i,source:"permissions",record:a.permissions},e))}))),Y("has_roles_organization_level")&&r.a.createElement(cs,{tooltipText:"tooltip",fullWidth:!0},r.a.createElement(os.a,{source:"organization_level",choices:o,variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltip",bool:!0},r.a.createElement(I_.a,{source:"has_allowed_projects",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.roles.fields.phase_ids",fullWidth:!0},r.a.createElement(ay.a,{label:"resources.file-types.fields.phase_ids",source:"phase_ids",sort:Ra,reference:"phases",linkType:"show"},r.a.createElement(Tf.a,{variant:"outlined",margin:"none",optionText:"name",options:{fullWidth:"true"}})))))}},cy=Object(ae.a)((function(e){return{filterInput:{"& .MuiFormHelperText-root ":{display:"none"}}}})),sy=function(e){var t,a,n,o=cy();if(Number(e.level)&&(a="".concat(Number(e.level)-1)),n=null===(t=e.organizations)||void 0===t?void 0:t.filter((function(t){return Number(e.level)===Number(t.level)})),e.filterValues&&!x.a.isEmpty(e.filterValues)){var i;x.a.keys(e.filterValues).forEach((function(e){}));var l=null===(i=e.organizational_config[a])||void 0===i?void 0:i.id;e.filterValues[l]&&(n=n.filter((function(t){return Number(t.parent_id)===Number(e.filterValues[l])})))}return r.a.createElement(os.a,Object.assign({},e,{className:o.filterInput,choices:n,source:e.source,label:e.label,variant:"outlined",margin:"none"}))},uy=function(e){var t=e.loading,a=e.loaded,n=e.total;Object(F.a)().permissions;return 0===n&&!t&&a?r.a.createElement(di.a,{textAlign:"center",m:1},r.a.createElement(se.a,{variant:"h4",paragraph:!0},"There are no deleted users in the system",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Xn.a,{onClick:e.onSetFilter,label:"Show All"}))):r.a.createElement("div",null)},dy=function(e){var t=Object(ee.f)((function(e){return e.app.appConfig})).organizational_config;return r.a.createElement(ed.a,Object.assign({},e,{variant:"outlined",margin:"none",style:{alignItems:"center"}}),r.a.createElement(ns.a,{label:"Username",source:"username",alwaysOn:!0,variant:"outlined",margin:"none"}),r.a.createElement(ns.a,{label:"User Full Name",source:"full_name",alwaysOn:!0,variant:"outlined",margin:"none"}),r.a.createElement(Nu.a,{perPage:-1,source:"role_id",reference:"roles",alwaysOn:!0,allowEmpty:!0},r.a.createElement(os.a,{optionText:"name"})),r.a.createElement(sy,Object.assign({},e,{level:1,source:t[1].id,label:t[1].name,organizations:e.organizations,organizational_config:t,alwaysOn:!0,allowEmpty:!0})))},my=function(e){return r.a.createElement(Gs.a,null,r.a.createElement(ku.a,Object.assign({},e,{style:{paddingTop:0,minHeight:0}})),r.a.createElement(Cu.a,Object.assign({},e,{style:{paddingTop:0,minHeight:0}})),r.a.createElement(Xn.a,{onClick:function(){e.onSetFilter()},style:{paddingTop:0,minHeight:0},label:e.showDeleted?"Hide Deleted":"Show Deleted"}))},py=function(e){var t=Object(n.useState)(!1),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(qr.a)((function(e){return e.breakpoints.down("xs")})),c=Object(n.useState)([]),s=Object(Z.a)(c,2),u=s[0],d=s[1],m=Object(ee.f)((function(e){return e.admin.resources.organizations})),p=Object(Ca.a)();function f(){i(!o)}return Object(n.useEffect)((function(){if(!m||m&&x.a.isEmpty(m.data))p.getList("organizations",{pagination:{page:1,perPage:-1},sort:{sort_field:"name",sort_order:"asc"},filter:{is_hidden:!1}}).then((function(e){d(e.data)})).catch((function(e){console.log(e)}));else{var e=x.a.keys(m.data).map((function(e){return m.data[e]}));d(e)}}),[]),r.a.createElement(ri.a,Object.assign({},e,{filters:r.a.createElement(dy,{organizations:u}),perPage:25,empty:r.a.createElement(uy,Object.assign({onSetFilter:f},e)),actions:r.a.createElement(my,{onSetFilter:f,showDeleted:o}),filter:{is_deleted:o},bulkActionButtons:!1}),l?r.a.createElement(Su.a,{primaryText:function(e){return e.username},secondaryText:function(e){return"".concat(e.full_name)},tertiaryText:function(e){return e.roles}}):r.a.createElement(Nl.a,{rowClick:"show"},r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Al.a,{source:"username"}),r.a.createElement(Al.a,{source:"full_name"}),r.a.createElement(Dl.a,{source:"organization",label:"Department",render:function(e){return e?e.organization&&"".concat(e.organization.code," - ").concat(e.organization.name):null}})))},fy=a(2036),_y=a(1044),gy=a.n(_y),hy=a(1043),vy=a.n(hy),by=["users"];function Ey(e){var t=e.users,a=Object(T.a)(e,by),o=Object(n.useState)(null),i=Object(Z.a)(o,2),l=i[0],c=i[1],s=Object(n.useState)(null),u=Object(Z.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)(S()().format("YYYY-MM-DD")),f=Object(Z.a)(p,2),_=f[0],g=f[1],h=Object(n.useState)(S()().format("YYYY-MM-DD")),v=Object(Z.a)(h,2),b=v[0],E=v[1],j=Object(Na.a)(),y=Object(Ca.a)();function O(){a.onClose()}var w=function(e){return function(t){switch(e){case"startDate":g(t.target.value);break;case"endDate":E(t.target.value)}}};return r.a.createElement(Gr.a,{fullWidth:!0,maxWidth:"xs",open:a.show,onClose:O,style:{overflow:"hidden"},disableEscapeKeyDown:!0},r.a.createElement(Hr.a,null,"Delegation"),r.a.createElement(Jr.a,{style:{display:"flex",flexDirection:"column",justifyContent:"space-evenly"}},r.a.createElement($n.a,{onChange:w("startDate"),label:"Start Date",type:"date",defaultValue:_,InputLabelProps:{shrink:!0},style:{margin:"10px"}}),r.a.createElement($n.a,{onChange:w("endDate"),label:"End Date",type:"date",defaultValue:b,InputLabelProps:{shrink:!0},style:{margin:"10px"}}),r.a.createElement(is.a,{variant:"outlined",style:{marginTop:"10px"}},r.a.createElement(Wm.a,{style:{transform:"translate(14px, -10px) scale(0.75)"}},"Username"),r.a.createElement(xa.a,{variant:"standard",value:l,onChange:function(e){c(e.target.value)},style:{margin:"10px"}},t&&t.map((function(e){return r.a.createElement(sa.a,{value:e.id},e.full_name)})))),r.a.createElement(is.a,{variant:"outlined",style:{marginTop:"10px"}},r.a.createElement(Wm.a,{style:{transform:"translate(14px, -10px) scale(0.75)"}},"Role"),r.a.createElement(xa.a,{variant:"standard",value:d,onChange:function(e){m(e.target.value)},style:{margin:"10px"}},a.data&&a.data.user_roles&&a.data.user_roles.map((function(e){return r.a.createElement(sa.a,{value:e.role_id},e.role&&e.role.name)}))))),r.a.createElement(Xr.a,null,r.a.createElement(Ee.a,{onClick:function(){y.create("user-roles",{data:{delegated_by:a.id,user_id:l,start_date:_,end_date:b,role_id:d,role:x.a.find(a.data.user_roles,(function(e){return e.role_id===d}))}}).then((function(e){e.data&&(j("Delegation created!"),a.onClose())})).catch((function(e){j(e)}))},style:{margin:"0px 10px"}},r.a.createElement(tv.a,null),"Ok"),r.a.createElement(Ee.a,{onClick:O,style:{margin:"0px 10px"}},r.a.createElement(fy.a,null),"Cancel")))}function jy(e){var t=Object(n.useState)({password:"",confirm:""}),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=(Object(pe.a)(),Object(Na.a)()),c=Object(Ca.a)();L();function s(){e.onClose()}function d(e){i(Object(u.a)(Object(u.a)({},o),{},Object(N.a)({},e.target.name,e.target.value)))}return r.a.createElement(Gr.a,{fullWidth:!0,maxWidth:"xs",open:e.show,onClose:s,style:{overflow:"hidden"},disableEscapeKeyDown:!0},r.a.createElement(Hr.a,null,"Password change"),r.a.createElement(Jr.a,{style:{display:"flex",flexDirection:"column",justifyContent:"space-evenly"}},r.a.createElement(se.a,{variant:"caption",align:"center",style:{marginBottom:5}},"* Password should contain at least eight characters, one uppercase letter, and one special character."),r.a.createElement($n.a,{onChange:d,value:o.password,label:"Password",name:"password",type:"password",InputLabelProps:{shrink:!0},style:{margin:"10px"}}),r.a.createElement($n.a,{onChange:d,value:o.confirm,label:"Password Confirmation",name:"confirm",type:"password",InputLabelProps:{shrink:!0},style:{margin:"10px"}})),r.a.createElement(Xr.a,null,r.a.createElement(Ee.a,{onClick:function(){o.password&&o.confirm&&o.password===o.confirm&&!/^(?=.[A-Z])(?=.[!@#$&%])(?=.[0-9])(?=.*[a-z]).{8,}$/gm.test(o.password)?c.update("users",{id:e.id,data:{password:o.password}}).then((function(t){t.data&&(l("Password changed!","info"),e.onClose())})).catch((function(e){l(e.message,"error")})):l("Password and Confirmation must be equal! And Password should contain at least eight characters, one uppercase letter, and one special character","warning")},style:{margin:"0px 10px"}},r.a.createElement(tv.a,null),"Ok"),r.a.createElement(Ee.a,{onClick:s,style:{margin:"0px 10px"}},r.a.createElement(fy.a,null),"Cancel")))}var yy=function(e){var t=Object(n.useState)(!1),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(!1),c=Object(Z.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)(!1),m=Object(Z.a)(d,2),p=m[0],f=m[1],_=Object(pe.a)(),g=Object(Na.a)(),h=Object(Ca.a)(),v=L(),b=Object(ee.f)((function(e){return e.admin.loading})),E=Object(n.useState)(null),j=Object(Z.a)(E,2),y=j[0],O=j[1],w=Object(ee.f)((function(e){return e.user.userInfo}));if(Object(n.useEffect)((function(){h.getListOfAll("users",{sort_field:"full_name",filter:{organization_id:w.organization_id}}).then((function(e){e&&e.data&&O(x.a.sortBy(e.data,"full_name"))}))}),[]),b||e&&e.data&&e.data.is_blocked)return null;return r.a.createElement(Gs.a,null,r.a.createElement($p.a,{isOpen:o,title:_("messages.reset_password"),content:_("messages.reset_password_confirmation"),onConfirm:function(t){i(!1),h.reset("users",{id:e.id}).then((function(e){g("Password changed!")})).catch((function(e){g("Password wasn`t changed! "+e.body.error_message,"error")}))},onClose:function(){i(!1)},confirm:_("buttons.confirm"),cancel:_("buttons.cancel")}),s&&r.a.createElement(Ey,Object.assign({},e,{show:s,onClose:function(){u(!1)},users:y})),p&&r.a.createElement(jy,Object.assign({},e,{show:p,onClose:function(){f(!1)}})),r.a.createElement(Ee.a,{variant:"textPrimary",onClick:function(){f(!0)},style:{padding:"4px 5px"}},r.a.createElement(vy.a,{style:{marginRight:"5px"}}),"Change Password"),v("reset_user_password")&&r.a.createElement(Ee.a,{variant:"textPrimary",onClick:function(){i(!0)},style:{padding:"4px 5px"}},r.a.createElement(Bn.a,{style:{marginRight:"5px"}}),"Reset password"),v("edit_delegation")&&r.a.createElement(Ee.a,{variant:"textPrimary",onClick:function(){u(!0)},style:{padding:"4px 5px"}},r.a.createElement(gy.a,{style:{marginRight:"5px"}}),"Delegate"),v("edit_users")&&r.a.createElement(v_.a,Object.assign({},e,{basePath:"/users",record:e})),v("delete_users")&&r.a.createElement(xv.a,Object.assign({},e,{basePath:"/users",record:e})))},Oy=function(e){return r.a.createElement(E_.a,Object.assign({},e,{actions:r.a.createElement(yy,e)}),r.a.createElement(j_.a,null,r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Al.a,{source:"username"}),r.a.createElement(Al.a,{source:"full_name"}),r.a.createElement(Al.a,{source:"email"}),r.a.createElement(Al.a,{source:"phone"}),r.a.createElement(Dl.a,{source:"organization",label:"User Department",render:function(e){return e.organization&&r.a.createElement("p",{style:{margin:0}}," ",e.organization&&e.organization.name)}}),r.a.createElement(Dl.a,{source:"organization",label:"User Vote",render:function(e){return e.organization&&r.a.createElement("p",{style:{margin:0}}," ",e.organization&&e.organization.parent&&e.organization.parent.name)}}),r.a.createElement(Dl.a,{source:"user_roles",label:"User Roles",render:function(e){return e.user_roles&&e.user_roles.map((function(e){return r.a.createElement("p",{style:{margin:0}}," ",e.role&&e.role.name)}))}})))},wy=a(2038);a(1045);Object(ae.a)((function(e){return{root:{backgroundColor:e.palette.background.paper},tab:{backgroundColor:e.palette.background.paper}}}));Object(rs.j)(),Object(rs.f)(8),Object(rs.i)(/^(?=.[A-Z])(?=.[!@#$&%])(?=.[0-9])(?=.*[a-z]).{8,}$/gm,"Contain both upper- and lower-case characters (e.g., a-z, A-Z).\n    Have numbers and punctuation characters as well as letters.\n    At least eight alphanumeric characters long");var xy=[Object(rs.j)(),Object(rs.f)(3)],ky=function(e){var t={};return e&&e.username&&e.username.indexOf(" ")>-1&&(t.username=["Username contains spaces"]),e&&e.user_roles&&0===e.user_roles.length&&(t.user_roles=["User must contain at least one role"]),e&&!e.user_roles&&(t.user_roles=["User must contain at least one role"]),t},Sy=a(2037),Py=a(2096),Cy=["roles","sourceOrg","getSource","selectedRole","scopedFormData","userOrganization","userOrganizationLevel"],Ny=function(e){e.roles;var t=e.sourceOrg,a=e.getSource,o=e.selectedRole,i=e.scopedFormData,l=e.userOrganization,c=e.userOrganizationLevel,s=(Object(T.a)(e,Cy),B({name:t})),u=Object(pe.a)();Object(n.useEffect)((function(){Y("has_pimis_fields")&&s([l])}),[l]);return r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.users.fields.role_id",fullWidth:!0},r.a.createElement(Nu.a,{label:u("resources.users.fields.role_id"),source:a("role_id"),reference:"roles"},r.a.createElement(os.a,{optionText:"name",margin:"none",optionValue:"id",variant:"outlined"}))),o&&(o.organization_level||c)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(I_.a,{label:"Allow all Organizations",source:a("additional_data.allow_all_organizations"),onChange:function(e){return function(t){e&&(e.additional_data={allow_all_organizations:t},t?s(["all"]):Y("has_pimis_fields")?s([l]):s([]))}}(i)}),r.a.createElement(cs,{tooltipText:"tooltips.resources.users.fields.allowed_organization_ids",fullWidth:!0,style:i&&i.additional_data&&i.additional_data.allow_all_organizations?{display:"none"}:{}},r.a.createElement(ay.a,{label:u("resources.users.fields.allowed_organization_ids"),perPage:-1,filter:{level:Y("has_roles_organization_level")?o.organization_level:c,is_hidden:!1},reference:"organizations",source:a("allowed_organization_ids"),validate:[Object(rs.j)()]},r.a.createElement(Sy.a,{margin:"none",variant:"outlined",fullWidth:!0,suggestionLimit:0})))),o&&o.has_allowed_projects&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Py.a,{label:!1,source:a("filter_projects"),choices:[{id:"filtered",name:"Show filtered projects"}]}),r.a.createElement(cs,{tooltipText:"tooltips.resources.users.fields.allowed_project_ids",fullWidth:!0},r.a.createElement(ay.a,{perPage:-1,label:u("resources.users.fields.allowed_project_ids"),reference:"projects",source:a("allowed_project_ids"),filter:i&&!x.a.isEmpty(i.filter_projects)?{organization_ids:i.allowed_organization_ids}:null},r.a.createElement(Sy.a,{margin:"none",variant:"outlined",fullWidth:!0})))))},Ay=["formData","scopedFormData","getSource"],Dy=["formData","scopedFormData","getSource"],Ty=Object(ae.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},tabContainer:{display:"flex",flexDirection:"column"},form:{"& .MuiCardContent-root":{padding:0}}}}));function Fy(e){if(e){var t=e.replace("(","").replace(")",""),a=t.slice(0,3),n=t.slice(3,t.length+2);return"(".concat(a,")").concat(n)}return e}var Ry=function(e){var t=Object(n.useState)([]),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)([]),c=Object(Z.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)(!1),m=Object(Z.a)(d,2),p=m[0],f=(m[1],Object(Ca.a)()),_=(Ty(),Object(pe.a)()),g=L();Object(n.useEffect)((function(){f.getList("roles",{pagination:{page:1,perPage:99},sort:{field:"id",order:"asc"},filter:{}}).then((function(e){i(e.data)})),Y("has_pimis_fields")&&f.getListOfAll("organizations",{}).then((function(e){u(e.data)}))}),[]);var h=function(e){var t=x.a.find(s,(function(t){return t.id===e}));return t?t.level:null};return r.a.createElement(es.a,Object.assign({},e,{redirect:"show",toolbar:!1}),r.a.createElement(ts.a,{redirect:"show",validate:ky,toolbar:r.a.createElement(s_,null)},r.a.createElement(as.a,{label:"summary"},r.a.createElement(cs,{tooltipText:"tooltips.resources.users.fields.username",fullWidth:!0},r.a.createElement(ns.a,{source:"username",variant:"outlined",margin:"none",validate:xy})),r.a.createElement(cs,{tooltipText:"tooltips.resources.roles.fields.full_name",fullWidth:!0},r.a.createElement(ns.a,{source:"full_name",variant:"outlined",margin:"none",validate:[Object(rs.j)()]})),r.a.createElement(cs,{tooltipText:"tooltips.resources.roles.fields.email",fullWidth:!0},r.a.createElement(ns.a,{source:"email",variant:"outlined",margin:"none",validate:[Object(rs.c)(),Object(rs.j)()]})),r.a.createElement(cs,{tooltipText:"tooltips.resources.roles.fields.phone",fullWidth:!0},r.a.createElement(ns.a,{source:"phone",variant:"outlined",margin:"none",label:_("resources.users.fields.phone"),validate:[Object(rs.d)(11),Object(rs.f)(10),Object(rs.h)()],format:Fy,parse:function(e){return e.replace(/\D/g,"")}})),r.a.createElement(Gf,Object.assign({},e,{source:"organization_id",config:"organizational_config",reference:"organizations",field:"organization",labels:{1:"Level 1 Organization",2:"Level 2 Organization",3:"Level 3 Organization"},tooltips:{1:"Level 1 includes Ministries",2:"Level 2 includes Ministries Departments",3:"Level 3 includes Public bodies"}})),Y("has_supervisor_manager")&&r.a.createElement(cs,{tooltipText:"tooltips.resources.users.fields.user_roles.organization_level",fullWidth:!0},r.a.createElement(Nu.a,{perPage:-1,reference:"users",source:"supervisor_id",filterToQuery:function(e){return{full_name:e}}},r.a.createElement(wy.a,{margin:"none",variant:"outlined",fullWidth:!0,suggestionLimit:5,optionText:"full_name"}))),r.a.createElement(js.a,null,(function(t){var a=t.formData;t.scopedFormData,t.getSource,Object(T.a)(t,Ay);return"undefined"===typeof a.is_donor?a.fund_id&&(a.is_donor=!0):!a.is_donor&&a.fund_id&&(a.fund_id=null),r.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:20,width:"500px",marginTop:15}},r.a.createElement(I_.a,{label:_("resources.users.fields.is_donor"),source:"is_donor"}),a.is_donor?Y("has_pimis_fields")?r.a.createElement(ns.a,{source:"external_organization",label:"External Organization",variant:"outlined",margin:"none",validate:[Object(rs.c)(),Object(rs.j)()],fullWidth:!0}):r.a.createElement(Gf,Object.assign({},e,{source:"fund_id",config:"fund_config",reference:"funds",field:"fund",filter:{is_donor:!0}})):null)}))),g("edit_permissions")&&r.a.createElement(as.a,{label:"permissions",disabled:p},r.a.createElement(Ss.a,{source:"user_roles",label:!1},r.a.createElement(Ps.a,null,r.a.createElement(js.a,null,(function(e){var t,a=e.formData,n=e.scopedFormData,i=e.getSource;Object(T.a)(e,Dy);return n&&n.role_id&&o&&(t=x.a.find(o,(function(e){return e.id===n.role_id})))&&!t.organization_level&&(n.allowed_organization_ids=[a.organization_id]),r.a.createElement(Ny,{sourceOrg:i("allowed_organization_ids"),roles:o,scopedFormData:n,selectedRole:t,getSource:i,userOrganization:null===a||void 0===a?void 0:a.organization_id,userOrganizationLevel:(null===a||void 0===a?void 0:a.organization_id)&&h(null===a||void 0===a?void 0:a.organization_id)})})))))))},Iy=["formData","scopedFormData","getSource"],My=["formData","scopedFormData","getSource"];Object(ae.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},tabContainer:{display:"flex",flexDirection:"column"},form:{"& .MuiCardContent-root":{padding:0}}}}));function Wy(e){if(e){var t=e.replace("(","").replace(")",""),a=t.slice(0,3),n=t.slice(3,t.length+2);return"(".concat(a,")").concat(n)}return e}var Ly=function(e){var t=Object(n.useState)(!1),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(pe.a)(),c=Object(Ca.a)(),s=L(),u=Object(Na.a)();return r.a.createElement(Gs.a,null,s("reset_user_password")&&Y("has_user_reset_password_button")&&r.a.createElement(r.a.Fragment,null,r.a.createElement($p.a,{isOpen:o,title:l("messages.reset_password"),content:l("messages.reset_password_confirmation"),onConfirm:function(t){i(!1),c.reset("users",{id:e.id}).then((function(e){u("Password changed!")})).catch((function(e){u("Password wasn`t changed! "+e.body.error_message,"error")}))},onClose:function(){i(!1)},confirm:l("buttons.confirm"),cancel:l("buttons.cancel")}),r.a.createElement(Ee.a,{variant:"outlinedPrimary",onClick:function(){i(!0)},style:{margin:"0px 10px"}},r.a.createElement(Bn.a,null),l("buttons.reset_password"))),r.a.createElement(zs.a,Object.assign({},e,{record:e})))},Yy={list:py,show:Oy,create:Ry,edit:function(e){var t=Object(n.useState)([]),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(null),c=Object(Z.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)(!1),m=Object(Z.a)(d,2),p=m[0],f=m[1],_=Object(Ca.a)(),g=L(),h=Object(pe.a)();Object(n.useEffect)((function(){_.getList("roles",{pagination:{page:1,perPage:99},sort:{field:"id",order:"asc"},filter:{}}).then((function(e){u(e.data)})),Y("has_pimis_fields")&&_.getListOfAll("organizations",{}).then((function(e){i(e.data)}))}),[]);var v=function(e){var t=x.a.find(o,(function(t){return t.id===e}));return t?t.level:null};return r.a.createElement(ru.a,Object.assign({},e,{redirect:"show",actions:r.a.createElement(Ly,e),undoable:!1}),r.a.createElement(ts.a,{redirect:"show",validate:ky,toolbar:r.a.createElement(s_,null)},r.a.createElement(as.a,{label:"summary"},r.a.createElement(cs,{tooltipText:"tooltips.resources.users.fields.username",fullWidth:!0},r.a.createElement(ns.a,{source:"username",variant:"outlined",margin:"none",validate:xy})),r.a.createElement(cs,{tooltipText:"tooltips.resources.roles.fields.full_name",fullWidth:!0},r.a.createElement(ns.a,{source:"full_name",variant:"outlined",margin:"none",validate:[Object(rs.j)()]})),r.a.createElement(cs,{tooltipText:"tooltips.resources.roles.fields.email",fullWidth:!0},r.a.createElement(ns.a,{source:"email",variant:"outlined",margin:"none",validate:[Object(rs.c)(),Object(rs.j)()]})),r.a.createElement(cs,{tooltipText:"tooltips.resources.roles.fields.phone",fullWidth:!0},r.a.createElement(ns.a,{source:"phone",label:h("resources.users.fields.phone"),variant:"outlined",margin:"none",validate:[Object(rs.d)(11),Object(rs.f)(10),Object(rs.h)()],format:Wy,parse:function(e){return e.replace(/\D/g,"")}})),r.a.createElement(Gf,Object.assign({},e,{source:"organization_id",config:"organizational_config",reference:"organizations",field:"organization",labels:{1:"Level 1 Organization",2:"Level 2 Organization",3:"Level 3 Organization"},tooltips:{1:"Level 1 includes Ministries",2:"Level 2 includes Ministries Departments",3:"Level 3 includes Public bodies"},disablePermissions:function(e){f(e)}})),Y("has_supervisor_manager")&&r.a.createElement(cs,{tooltipText:"tooltips.resources.users.fields.user_roles.organization_level",fullWidth:!0},r.a.createElement(Nu.a,{perPage:-1,reference:"users",source:"supervisor_id",filterToQuery:function(e){return{full_name:e}}},r.a.createElement(wy.a,{margin:"none",variant:"outlined",fullWidth:!0,suggestionLimit:5,optionText:"full_name"}))),r.a.createElement(js.a,null,(function(t){var a=t.formData;t.scopedFormData,t.getSource,Object(T.a)(t,Iy);return"undefined"===typeof a.is_donor?a.fund_id&&(a.is_donor=!0):!a.is_donor&&a.fund_id&&(a.fund_id=null),r.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:20,width:"500px",marginTop:15}},r.a.createElement(I_.a,{label:h("resources.users.fields.is_donor"),source:"is_donor"}),a.is_donor?Y("has_pimis_fields")?r.a.createElement(ns.a,{source:"external_organization",label:"External Organization",variant:"outlined",margin:"none",validate:[Object(rs.c)(),Object(rs.j)()],fullWidth:!0}):r.a.createElement(Gf,Object.assign({},e,{source:"fund_id",config:"fund_config",reference:"funds",field:"fund",filter:{is_donor:!0}})):null)}))),g("edit_permissions")&&r.a.createElement(as.a,{label:"permissions",disabled:p},r.a.createElement(Ss.a,{source:"user_roles",label:!1},r.a.createElement(Ps.a,null,r.a.createElement(js.a,null,(function(e){var t,a=e.formData,n=e.scopedFormData,o=e.getSource;Object(T.a)(e,My);return n&&n.role_id&&s&&(t=x.a.find(s,(function(e){return e.id===n.role_id})))&&!t.organization_level&&(n.allowed_organization_ids=[a.organization_id]),r.a.createElement(Ny,{sourceOrg:o("allowed_organization_ids"),roles:s,scopedFormData:n,selectedRole:t,getSource:o,userOrganization:null===a||void 0===a?void 0:a.organization_id,userOrganizationLevel:(null===a||void 0===a?void 0:a.organization_id)&&v(null===a||void 0===a?void 0:a.organization_id)})})))))))}},By=a(2097),zy=a(2098),qy=a(2043),Uy=a(2042),Vy=a(363),Gy=a.n(Vy),Hy=["basePath","label","record","icon","lastDetailId"],Jy=function(e){return e.stopPropagation()},Xy=function(e){var t=e.basePath,a=void 0===t?"":t,n=e.label,o=void 0===n?"ra.action.edit":n,i=(e.record,e.icon),l=void 0===i?r.a.createElement(Gy.a,null):i,c=e.lastDetailId,s=void 0===c?"":c,u=Object(T.a)(e,Hy);return r.a.createElement(Xn.a,Object.assign({component:me.a,to:Object(pc.a)(a,s),label:o,onClick:Jy},u),l)},$y=a(2039);var Ky=function(e){var t=Object(Ca.a)(),a=Object(Na.a)(),o=Object(pe.a)(),i=Object(n.useState)(!1),l=Object(Z.a)(i,2),c=l[0],s=l[1],u=c?r.a.createElement(Yr.a,{size:25,thickness:2}):r.a.createElement($y.a,null);return r.a.createElement(Xn.a,{label:"REVERT",onClick:function(){var n=e.record;e.action,function(e,n){var r={data:{action:"REVERT"},id:n.id};t.action("projects",r).then((function(e){a(o("workflow.messages.status_change")),s(!1),window.location.reload()})).catch((function(e){a(o("workflow.messages.status_not_change"),"warning"),s(!1)}))}(0,n)}},u)},Qy=a(592),Zy=a.n(Qy),eO=a(342),tO=a.n(eO),aO=function(){return(aO=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},nO=function(e){return"undefined"===typeof e||null===e||""===e},rO=function(e,t,a,n,r){return"function"===typeof e?e(aO({args:t,value:a,values:n},r)):r.translate(e,aO({_:e},t))},oO=function(e){return tO()(e,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return JSON.stringify(e)}))},iO=(oO((function(e,t,a){return void 0===a&&(a="Maximum 2 outcomes per output"),function(n,r,o){var i=e&&e.outcome_ids.length>t;return!nO(i)&&i?rO(a,{outcomes:e},n,r,o):void 0}})),oO((function(e,t,a){return void 0===a&&(a="Maximum 2 outcomes per output"),function(n,r,o){var i=e&&e.outcome_ids.length>t;return!nO(i)&&i?rO(a,{outcomes:e},n,r,o):void 0}})),function(e,t,a){if(x.a.isEmpty(e))return[];var n=[Ia.BEHAVIOR_CHANGE,Ia.INTRODUCTION,Ia.OM_COSTS,Ia.OPTIONS_ANALYSIS],r=Qa().filter((function(t){var a,r,o="RETOOLING"===(null===e||void 0===e||null===(a=e.project)||void 0===a?void 0:a.classification)||"STUDIES"===(null===e||void 0===e||null===(r=e.project)||void 0===r?void 0:r.classification);return!Y("has_retooling_skip_phases")||!o||!n.includes(t.step)})).filter((function(e){return!t||e.step===t})).filter((function(e){return e.app&&e.app.includes(a)})).filter((function(t){if(t.phases.includes(e.phase_id))switch(t.field){case"revenue_source":return!(!e||!Object(w.find)(e.proposed_funding_source,(function(e){return e&&1===Number(e.fund_id)})))&&!e[t.field];case"ppp_similar_reference":case"ppp_interest":case"ppp_impediments":case"ppp_risk_allocation":var a=["Public-Private Partnerships","Joint-Venture","Joint-Venture (Unsolicited Proposal)","Public-Private Partnerships (Unsolicited Proposal)","Joint-Venture (Solicited Proposal)","Public-Private Partnerships (Solicited Proposal)"],n=["Public-Private Partnership","Joint Venture","Unsolicited Proposal"],r=e&&e.procurement_modality&&e.procurement_modality.filter((function(e){return a.includes(e)})).length>0;return!(!(e&&e.proposed_funding_source&&"Source of funding has not been identified"!==e.proposed_funding_source&&e.proposed_funding_source.filter((function(e){return n.includes(e)})).length>0)&&!r)&&!e[t.field];case"om_costs":return!(!e||!e.maintenance_period)&&cO("om_costs",t.innerFields,e);case"ndp_strategies":return t.condition?sO("ndp_strategies",t.innerFields,e,t.condition):cO("ndp_strategies",t.innerFields,e);case"project_options":return cO("project_options",t.innerFields,e);case"government_coordinations":return cO("government_coordinations",t.innerFields,e);case"outcomes":return cO("outcomes",t.innerFields,e);case"outputs":return cO("outputs",t.innerFields,e);case"outcomes.indicators":return uO("outcomes","indicators",t.innerFields,e);case"outputs.indicators":return uO("outputs","indicators",t.innerFields,e);case"indicators":return cO("indicators",t.innerFields,e);case"activities":return cO("activities",t.innerFields,e);case"activities.investments":return uO("activities","investments",t.innerFields,e);case"outputs.investments":return uO("outputs","investments",t.innerFields,e);case"components.subcomponents":return uO("components","subcomponents",t.innerFields,e);case"components.investments":return uO("components","investments",t.innerFields,e);case"responsible_officers":return cO("responsible_officers",t.innerFields,e);default:if(!e[t.field])return!0;if(e[t.field]&&x.a.isArray(e[t.field])&&x.a.isEmpty(e[t.field]))return!0}return!1}));return r&&0!==r.length?r:[]}),lO=function(e,t){if(x.a.isEmpty(e))return!0;if(!t)return!0;if(t&&0!==t.length&&(!e.files||0===e.files.length))return!0;var a=e.files.filter((function(e){var t=e.meta&&"string"===typeof e.meta?JSON.parse(e.meta):e.meta;return!!t&&t.relatedField})).map((function(e){return!!e.meta&&e.meta.relatedField}));return 0!==t.filter((function(e){return!a.includes(e.name)})).length||void 0},cO=function(e,t,a){if(x.a.isArray(a[e])&&a[e]&&0===a[e].length)return!0;var n=a[e]&&a[e].filter((function(e){var a=t&&t.filter((function(t){return!e||(e[t]&&x.a.isArray(e[t])?0===e[t].length:!e[t])}));return a&&0!==a.length}));return n&&0!==n.length},sO=function(e,t,a,n){if(x.a.isArray(a[e])&&a[e]&&0===a[e].length)return!0;var r=a[e]&&a[e].filter((function(e){var a=t&&t.map((function(t){return!e||(e[t]&&x.a.isArray(e[t])?0===e[t].length:e[t])}));return a.filter((function(e){return!e})).length===a.length}));return r&&0!==r.length},uO=function(e,t,a,n){if(x.a.isEmpty(n[e]))return!0;var r=n[e]&&n[e].filter((function(e){return!!x.a.isEmpty(e[t])||cO(t,a,e[t])}));return r&&0!==r.length},dO=function(e,t){if(Y("has_pimis_fields")){var a=localStorage.getItem("validation")&&JSON.parse(localStorage.getItem("validation"))||Qa,n=Object(w.find)(a,(function(t){return t.field===e}));return t?!!Object(w.find)(null===n||void 0===n?void 0:n.innerFields,(function(e){return e===t}))&&Object(rs.j)():!!n&&Object(rs.j)()}return Object(rs.j)()};n.Component;var mO=function(e,t){var a=Object(Ca.a)(),r=Object(n.useState)([]),o=Object(Z.a)(r,2),i=o[0],l=o[1],c=z("has_retooling_project_attachment",e);return Object(n.useEffect)((function(){a.getListOfAll("file-types",{sort_field:"id"}).then((function(a){if(a.data&&a.data.length){var n=a.data.filter((function(t){return t.is_required&&t.phase_ids&&t.phase_ids.includes(e)})).filter((function(e){return t?e.id===c:e.id!==c}));l(n)}})).catch((function(e){console.log(e)}))}),[a,e]),i},pO=a(2040),fO=["action","show","onClose","onSubmit"];var _O=function(e){var t=e.action,a=e.show,n=e.onClose,o=e.onSubmit,i=(Object(T.a)(e,fO),Object(pe.a)());return r.a.createElement(Gr.a,{open:a,onClose:n,"aria-label":i("messages.project_reject_confirmation")},r.a.createElement(Hr.a,null,function(e){switch(e){case Ma.ALLOCATE_FUNDS:return"This action means that the budget will be allocated for the project. Please confirm!";case Ma.ASSIGN:return"Assign user to next workflow step. Please confirm!";case Ma.SUBMIT:return"Submit means you are forwarding the project for approval. You will not be able to take any action on the project after the submission. Please confirm!";case Ma.REVISE:return"Revise means you are returning the project for modification/amendment. Are you sure you want to revise?";case Ma.APPROVE:return"Approve means forwarding the project to the next in tier.  Are you sure you want to approve?";case Ma.CONDITIONALLY_APPROVE:return"Conditional approve means forwarding the project to the creator.  Are you sure you want to approve?";case Ma.REJECT:return"This action means that the project will be deleted from the system and archived in the recycling bin for only 7 days. No further action will be undertaken once rejected. Are you sure you want to reject the project?";default:return null}}(t)),r.a.createElement(Xr.a,null,r.a.createElement(Ee.a,{onClick:o,label:"ra.action.confirm",key:"button",style:{color:"green"}},r.a.createElement(tv.a,null)),r.a.createElement(Ee.a,{label:"ra.action.cancel",onClick:n,style:{color:"red"}},r.a.createElement(ev.a,null))))};var gO=Object(ae.a)((function(e){return{textarea:{padding:"0 !important",width:"100%"}}})),hO=0;var vO=function(e){var t=gO(),a=Object(pe.a)(),o=Object(Na.a)(),i=Object(n.useState)(0),l=Object(Z.a)(i,2),c=l[0],s=l[1],d=Object(n.useState)(0),m=Object(Z.a)(d,2),p=m[0],f=m[1],_=Object(n.useState)(null),g=Object(Z.a)(_,2),h=g[0],v=g[1],b=Object(n.useState)(null),E=Object(Z.a)(b,2),j=E[0],y=E[1],O=Object(n.useState)(null),w=Object(Z.a)(O,2),k=w[0],S=w[1],P=Object(n.useState)(null),C=Object(Z.a)(P,2),N=C[0],A=C[1],D=Object(n.useState)(!1),T=Object(Z.a)(D,2),F=T[0],R=T[1],I=Object(n.useState)(!1),M=Object(Z.a)(I,2),W=M[0],L=M[1],B=Object(n.useState)(!1),z=Object(Z.a)(B,2),q=z[0],U=z[1],V=Object(n.useState)(!1),G=Object(Z.a)(V,2),H=G[0],J=G[1],X=(e.push,e.record,e.action),$=e.currentStep,K=Object(ee.f)((function(e){return e.app.appConfig}));function Q(){e.push;var t,a=e.details,n=(e.record,e.showNotification,e.action,e.data,e.translate),r=e.fileTypes,o=[],i=lO(a,r)?"No Mandatory Files":[],l=function(e){var t=e.details,a=[];return x.a.isEmpty(t)||(t.outcomes&&t.outcomes.length>2&&a.push(e.translate("messages.max_outcomes")),t.outputs&&0!==t.outputs.filter((function(e){return e.outcome_ids&&e.outcome_ids.length>2})).length&&a.push(e.translate("messages.max_outcomes_per_output")),t.phase_id>=1&&t.outputs&&0!==t.outputs.filter((function(e){return e.activities&&0===e.activities.length})).length&&a.push(e.translate("messages.min_activity_per_output")),Y("project_options_best_item_validation",t.phase_id)&&(t.project_options&&t.project_options.filter((function(e){return e.is_shortlisted})).length>3&&a.push(e.translate("messages.max_shortlisted_options")),t.project_options&&0===t.project_options.filter((function(e){return e.is_shortlisted})).length&&a.push(e.translate("messages.min_selected_option")),t.project_options&&t.project_options.filter((function(e){return e.is_preferred})).length>1&&a.push(e.translate("messages.max_best_option")),t.project_options&&0===t.project_options.filter((function(e){return e.is_preferred})).length&&a.push(e.translate("messages.min_best_option")))),a}(Object(u.a)(Object(u.a)({},a),{},{translate:n})),c=function(){var t=e.details,a=e.translate,n=iO(t,!1,K.application_config.prefix);if(n&&0!==n.length){var r="",o=x.a.groupBy(n,(function(e){return e.step}));for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];r+="".concat(i||a("validation.empty_fields")," - ").concat(l.map((function(e){return"".concat(a(e.translation))})).join(", "),"; ")}return"".concat(a("validation.empty_fields"),":  ").concat(r)}return[]}();return!!a&&(Y("project_options_validate_options",a.phase_id)&&(t=pr(a,0,n),x.a.isString(t)&&o.push(t)),x.a.concat(i,l,c,o))}function te(){0===Q().length?J(!0):Q().forEach((function(e){e&&o(e,"warning")}))}function ae(){J(!0)}function ne(){e.filesValidation?p===e.mandatoryFiles.length?me(e.action,e.data):alert("No mandatory files in attachments!"):me(e.action,e.data)}function re(e){S(e.target.value)}function oe(e){A(e.target.value)}function ie(e){f(p+1)}function le(){f(p-1)}function ce(e){s(hO+=1)}function ue(e){v(e.target.value)}function de(e){y(e.target.value)}function me(t,a){var n={data:{action:t,reason:k},id:a.id};t===Ma.ASSIGN&&(n.data.assigned_user_id=N),h&&j&&(n.data.issues=h,n.data.recommendations=j),R(!0),U(!1),J(!1),L(!1),e.onRefresh(n).then((function(e){R(!1),A(null),S(""),y(""),v(""),f(0),s(0),hO=0})).catch((function(e){R(!1),A(null),S(""),y(""),v(""),f(0),s(0),hO=0}))}return Object(n.useEffect)((function(){e.filesValidation?W&&p===c&&p===e.mandatoryFiles.length&&ne():W&&ne()}),[c]),Object(n.useEffect)((function(){(e.filesValidation&&W&&p===c&&p===e.mandatoryFiles.length||W&&p===c)&&ne()}),[W]),r.a.createElement(n.Fragment,null,function(){var e=ae;X===Ma.SUBMIT&&1===$&&(e=te);var t={color:X===Ma.SUBMIT&&1===$?0===Q().length?"green":"red":""},o=function(){switch(X){case Ma.SUBMIT:return 1===$?0===Q().length?r.a.createElement(Zh.a,null):r.a.createElement(ev.a,null):r.a.createElement(Zh.a,null);case Ma.APPROVE:case Ma.CONDITIONALLY_APPROVE:return r.a.createElement(tv.a,null);case Ma.REJECT:return r.a.createElement(ev.a,null);case Ma.REVISE:return r.a.createElement(av.a,null);case Ma.ASSIGN:case Ma.ALLOCATE_FUNDS:return r.a.createElement(pO.a,null);case Ma.COMPLETE:return r.a.createElement(tv.a,null);default:return null}}(),i=F?r.a.createElement(n.Fragment,null,r.a.createElement(Yr.a,{size:25,thickness:2}),r.a.createElement("span",{style:{marginLeft:"10px"}},a("buttons.".concat(X.toLowerCase())))):a("buttons.".concat(X.toLowerCase()));if(Y("has_ibp_fields")&&16===$){var l=X;"CONDITIONALLY_APPROVE"===X&&(l="revise"),"REVISE"===X&&(l="differ"),i=F?r.a.createElement(n.Fragment,null,r.a.createElement(Yr.a,{size:25,thickness:2}),r.a.createElement("span",{style:{marginLeft:"10px"}},a("buttons.".concat(l.toLowerCase())))):a("buttons.".concat(l.toLowerCase()))}return r.a.createElement(Xn.a,{style:t,label:i,onClick:e,disabled:F},o)}(),r.a.createElement(Gr.a,{fullWidth:!0,open:H,onClose:function(){J(!1),R(!1),A(null),S(""),y(""),v(""),f(0),s(0),hO=0},"aria-label":a("workflow.assign")},function(o){var i=e.data,l=i.workflow,c=i.assignable_users;a(o===Ma.ASSIGN?"workflow.assign":"workflow.decision"),o===Ma.SUBMIT&&a("workflow.comments");var s=Y("has_pimis_fields")&&l&&l.additional_data&&l.additional_data.submit_project_analysis?r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{variant:"caption"},"Issues"),r.a.createElement($n.a,{className:t.textarea,multiline:!0,rows:3,value:h,onChange:ue,variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(se.a,{variant:"caption"},"Recommendations"),r.a.createElement($n.a,{className:t.textarea,multiline:!0,rows:3,value:j,onChange:de,variant:"outlined"}),r.a.createElement("br",null)):null,u=o===Ma.ASSIGN?r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{variant:"caption"},a("workflow.assign_user")),r.a.createElement(xa.a,{autoWidth:!0,value:N,placeholder:a("workflow.assign_user"),onChange:oe,style:{width:"100%"},label:a("workflow.assign_user"),variant:"outlined"},c&&c.map((function(e){return r.a.createElement(sa.a,{value:e.id},"".concat(e.full_name," (").concat(e.username,")"))}))),r.a.createElement("br",null)):null;return o!==Ma.ASSIGN||Y("has_pimis_fields")?r.a.createElement(n.Fragment,null,r.a.createElement(Jr.a,null,u,s||r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(se.a,{variant:"caption"},o===Ma.SUBMIT?"Comments":"Decision"),r.a.createElement($n.a,{className:t.textarea,multiline:!0,rows:3,value:k,onChange:re,variant:"outlined"})),r.a.createElement("br",null),e.mandatoryFiles&&e.mandatoryFiles.length>0?e.mandatoryFiles.map((function(t){return r.a.createElement(hp,Object.assign({isRequired:e.filesValidation,onDeleteSelected:le,onFileSelect:ie,onFileUploaded:ce,type:"PRIMARY",isConfirmed:W,fileType:t,additional_data:(null===l||void 0===l?void 0:l.additional_data)||{}},e))})):l&&l.additional_data&&l.additional_data.hide_uploader?null:r.a.createElement(hp,Object.assign({onFileSelect:ie,onFileUploaded:ce,type:"PRIMARY",isConfirmed:W},e)),e.additionalLink?r.a.createElement("a",{href:e.additionalLink,download:!0},"Example"):null)):r.a.createElement(Jr.a,null,u)}(X),r.a.createElement(Xr.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(Xn.a,{label:a("buttons.confirm"),disabled:function(){e.record;var t=e.action,a=e.filesValidation;return!!F||(!(!a||p===e.mandatoryFiles.length)||(t===Ma.ASSIGN&&!N||!(!(Y("has_pimis_fields")&&e.data&&e.data.workflow&&e.data.workflow.additional_data&&e.data.workflow.additional_data.submit_project_analysis)||j&&h)))}(),saving:F,onClick:function(){U(!0)},variant:"contained"}),r.a.createElement(_O,{action:X,show:q,onClose:function(){U(!1),J(!1),R(!1),A(null),S(""),y(""),v(""),f(0),s(0),hO=0},onSubmit:function(){L(!0)}})))))};var bO=function(e){var t=Object(pe.a)(),a=Object(Ca.a)(),n=Object(Na.a)(),o=Object(ai.a)(),i=Object(rr.a)(),l=r.a.useState(!1),c=Object(Z.a)(l,2),s=c[0],u=c[1],d=r.a.useState(!1),m=Object(Z.a)(d,2),p=m[0],f=m[1],_=mO(e.record.phase_id),g=Object(ee.f)((function(e){return e.user.userInfo})),h=L();if(!e.record)return null;var v=function(t){return u(!0),a.action("projects",t).then((function(t){f(!0),u(!1),n("workflow.messages.status_change"),t&&t.data&&t.data.phase_id!==e.record.phase_id&&(o("/projects/".concat(t.data.id,"/show/").concat(t.data.phase_id)),i()),i()})).catch((function(e){u(!1),n("workflow.messages.status_not_change","warning")}))};function b(t){var a=e.record,n=a.workflow,r=(a.phase_id,t===Ma.APPROVE||t===Ma.SUBMIT),o=n&&n.file_type_ids&&n.file_type_ids.length>0;return r&&o?n&&n.file_type_ids:[]}var E=e.record.workflow;return x.a.isEmpty(E)?null:!x.a.isEmpty(E)&&E.actions&&0!==E.actions.length?function(){var a=e.record.workflow,o=a.actions,i=a.step,l=a.role_id;return!g.current_role||Number(l)!==Number(g.current_role.role_id)&&1!==Number(g.current_role.role_id)?null:o.filter((function(e){return h(La[e])})).filter((function(e){return"APPROVE"!==e||19!==i})).map((function(a){return r.a.createElement(vO,Object.assign({key:a,action:a,data:e.record,details:e.details,onRefresh:v,currentStep:i,isFetching:s,isSubmitted:p,translate:t,fileTypes:_,showNotification:n,filesValidation:b(a).length>0,mandatoryFiles:b(a),additionalLink:E&&E.additional_data&&E.additional_data.expost_report?"assets/templates/EvaluationReport.docx":null},e))}))}():null},EO=a(2041);var jO=function(e){var t=Object(Ca.a)(),a=Object(Na.a)(),o=Object(ai.a)(),i=Object(pe.a)(),l=Object(n.useState)(!1),c=Object(Z.a)(l,2),s=c[0],u=c[1],d=s?r.a.createElement(Yr.a,{size:25,thickness:2}):r.a.createElement(Pn.a,null);return r.a.createElement(Xn.a,{label:"Restore",onClick:function(){var n={data:{is_deleted:0},id:e.id};t.update("projects",n).then((function(e){e&&(a(i("workflow.messages.status_change")),u(!1),o("/projects"))})).catch((function(e){a(e.message,"warning"),u(!1)}))},style:e.style},d)},yO=function(e){return e&&e.project_detail_id?n.createElement(Ee.a,Object.assign({},e,{component:me.a,to:{pathname:"/project/".concat(e.project_detail_id,"/me-reports")},startIcon:n.createElement(Nn.a,null)}),"M&E REPORT"):null},OO=a(364),wO=a.n(OO),xO=["actual_commitment_amount","actual_disbursement_amount","planned_commitment_amount"],kO=["agreement_close_date","agreement_effective_date","agreement_sign_date","donor_commitment_date"],SO=["id","integration_sync_id","project_id"],PO=function(e){var t=n.useState(),a=Object(Z.a)(t,2),r=a[0],o=a[1],i=n.useState(!1),l=Object(Z.a)(i,2),c=l[0],s=l[1],u=Object(Ca.a)(),d=Object(pe.a)();n.useEffect((function(){e.data&&!r&&u.integrations("amp",{filter:{project_id:e.data.id}}).then((function(e){e&&e.data&&o(e.data)}))}),[r,u]);var m=function(){s((function(e){return!e}))};return r?n.createElement(n.Fragment,null,n.createElement(Ee.a,Object.assign({},e,{onClick:m,startIcon:n.createElement(Nn.a,null)}),"AMP Data"),c&&n.createElement(Gr.a,{fullWidth:!0,maxWidth:"lg",open:c,onClose:m,style:{overflow:"hidden"}},n.createElement(Hr.a,{disableTypography:!0,style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},n.createElement("h2",null,"AMP Data"),n.createElement(Ce.a,{onClick:m},n.createElement(wO.a,null))),n.createElement(Jr.a,null,n.createElement(Fi.a,null,n.createElement(oi.a,null,n.createElement(ii.a,null,n.createElement(li.a,null,r&&r.length?Object.keys(r[0]).map((function(e){return SO.includes(e)?null:n.createElement(ci.a,null,d("resources.integrations.amp.".concat(e)))})):null)),n.createElement(si.a,null,r&&r.length?r.map((function(e){return n.createElement(li.a,null,Object.keys(e).map((function(t){return SO.includes(t)?null:xO.includes(t)?n.createElement(ci.a,null,vr(e[t])):kO.includes(t)?n.createElement(ci.a,null,Er(e[t])):n.createElement(ci.a,null,e[t])})))})):"No data")))))):null},CO=function(e){return e&&"undefined"!==typeof e&&0!==e?Y("has_ibp_fields")?ir()(e).format("0,0"):ir()(e).format("0,0.00"):"-"},NO=[{id:4,name:"April"},{id:5,name:"May"},{id:6,name:"June"},{id:7,name:"July"},{id:8,name:"August"},{id:9,name:"September"},{id:10,name:"October"},{id:11,name:"November"},{id:12,name:"December"},{id:1,name:"January"},{id:2,name:"February"},{id:3,name:"March"}],AO=function(e){var t=Object(n.useState)(),a=Object(Z.a)(t,2),r=(a[0],a[1],Object(n.useState)()),o=Object(Z.a)(r,2),i=o[0],l=o[1],c=Object(n.useState)({}),s=Object(Z.a)(c,2),u=(s[0],s[1]),d=Object(n.useState)({}),m=Object(Z.a)(d,2),p=(m[0],m[1]),f=Object(n.useState)([]),_=Object(Z.a)(f,2),g=_[0],h=_[1],v=Object(n.useState)({}),b=Object(Z.a)(v,2),E=b[0],j=b[1],y=Object(n.useState)(!0),O=Object(Z.a)(y,2),x=O[0],k=O[1],S=Object(n.useState)({}),P=Object(Z.a)(S,2),C=P[0],N=P[1],A=Object(n.useState)([]),D=Object(Z.a)(A,2),T=D[0],F=D[1],R=Object(Ca.a)();n.useEffect((function(){var t,a;R.getListOfAll("cost-plans",{sort_field:"id",filter:{project_detail_id:null===(t=e.data)||void 0===t||null===(a=t.current_project_detail)||void 0===a?void 0:a.id,cost_plan_type:"MONTHLY",year:2023,cost_plan_status:"SUBMITTED"}}).then((function(e){(null===e||void 0===e?void 0:e.data)&&F(null===e||void 0===e?void 0:e.data)})),R.getIntegrationData("integrations/gfms",{filter:{project_coa_code:e.data.budget_code}}).then((function(e){(null===e||void 0===e?void 0:e.data)&&(l(null===e||void 0===e?void 0:e.data),k(!1))}))}),[R,e.data]),n.useEffect((function(){if(i){var e=Object(w.groupBy)(null===i||void 0===i?void 0:i.filter((function(e){return e.costing})),(function(e){return e.object_code_only})),t=Object(w.groupBy)(null===i||void 0===i?void 0:i.filter((function(e){return e.costing})),(function(e){return e.fund_source_code})),a={},n={},r={},o={};Object.keys(e).forEach((function(t){n[t]=Object(w.sumBy)(e[t],"amount")-0,a[t]=Object(w.sumBy)(e[t],"amount")})),Object.keys(t).forEach((function(t){r[t]={},o[t]={},Object.keys(e).forEach((function(a){var n=e[a].filter((function(e){return e.fund_source_code===t}));r[t][a]=Object(w.sumBy)(n,"amount")-0,o[t][a]=Object(w.groupBy)(n,"month"),Object.keys(o[t][a]).forEach((function(e){var n=o[t][a][e];o[t][a][e]=Object(w.sumBy)(n,"amount")}))}))}));var l={};Object.keys(t).forEach((function(e){var a=t[e][0];l[e]=a.fund.name}));var c={};Object.keys(e).forEach((function(t){var a=Object(w.sumBy)(e[t],"amount");c[t]=a})),N(o),u(r),h(Object(w.uniq)(Object.keys(e))),p(c),j(l)}}),[i]);var I=n.useState(!1),M=Object(Z.a)(I,2),W=M[0],L=M[1],Y=function(){L((function(e){return!e}))};return n.createElement(n.Fragment,null,n.createElement(Ee.a,Object.assign({},e,{onClick:Y,startIcon:n.createElement(Nn.a,null)}),"GFMS Data"),W&&n.createElement(Gr.a,{fullWidth:!0,maxWidth:"lg",open:W,onClose:Y,style:{overflow:"hidden"}},n.createElement(Hr.a,{disableTypography:!0,style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},n.createElement("h2",null,"GFMS Data"),n.createElement(Ce.a,{onClick:Y},n.createElement(wO.a,null))),n.createElement(Jr.a,null,x||0!==g.length?n.createElement(Fi.a,{style:{overflow:"auto",marginBottom:25}},n.createElement(oi.a,null,n.createElement(ii.a,null,n.createElement(li.a,null,n.createElement(ci.a,{rowSpan:2,style:{width:"300px"}},"Fund / Object"),NO.map((function(e){return n.createElement(ci.a,{align:"center",key:e.id,colSpan:2},e.name)}))),n.createElement(li.a,null,NO.map((function(e){return n.createElement(n.Fragment,null,n.createElement(ci.a,{align:"right",style:{width:"100px"}},"Warrant Approved"),n.createElement(ci.a,{align:"right",style:{width:"100px"}},"Expenditure"))})))),n.createElement(si.a,null,Object.keys(C).map((function(e){var t=Object.keys(C[e]);return t.forEach((function(t){Object.keys(C[e][t]).forEach((function(a){C[e][t][a]?parseFloat(C[e][t][a]||0):0}))})),[n.createElement(li.a,{key:e},n.createElement(ci.a,{colSpan:25,variant:"head",style:{fontWeight:"bold"}},"".concat(e," - ").concat(E[e]))),null===t||void 0===t?void 0:t.map((function(t){return n.createElement(li.a,{key:t},n.createElement(ci.a,{style:{width:"300px"}},"".concat(t," - ").concat(function(e){if(i&&i.length>0){var t,a=Object(w.find)(i,(function(t){return t.object_code_only===e}));return a?null===a||void 0===a||null===(t=a.costing)||void 0===t?void 0:t.name:"-"}return"-"}(t))),NO.map((function(a){var r=function(e,t,a,n){var r=Object(w.find)(T,(function(t){return t.month===e.id})),o=(null===r||void 0===r?void 0:r.cost_plan_items)&&(null===r||void 0===r?void 0:r.cost_plan_items.filter((function(e){var t;return(null===(t=e.fund)||void 0===t?void 0:t.code)===a})).map((function(e){return e.cash_flow})))||[],i={};return o.forEach((function(e){Object.keys(e).forEach((function(t){i[t]=i[t]?i[t]+parseFloat(e[t]||0):parseFloat(e[t]||0)}))})),i["v".concat(n)]}(a,0,e,t);return n.createElement(n.Fragment,null,n.createElement(ci.a,{align:"right",key:a.id,style:{width:"100px"}},CO(r)),n.createElement(ci.a,{align:"right",key:a.id,style:{width:"100px"}},CO(C[e][t][a.id])))})))}))]}))))):n.createElement(se.a,{variant:"h3"},"No GFMS data available"))))},DO=["basePath","data","resource","location","id"],TO=function(e){e.basePath;var t=e.data,a=(e.resource,e.location),r=e.id,o=Object(T.a)(e,DO),i=Object(pe.a)(),l=Object(ee.e)(),c=n.useState(!1),s=Object(Z.a)(c,2),u=(s[0],s[1]),d=n.useState(null),m=Object(Z.a)(d,2),p=m[0],f=m[1],_=n.useState(null),g=Object(Z.a)(_,2),h=g[0],v=g[1],b=Object(ee.f)((function(e){return e.user})).userInfo,E=(Object(ee.f)((function(e){return e.admin})).resources,Object(Ca.a)()),j=Object(ai.a)(),y=L(),O=a?a.pathname[a.pathname.length-1]:1;if(Object(n.useEffect)((function(){E.getListOfAll("project-details",{filter:{project_id:Number(r)},sort_field:"id"}).then((function(e){e.data.map((function(e){}));var t=x.a.maxBy(e.data,"id");v(e.data),f(t),u(!1)})).catch((function(e){console.log(e)}))}),[t&&t.phase_id]),!t)return null;function w(){return b&&Number(b.id)===Number(t.created_by)}function k(){return t&&!t.is_deleted&&"COMPLETED"!==t.project_status&&("DRAFT"===t.project_status||"REVISED"===t.project_status||"ONGOING"===t.project_status||"CONDITIONALLY_APPROVED"===t.project_status)&&(w()||y("full_access"))&&p&&t.phase_id===p.phase_id&&y(["edit_project"])}function P(){return t&&w()&&y("edit_project")&&y("export_word")}function C(){return t&&!t.is_deleted&&t.phase_id<=5&&"REVISED"!==t.project_status&&"DRAFT"!==t.project_status&&"COMPLETED"!==t.project_status&&y("revert_project")}function N(){return t&&!t.is_deleted&&"REJECTED"!==t.project_status&&"COMPLETED"!==t.project_status&&(y("approve_project")||y("submit_project")||y("reject_project")||y("assign_project")||y("revise_project")||y("approve_log_frame"))}function A(){return t&&!t.is_deleted&&!W()&&Y("project_actions_create_me_form",O)&&p&&y("create_me_report")}function D(){return t&&!t.is_deleted&&t.workflow&&t.workflow.additional_data&&!t.workflow.additional_data.is_logical_framework_editable&&Y("project_actions_edit_project_management",t.phase_id)&&y("edit_project_management")}function F(){return t&&Y("project_actions_comments",t.phase_id)&&y("list_comments")}function R(){var e=t&&y("delete_project")&&!t.is_deleted&&w()&&(1===t.phase_id||2===t.phase_id)&&"DRAFT"===t.project_status,a=t&&y("delete_project")&&!t.is_deleted&&(y("full_access")||w()&&1===t.phase_id&&1===t.current_step&&"DRAFT"===t.project_status);return Y("has_pimis_fields")?e:a}function I(){return t&&y("access_deleted_project")&&t.is_deleted}function M(){return t&&!t.is_deleted&&Y("project_has_budget_allocation",t.phase_id)&&y("edit_budget_allocation")}function W(){return t&&t.workflow&&t.workflow.additional_data&&t.workflow.additional_data.is_logical_framework_editable&&Y("project_has_log_frame_data_edit",t.phase_id)&&y("edit_log_frame")}function B(e){var t=x.a.find(h,(function(e){return Y("project_actions_create_me_form",e.phase_id)}));return t?t[e]:p[e]}return Y("has_pimis_fields")?n.createElement(Gs.a,{style:{paddingTop:0,display:"flex",justifyContent:"space-between"}},n.createElement("div",{style:{paddingTop:0,display:"flex"}},Y("project_actions_export")&&n.createElement(Ks,{printId:"docx",record:t,isEditUser:P(),phase:O}),Y("project_actions_timeline")&&n.createElement(Xn.a,{onClick:function(){l(Mr(!0)),l(Ir({type:"TIMELINE",data:t}))},label:i("buttons.timeline")},n.createElement(Zy.a,null)),F()&&n.createElement(Xn.a,{onClick:function(){l(Mr(!0)),l(Ir({type:"COMMENTS",data:t}))},label:i("buttons.notes")},n.createElement(EO.a,null)),t&&t.budget_code&&Y("project_has_gfms_data",t.phase_id)&&y("list_gfms_data")&&n.createElement(AO,{data:t,style:{color:"#3f50b5"}})),n.createElement("div",{style:{paddingTop:0,display:"flex"}},R()&&n.createElement(xv.a,Object.assign({},o,{record:t,basePath:"/projects",resource:"/projects",undoable:!0})),I()&&n.createElement(jO,{id:t.id,basePath:"/projects",resource:"/projects",undoable:!0,style:{position:"absolute",left:75}}),k()&&n.createElement(Xy,{basePath:"/project-details",lastDetailId:p.id}),N()&&n.createElement(bO,Object.assign({},o,{record:t,details:p})),C()&&n.createElement(Ky,Object.assign({record:t,details:p},o)),D()&&n.createElement(Xn.a,{onClick:function(){j("/project-management/"+(t.project_management?t.project_management.id:1))},label:i("buttons.project_management")},n.createElement(Ue.a,null)),M()&&n.createElement(Xy,{basePath:"/projects",lastDetailId:t.id,id:t.id,label:i("buttons.budget_allocation"),icon:n.createElement(Ue.a,null)}),W()&&n.createElement(Xy,{basePath:"/project-details",lastDetailId:null===p||void 0===p?void 0:p.id,label:"Log Frame"}))):n.createElement(Gs.a,{style:{paddingTop:0}},!Y("has_pimis_fields")&&n.createElement(Uy.a,Object.assign({},o,{basePath:"/projects",style:{position:"absolute",left:0}})),R()&&n.createElement(xv.a,Object.assign({},o,{record:t,basePath:"/projects",resource:"/projects",undoable:!0,style:{position:"absolute",left:Y("has_pimis_fields")?0:75}})),I()&&n.createElement(jO,{id:t.id,basePath:"/projects",resource:"/projects",undoable:!0,style:{position:"absolute",left:75}}),A()&&n.createElement(yO,Object.assign({},o,{project_detail_id:B("id"),disabled:S()(B("start_date")).isAfter(),style:{position:"absolute",bottom:5,left:R()||I?180:75,color:S()(B("start_date")).isAfter()?"inherit":"#3f50b5"}})),t&&t.budget_code&&Y("project_has_amp_data",t.phase_id)&&n.createElement(PO,{data:t,style:{position:"absolute",bottom:5,color:"#3f50b5",left:R()||I||A()?320:75}}),k()&&n.createElement(Xy,{basePath:"/project-details",lastDetailId:p.id}),N()&&n.createElement(bO,Object.assign({},o,{record:t,details:p})),C()&&n.createElement(Ky,Object.assign({record:t,details:p},o)),Y("project_actions_export")&&n.createElement(Ks,{printId:"docx",record:t,isEditUser:P(),phase:O}),Y("project_actions_timeline")&&n.createElement(Xn.a,{onClick:function(){l(Mr(!0)),l(Ir({type:"TIMELINE",data:t}))},label:i("buttons.timeline")},n.createElement(Zy.a,null)),F()&&n.createElement(Xn.a,{onClick:function(){l(Mr(!0)),l(Ir({type:"COMMENTS",data:t}))},label:i("buttons.notes")},n.createElement(EO.a,null)),D()&&n.createElement(Xn.a,{onClick:function(){j("/project-management/"+(t.project_management?t.project_management.id:1))},label:i("buttons.project_management")},n.createElement(Ue.a,null)),M()&&n.createElement(Xy,{basePath:"/projects",lastDetailId:t.id,id:t.id,label:i("buttons.budget_allocation"),icon:n.createElement(Ue.a,null)}),W()&&n.createElement(Xy,{basePath:"/project-details",lastDetailId:null===p||void 0===p?void 0:p.id,label:"Log Frame"}))},FO=(Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),a(2067)),RO=function(e){L();var t=Object(pe.a)(),a=e.customRecord,n=(e.customBasePath,e.counter),o=void 0===n?1:n,i=a;return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(o),". ",t("printForm.attachments.title")),r.a.createElement("div",null,i.files&&0!==i.files.length?r.a.createElement("ul",{style:{listStyleType:"none"}},i.files.filter((function(e){return e.meta&&!e.meta.project_analysis&&!e.meta.completion_report&&!e.meta.expost_report})).map((function(e){return r.a.createElement("li",null,r.a.createElement("a",{href:e.link},e.title))}))):r.a.createElement("p",null,t("printForm.attachments.no_attachments"))),Y("has_completion_report",i.phase_id)&&r.a.createElement("div",null,i.files&&0!==i.files.length?r.a.createElement("ul",{style:{listStyleType:"none"}},i.files.filter((function(e){return e.meta&&e.meta.completion_report})).map((function(e){return r.a.createElement("li",null,r.a.createElement("p",{style:{marginBottom:2}},t("printForm.attachments.completion_report")),r.a.createElement("a",{href:e.link},e.title))}))):null),Y("has_expost_report",i.phase_id)&&r.a.createElement("div",null,i.files&&0!==i.files.length?r.a.createElement("ul",{style:{listStyleType:"none"}},i.files.filter((function(e){return e.meta&&e.meta.expost_report})).map((function(e){return r.a.createElement("li",null,r.a.createElement("p",{style:{marginBottom:2}},t("printForm.attachments.expost_report")),r.a.createElement("a",{href:e.link},e.title))}))):null)))},IO=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),MO=function(e){var t=IO(),a=Object(pe.a)(),n=e.customRecord,o=(e.customBasePath,H(n));e.counter;if(!o)return null;var i=e.meReport||x.a.last(o.me_reports);function l(e){return i.me_activities.filter((function(t){return t.activity.output_ids.includes(e)}))}return r.a.createElement("div",{className:"landscapeSection"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,"Table 9: Project Financial Progress Status"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",t.bordered,t.table),style:{width:"100%"}},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,null,"Output / Activity"),r.a.createElement(ci.a,null,"Status"),r.a.createElement(ci.a,null,"Reasons for deviation / Challenges"),r.a.createElement(ci.a,null,"Corrective measures")),i.me_outputs&&i.me_outputs.map((function(e,n){var o=[],i=x.a.filter(l(e.output_id),(function(e){return 100*e.financial_execution/e.budget_appropriation<100})),c=x.a.filter(l(e.output_id),(function(e){return 100*e.financial_execution/e.budget_appropriation>=100}));i&&i.length>0?e.status="UNDERFUNDED":c&&c.length>0&&(e.status="ON_TRACK");var s=l(e.output_id).map((function(e,t){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"".concat(a("printForm.project_framework.activity",{smart_count:1})," ").concat(t+1,": ").concat(e.activity.name)),r.a.createElement(ci.a,null,100*e.financial_execution/e.budget_appropriation<100?r.a.createElement(Ed,{value:"UNDERFUNDED"}):r.a.createElement(Ed,{value:"ON_TRACK"})),r.a.createElement(ci.a,null,gi()(e.execution_challenges)),r.a.createElement(ci.a,null,gi()(e.execution_measures)))}));return o.push(r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,null,"".concat(a("printForm.project_framework.output",{smart_count:1})," ").concat(n+1,": ").concat(e.output.name)),r.a.createElement(ci.a,null,r.a.createElement(Ed,{value:e.status})),r.a.createElement(ci.a,null),r.a.createElement(ci.a,null))),o.push(s),o})))))))},WO=(Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}}))),LO=function(e){var t=WO(),a=Object(pe.a)(),n=e.customRecord,o=(e.customBasePath,H(n));e.counter;if(!o)return null;var i=e.meReport||x.a.last(o.me_reports);function l(e){return i.me_activities.filter((function(t){return t.activity.output_ids.includes(e)}))}return r.a.createElement("div",{className:"landscapeSection"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,"Table 8: Fiscal Allocation Corrective Measures"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",t.bordered,t.table),style:{width:"100%"}},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,null,"Output / Activity"),r.a.createElement(ci.a,null,"Status"),r.a.createElement(ci.a,null,"Reasons for deviation / Challenges"),r.a.createElement(ci.a,null,"Corrective measures")),i.me_outputs&&i.me_outputs.map((function(e,n){var o=[],i=x.a.filter(l(e.output_id),(function(e){return 100*e.budget_allocation/e.budget_appropriation<100})),c=x.a.filter(l(e.output_id),(function(e){return 100*e.budget_allocation/e.budget_appropriation>=100}));i&&i.length>0?e.status="UNDERFUNDED":c&&c.length>0&&(e.status="ON_TRACK");var s=l(e.output_id).map((function(e,t){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"".concat(a("printForm.project_framework.activity",{smart_count:1})," ").concat(t+1,": ").concat(e.activity.name)),r.a.createElement(ci.a,null,100*e.budget_allocation/e.budget_appropriation<100?r.a.createElement(Ed,{value:"UNDERFUNDED"}):r.a.createElement(Ed,{value:"ON_TRACK"})),r.a.createElement(ci.a,null,gi()(e.allocation_challenges)),r.a.createElement(ci.a,null,gi()(e.allocation_measures)))}));return o.push(r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,null,"".concat(a("printForm.project_framework.output",{smart_count:1})," ").concat(n+1,": ").concat(e.output.name)),r.a.createElement(ci.a,null," ",r.a.createElement(Ed,{value:e.status})),r.a.createElement(ci.a,null),r.a.createElement(ci.a,null))),o.push(s),o})))))))},YO=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),BO=function(e){YO();var t=Object(pe.a)(),a=e.customRecord,n=e.counter,o=void 0===n?1:n,i=Y("project_MDA_government_agencies");return!a.government_coordinations||a.government_coordinations&&0===a.government_coordinations.length?r.a.createElement("div",null,r.a.createElement("h2",null,ki(o),"."," ",t("printForm.background.government_agencies")),r.a.createElement("p",null,t("printForm.background.government_agencies_empty"))):r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},a.government_coordinations&&0!==a.government_coordinations.length&&r.a.createElement("div",null,r.a.createElement("h2",null,ki(o),"."," ",t("printForm.background.government_agencies")),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small"},r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Name"),r.a.createElement(ci.a,null,"Description")),a.government_coordinations&&a.government_coordinations.map((function(e){return r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{width:"40%"}},i?e.organization&&e.organization.name:e.name,!e.organization&&e.additional_data&&e.additional_data.name),r.a.createElement(ci.a,null,gi()(e.description)))})))))," ")))},zO=function(e){var t=e.customRecord,a=e.counter,n=Object(pe.a)(),o=t&&Y("project_report_organization_study_change_title",t.phase_id)?r.a.createElement("p",null,r.a.createElement("b",null,n("resources.project-details.fields.organization_study_pfs"))):r.a.createElement("p",null,r.a.createElement("b",null,n("resources.project-details.fields.organization_study_fs")));return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,a?"".concat(ki(a),"."):""," ",n("printForm.introduction.title")),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,n("resources.project-details.fields.rational_study"))),gi()(t.rational_study),r.a.createElement("p",null,r.a.createElement("b",null,n("resources.project-details.fields.methodology"))),gi()(t.methodology),o,gi()(t.organization_study))))},qO=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),UO=function(e){var t=e.customRecord,a=e.subCounter,n=Object(pe.a)(),o=qO();return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(a),". ",n("printForm.project_options.title")),r.a.createElement("div",null,t&&!t.project_options||t.project_options&&0===t.project_options.length?null:r.a.createElement("div",null,t&&t.project_options&&t.project_options.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",o.bordered,o.table)},r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.project_options.name")," "),r.a.createElement(ci.a,null,e.name)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.project_options.description")),r.a.createElement(ci.a,null,gi()(e.description))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.project_options.swot_analysis")," "),r.a.createElement(ci.a,null,gi()(e.swot_analysis))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.project_options.funding_modality")),r.a.createElement(ci.a,null,e.funding_modality)),"PROCUREMENT"!==e.funding_modality?r.a.createElement(r.a.Fragment,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.project_options.value_for_money")),r.a.createElement(ci.a,null,e.value_for_money)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.project_options.risk_allocation")),r.a.createElement(ci.a,null,e.risk_allocation)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.project_options.contract_management")),r.a.createElement(ci.a,null,e.contract_management)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.project_options.me_strategy")),r.a.createElement(ci.a,null,e.me_strategy))):null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.project_options.start_date")),r.a.createElement(ci.a,null,wi(e.start_date).name)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.project_options.end_date")),r.a.createElement(ci.a,null,wi(e.end_date).name)),e.om_start_date&&r.a.createElement(r.a.Fragment,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.project_options.om_start_date")),r.a.createElement(ci.a,null,wi(e.om_start_date).name)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.project_options.om_end_date")),r.a.createElement(ci.a,null,wi(e.om_end_date).name))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.project_options.is_shortlisted")),r.a.createElement(ci.a,null,e.is_shortlisted?"yes":"no")),e.is_commercial&&r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.project_options.is_commercial")),r.a.createElement(ci.a,null,e.is_commercial?"yes":"no"))))),r.a.createElement("br",null),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",o.bordered,o.table)},r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{variant:"head",style:{width:"10%"}}),x.a.keys(e.capital_expenditure).map((function(e){return r.a.createElement(ci.a,{variant:"head"},xi(e).name)}))),r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{fontWeight:"bold"}},n("printForm.project_options.capital_expenditure")),x.a.keys(e.capital_expenditure).map((function(t){return r.a.createElement(ci.a,null,Ni(e.capital_expenditure[t]))})))),r.a.createElement(si.a,null))),r.a.createElement("br",null),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",o.bordered,o.table)},r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{variant:"head",style:{width:"10%"}}),x.a.keys(e.om_cost).map((function(e){return r.a.createElement(ci.a,{variant:"head",style:{width:"10%"}},xi(e).name)}))),r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{fontWeight:"bold"}},n("printForm.project_options.om_cost")),x.a.keys(e.om_cost).map((function(t){return r.a.createElement(ci.a,null,Ni(e.om_cost[t]))})))),r.a.createElement(si.a,null))))}))))))},VO=function(e){var t=e.customRecord,a=e.counter;t=J(t);var n=Object(pe.a)();return e.hasPimisFields?r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(a),". Project Options"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small"},r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{width:"30%",fontWeight:"bold"}},n("printForm.project_options.default_option_name")),r.a.createElement(ci.a,null,t.default_option_name)),r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{width:"30%",fontWeight:"bold"}},n("printForm.project_options.default_option_description")),r.a.createElement(ci.a,null,gi()(t.default_option_description)))))),r.a.createElement("br",null),r.a.createElement(UO,Object.assign({subCounter:Number(a)},e)),r.a.createElement($i,Object.assign({subCounter:Number(a)+1},e)),r.a.createElement(Ji,Object.assign({subCounter:Number(a)+2},e)),r.a.createElement(Qi,Object.assign({subCounter:Number(a)+3},e)))):r.a.createElement(r.a.Fragment,null,r.a.createElement(al,Object.assign({subCounter:Number(a)},e)),r.a.createElement(nl,e),r.a.createElement($i,Object.assign({subCounter:Number(a)+1},e)),r.a.createElement(Ji,Object.assign({subCounter:Number(a)+2},e)),r.a.createElement(Qi,Object.assign({subCounter:Number(a)+3},e)),r.a.createElement(el,Object.assign({subCounter:Number(a)+4},e)),r.a.createElement(rl,Object.assign({subCounter:Number(a)+5},e)))},GO=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),HO=function(e){var t=GO(),a=Object(pe.a)(),n=e.customRecord,o=e.counter,i=n,l={},c=0,s=Oi(i.start_date,i.end_date);if(!i)return null;var u=Y("has_pimis_fields");function d(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{style:{margin:0}},"".concat(Xa[e.financial_pattern_type]," / ").concat($a[e.financial_pattern_subtype]," / ").concat(Ka[e.fund_body_type])))}return u?r.a.createElement("div",{className:"landscapeSection"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(o),"."," ",a("printForm.investments.outputs_title")),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",t.bordered,t.Table),style:{width:"100%"}},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,null,a("printForm.project_framework.output",{smart_count:2})),r.a.createElement(ci.a,null,"Financial Pattern"),s&&s.map((function(e){return r.a.createElement(ci.a,null,e.name)})),r.a.createElement(ci.a,null,a("printForm.investments.total"))),i.outputs&&i.outputs.map((function(e){return r.a.createElement(r.a.Fragment,null,e.investments&&e.investments.map((function(t){var a=0;return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e.name),r.a.createElement(ci.a,null,d(t)),s&&s.map((function(n){if(!e.investments)return null;var o=t.costs&&t.costs[n.id]?parseFloat(t.costs[n.id]):0;return a+=o||0,l[n.id]=l[n.id]?l[n.id]+o:o,r.a.createElement(r.a.Fragment,null,r.a.createElement(ci.a,null,vr(o)))})),r.a.createElement(ci.a,null,r.a.createElement("b",null,isNaN(a)?"-":vr(a))))})))})),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement("b",null,a("printForm.investments.total"))),u&&r.a.createElement(ci.a,null),s&&s.map((function(e){return c+=l[e.id]?l[e.id]:0,r.a.createElement(ci.a,null,r.a.createElement("b",null,vr(l[e.id])))})),r.a.createElement(ci.a,null,r.a.createElement("b",null,vr(c))))))))):r.a.createElement("div",{className:"landscapeSection"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(o),"."," ",a("printForm.investments.outputs_title")),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",t.bordered,t.Table),style:{width:"100%"}},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,null,a("printForm.project_framework.output",{smart_count:2})),u&&r.a.createElement(ci.a,null,"Financial pattern"),s&&s.map((function(e){return r.a.createElement(ci.a,null,e.name)})),r.a.createElement(ci.a,null,a("printForm.investments.total"))),i.outputs&&i.outputs.map((function(e){var t=0;return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e.name),u&&r.a.createElement(ci.a,null,d(e.investments[0])),s&&s.map((function(a){var n;if(!e.investments)return null;var o=null===(n=e.investments)||void 0===n?void 0:n.map((function(e){return null===e||void 0===e?void 0:e.costs})),i=o?x.a.sumBy(o,(function(e){return e&&e[a.id]?parseFloat(e[a.id]):0})):0;return t+=i||0,l[a.id]=l[a.id]?l[a.id]+i:i,r.a.createElement(ci.a,null,vr(i))})),r.a.createElement(ci.a,null,r.a.createElement("b",null,isNaN(t)?"-":vr(t))))})),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement("b",null,a("printForm.investments.total"))),u&&r.a.createElement(ci.a,null),s&&s.map((function(e){return c+=l[e.id]?l[e.id]:0,r.a.createElement(ci.a,null,r.a.createElement("b",null,vr(l[e.id])))})),r.a.createElement(ci.a,null,r.a.createElement("b",null,vr(c)))))))))},JO=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),XO=function(e){var t=JO(),a=Object(pe.a)(),n=e.customRecord,o=(e.customBasePath,e.counter,n),i=Oi(o.start_date,o.end_date),l=H(n),c=e.meReport||x.a.last(l.me_reports);return r.a.createElement("div",{className:"landscapeSection"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,"Table 1: Physical Monitoring selected period"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",t.bordered,t.table),style:{width:"100%"}},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,{rowspan:"2"},a("printForm.project_framework.goal")),r.a.createElement(ci.a,{rowspan:"2"},a("printForm.result_matrix.indicator_title")),r.a.createElement(ci.a,{colspan:5},a("printForm.result_matrix.indicator")),r.a.createElement(ci.a,{rowspan:2},"Risk Response"),r.a.createElement(ci.a,{rowspan:2},"Type of M&E Methodology"),r.a.createElement(ci.a,{rowspan:2},"Data collection method/source"),r.a.createElement(ci.a,{rowspan:2},"Frequency of data collection")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"".concat(a("printForm.result_matrix.baseline")," ").concat(o.baseline&&wi(S()(o.baseline,"YYYY-MM-DD")).name)),r.a.createElement(ci.a,null,r.a.createElement("strong",null,"".concat(a("printForm.result_matrix.annual")," ").concat(c&&c.start_date&&wi(S()(c.start_date,"YYYY-MM-DD")).name))),r.a.createElement(ci.a,null,r.a.createElement("strong",null,"".concat(a("printForm.result_matrix.target")," ").concat(c&&c.start_date&&wi(S()(c.start_date,"YYYY-MM-DD")).name))),r.a.createElement(ci.a,null,r.a.createElement("strong",null,"".concat(a("printForm.result_matrix.actual")," ").concat(c&&c.start_date&&wi(S()(c.start_date,"YYYY-MM-DD")).name))),r.a.createElement(ci.a,null,r.a.createElement("strong",null,"".concat(a("printForm.result_matrix.risk")," ").concat(c&&c.start_date&&wi(S()(c.start_date,"YYYY-MM-DD")).name)))),o&&o.indicators&&0!==o.indicators.length?o.indicators.map((function(e,t){return r.a.createElement(li.a,null,0===t?r.a.createElement(ci.a,{rowSpan:o.indicators.length},"".concat(a("printForm.result_matrix.project_goal"),": ").concat(o.goal)):null,r.a.createElement(ci.a,null,"Indicator ".concat(t+1,": ").concat(e.name)),r.a.createElement(ci.a,null,e.baseline),r.a.createElement(ci.a,null,e.targets[Number(c.year)]),r.a.createElement(ci.a,null,e.verification_means),r.a.createElement(ci.a,null),r.a.createElement(ci.a,null))})):r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:i.length+2+5},"".concat(a("printForm.result_matrix.project_goal"),": ").concat(o.goal))),r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,{colSpan:i.length+2+4},a("printForm.project_framework.outcome",{smart_count:2}))),o&&o.outcomes&&o.outcomes.map((function(e,t){return e.indicators&&0!==e.indicators.length?e.indicators.map((function(n,o){return r.a.createElement(li.a,null,0===o?r.a.createElement(ci.a,{rowSpan:e.indicators.length},r.a.createElement("p",null,"".concat(a("printForm.project_framework.outcome",{smart_count:1})," ").concat(t+1,": ").concat(e.name)),r.a.createElement("div",{style:{fontSize:"12px",fontStyle:"italic"}},gi()(e.description))):null,r.a.createElement(ci.a,null,"Indicator ".concat(o+1,": ").concat(n.name)),r.a.createElement(ci.a,null,n.baseline),r.a.createElement(ci.a,null,n.targets[Number(c.year)]),r.a.createElement(ci.a,null,n.target),r.a.createElement(ci.a,null,n.actual),r.a.createElement(ci.a,null,n.risk),r.a.createElement(ci.a,null,n.risk_factors),r.a.createElement(ci.a,null,c.me_type),r.a.createElement(ci.a,null,c.data_collection_type),r.a.createElement(ci.a,null,c.quarter?"QUARTER":"YEAR"))})):r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:i.length+2+5},r.a.createElement("p",null,"".concat(a("printForm.project_framework.outcome",{smart_count:1})," ").concat(t+1,": ").concat(e.name)),r.a.createElement("div",{style:{fontSize:"12px",fontStyle:"italic"}},gi()(e.description))))})),r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,{colSpan:i.length+2+4},a("printForm.project_framework.output",{smart_count:2}))),c&&c.me_outputs&&c.me_outputs.map((function(e,t){return e.indicators&&0!==e.indicators.length?e.indicators.map((function(n,o){return r.a.createElement(li.a,null,0===o?r.a.createElement(ci.a,{rowSpan:e.indicators.length},r.a.createElement("p",null,"".concat(a("printForm.project_framework.output",{smart_count:1})," ").concat(t+1,": ").concat(e.name)),r.a.createElement("div",{style:{fontSize:"12px",fontStyle:"italic"}},gi()(e.description))):null,r.a.createElement(ci.a,null,"Indicator ".concat(o+1,": ").concat(n.name)),r.a.createElement(ci.a,null,n.baseline),r.a.createElement(ci.a,null,n.targets[Number(c.year)]),r.a.createElement(ci.a,null,n.target),r.a.createElement(ci.a,null,n.actual),r.a.createElement(ci.a,null,n.risk),r.a.createElement(ci.a,null,n.risk_factors),r.a.createElement(ci.a,null,c.me_type),r.a.createElement(ci.a,null,c.data_collection_type),r.a.createElement(ci.a,null,c.quarter?"QUARTER":"YEAR"))})):r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:i.length+2+5},r.a.createElement("p",null,"".concat(a("printForm.project_framework.output",{smart_count:1})," ").concat(t+1,": ").concat(e.name)),r.a.createElement("div",{style:{fontSize:"12px",fontStyle:"italic"}},gi()(e.description))))})))))))},$O=(Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}}))),KO=function(e){var t=$O(),a=Object(pe.a)(),n=e.customRecord,o=(e.customBasePath,H(n));e.counter;if(!o)return null;var i=e.meReport||x.a.last(o.me_reports);function l(e){return i.me_activities.filter((function(t){return t.activity.output_ids.includes(e)}))}return r.a.createElement("div",{className:"landscapeSection"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,"Table 7: Project Financial Progress Status"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",t.bordered,t.table),style:{width:"100%"}},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,null),r.a.createElement(ci.a,{colSpan:3},"Allocation"),r.a.createElement(ci.a,{colSpan:2},"Expenditure")),r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,null,"Outputs / Activities"),r.a.createElement(ci.a,null,"Budget Approved"),r.a.createElement(ci.a,null,"Budget Released"),r.a.createElement(ci.a,null,"Status"),r.a.createElement(ci.a,null,"Releases Spent"),r.a.createElement(ci.a,null,"Status")),i.me_outputs&&i.me_outputs.map((function(e,n){var o=[];e.budget_approved=x.a.sumBy(l(e.output_id),(function(e){return parseFloat(e.budget_appropriation)})),e.budget_allocation=x.a.sumBy(l(e.output_id),(function(e){return parseFloat(e.budget_allocation)})),e.budget_supplemented=x.a.sumBy(l(e.output_id),(function(e){return parseFloat(e.budget_supplemented)})),e.release_budget=x.a.sumBy(l(e.output_id),(function(e){return parseFloat(e.budget_allocation)})),e.release_spent=x.a.sumBy(l(e.output_id),(function(e){return parseFloat(e.financial_execution)})),e.total_cost=0,e.revised_budget=parseFloat(e.budget_approved)+parseFloat(e.budget_supplemented);var i=function(e){return r.a.createElement(Ed,{value:e})},c=l(e.output_id).map((function(e,t){return e.revised_budget=parseFloat(e.budget_appropriation)+parseFloat(e.budget_supplemented),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"".concat(a("printForm.project_framework.activity",{smart_count:1})," ").concat(t+1,": ").concat(e.activity.name)),r.a.createElement(ci.a,null,Di(e.budget_appropriation)),r.a.createElement(ci.a,null,e.budget_allocation),r.a.createElement(ci.a,null,i(1-e.budget_allocation/e.budget_appropriation)),r.a.createElement(ci.a,null,e.financial_execution),r.a.createElement(ci.a,null,i(1-e.financial_execution/e.budget_appropriation)))}));return o.push(r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,null,"".concat(a("printForm.project_framework.output",{smart_count:1})," ").concat(n+1,": ").concat(e.output.name)),r.a.createElement(ci.a,null,Di(e.budget_approved)),r.a.createElement(ci.a,null,Di(e.release_budget)),r.a.createElement(ci.a,null,i(1-e.release_budget/e.release_budget)),r.a.createElement(ci.a,null,e.release_spent),r.a.createElement(ci.a,null,i(1-e.release_spent/e.release_budget)))),o.push(c),o})))))))},QO=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),ZO=function(e){var t=e.customRecord,a=e.counter,n=Object(pe.a)(),o=QO();return t=H(t),r.a.createElement("div",{className:"landscapeSection"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(a),". ",n("printForm.project_framework.title")),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",o.bordered,o.table),style:{width:"100%"}},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:o.filledRow},r.a.createElement(ci.a,null,r.a.createElement("strong",null,ki(a+".1")," ",n("printForm.project_framework.goal")))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement("ul",null,r.a.createElement("li",null,ki(a+".1.1")," ",t.goal)))),r.a.createElement(li.a,{className:o.filledRow},r.a.createElement(ci.a,null,r.a.createElement("strong",null,ki(a+".2")," ",n("printForm.project_framework.outcome",{smart_count:2})))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,t&&t.outcomes&&0!==t.outcomes.length?r.a.createElement("ul",null,t.outcomes.map((function(e,t){return r.a.createElement("li",null,ki(a+".2."+Number(t+1))," ","".concat(n("printForm.project_framework.outcome",{smart_count:1})," ").concat(t+1,": ").concat(e.name))}))):null)),r.a.createElement(li.a,{className:o.filledRow},r.a.createElement(ci.a,null,r.a.createElement("strong",null,ki(a+".3")," ",n("printForm.project_framework.output",{smart_count:2})))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,t&&t.outputs&&0!==t.outputs.length?r.a.createElement("ul",null,t.outputs.map((function(e,t){return r.a.createElement("li",null,ki(a+".3."+Number(t+1))," ","".concat(n("printForm.project_framework.output",{smart_count:1})," ").concat(t+1,": ").concat(e.name),r.a.createElement("br",null),r.a.createElement("div",{style:{fontStyle:"italic"}},gi()(e.description)))}))):null,r.a.createElement("br",null),t&&t.activities&&0!==t.activities.length?r.a.createElement("p",null,"".concat(n("printForm.project_framework.activity",{smart_count:2}),": ").concat(t.activities?t.activities.map((function(e){return e.name})).join(", "):"")):null)))))))},ew=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),tw=function(e){var t=ew(),a=Object(pe.a)(),n=e.customRecord,o=(e.customBasePath,H(n));e.counter;if(!o)return null;var i=e.meReport||x.a.last(o.me_reports);function l(e){return i.me_activities.filter((function(t){return t.activity.output_ids.includes(e)}))}return r.a.createElement("div",{className:"landscapeSection"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,"Table 3: Physical Progress Corrective Measures"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",t.bordered,t.table),style:{width:"100%"}},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,null),r.a.createElement(ci.a,null,"Output / Activity"),r.a.createElement(ci.a,null,"Reasons for deviation / Challenges"),r.a.createElement(ci.a,null,"Corrective measures")),i.me_outputs&&i.me_outputs.map((function(e,n){var o=[],i=x.a.filter(l(e.output_id),(function(e){return"DELAYED"===e.activity_status})),c=(x.a.filter(l(e.output_id),(function(e){return"COMPLETED"===e.activity_status})),x.a.filter(l(e.output_id),(function(e){return"ON_TRACK"===e.activity_status})));i&&i.length>0?e.status="DELAYED":c&&c.length>0?e.status="ON_TRACK":c&&c.length>0&&(e.status="COMPLETED");var s=x.a.maxBy(l(e.output_id),(function(e){return S()(e.activity.end_date,"YYYY-MM-DD")})),u=x.a.maxBy(l(e.output_id),(function(e){return S()(e.activity.expected_completion_date,"YYYY-MM-DD")}));s&&(e.end_date=u.activity.end_date),s&&(e.expected_completion_date=u.activity.end_date);var d=l(e.output_id).map((function(e,t){return r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:"2"},"".concat(a("printForm.project_framework.activity",{smart_count:1})," ").concat(t+1,": ").concat(e.activity.name)),r.a.createElement(ci.a,null,gi()(e.execution_challenges)),r.a.createElement(ci.a,null,gi()(e.execution_measures)))}));return o.push(r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,{colSpan:"4"},"".concat(a("printForm.project_framework.output",{smart_count:1})," ").concat(n+1,": ").concat(e.output.name)))),o.push(d),o})))))))},aw=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),nw=function(e){var t=aw(),a=Object(pe.a)(),n=e.customRecord,o=(e.customBasePath,H(n));e.counter;if(!o)return null;var i=e.meReport||x.a.last(o.me_reports);function l(e){return i.me_activities.filter((function(t){return t.activity.output_ids.includes(e)}))}return r.a.createElement("div",{className:"landscapeSection"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,"Table 2: Project Physical Progress Status"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",t.bordered,t.table),style:{width:"100%"}},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,null),r.a.createElement(ci.a,null,"Output / Activity"),r.a.createElement(ci.a,null,"Anticipated Completion Date"),r.a.createElement(ci.a,null,"Status"),r.a.createElement(ci.a,null,"% Completed"),r.a.createElement(ci.a,null,"Expected Completion Date")),i.me_outputs&&i.me_outputs.map((function(e,n){var o=[],i=x.a.filter(l(e.output_id),(function(e){return"DELAYED"===e.activity_status})),c=x.a.filter(l(e.output_id),(function(e){return"COMPLETED"===e.activity_status})),s=x.a.filter(l(e.output_id),(function(e){return"ON_TRACK"===e.activity_status}));i&&i.length>0?e.status="DELAYED":s&&s.length>0?e.status="ON_TRACK":c&&c.length>0&&(e.status="COMPLETED");var u=x.a.maxBy(l(e.output_id),(function(e){return S()(e.activity.end_date,"YYYY-MM-DD")})),d=x.a.maxBy(l(e.output_id),(function(e){return S()(e.expected_completion_date,"YYYY-MM-DD")}));u&&(e.end_date=d.activity.end_date),d&&(e.expected_completion_date=d.expected_completion_date);var m=l(e.output_id).map((function(e,t){return r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:"2"},"".concat(a("printForm.project_framework.activity",{smart_count:1})," ").concat(t+1,": ").concat(e.activity.name)),r.a.createElement(ci.a,null,e.activity.end_date),r.a.createElement(ci.a,null,r.a.createElement(Ed,{value:e.activity_status})," "),r.a.createElement(ci.a,null,"N/A"),r.a.createElement(ci.a,null,e.expected_completion_date||"N/A"))}));return o.push(r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,{colSpan:"2"},"".concat(a("printForm.project_framework.output",{smart_count:1})," ").concat(n+1,": ").concat(e.output.name)),r.a.createElement(ci.a,null,e.end_date),r.a.createElement(ci.a,null,r.a.createElement(Ed,{value:e.status})),r.a.createElement(ci.a,null,e.output_progress),r.a.createElement(ci.a,null,e.expected_completion_date))),o.push(m),o})))))))},rw=(Object(ae.a)((function(e){return{table:{minWidth:700,width:"100%"},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}}))),ow=function(e){var t=rw(),a=Object(pe.a)(),n=e.customRecord,o=(e.customBasePath,H(n));e.counter;if(!o)return null;var i=e.meReport||x.a.last(o.me_reports);function l(e){return i.me_activities.filter((function(t){return t.activity.output_ids.includes(e)}))}var c=function(e){return e<100?r.a.createElement(Ed,{value:"UNDERFUNDED"}):r.a.createElement(Ed,{value:"ON_TRACK"})};return r.a.createElement("div",{className:"landscapeSection"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,"Table 10: Summary Financial and physical performance"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",t.bordered,t.table),style:{width:"100%"}},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,{align:"left"},"Output / Activity"),r.a.createElement(ci.a,{align:"center"},"Physical performance Status"),r.a.createElement(ci.a,{align:"center"},"Budget Performance Status"),r.a.createElement(ci.a,{align:"center"},"Financial Performance Status")),i.me_outputs&&i.me_outputs.map((function(e,n){var o=[],i=x.a.filter(l(e.output_id),(function(e){return"DELAYED"===e.activity_status})),s=x.a.filter(l(e.output_id),(function(e){return"COMPLETED"===e.activity_status})),u=x.a.filter(l(e.output_id),(function(e){return"ON_TRACK"===e.activity_status}));i&&i.length>0?e.status="DELAYED":u&&u.length>0?e.status="ON_TRACK":s&&s.length>0&&(e.status="COMPLETED");var d=x.a.filter(l(e.output_id),(function(e){return 100*e.financial_execution/e.budget_appropriation<100})),m=x.a.filter(l(e.output_id),(function(e){return 100*e.financial_execution/e.budget_appropriation>=100}));d&&d.length>0?e.financial_status="UNDERFUNDED":m&&m.length>0&&(e.financial_status="ON_TRACK");var p=x.a.filter(l(e.output_id),(function(e){return 100*e.budget_allocation/e.budget_appropriation<100})),f=x.a.filter(l(e.output_id),(function(e){return 100*e.budget_allocation/e.budget_appropriation>=100}));p&&p.length>0?e.allocation_status="UNDERFUNDED":f&&f.length>0&&(e.allocation_status="ON_TRACK");var _=l(e.output_id).map((function(e,t){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"".concat(a("printForm.project_framework.activity",{smart_count:1})," ").concat(t+1,": ").concat(e.activity.name)),r.a.createElement(ci.a,{align:"center"},r.a.createElement(Ed,{value:e.activity_status})),r.a.createElement(ci.a,{align:"center"},c(100*e.budget_allocation/e.budget_appropriation)),r.a.createElement(ci.a,{align:"center"},c(100*e.financial_execution/e.budget_appropriation)))}));return o.push(r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,null,"".concat(a("printForm.project_framework.output",{smart_count:1})," ").concat(n+1,": ").concat(e.output.name)),r.a.createElement(ci.a,{align:"center"},r.a.createElement(Ed,{value:e.status})),r.a.createElement(ci.a,{align:"center"},r.a.createElement(Ed,{value:e.allocation_status})),r.a.createElement(ci.a,{align:"center"},r.a.createElement(Ed,{value:e.financial_status})))),o.push(_),o})))))," "))},iw=(Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),function(e){var t=Object(pe.a)(),a=e.customRecord,n=(e.customBasePath,e.counter,a);return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,"Table 11: ",t("printForm.attachments.title")),r.a.createElement("div",null,n.files&&0!==n.files.length?r.a.createElement("ul",null,n.files.map((function(e){return r.a.createElement("li",null,r.a.createElement("a",{href:e.link},e.title))}))):r.a.createElement("p",null,t("printForm.attachments.no_attachments")))))}),lw=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),cw=function(e){var t=lw(),a=Object(pe.a)(),n=e.customRecord,o=(e.customBasePath,e.counter,n),i=Oi(o.start_date,o.end_date),l=H(n),c=e.meReport||x.a.last(l.me_reports);return r.a.createElement("div",{className:"landscapeSection"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,"Table 1: Physical Monitoring"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",t.bordered,t.table),style:{width:"100%"}},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,{rowspan:"2"},a("printForm.project_framework.goal")),r.a.createElement(ci.a,{rowspan:"2"},a("printForm.result_matrix.indicator_title")),r.a.createElement(ci.a,{colspan:i.length+1},a("printForm.result_matrix.indicator")),r.a.createElement(ci.a,{rowspan:2},"Risk Response"),r.a.createElement(ci.a,{rowspan:2},"Type of M&E Methodology"),r.a.createElement(ci.a,{rowspan:2},"Data collection method/source"),r.a.createElement(ci.a,{rowspan:2},"Frequency of data collection")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"".concat(a("printForm.result_matrix.baseline")," ").concat(o.baseline&&wi(S()(o.baseline,"YYYY-MM-DD")).name)),i.map((function(e){return r.a.createElement(ci.a,null,r.a.createElement("strong",null,"".concat(a("printForm.result_matrix.target")," ").concat(e.name)))}))),o&&o.indicators&&0!==o.indicators.length?[o.indicators[0]].map((function(e,t){return r.a.createElement(li.a,null,0===t?r.a.createElement(ci.a,{rowSpan:o.indicators.length},"".concat(a("printForm.result_matrix.project_goal"),": ").concat(o.goal)):null,r.a.createElement(ci.a,null,"Indicator ".concat(t+1,": ").concat(e.name)),r.a.createElement(ci.a,null,e.baseline),i.map((function(t){return r.a.createElement(ci.a,null,e.targets[Number(t.id)])})),r.a.createElement(ci.a,null,e.verification_means),r.a.createElement(ci.a,null),r.a.createElement(ci.a,null))})):r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:i.length+1+2+5},"".concat(a("printForm.result_matrix.project_goal"),": ").concat(o.goal))),r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,{colSpan:i.length+1+2+4},a("printForm.project_framework.outcome",{smart_count:2}))),o&&o.outcomes&&o.outcomes.map((function(e,t){return e.indicators&&0!==e.indicators.length?[e.indicators[0]].map((function(n,o){return r.a.createElement(li.a,null,0===o?r.a.createElement(ci.a,{rowSpan:e.indicators.length},r.a.createElement("p",null,"".concat(a("printForm.project_framework.outcome",{smart_count:1})," ").concat(t+1,": ").concat(e.name)),r.a.createElement("div",{style:{fontSize:"12px",fontStyle:"italic"}},gi()(e.description))):null,r.a.createElement(ci.a,null,"Indicator ".concat(o+1,": ").concat(n.name)),r.a.createElement(ci.a,null,n.baseline),i.map((function(e){return r.a.createElement(ci.a,null,n.targets[Number(e.id)])})),r.a.createElement(ci.a,null,n.risk_factors),r.a.createElement(ci.a,null,c.me_type),r.a.createElement(ci.a,null,c.data_collection_type),r.a.createElement(ci.a,null,c.quarter?"QUARTER":"YEAR"))})):r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:i.length+1+2+5},r.a.createElement("p",null,"".concat(a("printForm.project_framework.outcome",{smart_count:1})," ").concat(t+1,": ").concat(e.name)),r.a.createElement("div",{style:{fontSize:"12px",fontStyle:"italic"}},gi()(e.description))))})),r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,{colSpan:i.length+1+2+4},a("printForm.project_framework.output",{smart_count:2}))),o&&o.outputs&&o.outputs.map((function(e,t){return e.indicators&&0!==e.indicators.length?[e.indicators[0]].map((function(n,o){return r.a.createElement(li.a,null,0===o?r.a.createElement(ci.a,{rowSpan:e.indicators.length},r.a.createElement("p",null,"".concat(a("printForm.project_framework.output",{smart_count:1})," ").concat(t+1,": ").concat(e.name)),r.a.createElement("div",{style:{fontSize:"12px",fontStyle:"italic"}},gi()(e.description))):null,r.a.createElement(ci.a,null,"Indicator ".concat(o+1,": ").concat(n.name)),r.a.createElement(ci.a,null,n.baseline),i.map((function(e){return r.a.createElement(ci.a,null,n.targets[Number(e.id)])})),r.a.createElement(ci.a,null,n.risk_factors),r.a.createElement(ci.a,null,c.me_type),r.a.createElement(ci.a,null,c.data_collection_type),r.a.createElement(ci.a,null,c.quarter?"QUARTER":"YEAR"))})):r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:i.length+1+2+5},r.a.createElement("p",null,"".concat(a("printForm.project_framework.output",{smart_count:1})," ").concat(t+1,": ").concat(e.name)),r.a.createElement("div",{style:{fontSize:"12px",fontStyle:"italic"}},gi()(e.description))))})))))))};var sw=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),uw=function(e){var t=sw(),a=Object(pe.a)(),n=e.customRecord,o=(e.customBasePath,e.counter||3),i=H(n),l=(Oi(i.start_date,i.end_date),function(e){if(e.investments&&e.investments.length>0){var t=0;return e.investments.forEach((function(e){for(var a in e.costs)if(Object.hasOwnProperty.call(e.costs,a)){var n=e.costs[a];t+=parseFloat(n)}})),Ni(t)}return Ni(e.cost)});return r.a.createElement("div",{className:"landscapeSection"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(o),"."," ",a("printForm.project_framework.title_cost_estimates")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",t.bordered,t.table)},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,null,a("printForm.cost_estimates.components.title")),r.a.createElement(ci.a,{style:{width:200}},a("printForm.cost_estimates.components.cost"))),i&&i.components&&i.components.map((function(e,t){return[r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement("p",null,"".concat(a("printForm.cost_estimates.components.name",{smart_count:1})," ").concat(t+1,": ").concat(_u(e))),r.a.createElement("div",{style:{fontSize:"12px",fontStyle:"italic"}},gi()(e.description),e.subcomponents&&e.subcomponents.length>0?r.a.createElement("ul",null,e.subcomponents.map((function(t,n){return r.a.createElement("li",null,r.a.createElement("p",null,"".concat(a("printForm.cost_estimates.subcomponents.name",{smart_count:1})," ").concat(n+1,": ").concat(t.name," ").concat(e.is_milestone?"(Major Milestone)":"")),r.a.createElement("div",{style:{fontSize:"12px",fontStyle:"italic"}},gi()(t.description)))}))):null)),r.a.createElement(ci.a,null,l(e)))]})))))))))},dw=Object(ae.a)((function(e){return{Table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),mw=function(e){var t=Object(pe.a)(),a=dw(),n=Object(ee.f)((function(e){return e.admin.resources.projects})).data[e.customRecord.project_id],o=Object(ee.f)((function(e){return e.user.userInfo})),i=e.customRecord,l=e.counter,c=[null===n||void 0===n?void 0:n.project_organization];return i.executing_agencies&&(c=[].concat(Object(D.a)(c),Object(D.a)(i.executing_agencies),[null===o||void 0===o?void 0:o.organization])),r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(l),"."," ",t("printForm.background.executing_agencies")),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",a.bordered,a.table)},r.a.createElement(si.a,null,c&&x.a.uniqBy(c,"organization_id").map((function(e){return e&&e.organization?r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"".concat(e.organization.code," - ").concat(e.organization.name))):null})))))))},pw=Object(ae.a)((function(e){return{Table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),fw=function(e){var t=Object(pe.a)(),a=pw(),n=e.customRecord,o=e.counter;return n.implementing_agencies?r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(o),"."," ",t("printForm.background.implementing_agencies")),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",a.bordered,a.table)},r.a.createElement(si.a,null,n.implementing_agencies&&x.a.uniqBy(n.implementing_agencies,"organization_id").map((function(e){return e.organization?r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"".concat(e.organization.code," - ").concat(e.organization.name))):null}))))))):null},_w=function(e){var t=L(),a=Object(pe.a)(),n=e.customRecord,o=e.counter,i=void 0===o?1:o;return t("view_project_analysis")&&n&&(n.issues||n.recommendations)?r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(i),"."," ",a("printForm.project_info.workflow_issues")),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,a("printForm.workflow.issues"))),gi()(n.issues)),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,a("printForm.workflow.recommendations"))),gi()(n.recommendations)),r.a.createElement("ul",{style:{listStyleType:"none"}},n&&n.files&&n.files.filter((function(e){return e.meta&&e.meta.project_analysis})).map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("p",null,"Project Analysis File:"),r.a.createElement("a",{href:e.link},e.title))}))))):null},gw=function(e){var t=Object(n.useState)([]),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)([]),c=Object(Z.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)([]),m=Object(Z.a)(d,2),p=m[0],f=m[1],_=Object(n.useState)([]),g=Object(Z.a)(_,2),h=g[0],v=g[1],b=Object(n.useState)([]),E=Object(Z.a)(b,2),j=E[0],y=E[1],O=e.customRecord,w=Object(pe.a)(),k=Object(Ca.a)();Object(n.useEffect)((function(){k.getListOfAll("ndp-goals",{}).then((function(e){e&&e.data&&i(e.data)})),k.getListOfAll("ndp-outcomes",{}).then((function(e){e&&e.data&&u(e.data)})),k.getListOfAll("ndp-strategies",{}).then((function(e){e&&e.data&&f(e.data)})),k.getListOfAll("ndp-sdgs",{}).then((function(e){e&&e.data&&v(e.data)})),k.getListOfAll("ndp-mtfs",{}).then((function(e){e&&e.data&&y(e.data)}))}),[]);var S=function(e,t){var a=e&&x.a.find(e,(function(e){return Number(e.id)===Number(t)}));return a?a.name:"-"},P=function(e,t){var a=x.a.filter(e,(function(e){return null===t||void 0===t?void 0:t.includes(e.id)}));return a?a.map((function(e){return null===e||void 0===e?void 0:e.name})):["-"]},C=e.counter||1;return O?r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(C),". Strategic Objectives"),r.a.createElement("br",null),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small"},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:"filled-row"},r.a.createElement(ci.a,null,w("printForm.ndp.ndp_goal")),r.a.createElement(ci.a,null,w("printForm.ndp.ndp_outcome")),r.a.createElement(ci.a,null,w("printForm.ndp.ndp_sdg")),r.a.createElement(ci.a,null,w("printForm.ndp.ndp_strategy")),r.a.createElement(ci.a,null,w("printForm.ndp.ndp_mtf"))),O.ndp_strategies&&0!==O.ndp_strategies.length&&O.ndp_strategies.map((function(e){return e&&r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{width:"30%"}},S(o,e.ndp_goal_id)),r.a.createElement(ci.a,{style:{width:"30%"}},S(s,e.ndp_outcome_id)),r.a.createElement(ci.a,{style:{width:"30%"}},P(h,e.ndp_sdgs_ids).map((function(e){return r.a.createElement("p",{style:{marginTop:0}},e)}))),r.a.createElement(ci.a,{style:{width:"30%"}},P(p,e.ndp_strategy_ids)),r.a.createElement(ci.a,{style:{width:"30%"}},P(j,e.ndp_mtfs_ids).map((function(e){return r.a.createElement("p",{style:{marginTop:0}},e)}))))}))))),r.a.createElement("br",null),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small"},r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{width:"30%",fontWeight:"bold"}},w("printForm.ndp.ndp_policy_alignment")),r.a.createElement(ci.a,null,gi()(O.ndp_policy_alignment))),r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{width:"30%",fontWeight:"bold"}},w("printForm.ndp.ndp_compliance")),r.a.createElement(ci.a,null,gi()(O.ndp_compliance)))))))):null},hw=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),vw=function(e){var t=e.customRecord,a=e.subCounter,n=Object(pe.a)(),o=t.project_options,i=hw();return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(a||5),"."," ",n("printForm.options.economical_evaluation.title")),r.a.createElement("div",null,r.a.createElement("p",null,n("printForm.options.economical_evaluation.summary")),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",i.bordered,i.table)},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:"filled-row"},r.a.createElement(ci.a,null),o&&o.filter((function(e){return e.is_shortlisted||e.is_preferred})).map((function(e,t){return r.a.createElement(ci.a,null,e.name)}))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.options.economical_evaluation.enpv")),o&&o.filter((function(e){return e.is_shortlisted||e.is_preferred})).map((function(e,t){return r.a.createElement(ci.a,null,e.economic_evaluation&&Ni(e.economic_evaluation.enpv))}))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.options.economical_evaluation.err")),o&&o.filter((function(e){return e.is_shortlisted||e.is_preferred})).map((function(e,t){return r.a.createElement(ci.a,null,e.economic_evaluation&&e.economic_evaluation.err+"%"||"-")}))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.options.cba_cea")),o&&o.filter((function(e){return e.is_shortlisted||e.is_preferred})).map((function(e,t){return e.economic_evaluation?e.economic_evaluation&&"CBA"===e.economic_evaluation.appraisal_methodology?r.a.createElement(ci.a,null,n("printForm.options.economical_evaluation.cba")):r.a.createElement(ci.a,null,r.a.createElement("p",null,n("printForm.options.economical_evaluation.cea")),e.economic_evaluation&&e.economic_evaluation.criteria&&0!==e.economic_evaluation.criteria.length&&e.economic_evaluation.criteria.map((function(e){return r.a.createElement("div",{className:"inner-table"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"cell_title"},n("printForm.options.criterias.criteria_title"),":"),r.a.createElement("div",{className:"cell"},e.title)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"cell_title"},n("printForm.options.criterias.criteria_value"),":"),r.a.createElement("div",{className:"cell"},e.criteria_value)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"cell_title"},n("printForm.options.criterias.measure_unit"),":"),r.a.createElement("div",{className:"cell"},e.measure_unit)))}))):r.a.createElement(ci.a,null,"-")}))))))),r.a.createElement("div",null,o&&o.filter((function(e){return e.is_shortlisted||e.is_preferred})).map((function(e,t){return r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,"".concat(n("printForm.options.detailed_analysis")," ").concat(e.name))),e.economic_evaluation?gi()(e.economic_evaluation.summary):n("printForm.options.detailed_analysis_empty"))})))))},bw=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),Ew=function(e){var t=e.customRecord,a=e.subCounter,n=Object(pe.a)(),o=t.project_options,i=bw();return t?r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(a||4),"."," ",n("printForm.options.financial_evaluation.title")),r.a.createElement("div",null,r.a.createElement("p",null,n("printForm.options.financial_evaluation.summary")),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",i.bordered,i.table)},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:"filled-row"},r.a.createElement(ci.a,null),o&&o.filter((function(e){return e.is_shortlisted||e.is_preferred})).map((function(e,t){return r.a.createElement(ci.a,null,e.name)}))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.options.financial_evaluation.fnpv")),o&&o.filter((function(e){return e.is_shortlisted||e.is_preferred})).map((function(e,t){return r.a.createElement(ci.a,null,e.financial_evaluation&&Ni(e.financial_evaluation.fnpv))}))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.options.financial_evaluation.irr")),o&&o.filter((function(e){return e.is_shortlisted||e.is_preferred})).map((function(e,t){return r.a.createElement(ci.a,null,e.financial_evaluation&&e.financial_evaluation.irr+"%"||"-")}))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.options.cba_cea")),o&&o.filter((function(e){return e.is_shortlisted||e.is_preferred})).map((function(e,t){return e.financial_evaluation?e.financial_evaluation&&"CBA"===e.financial_evaluation.appraisal_methodology?r.a.createElement(ci.a,null,n("printForm.options.economical_evaluation.cba")):r.a.createElement(ci.a,null,r.a.createElement("p",null,n("printForm.options.economical_evaluation.cea")),e.financial_evaluation&&e.financial_evaluation.criterias&&0!==e.financial_evaluation.criterias.length&&e.financial_evaluation.criterias.map((function(e){return r.a.createElement("div",{className:"inner-table"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"cell_title"},n("printForm.options.criterias.criteria_title"),":"),r.a.createElement("div",{className:"cell"},e.title)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"cell_title"},n("printForm.options.criterias.criteria_value"),":"),r.a.createElement("div",{className:"cell"},e.criteria_value)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"cell_title"},n("printForm.options.criterias.measure_unit"),":"),r.a.createElement("div",{className:"cell"},e.measure_unit)))}))):r.a.createElement(ci.a,null,"-")}))))))),r.a.createElement("div",null,o&&o.filter((function(e){return e.is_shortlisted||e.is_preferred})).map((function(e,t){return r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,"".concat(n("printForm.options.detailed_analysis")," ").concat(e.name))),e.financial_evaluation?gi()(e.financial_evaluation.summary):n("printForm.options.detailed_analysis_empty"))}))))):null},jw=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),yw=function(e){var t=e.customRecord,a=e.subCounter,n=t.project_options,o=jw(),i=Object(pe.a)();return n?r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(a||6),"."," ",i("printForm.options.stakeholder_evaluations.title")),n&&n.filter((function(e){return e.is_shortlisted||e.is_preferred})).map((function(e,t){return e.stakeholder_evaluations&&0===e.stakeholder_evaluations.length?r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,"".concat(i("printForm.options.stakeholder_evaluations.analysis")," ").concat(e.name,":"))),r.a.createElement("p",null,i("printForm.options.stakeholder_evaluations.empty"))):r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",o.bordered,o.table)},r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:5},e.name)),r.a.createElement(li.a,{className:"filled-row"},r.a.createElement(ci.a,null,i("printForm.options.stakeholder_evaluations.number")),r.a.createElement(ci.a,null,i("printForm.options.stakeholder_evaluations.name")),r.a.createElement(ci.a,null,i("printForm.options.stakeholder_evaluations.impact_sign")),r.a.createElement(ci.a,null,i("printForm.options.stakeholder_evaluations.beneficiary")),r.a.createElement(ci.a,null,i("printForm.options.stakeholder_evaluations.description"))),e.stakeholder_evaluations&&e.stakeholder_evaluations.map((function(e,t){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,ki(t+1)),r.a.createElement(ci.a,null,e.name),r.a.createElement(ci.a,null,e.impact_sign),r.a.createElement(ci.a,null,e.beneficiary),r.a.createElement(ci.a,null,gi()(e.description)))})))))})))):null},Ow=(Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),function(e){var t=Object(pe.a)(),a=e.customRecord,n=e.subCounter,o=a.project_options;if(!o)return null;var i=x.a.find(o,(function(e){return e.is_preferred}));return i?r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h3",null,ki(n||8),".  ",t("printForm.options.justification.title")),r.a.createElement("h4",null,t("printForm.options.justification.alternative")," ",r.a.createElement("b",null,i.name)," ",t("printForm.options.justification.alternative_text")),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("h3",null,ki((n||8)+".1.")," ",t("printForm.options.justification.description")),gi()(i.description)),r.a.createElement("div",null,r.a.createElement("h3",null,ki((n||8)+".2.")," ",t("printForm.options.justification.details")),gi()(i.justification)),r.a.createElement("div",null,r.a.createElement("h3",null,ki((n||8)+".3.")," ",t("printForm.options.justification.modality")),gi()(i.modality_justification)))):r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(n||8),".  ",t("printForm.options.justification.title")),r.a.createElement("h5",null,t("printForm.options.justification.best_options_empty"))))}),ww=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),xw=function(e){var t=e.customRecord,a=e.subCounter,n=Object(pe.a)(),o=ww();return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(a),". ",n("printForm.project_options.title")),r.a.createElement("div",null,t&&!t.project_options||t.project_options&&0===t.project_options.length?null:r.a.createElement("div",null,t&&t.project_options&&t.project_options.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{variant:"fullWidth",style:{margin:"15px 0px"}}),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",o.bordered,o.table)},r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{variant:"head"},n("printForm.project_options.name")," "),r.a.createElement(ci.a,{variant:"head"},e.name)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.project_options.description")),r.a.createElement(ci.a,null,gi()(e.description))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.project_options.swot_analysis")," "),r.a.createElement(ci.a,null,gi()(e.swot_analysis))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.project_options.funding_modality")),r.a.createElement(ci.a,null,gi()(e.funding_modality))),"PROCUREMENT"!==e.funding_modality?r.a.createElement(r.a.Fragment,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.project_options.value_for_money")),r.a.createElement(ci.a,null,gi()(e.value_for_money))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.project_options.risk_allocation")),r.a.createElement(ci.a,null,gi()(e.risk_allocation))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.project_options.contract_management")),r.a.createElement(ci.a,null,gi()(e.contract_management))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.project_options.me_strategy")),r.a.createElement(ci.a,null,gi()(e.me_strategy)))):null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.project_options.start_date")),r.a.createElement(ci.a,null,wi(e.start_date).name)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.project_options.end_date")),r.a.createElement(ci.a,null,wi(e.end_date).name)),e.om_start_date&&r.a.createElement(r.a.Fragment,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.project_options.om_start_date")),r.a.createElement(ci.a,null,wi(e.om_start_date).name)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.project_options.om_end_date")),r.a.createElement(ci.a,null,wi(e.om_end_date).name))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.project_options.is_shortlisted")),r.a.createElement(ci.a,null,e.is_shortlisted?"yes":"no")),e.is_commercial&&r.a.createElement(li.a,null,r.a.createElement(ci.a,null,n("printForm.project_options.is_commercial")),r.a.createElement(ci.a,null,e.is_commercial?"yes":"no"))))),r.a.createElement("br",null),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",o.bordered,o.table)},r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{variant:"head",style:{width:"10%"}}),x.a.keys(e.capital_expenditure).map((function(e){return r.a.createElement(ci.a,{variant:"head"},xi(e).name)}))),r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{fontWeight:"bold"}},n("printForm.project_options.capital_expenditure")),x.a.keys(e.capital_expenditure).map((function(t){return r.a.createElement(ci.a,null,Ni(e.capital_expenditure[t]))})))),r.a.createElement(si.a,null))),r.a.createElement("br",null),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",o.bordered,o.table)},r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{variant:"head",style:{width:"10%"}}),x.a.keys(e.om_cost).map((function(e){return r.a.createElement(ci.a,{variant:"head",style:{width:"10%"}},xi(e).name)}))),r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{fontWeight:"bold"}},n("printForm.project_options.om_cost")),x.a.keys(e.om_cost).map((function(t){return r.a.createElement(ci.a,null,Ni(e.om_cost[t]))})))),r.a.createElement(si.a,null))))}))))))},kw=function(e){var t=e.customRecord,a=e.counter;t=J(t);var n=Object(pe.a)(),o=Y("has_project_options_modules",t&&t.phase_id);return r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(a),". Project Options"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small"},r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{width:"30%",fontWeight:"bold"}},n("printForm.project_options.default_option_name")),r.a.createElement(ci.a,null,t.default_option_name)),r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{width:"30%",fontWeight:"bold"}},n("printForm.project_options.default_option_description")),r.a.createElement(ci.a,null,gi()(t.default_option_description))),r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{width:"30%",fontWeight:"bold"}},n("printForm.project_options.default_option_description_impact")),r.a.createElement(ci.a,null,gi()(t.default_option_description_impact)))))),r.a.createElement("br",null),o?r.a.createElement(r.a.Fragment,null,r.a.createElement(xw,Object.assign({subCounter:Number(a)+".1"},e)),r.a.createElement(Ew,Object.assign({subCounter:Number(a)+".2"},e)),r.a.createElement(vw,Object.assign({subCounter:Number(a)+".3"},e)),r.a.createElement(yw,Object.assign({subCounter:Number(a)+".4"},e)),r.a.createElement(Ow,Object.assign({subCounter:Number(a)+".5"},e))):r.a.createElement(xw,Object.assign({subCounter:Number(a)+".1"},e)))},Sw=function(e){var t=e.customRecord,a=Object(pe.a)();if(!t)return null;var n=["Public-Private Partnerships","Joint-Venture","Joint-Venture (Unsolicited Proposal)","Public-Private Partnerships (Unsolicited Proposal)","Joint-Venture (Solicited Proposal)","Public-Private Partnerships (Solicited Proposal)"],o=["Public-Private Partnership","Joint Venture","Unsolicited Proposal"],i=t&&t.procurement_modality&&t.procurement_modality.filter((function(e){return n.includes(e)})).length>0,l=t&&t.proposed_funding_source&&"Source of funding has not been identified"!==t.proposed_funding_source&&t.proposed_funding_source.filter((function(e){return o.includes(e)})).length>0,c=e.counter||1;return!t||l||i?r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(c),". Procurement Modality"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small"},r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{width:"30%",fontWeight:"bold"}},a("printForm.procurement_modality.ppp_similar_reference")),r.a.createElement(ci.a,null,gi()(t.ppp_similar_reference))),r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{width:"30%",fontWeight:"bold"}},a("printForm.procurement_modality.ppp_interest")),r.a.createElement(ci.a,null,gi()(t.ppp_interest))),r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{width:"30%",fontWeight:"bold"}},a("printForm.procurement_modality.ppp_impediments")),r.a.createElement(ci.a,null,gi()(t.ppp_impediments))),r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{width:"30%",fontWeight:"bold"}},a("printForm.procurement_modality.ppp_risk_allocation")),r.a.createElement(ci.a,null,gi()(t.ppp_risk_allocation)))))))):r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(c),". Procurement Modality"),r.a.createElement(se.a,{variant:"h5"},"No data for this project Procurement Modality type"))},Pw=function(e){var t=Object(n.useState)([]),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(pe.a)(),c=e.customRecord,s=(e.customBasePath,e.counter),u=Object(Ca.a)();if(Object(n.useEffect)((function(){var e=Object(w.isArray)(c.proposed_funding_source)&&c.proposed_funding_source.map((function(e){return e&&Number(e.fund_id)}));e&&u.getListOfAll("funds",{filter:{ids:Object(D.a)(e)}}).then((function(e){e&&e.data&&i(e.data)}))}),[]),!c)return null;return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(s),"."," ",l("printForm.project_info.project_financing")),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small"},r.a.createElement(si.a,null,c.revenue_source&&0!==c.revenue_source.length?r.a.createElement(li.a,null,r.a.createElement(ci.a,null,l("printForm.project_info.revenue_source")),Y("project_has_array_revenue_source")?r.a.createElement(ci.a,null,c.revenue_source?x.a.isArray(c.revenue_source)?c.revenue_source.map((function(e){return e&&"other"===e?c.revenue_source_other+" (other)":e})).join(", "):[c.revenue_source].map((function(e){return e&&"other"===e?c.revenue_source+" (other)":e})).join(", "):null):null,Y("project_has_revenue_source")?r.a.createElement(ci.a,null,c.revenue_source?"other"===c.revenue_source?gi()(c.revenue_source_other)+" (other)":gi()(c.revenue_source):null):null):null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,l("printForm.project_info.procurement_modality")),r.a.createElement(ci.a,null,c.procurement_modality?c.procurement_modality.join(", "):"-")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,l("printForm.project_info.proposed_fund_source")),r.a.createElement(ci.a,null,c.proposed_funding_source&&x.a.isArray(c.proposed_funding_source)?c.proposed_funding_source.filter((function(e){return e})).map((function(e){return e&&"".concat(function(e){var t=Object(w.find)(o,(function(t){return Number(t.id)===Number(e)}));return t?t.name:"-"}(e.fund_id),"(").concat(Ka[e.fund_body_type],")")})).join(", "):"Source of funding has not been identified")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,l("printForm.project_info.me_strategies")),r.a.createElement(ci.a,null,gi()(c.me_strategies))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,l("printForm.project_info.governance")),r.a.createElement(ci.a,null,gi()(c.governance))))))))},Cw=function(e){var t=Object(pe.a)(),a=e.customRecord,n=(e.customBasePath,e.counter);if(!a)return null;var o=[];return a.locations.map((function(e){return e&&e.name})).forEach((function(e){o=[].concat(Object(D.a)(o),Object(D.a)(e))})),r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(n),". ",t("printForm.project_info.title")),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small"},r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,t("printForm.project_info.summary")),r.a.createElement(ci.a,null,gi()(a.summary))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,t("printForm.project_info.stakeholder_consultation")," "),r.a.createElement(ci.a,null,gi()(a.stakeholder_consultation))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,t("printForm.project_info.problem_statement")),r.a.createElement(ci.a,null,gi()(a.problem_statement))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,t("printForm.project_info.locations")),r.a.createElement(ci.a,null,a.locations&&x.a.uniq(o).join(", "))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,t("printForm.project_info.justification")),r.a.createElement(ci.a,null,gi()(a.justification))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,t("printForm.project_info.problem_cause")),r.a.createElement(ci.a,null,gi()(a.problem_cause))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,t("printForm.project_info.problem_effects")),r.a.createElement(ci.a,null,gi()(a.problem_effects))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,t("printForm.project_info.risk_assessment")),r.a.createElement(ci.a,null,gi()(a.risk_assessment))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,t("printForm.project_info.situation_analysis")),r.a.createElement(ci.a,null,gi()(a.situation_analysis))))))))},Nw=function(e){Object(pe.a)();var t=e.customRecord;e.customBasePath;return t?r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement(fw,Object.assign({counter:"1"},e)),r.a.createElement(hl,null),r.a.createElement(mw,Object.assign({counter:"1.1"},e)),r.a.createElement(hl,null),r.a.createElement(Cw,Object.assign({counter:"2"},e)),r.a.createElement(hl,null),r.a.createElement(Pw,Object.assign({counter:"3"},e)),r.a.createElement(hl,null),r.a.createElement(gw,Object.assign({counter:"4"},e)),r.a.createElement(hl,null),r.a.createElement(kw,Object.assign({counter:"5"},e)),r.a.createElement(hl,null),r.a.createElement(uw,Object.assign({counter:"6"},e)),r.a.createElement(hl,null),r.a.createElement(Sw,Object.assign({counter:"7"},e)),r.a.createElement(hl,null),r.a.createElement(Mi,Object.assign({counter:"8"},e)),r.a.createElement(hl,null),r.a.createElement(RO,Object.assign({counter:"9"},e)),r.a.createElement(hl,null),r.a.createElement(_w,Object.assign({counter:"10"},e)))):null},Aw=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),Dw=function(e){var t=Aw(),a=Object(pe.a)(),o=e.customRecord,i=e.counter,l=H(o),c=Object(n.useState)([]),s=Object(Z.a)(c,2),u=s[0],d=s[1],m=Object(Ca.a)();Object(n.useEffect)((function(){m.getListOfAll("funds",{}).then((function(e){e&&e.data&&d(e.data)}))}),[]);var p={},f=0,_=Oi(l.start_date,l.end_date);if(!l)return null;var g=Y("has_pimis_fields");function h(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{style:{margin:0}},"".concat(function(e){var t=Object(w.find)(u,(function(t){return t.id===e}));return t?t.name:""}(e.fund_id)).concat(Ka[e.fund_body_type]?" / ".concat(Ka[e.fund_body_type]):"")))}return g?r.a.createElement("div",{className:"landscapeSection"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(i),"."," ",a("printForm.investments.components_title")),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",t.bordered,t.Table),style:{width:"100%"}},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,null,a("printForm.project_framework.component",{smart_count:2})),r.a.createElement(ci.a,null,"Fund Source / Fund Type"),_&&_.map((function(e){return r.a.createElement(ci.a,null,e.name)})),r.a.createElement(ci.a,null,a("printForm.investments.total"))),l.components&&l.components.map((function(e){return r.a.createElement(r.a.Fragment,null,e.investments&&e.investments.map((function(t){var a=0;return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e.name),r.a.createElement(ci.a,null,h(t)),_&&_.map((function(n){if(!e.investments)return null;var o=t.costs&&t.costs["".concat(n.id,"y")]?parseFloat(t.costs["".concat(n.id,"y")]):0;return a+=o||0,p[n.id]=p[n.id]?p[n.id]+o:o,r.a.createElement(r.a.Fragment,null,r.a.createElement(ci.a,null,vr(o)))})),r.a.createElement(ci.a,null,r.a.createElement("b",null,isNaN(a)?"-":vr(a))))})))})),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement("b",null,a("printForm.investments.total"))),g&&r.a.createElement(ci.a,null),_&&_.map((function(e){return f+=p[e.id]?p[e.id]:0,r.a.createElement(ci.a,null,r.a.createElement("b",null,vr(p[e.id])))})),r.a.createElement(ci.a,null,r.a.createElement("b",null,vr(f))))))))):r.a.createElement("div",{className:"landscapeSection"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(i),"."," ",a("printForm.investments.components_title")),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",t.bordered,t.Table),style:{width:"100%"}},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,null,a("printForm.project_framework.component",{smart_count:2})),g&&r.a.createElement(ci.a,null,"Financial pattern"),_&&_.map((function(e){return r.a.createElement(ci.a,null,e.name)})),r.a.createElement(ci.a,null,a("printForm.investments.total"))),l.components&&l.components.map((function(e){var t=0;return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e.name),g&&r.a.createElement(ci.a,null,h(e.investments[0])),_&&_.map((function(a){var n;if(!e.investments)return null;var o=null===(n=e.investments)||void 0===n?void 0:n.map((function(e){return null===e||void 0===e?void 0:e.costs})),i=o?x.a.sumBy(o,(function(e){return e&&e[a.id]?parseFloat(e[a.id]):0})):0;return t+=i||0,p[a.id]=p[a.id]?p[a.id]+i:i,r.a.createElement(ci.a,null,vr(i))})),r.a.createElement(ci.a,null,r.a.createElement("b",null,isNaN(t)?"-":vr(t))))})),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement("b",null,a("printForm.investments.totalAll"))),g&&r.a.createElement(ci.a,null),_&&_.map((function(e){return f+=p[e.id]?p[e.id]:0,r.a.createElement(ci.a,null,r.a.createElement("b",null,vr(p[e.id])))})),r.a.createElement(ci.a,null,r.a.createElement("b",null,vr(f)))))))))},Tw=function(e){var t=e.customRecord,a=(Object(pe.a)(),e.counter||1);return t?r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(a),". Climate Risk Matrix"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small"},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:"filled-row"},r.a.createElement(ci.a,null,"Climate Hazard"),r.a.createElement(ci.a,null,"Exposure Risk"),r.a.createElement(ci.a,null,"Vulnerability Risk"),r.a.createElement(ci.a,null,"Vulnerability Impact"),r.a.createElement(ci.a,null,"Overall Risk")),t.climate_risks&&0!==t.climate_risks.length&&t.climate_risks.map((function(e){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e.climate_hazard),r.a.createElement(ci.a,null,e.exposure_risk),r.a.createElement(ci.a,null,e.vulnerability_risk),r.a.createElement(ci.a,null,gi()(e.vulnerability_impact)),r.a.createElement(ci.a,null,e.overall_risk))}))))))):null},Fw=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),Rw=function(e){var t=Object(pe.a)(),a=e.customRecord,n=e.counter,o=Fw();return a&&!a.maintenance_period?null:Y("has_multiple_om_costs")&&a&&!x.a.isEmpty(a.om_costs)?r.a.createElement("div",{className:"landscapeSection"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,n?"".concat(ki(n),"."):""," ",t("printForm.background.om_costs")),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",o.bordered,o.table),style:{width:"100%"}},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:"filled-row"},r.a.createElement(ci.a,null,"Cost Classification Code"),r.a.createElement(ci.a,null,"Cost Classification Name"),a&&a.om_costs&&a.om_costs[0]&&a.om_costs[0].costs&&x.a.keys(a.om_costs[0].costs).map((function(e){return r.a.createElement(ci.a,null,wi(S()(e,"YYYY-MM-DD")).name)})),r.a.createElement(ci.a,null,"Source of Funds")),a.om_costs&&a.om_costs.map((function(e){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e&&e.costing&&"".concat(e.costing.code)),r.a.createElement(ci.a,null,e&&e.costing&&"".concat(e.costing.name)),e&&e.costs&&x.a.keys(e.costs).map((function(t){return r.a.createElement(ci.a,null,Ni(e.costs[t]))})),r.a.createElement(ci.a,null,e&&e.fund&&"".concat(e.fund.code," - ").concat(e.fund.name)))}))))))):r.a.createElement("div",{className:"landscapeSection"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,n?"".concat(ki(n),"."):""," ",t("printForm.background.om_costs")),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",o.bordered,o.table),style:{width:"100%"}},r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Cost Classification Code"),r.a.createElement(ci.a,null,"Cost Classification Name"),a&&a.om_costs&&a.om_costs[0]&&a.om_costs[0].costs&&x.a.keys(a.om_costs[0].costs).map((function(e){return r.a.createElement(ci.a,null,wi(S()(e,"YYYY-MM-DD")).name)})),r.a.createElement(ci.a,null,"Source of Funds")),a.om_costs&&a.om_costs.map((function(e){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e&&e.costing&&"".concat(e.costing.code)),r.a.createElement(ci.a,null,e&&e.costing&&"".concat(e.costing.name)),e&&e.costs&&x.a.keys(e.costs).map((function(t){return r.a.createElement(ci.a,null,Ni(e.costs[t]))})),r.a.createElement(ci.a,null,e&&e.fund&&"".concat(e.fund.code," - ").concat(e.fund.name)))})))))))},Iw=["customRecord"],Mw=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),Ww=function(e,t){var a=e.outcomes.filter((function(e){return t.outcome_ids.includes(e.id)}));return a&&0!==a.length?a.map((function(e){return e.name})).join(", "):"-"},Lw=function(e,t){var a=e.components&&e.components.filter((function(e){return e&&t.component_id===e.id}));return a&&0!==a.length?a.map((function(e){return e.code?"".concat(e.code&&e.code.slice(0,2)," - ").concat(e.name):"".concat(e.name)})).join(", "):"-"},Yw=function(e){var t=e.customRecord,a=Object(T.a)(e,Iw),n=Mw(),o=Object(pe.a)(),i=a.counter||3,l=t;return console.log(l.indicators,"record.indicators"),r.a.createElement("div",{className:"landscapeSection"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(i),"."," ",o("printForm.project_framework.title_logical")),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",n.bordered,n.table),style:{width:"100%"}},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:n.filledRow},r.a.createElement(ci.a,{rowspan:"2",style:{width:350}},o("printForm.project_framework.goal")),r.a.createElement(ci.a,{rowspan:"2",style:{width:200}},o("printForm.result_matrix.indicator_title")),r.a.createElement(ci.a,{colspan:2,style:{width:200}},o("printForm.result_matrix.indicator")),r.a.createElement(ci.a,{rowspan:"2",style:{width:200}},o("printForm.result_matrix.means"))),r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{width:120}},"".concat(o("printForm.result_matrix.baseline")," ").concat(l.baseline?wi(S()(l.baseline,"YYYY-MM-DD")).name:""," (SMART)")),r.a.createElement(ci.a,{style:{width:200}},r.a.createElement("strong",null,"End of Project Target"))),l&&l.indicators&&0!==l.indicators.length?l.indicators.map((function(e,t){return console.log(e.targets,"------------"),console.log(e.targets.project,"------------"),r.a.createElement(li.a,null,0===t?r.a.createElement(ci.a,{style:{width:350},rowspan:l.indicators.length},"".concat(o("printForm.result_matrix.project_goal"),": ").concat(l.goal)):null,r.a.createElement(ci.a,{style:{width:350}},"Indicator ".concat(t+1,": ").concat(e.name)),r.a.createElement(ci.a,{style:{width:250}},e.baseline),r.a.createElement(ci.a,{style:{width:200}},e.targets&&e.targets.project),r.a.createElement(ci.a,{style:{width:200}},e.verification_means))})):r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{width:350},colSpan:8},"".concat(o("printForm.result_matrix.project_goal"),": ").concat(l.goal))),r.a.createElement(li.a,{className:n.filledRow},r.a.createElement(ci.a,{colSpan:7},r.a.createElement("b",null,o("printForm.project_framework.outcome",{smart_count:2})))),l&&l.outcomes&&l.outcomes.map((function(e,t){return e.indicators&&0!==e.indicators.length?e.indicators.map((function(a,n){return r.a.createElement(li.a,null,0===n?r.a.createElement(ci.a,{rowspan:e.indicators.length,style:{width:200}},r.a.createElement("p",null,"".concat(o("printForm.project_framework.outcome",{smart_count:1})," ").concat(t+1,": ").concat(e.name)),r.a.createElement("div",{style:{fontSize:"12px",fontStyle:"italic"}},gi()(e.description))):null,r.a.createElement(ci.a,{style:{width:150}},"Indicator ".concat(n+1,": ").concat(a.name)),r.a.createElement(ci.a,{style:{width:200}},a.baseline),r.a.createElement(ci.a,{style:{width:150}},a.targets&&a.targets.project),r.a.createElement(ci.a,{style:{width:200}},a.verification_means))})):r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:8},r.a.createElement("p",null,"".concat(o("printForm.project_framework.outcome",{smart_count:1})," ").concat(t+1,": ").concat(e.name)),r.a.createElement("div",{style:{fontSize:"12px",fontStyle:"italic"}},gi()(e.description))))})),r.a.createElement(li.a,{className:n.filledRow},r.a.createElement(ci.a,{colSpan:7},r.a.createElement("b",null,o("printForm.project_framework.output",{smart_count:2})))),l&&l.outputs&&l.outputs.map((function(e,t){return e.indicators&&0!==e.indicators.length?e.indicators.map((function(a,n){return r.a.createElement(li.a,null,0===n?r.a.createElement(ci.a,{rowspan:e.indicators.length,style:{width:350}},r.a.createElement("p",null,"".concat(o("printForm.project_framework.output",{smart_count:1})," ").concat(t+1,": ").concat(e.name)),r.a.createElement("div",{style:{fontSize:"12px",fontStyle:"italic"}},gi()(e.description))):null,r.a.createElement(ci.a,{style:{width:200}},"Indicator ".concat(n+1,": ").concat(a.name)),r.a.createElement(ci.a,null,a.baseline),r.a.createElement(ci.a,{style:{width:200}},a.targets&&a.targets.project),r.a.createElement(ci.a,{style:{width:200}},a.verification_means))})):r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:8,style:{width:350}},r.a.createElement("p",null,"".concat(o("printForm.project_framework.output",{smart_count:1})," ").concat(t+1,": ").concat(e.name)),r.a.createElement("div",{style:{fontSize:"12px",fontStyle:"italic"}},gi()(e.description))))}))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",n.bordered,n.table)},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:n.filledRow},r.a.createElement(ci.a,null,o("printForm.result_matrix.component_id"))),l&&l.outputs&&l.outputs.map((function(e,t){return[r.a.createElement(li.a,{className:n.filledRow},r.a.createElement(ci.a,null,r.a.createElement("p",{style:{marginBottom:"5px"}},r.a.createElement("strong",null,e.name)),r.a.createElement("p",{style:{fontSize:"12px",fontStyle:"italic",marginBottom:"5px"}},r.a.createElement("b",null,o("printForm.result_matrix.outcomes")),": ",r.a.createElement("br",null),Ww(l,e)),r.a.createElement("p",{style:{fontSize:"12px",fontStyle:"italic",marginBottom:"5px"}},r.a.createElement("b",null,o("printForm.result_matrix.components")),": ",r.a.createElement("br",null),Lw(l,e))))]})))))))))},Bw=function(e){var t=e.customRecord,a=Object(pe.a)(),n=e.counter||1;return t?r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(n),". Project Risks Assessment"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small"},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:"filled-row"},r.a.createElement(ci.a,null,a("resources.project-details.fields.project_risks.name")),r.a.createElement(ci.a,null,a("resources.project-details.fields.project_risks.impact_level")),r.a.createElement(ci.a,null,a("resources.project-details.fields.project_risks.probability")),r.a.createElement(ci.a,null,a("resources.project-details.fields.project_risks.score")),r.a.createElement(ci.a,null,a("resources.project-details.fields.project_risks.response")),r.a.createElement(ci.a,null,a("resources.project-details.fields.project_risks.owner"))),t.project_risks&&0!==t.project_risks.length&&t.project_risks.map((function(e){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e.name),r.a.createElement(ci.a,null,e.impact_level),r.a.createElement(ci.a,null,e.probability),r.a.createElement(ci.a,null,e.score),r.a.createElement(ci.a,null,gi()(e.response)),r.a.createElement(ci.a,null,e.owner))}))))))):null},zw=function(e){var t=e.customRecord,a=(Object(pe.a)(),e.counter||1);return t?r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(a),". Stakeholders Responsibility"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small"},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:"filled-row"},r.a.createElement(ci.a,null,"Identity"),r.a.createElement(ci.a,null,"Interest Level"),r.a.createElement(ci.a,null,"Influence Level"),r.a.createElement(ci.a,null,"Communicational Channel"),r.a.createElement(ci.a,null,"Engagement Frequency"),r.a.createElement(ci.a,null,"Responsible Entity")),t.stakeholders&&0!==t.stakeholders.length&&t.stakeholders.map((function(e){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e.name),r.a.createElement(ci.a,null,e.interest_level),r.a.createElement(ci.a,null,e.influence_level),r.a.createElement(ci.a,null,gi()(e.communication_channel)),r.a.createElement(ci.a,null,e.engagement_frequency),r.a.createElement(ci.a,null,gi()(e.responsible_entity)))}))))))):null},qw=function(e){Object(pe.a)();var t=e.customRecord;e.customBasePath;return t?r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement(fw,Object.assign({counter:"1"},e)),r.a.createElement(hl,null),r.a.createElement(mw,Object.assign({counter:"1.1"},e)),r.a.createElement(hl,null),r.a.createElement(Cw,Object.assign({counter:"2"},e)),r.a.createElement(hl,null),r.a.createElement(Pw,Object.assign({counter:"3"},e)),r.a.createElement(hl,null),r.a.createElement(Sw,Object.assign({counter:"4"},e)),r.a.createElement(hl,null),r.a.createElement(Tw,Object.assign({counter:"5"},e)),r.a.createElement(hl,null),r.a.createElement(Bw,Object.assign({counter:"6"},e)),r.a.createElement(hl,null),r.a.createElement(zw,Object.assign({counter:"7"},e)),r.a.createElement(hl,null),r.a.createElement(gw,Object.assign({counter:"8"},e)),r.a.createElement(hl,null),r.a.createElement(kw,Object.assign({counter:"9"},e)),r.a.createElement(hl,null),r.a.createElement(uw,Object.assign({counter:"10"},e)),r.a.createElement(hl,null),r.a.createElement(Yw,Object.assign({counter:"11"},e)),r.a.createElement(hl,null),r.a.createElement(Dw,Object.assign({counter:"12"},e)),r.a.createElement(hl,null),r.a.createElement(Rw,Object.assign({counter:"13"},e)),r.a.createElement(hl,null),r.a.createElement(Mi,Object.assign({counter:"14"},e)),r.a.createElement(hl,null),r.a.createElement(RO,Object.assign({counter:"15"},e)),r.a.createElement(hl,null),r.a.createElement(_w,Object.assign({counter:"16"},e)))):null},Uw=Object(ae.a)((function(e){return{Table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),Vw=function(e){var t=Object(pe.a)(),a=Uw(),n=(e.customRecord,e.counter),o=H(Object(ee.f)((function(e){return e.admin.resources.projects})).data[e.customRecord.project_id]);return o.budget_code?r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(n),"."," ",t("printForm.project_info.budget_allocation_title")),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",a.bordered,a.table)},r.a.createElement(si.a,null,o&&r.a.createElement(r.a.Fragment,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,t("printForm.project_info.budget_code")),r.a.createElement(ci.a,null,"".concat(o.budget_code||"No code"))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Contract Sign Date"),r.a.createElement(ci.a,null,Er(o.signed_date))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Financing Agreement Date"),r.a.createElement(ci.a,null,Er(o.financing_agreement_date))))))),r.a.createElement("br",null),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",a.bordered,a.table)},r.a.createElement(si.a,null,o&&o.budget_allocation&&r.a.createElement(li.a,{variant:"head"},r.a.createElement(ci.a,{variant:"head"}),x.a.keys(o.budget_allocation.gov).map((function(e){return r.a.createElement(ci.a,{variant:"head"},"".concat(wi(e.slice(0,4)).name," (").concat(t("titles.currency"),")"))}))),o&&o.budget_allocation&&r.a.createElement(li.a,null,r.a.createElement(ci.a,{variant:"head"},"Government of Jamaica"),x.a.keys(o.budget_allocation.gov).map((function(e){return r.a.createElement(ci.a,null,"".concat(vr(o.budget_allocation.donor[e])))}))),o&&o.budget_allocation&&r.a.createElement(li.a,null,r.a.createElement(ci.a,{variant:"head"},"Donor"),x.a.keys(o.budget_allocation.donor).map((function(e){return r.a.createElement(ci.a,null,"".concat(vr(o.budget_allocation.donor[e])))})))))))):r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(n),"."," ",t("printForm.project_info.budget_allocation_title"))),r.a.createElement("h4",null,"No budgeting"))},Gw=function(e){Object(pe.a)();var t=e.customRecord;e.customBasePath;return t?r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement(Vw,Object.assign({counter:"1"},e)),r.a.createElement(hl,null),r.a.createElement(fw,Object.assign({counter:"2"},e)),r.a.createElement(hl,null),r.a.createElement(mw,Object.assign({counter:"2.1"},e)),r.a.createElement(hl,null),r.a.createElement(Cw,Object.assign({counter:"3"},e)),r.a.createElement(hl,null),r.a.createElement(Pw,Object.assign({counter:"4"},e)),r.a.createElement(hl,null),r.a.createElement(Sw,Object.assign({counter:"5"},e)),r.a.createElement(hl,null),r.a.createElement(Tw,Object.assign({counter:"6"},e)),r.a.createElement(hl,null),r.a.createElement(Bw,Object.assign({counter:"7"},e)),r.a.createElement(hl,null),r.a.createElement(zw,Object.assign({counter:"8"},e)),r.a.createElement(hl,null),r.a.createElement(Bc,{counter:"9.1",record:e.customRecord}),r.a.createElement(hl,null),r.a.createElement(gw,Object.assign({counter:"10"},e)),r.a.createElement(hl,null),r.a.createElement(kw,Object.assign({counter:"11"},e)),r.a.createElement(hl,null),r.a.createElement(Yw,Object.assign({counter:"12"},e)),r.a.createElement(hl,null),r.a.createElement(uw,Object.assign({counter:"13"},e)),r.a.createElement(hl,null),r.a.createElement(Rw,Object.assign({counter:"14"},e)),r.a.createElement(hl,null),r.a.createElement(Mi,Object.assign({counter:"15"},e)),r.a.createElement(hl,null),r.a.createElement(RO,Object.assign({counter:"16"},e)),r.a.createElement(hl,null),r.a.createElement(_w,Object.assign({counter:"17"},e)))):null},Hw=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),Jw=function(e){var t=Hw(),a=Object(pe.a)(),n=e.customRecord,o=(e.customBasePath,H(n)),i={},l=0,c=e.counter||4,s=Oi(o.start_date,o.end_date);if(!o)return null;function u(){var e=x.a.groupBy(o.outputs,"component_id"),t={};return e?(o.components.forEach((function(a){var n=e[a.id],r=n&&n.reduce((function(e,t){var a;return e.push((a=t.id,o.activities.filter((function(e){return e.output_ids.includes(a)})))),e}),[]);t[a.id]=r?x.a.flatMap(r):[]})),t):[]}return r.a.createElement("div",{className:"landscapeSection"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,e.title?e.title:r.a.createElement(r.a.Fragment,null,ki(c),". ",a("printForm.investments.title"))),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",t.bordered,t.table),style:{width:"100%"}},r.a.createElement(si.a,null,r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,{colSpan:"3",rowSpan:"2",style:{width:55}},"Components / Activity / Fund Source"),r.a.createElement(ci.a,{colSpan:s.length},"Period"),r.a.createElement(ci.a,{rowSpan:"2",style:{width:130}},a("printForm.investments.total"))),r.a.createElement(li.a,{className:t.filledRow},s.map((function(e){return r.a.createElement(ci.a,{style:{width:100}},e.name)}))),x.a.keys(u()).map((function(e,n){var l,c=u()[e],d=(l=e,x.a.find(o.components,(function(e){return Number(e.id)===Number(l)}))),m=[],p={},f=c.map((function(e,t){var o=0;return[r.a.createElement(li.a,null,r.a.createElement(ci.a,null,ki("".concat(n+1,".").concat(t+1))),r.a.createElement(ci.a,{colSpan:"2"},"".concat(a("printForm.project_framework.activity",{smart_count:1})," ").concat(e.code&&e.code.slice(2,e.code.length)||t+1,": ").concat(e.name)),s.map((function(t){p[t.id]||(p[t.id]=0);var a=e.investments.map((function(e){return e.costs})),n=x.a.sumBy(a,(function(e){return"undefined"!==typeof e[t.id]?parseFloat(e[t.id]):0}));return o+=n||0,p[t.id]+=n,r.a.createElement(ci.a,{style:{width:110}},Ni(n))})),r.a.createElement(ci.a,{style:{width:130}},isNaN(o)?"-":Ni(o))),e.investments&&e.investments.map((function(e,t){var a=0;return r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:"3"},e.fund&&"".concat(e.fund.code," - ").concat(e.fund.name)),s.map((function(t){var n="undefined"!==typeof e.costs[Number(t.id)]?parseFloat(e.costs[Number(t.id)]):0;return a+=n||0,r.a.createElement(ci.a,null,Ni(n))})),r.a.createElement(ci.a,{style:{width:130}},Ni(a)))}))]}));return m.push(r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,{variant:"head"},ki(n+1)),r.a.createElement(ci.a,{colSpan:"2",variant:"head"},"".concat(a("printForm.project_framework.component",{smart_count:1})," ").concat(d?d.code&&d.code.slice(0,2):n,": ").concat(d?d.name:"component")),s.map((function(e){return i[e.id]||(i[e.id]=0),p[e.id]?p[e.id]:0,i[e.id]+=p[e.id]?p[e.id]:0,r.a.createElement(ci.a,{variant:"head"},isNaN(p[e.id])?"-":Ni(p[e.id]))})),r.a.createElement(ci.a,{variant:"head"},isNaN(p)?"-":Ni(p)))),m.push(f),m})),r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,{colSpan:"3",variant:"head"},a("printForm.investments.total_costs")),s.map((function(e){return l+=i[e.id]?i[e.id]:0,r.a.createElement(ci.a,{variant:"head"},isNaN(i[e.id])?"-":Ni(i[e.id]))})),r.a.createElement(ci.a,{variant:"head"},isNaN(l)?"-":Ni(l))))))))},Xw=function(e){Object(pe.a)();var t=e.customRecord;e.customBasePath;return t?r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement(Vw,Object.assign({counter:"1"},e)),r.a.createElement(hl,null),r.a.createElement(fw,Object.assign({counter:"2"},e)),r.a.createElement(hl,null),r.a.createElement(mw,Object.assign({counter:"2.1"},e)),r.a.createElement(hl,null),r.a.createElement(Cw,Object.assign({counter:"3"},e)),r.a.createElement(hl,null),r.a.createElement(Pw,Object.assign({counter:"4"},e)),r.a.createElement(hl,null),r.a.createElement(Sw,Object.assign({counter:"5"},e)),r.a.createElement(hl,null),r.a.createElement(Tw,Object.assign({counter:"6"},e)),r.a.createElement(hl,null),r.a.createElement(Bw,Object.assign({counter:"7"},e)),r.a.createElement(hl,null),r.a.createElement(zw,Object.assign({counter:"8"},e)),r.a.createElement(hl,null),r.a.createElement(Bc,{counter:"9.1",record:e.customRecord}),r.a.createElement(hl,null),r.a.createElement(gw,Object.assign({counter:"10"},e)),r.a.createElement(hl,null),r.a.createElement(kw,Object.assign({counter:"11"},e)),r.a.createElement(hl,null),r.a.createElement(Yw,Object.assign({counter:"12"},e)),r.a.createElement(hl,null),r.a.createElement(Jw,Object.assign({counter:"13"},e)),r.a.createElement(hl,null),r.a.createElement(uw,Object.assign({counter:"14"},e)),r.a.createElement(hl,null),r.a.createElement(Rw,Object.assign({counter:"15"},e)),r.a.createElement(hl,null),r.a.createElement(Mi,Object.assign({counter:"16"},e)),r.a.createElement(hl,null),r.a.createElement(RO,Object.assign({counter:"17"},e)),r.a.createElement(hl,null),r.a.createElement(_w,Object.assign({counter:"18"},e)))):null},$w=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),Kw=function(e){var t=$w(),a=Object(pe.a)(),n=e.customRecord,o=(e.customBasePath,H(n));e.counter;if(!o)return null;var i=e.meReport||x.a.last(o.me_reports);function l(e){return i.me_activities.filter((function(t){return t.activity.output_ids.includes(e)}))}return r.a.createElement("div",{className:"landscapeSection"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,"Table 4: Budget Performance"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",t.bordered,t.table),align:"center",style:{width:"100%"}},r.a.createElement(si.a,{align:"center"},r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,null),r.a.createElement(ci.a,{align:"center"},"Project Description"),r.a.createElement(ci.a,{align:"center"},"Total Cost "),r.a.createElement(ci.a,{align:"center"},"Approved Budget "),r.a.createElement(ci.a,{align:"center"},"Revised Budget"),r.a.createElement(ci.a,{align:"center"},"Budget Releases "),r.a.createElement(ci.a,{align:"center"},"Releases Spent"),r.a.createElement(ci.a,{align:"center"},"% Budget Released "),r.a.createElement(ci.a,{align:"center"},"% Releases Spent "),r.a.createElement(ci.a,{align:"center"},"Sources of Funds ")),i.me_outputs&&i.me_outputs.map((function(e,n){var o=[];e.budget_approved=x.a.sumBy(l(e.output_id),(function(e){return parseFloat(e.budget_appropriation)})),e.budget_allocation=x.a.sumBy(l(e.output_id),(function(e){return parseFloat(e.budget_allocation)})),e.budget_supplemented=x.a.sumBy(l(e.output_id),(function(e){return parseFloat(e.budget_supplemented)})),e.release_budget=x.a.sumBy(l(e.output_id),(function(e){return parseFloat(e.budget_allocation)})),e.release_spent=x.a.sumBy(l(e.output_id),(function(e){return parseFloat(e.financial_execution)})),e.total_cost=0,e.revised_budget=parseFloat(e.budget_approved)+parseFloat(e.budget_supplemented);var i=l(e.output_id).map((function(t,n){return t.total_cost=0,t.activity.investments.forEach((function(a){x.a.keys(a.costs).forEach((function(n){t.total_cost+=parseFloat(a.costs[n]),e.total_cost+=parseFloat(a.costs[n])}))})),t.release_budget=parseFloat(t.budget_appropriation)+parseFloat(t.budget_supplemented),r.a.createElement(li.a,null,r.a.createElement(ci.a,{align:"center",colSpan:"2"},"".concat(a("printForm.project_framework.activity",{smart_count:1})," ").concat(n+1,": ").concat(t.activity.name)),r.a.createElement(ci.a,{align:"center"},Di(t.total_cost)),r.a.createElement(ci.a,{align:"center"},Di(t.budget_appropriation)),r.a.createElement(ci.a,{align:"center"},Di(t.revised_budget)),r.a.createElement(ci.a,{align:"center"},Di(t.budget_allocation)),r.a.createElement(ci.a,{align:"center"},Di(t.financial_execution)),r.a.createElement(ci.a,{align:"center"},hr(0!==t.revised_budget?100*t.revised_budget/t.budget_appropriation:100)),r.a.createElement(ci.a,{align:"center"},hr(0!==t.financial_execution?100*t.financial_execution/t.budget_allocation:100)),r.a.createElement(ci.a,{align:"center"},"SOURCE"))}));return o.push(r.a.createElement(li.a,{className:t.filledRow},r.a.createElement(ci.a,{align:"center",colSpan:"2"},"".concat(a("printForm.project_framework.output",{smart_count:1})," ").concat(n+1,": ").concat(e.output.name)),r.a.createElement(ci.a,{align:"center"},Di(e.total_cost)),r.a.createElement(ci.a,{align:"center"},Di(e.budget_approved)),r.a.createElement(ci.a,{align:"center"},Di(e.revised_budget)),r.a.createElement(ci.a,{align:"center"},Di(e.release_budget)),r.a.createElement(ci.a,{align:"center"},Di(e.release_spent)),r.a.createElement(ci.a,{align:"center"},hr(0!==e.release_budget&&0!==e.budget_approved?100*e.release_budget/e.budget_approved:100)),r.a.createElement(ci.a,{align:"center"},hr(0!==e.release_spent&&0!==e.release_budget?100*e.release_spent/e.release_budget:100)),r.a.createElement(ci.a,{align:"center"}))),o.push(i),o})))))))},Qw=Object(ae.a)((function(e){return{Table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),Zw=function(e){var t=Object(pe.a)(),a=Qw(),n=(e.customRecord,e.counter),o=H(Object(ee.f)((function(e){return e.admin.resources.projects})).data[e.customRecord.project_id]);return o.budget_code?r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(n),"."," ",t("printForm.project_info.budget_allocation_title")),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",a.bordered,a.table)},r.a.createElement(si.a,null,o&&r.a.createElement(li.a,null,r.a.createElement(ci.a,null,t("printForm.project_info.budget_code")),r.a.createElement(ci.a,null,"".concat(o.budget_code||"No code"))),o&&r.a.createElement(li.a,null,r.a.createElement(ci.a,null,t("printForm.project_info.signed_date")),r.a.createElement(ci.a,null,"".concat(o.signed_date||"-")))))),r.a.createElement("br",null),Y("has_pimis_fields")?r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",a.bordered,a.table)},r.a.createElement(si.a,null,o&&o.budget_allocation&&r.a.createElement(li.a,{variant:"head"},r.a.createElement(ci.a,{variant:"head"}),x.a.keys(o.budget_allocation.gov).map((function(e){return r.a.createElement(ci.a,{variant:"head"},"".concat(wi(e.slice(0,4)).name," (").concat(t("titles.currency"),")"))}))),o&&o.budget_allocation&&r.a.createElement(li.a,null,r.a.createElement(ci.a,{variant:"head"},"Government of Uganda"),x.a.keys(o.budget_allocation.gov).map((function(e){return r.a.createElement(ci.a,null,"".concat(vr(o.budget_allocation.donor[e])))}))),o&&o.budget_allocation&&r.a.createElement(li.a,null,r.a.createElement(ci.a,{variant:"head"},"Donor"),x.a.keys(o.budget_allocation.donor).map((function(e){return r.a.createElement(ci.a,null,"".concat(vr(o.budget_allocation.donor[e])))})))))):r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small",className:Object(Fe.default)("bordered",a.bordered,a.table)},r.a.createElement(si.a,null,o&&o.budget_allocation&&r.a.createElement(li.a,{variant:"head"},r.a.createElement(ci.a,{variant:"head"},"Type"),x.a.keys(o.budget_allocation.gov).map((function(e){return r.a.createElement(ci.a,{align:"center",variant:"head"},"".concat(wi(String(e).replace("y","")).name," (").concat(t("titles.currency"),")"))}))),o&&o.budget_allocation&&o.budget_allocation.gov&&r.a.createElement(li.a,null,r.a.createElement(ci.a,{variant:"head"},"GoU"),x.a.keys(o.budget_allocation.gov).map((function(e){return r.a.createElement(ci.a,{align:"center"}," ","".concat(vr(o.budget_allocation.gov[e])))}))),o&&o.budget_allocation&&o.budget_allocation.donor&&r.a.createElement(li.a,null,r.a.createElement(ci.a,{variant:"head"},"Donor"),x.a.keys(o.budget_allocation.donor).map((function(e){return r.a.createElement(ci.a,{align:"center"},"".concat(vr(o.budget_allocation.donor[e])))})))))))):r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(n),"."," ",t("printForm.project_info.budget_allocation_title"))),r.a.createElement("h4",null,"No budgeting"))},ex=function(e){var t=e.customRecord,a=e.counter,n=Object(pe.a)();return r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,a?"".concat(ki(a),"."):""," ",n("printForm.behavior.title")),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,n("printForm.behavior.behavior_knowledge_products"))),gi()(t.behavior_knowledge_products)),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,n("printForm.behavior.behavior_project_results"))),gi()(t.behavior_project_results)),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,n("printForm.behavior.behavior_measures"))),gi()(t.behavior_measures))))},tx=["counter","customRecord"],ax={5:"High",3:"Medium",1:"Low",0:"Not Available"};var nx=function(e){var t=e.counter,a=e.customRecord,o=(Object(T.a)(e,tx),Object(n.useState)(null)),i=Object(Z.a)(o,2),l=i[0],c=i[1],s=Object(n.useState)(!0),u=Object(Z.a)(s,2),d=u[0],m=u[1],p=Object(Ca.a)(),f=Object(pe.a)();return Object(n.useEffect)((function(){a&&a.project_id&&!l&&p.getOne("projects",{id:a.project_id}).then((function(e){c(e.data),m(!1)}))}),[]),(null===l||void 0===l?void 0:l.ranking_data)?r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(t),"."," ",f("printForm.project_info.ranking_data")),!d&&!x.a.isEmpty(a)&&r.a.createElement(oi.a,{size:"small"},r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(se.a,{variant:"body2",style:{width:"100%"}},"Project Problem Statement")),r.a.createElement(ci.a,null,gi()(a.problem_statement))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(se.a,{variant:"body2",style:{width:"100%"}},"Project Goal")),r.a.createElement(ci.a,null,a.goal)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(se.a,{variant:"body2",style:{width:"100%"}},"Project Outcomes")),r.a.createElement(ci.a,null,a.outcomes&&a.outcomes.map((function(e){return e.name})).join(","))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(se.a,{variant:"body2",style:{width:"100%"}},"Project Outputs")),r.a.createElement(ci.a,null,a.outputs&&a.outputs.map((function(e){return e.name})).join(","))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(se.a,{variant:"body2",style:{width:"100%"}},"Project FNPV")),r.a.createElement(ci.a,null,a.project_options&&Ni(a.project_options.filter((function(e){return e.is_preferred})).map((function(e){return parseFloat(e.financial_evaluation.fnpv)})).join("")))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(se.a,{variant:"body2",style:{width:"100%"}},"Project FIRR")),r.a.createElement(ci.a,null,a.project_options&&a.project_options.filter((function(e){return e.is_preferred})).map((function(e){return e.financial_evaluation.irr})).join(""))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(se.a,{variant:"body2",style:{width:"100%"}},"Project ENPV")),r.a.createElement(ci.a,null,a.project_options&&Ni(a.project_options.filter((function(e){return e.is_preferred})).map((function(e){return parseFloat(e.economic_evaluation.enpv)})).join("")))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(se.a,{variant:"body2",style:{width:"100%"}},"Project EIRR")),r.a.createElement(ci.a,null,a.project_options&&a.project_options.filter((function(e){return e.is_preferred})).map((function(e){return e.economic_evaluation.err})).join(""))))),!d&&l&&l.ranking_data&&r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{variant:"body1",style:{marginLeft:15,marginBottom:10,marginTop:20,width:"100%",fontWeight:"bold"}},"Strategic alignment to NDP and Vision 2040"," "),r.a.createElement(oi.a,{size:"small"},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:2,variant:"head",style:{width:"550px"}},r.a.createElement(se.a,{variant:"body2"},"Criteria Description")),r.a.createElement(ci.a,{variant:"head",style:{width:"150px"}},r.a.createElement(se.a,{variant:"body2"},"Score")),r.a.createElement(ci.a,{variant:"head"},r.a.createElement(se.a,{variant:"body2",style:{width:"350px"}},"Comments")))),r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{width:"350px"}},r.a.createElement(se.a,{variant:"body2"},"Alignment to the National Development Plan (strategic fit) NDP III has categorised projects according to their prioritisation.")),r.a.createElement(ci.a,{style:{width:"150px"}},l&&l.ranking_data&&l.ranking_data.strategic_fit&&ax[l.ranking_data.strategic_fit.score]),r.a.createElement(ci.a,{style:{width:"150px"}},l&&l.ranking_data&&l.ranking_data.strategic_fit&&l.ranking_data.strategic_fit.score),r.a.createElement(ci.a,null,l&&l.ranking_data&&l.ranking_data.strategic_fit&&l.ranking_data.strategic_fit.comments)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(se.a,{variant:"body2"},"Regional Balance: Interventions that directly target growth in key highly poverty hit regions as identified in the NDP III.")),r.a.createElement(ci.a,{style:{width:"150px"}},l&&l.ranking_data&&l.ranking_data.inclusive_growth&&ax[l.ranking_data.inclusive_growth.score]),r.a.createElement(ci.a,{style:{width:"150px"}},l&&l.ranking_data&&l.ranking_data.inclusive_growth&&l.ranking_data.inclusive_growth.score),r.a.createElement(ci.a,null,l&&l.ranking_data&&l.ranking_data.inclusive_growth&&l.ranking_data.inclusive_growth.comments)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(se.a,{variant:"body2"},"Economic impact to the Country: Demonstrate good use of public resources from a macroeconomic point of view.")),r.a.createElement(ci.a,{style:{width:"150px"}},l&&l.ranking_data&&l.ranking_data.economic&&ax[l.ranking_data.economic.score]),r.a.createElement(ci.a,{style:{width:"150px"}},l&&l.ranking_data&&l.ranking_data.economic&&l.ranking_data.economic.score),r.a.createElement(ci.a,null,l&&l.ranking_data&&l.ranking_data.economic&&l.ranking_data.economic.comments))),r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:2,variant:"head"},r.a.createElement(se.a,{variant:"body2",style:{fontWeight:"bold"}},"Total")),r.a.createElement(ci.a,{variant:"head"},l.ranking_data&&(l.ranking_data.strategic_fit?parseFloat(l.ranking_data.strategic_fit.score):0)+(l.ranking_data.inclusive_growth?parseFloat(l.ranking_data.inclusive_growth.score):0)+(l.ranking_data.economic?parseFloat(l.ranking_data.economic.score):0)),r.a.createElement(ci.a,{variant:"head"})))),r.a.createElement(se.a,{variant:"body1",style:{marginLeft:15,marginBottom:10,marginTop:20,width:"100%",fontWeight:"bold"}},"Implementation Readiness: This looks at variables which relate to land acquisition and right of way, legal requirements, availability of required equipment, human resource, clearance from various stakeholders among others"," "),r.a.createElement(oi.a,{size:"small"},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:2,variant:"head",style:{width:"550px"}},r.a.createElement(se.a,{variant:"body2"},"Criteria Description")),r.a.createElement(ci.a,{variant:"head",style:{width:"150px"}},r.a.createElement(se.a,{variant:"body2"},"Score")),r.a.createElement(ci.a,{variant:"head"},r.a.createElement(se.a,{variant:"body2",style:{width:"350px"}},"Comments")))),r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{width:"350px"}},r.a.createElement(se.a,{variant:"body2"},"Land acquisition and Right of way: Highly impacts project costs and duration"," ")),r.a.createElement(ci.a,{style:{width:"150px"}},l&&l.ranking_data&&l.ranking_data.land_acquisition&&ax[l.ranking_data.land_acquisition.score]),r.a.createElement(ci.a,{style:{width:"150px"}},l&&l.ranking_data&&l.ranking_data.land_acquisition&&[l.ranking_data.land_acquisition.score]),r.a.createElement(ci.a,null,l&&l.ranking_data&&l.ranking_data.land_acquisition&&l.ranking_data.land_acquisition.comments)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(se.a,{variant:"body2"},"Developed and Quality work, procurement and implementation plan")),r.a.createElement(ci.a,{style:{width:"150px"}},l&&l.ranking_data&&l.ranking_data.procurement&&ax[l.ranking_data.procurement.score]),r.a.createElement(ci.a,{style:{width:"150px"}},l&&l.ranking_data&&l.ranking_data.procurement&&[l.ranking_data.procurement.score]),r.a.createElement(ci.a,null,l&&l.ranking_data&&l.ranking_data.procurement&&l.ranking_data.procurement.comments))),r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:2,variant:"head"},r.a.createElement(se.a,{variant:"body2",style:{fontWeight:"bold"}},"Total")),r.a.createElement(ci.a,{variant:"head"},l.ranking_data&&(l.ranking_data.land_acquisition?parseFloat(l.ranking_data.land_acquisition.score):0)+(l.ranking_data.procurement?parseFloat(l.ranking_data.procurement.score):0)),r.a.createElement(ci.a,{variant:"head"})))),r.a.createElement(se.a,{variant:"body1",style:{marginLeft:15,marginBottom:10,marginTop:20,width:"100%",fontWeight:"bold"}},"Budgeting readiness and Overall MTEF requirement: This relates to parameters that influence inclusion into the resource envelope"," "),r.a.createElement(oi.a,{size:"small"},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:2,variant:"head",style:{width:"550px"}},r.a.createElement(se.a,{variant:"body2"},"Criteria Description")),r.a.createElement(ci.a,{variant:"head",style:{width:"150px"}},r.a.createElement(se.a,{variant:"body2"},"Score")),r.a.createElement(ci.a,{variant:"head"},r.a.createElement(se.a,{variant:"body2",style:{width:"350px"}},"Comments")))),r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{style:{width:"350px"}},r.a.createElement(se.a,{variant:"body2"},"Disbursement readiness : Ascertain disbursement readiness for projects targeting external financing.")),r.a.createElement(ci.a,{style:{width:"150px"}},l&&l.ranking_data&&l.ranking_data.loan_negotiation&&ax[l.ranking_data.loan_negotiation.score]),r.a.createElement(ci.a,{style:{width:"150px"}},l&&l.ranking_data&&l.ranking_data.loan_negotiation&&[l.ranking_data.loan_negotiation.score]),r.a.createElement(ci.a,null,l&&l.ranking_data&&l.ranking_data.loan_negotiation&&l.ranking_data.loan_negotiation.comments)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(se.a,{variant:"body2"},"Multiyear project requirements including counterpart requirement vs available fiscal space in the MTEF."," ")),r.a.createElement(ci.a,{style:{width:"150px"}},l&&l.ranking_data&&l.ranking_data.fiscal_space&&ax[l.ranking_data.fiscal_space.score]),r.a.createElement(ci.a,{style:{width:"150px"}},l&&l.ranking_data&&l.ranking_data.fiscal_space&&[l.ranking_data.fiscal_space.score]),r.a.createElement(ci.a,null,l&&l.ranking_data&&l.ranking_data.fiscal_space&&l.ranking_data.fiscal_space.comments)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(se.a,{variant:"body2"},"Interlinkages within the programme: Need to maximise coordination of projects within the programme to leverage time, money, and resources."," ")),r.a.createElement(ci.a,{style:{width:"150px"}},l&&l.ranking_data&&l.ranking_data.interlinkages&&ax[l.ranking_data.interlinkages.score]),r.a.createElement(ci.a,{style:{width:"150px"}},l&&l.ranking_data&&l.ranking_data.interlinkages&&[l.ranking_data.interlinkages.score]),r.a.createElement(ci.a,null,l&&l.ranking_data&&l.ranking_data.interlinkages&&l.ranking_data.interlinkages.comments))),r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:2,variant:"head"},r.a.createElement(se.a,{variant:"body2",style:{fontWeight:"bold"}},"Total")),r.a.createElement(ci.a,{variant:"head"},l.ranking_data&&(l.ranking_data.loan_negotiation?parseFloat(l.ranking_data.loan_negotiation.score):0)+(l.ranking_data.fiscal_space?parseFloat(l.ranking_data.fiscal_space.score):0)+(l.ranking_data.interlinkages?parseFloat(l.ranking_data.interlinkages.score):0)),r.a.createElement(ci.a,{variant:"head"}))),r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:2,variant:"head"},r.a.createElement(se.a,{variant:"body2",style:{fontWeight:"bold"}},"Grand Total Score")),r.a.createElement(ci.a,{variant:"head"},l&&l.ranking_score),r.a.createElement(ci.a,{variant:"head"}))))))):r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,ki(t),"."," ",f("printForm.project_info.ranking_data")),r.a.createElement("h4",null,"There is no ranking data")))},rx=Object(ae.a)((function(e){return{root:{display:"flex"},content:{flexGrow:1,padding:e.spacing(3),paddingTop:e.spacing(8)},ganttChartTable:{"& th":{borderLeft:"3px solid #c8ced3"},"& td":{padding:"3px 0px !important",borderLeft:"1px solid #c8ced3"},"& .title":{paddingLeft:"15px !important"},"& .filledCell":{background:"blue",padding:"12px 0px"}},button:{marginLeft:15}}}));function ox(e){var t=e.customRecord,a=(e.customBasePath,e.translate,r.a.useState([])),o=Object(Z.a)(a,2),i=o[0],l=o[1],c=r.a.useState(null),s=Object(Z.a)(c,2),u=s[0],d=s[1],m=r.a.useState(0),p=Object(Z.a)(m,2),f=p[0],_=p[1],g=rx(),h=Object(Ca.a)();Object(n.useEffect)((function(){h.getListOfAll("me-reports",{sort_field:"id",filter:{project_detail_id:t.id}}).then((function(e){e&&e.data&&l(e.data)}))}),[]);var v=function(e){return function(){var a=x.a.find(t.me_reports,(function(t){return t.id===Number(e)}));d(a)}};return r.a.createElement("div",{className:g.reportContainer},r.a.createElement(Us.a,{value:f,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){_(t)}},r.a.createElement(Vs.a,{label:"Periodical"}),r.a.createElement(Vs.a,{label:"Yearly"})),function(){switch(f){case 0:return r.a.createElement(Ne.a,null,i&&i.filter((function(e){return e.start_date})).map((function(e){return r.a.createElement(Ae.a,{key:e.id,onClick:v(e.id)},r.a.createElement(Te.a,{primary:e.start_date?"".concat(e.start_date," - ").concat(e.end_date):"".concat(e.year),secondary:e.report_status}),r.a.createElement(Ee.a,{variant:"contained",color:"primary",className:g.button},"Submit"),r.a.createElement(Ee.a,{variant:"contained",color:"primary",className:g.button},"Approve"))})));case 1:return r.a.createElement(Ne.a,null,i&&i.filter((function(e){return!e.start_date})).map((function(e){return r.a.createElement(Ae.a,{key:e.id,onClick:v(e.id)},r.a.createElement(Te.a,{primary:e.start_date?"".concat(e.start_date," - ").concat(e.end_date):"".concat(e.year),secondary:e.report_status}),r.a.createElement(Ee.a,{variant:"contained",color:"primary",className:g.button},"Submit"),r.a.createElement(Ee.a,{variant:"contained",color:"primary",className:g.button},"Approve"))})))}}(),u&&r.a.createElement(r.a.Fragment,null,r.a.createElement(cw,Object.assign({},e,{meReport:u})),r.a.createElement(hl,null),r.a.createElement(XO,Object.assign({},e,{meReport:u})),r.a.createElement(hl,null),r.a.createElement(nw,Object.assign({},e,{meReport:u})),r.a.createElement(hl,null),r.a.createElement(tw,Object.assign({},e,{meReport:u})),r.a.createElement(hl,null),r.a.createElement(Kw,Object.assign({},e,{meReport:u})),r.a.createElement(hl,null),r.a.createElement(KO,Object.assign({},e,{meReport:u})),r.a.createElement(hl,null),r.a.createElement(LO,Object.assign({},e,{meReport:u})),r.a.createElement(hl,null),r.a.createElement(MO,Object.assign({},e,{meReport:u})),r.a.createElement(hl,null),r.a.createElement(ow,Object.assign({},e,{meReport:u})),r.a.createElement(hl,null),r.a.createElement(iw,Object.assign({},e,{meReport:u}))))}var ix=function(e){var t=r.a.useState([]),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(!1),c=Object(Z.a)(l,2),s=c[0],u=c[1],d=Object(pe.a)(),m=Y("has_pimis_fields"),p=Y("project_has_sectors"),f=r.a.useState(null),_=Object(Z.a)(f,2),g=(_[0],_[1]),h=r.a.useState(!1),v=Object(Z.a)(h,2),b=v[0],E=(v[1],Object(Ca.a)());Object(n.useEffect)((function(){p&&E.getListOfAll("sectors",{sort_field:"id"}).then((function(e){e&&e.data&&i(e.data)}))}),[]),Object(n.useEffect)((function(){var t=e.customRecord,a=(e.customBasePath,e.translate,x.a.maxBy(t.me_reports,(function(e){return e.year})));a&&g(a.id)}),[]);var j=Object(ee.e)();Object(n.useEffect)((function(){var t,a;return Y("has_pimis_fields")&&j({type:"SET_PROJECT_TITLE_HEADER",payload:{data:"".concat(null===(t=e.customRecord)||void 0===t||null===(a=t.project)||void 0===a?void 0:a.name)}}),function(){j({type:"SET_PROJECT_TITLE_HEADER",payload:{data:""}})}}),[]);var y=function(){u(!s)};return r.a.createElement("div",null,r.a.createElement("div",{id:"docx",className:"export_container Section2"},Y("project_show_high_risk_alert")&&!x.a.isEmpty(e.customRecord)&&e.customRecord.is_high_risk&&r.a.createElement(FO.a,{severity:"error",style:{position:"absolute",top:"65px",right:"45%"}},d("messages.high_risk_project")),!b&&r.a.createElement(Av,Object.assign({},e,{sectors:o})),function(t){var a=e.customRecord;if(e.customBasePath,e.translate,!a)return null;switch(a.phase_id){case 1:return m?r.a.createElement(Nw,e):r.a.createElement("div",null,r.a.createElement(hl,null),r.a.createElement(cl,Object.assign({counter:"1",showMap:s,onShowMap:y},e)),r.a.createElement(hl,null),r.a.createElement(ZO,Object.assign({counter:"2"},e)),r.a.createElement(hl,null),r.a.createElement(BO,Object.assign({counter:"2.4"},e)),r.a.createElement(hl,null),r.a.createElement(HO,Object.assign({counter:"3"},e)),r.a.createElement(hl,null),r.a.createElement(qi,Object.assign({counter:"3.1"},e)),r.a.createElement(hl,null),r.a.createElement(Mi,Object.assign({counter:"4"},e)),r.a.createElement(hl,null),r.a.createElement(RO,Object.assign({counter:"5"},e)));case 2:return m?r.a.createElement(qw,e):r.a.createElement("div",null,r.a.createElement(hl,null),r.a.createElement(cl,Object.assign({counter:"1",showMap:s,onShowMap:y},e)),r.a.createElement(hl,null),r.a.createElement(ZO,Object.assign({counter:"2"},e)),r.a.createElement(hl,null),r.a.createElement(gl,Object.assign({counter:"3"},e)),r.a.createElement(hl,null),r.a.createElement(Bi,{counter:"3.1",record:e.customRecord}),r.a.createElement(hl,null),r.a.createElement(BO,Object.assign({counter:"3.2"},e)),r.a.createElement(hl,null),r.a.createElement(Ii,Object.assign({counter:"4"},e)),r.a.createElement(hl,null),r.a.createElement(qi,Object.assign({counter:"4.1"},e)),r.a.createElement(hl,null),r.a.createElement(Mi,Object.assign({counter:"5"},e)),r.a.createElement(hl,null),r.a.createElement(RO,Object.assign({counter:"6"},e)));case 3:return e.customRecord,e.customBasePath,e.translate,m?r.a.createElement(Gw,e):r.a.createElement("div",null,r.a.createElement(hl,null),r.a.createElement(Wi,Object.assign({counter:"1"},e)),r.a.createElement(hl,null),r.a.createElement(zO,Object.assign({counter:"2"},e)),r.a.createElement(hl,null),r.a.createElement(cl,Object.assign({counter:"3",showMap:s,onShowMap:y},e)),r.a.createElement(hl,null),r.a.createElement(VO,Object.assign({counter:"4"},e)),r.a.createElement(hl,null),r.a.createElement(gl,Object.assign({counter:"10"},e)),r.a.createElement(hl,null),r.a.createElement(Bi,{counter:"10.1",record:e.customRecord}),r.a.createElement(hl,null),r.a.createElement(BO,Object.assign({counter:"10.2"},e)),r.a.createElement(hl,null),r.a.createElement(Ii,Object.assign({counter:"11"},e)),r.a.createElement(hl,null),r.a.createElement(qi,Object.assign({counter:"11.1"},e)),r.a.createElement(hl,null),r.a.createElement(ml,Object.assign({counter:"12"},e)),r.a.createElement(hl,null),r.a.createElement(Mi,Object.assign({counter:"13"},e)),r.a.createElement(hl,null),r.a.createElement(RO,Object.assign({counter:"14"},e)));case 4:return e.customRecord,e.customBasePath,e.translate,m?r.a.createElement(Xw,e):r.a.createElement("div",null,r.a.createElement(hl,null),r.a.createElement(Wi,Object.assign({counter:"1"},e)),r.a.createElement(hl,null),r.a.createElement(zO,Object.assign({counter:"2"},e)),r.a.createElement(hl,null),r.a.createElement(cl,Object.assign({counter:"3",showMap:s,onShowMap:y},e)),r.a.createElement(hl,null),r.a.createElement(gl,Object.assign({counter:"4"},e)),r.a.createElement(hl,null),r.a.createElement(Bi,{counter:"4.1",record:e.customRecord}),r.a.createElement(hl,null),r.a.createElement(ol,Object.assign({counter:"5"},e,{record:e.customRecord})),r.a.createElement(hl,null),r.a.createElement(Ii,Object.assign({counter:"14"},e)),r.a.createElement(hl,null),r.a.createElement(Gi,Object.assign({counter:"14.1"},e)),r.a.createElement(hl,null),r.a.createElement(qi,Object.assign({counter:"14.2"},e)),r.a.createElement(hl,null),r.a.createElement(ml,Object.assign({counter:"15"},e)),r.a.createElement(hl,null),r.a.createElement(Mi,Object.assign({counter:"16"},e)),r.a.createElement(hl,null),r.a.createElement(RO,Object.assign({counter:"17"},e)));case 5:return function(){var t,a,n=e.customRecord;return e.customBasePath,e.translate,"RETOOLING"===(null===n||void 0===n||null===(t=n.project)||void 0===t?void 0:t.classification)||"STUDIES"===(null===n||void 0===n||null===(a=n.project)||void 0===a?void 0:a.classification)?r.a.createElement("div",null,r.a.createElement(Wi,Object.assign({counter:"1"},e)),r.a.createElement(hl,null),r.a.createElement(cl,Object.assign({counter:"2",showMap:s,onShowMap:y},e)),r.a.createElement(hl,null),r.a.createElement(gl,Object.assign({counter:"3"},e)),r.a.createElement(hl,null),r.a.createElement(Bi,{counter:"3.1",record:e.customRecord}),r.a.createElement(hl,null),r.a.createElement(Ii,Object.assign({counter:"3.2"},e)),r.a.createElement(hl,null),r.a.createElement(ml,Object.assign({counter:"3.3"},e)),r.a.createElement(hl,null),r.a.createElement(Mi,Object.assign({counter:"4"},e)),r.a.createElement(hl,null),r.a.createElement(RO,Object.assign({counter:"5"},e))):r.a.createElement("div",null,r.a.createElement(Wi,Object.assign({counter:"1"},e)),r.a.createElement(hl,null),r.a.createElement(zO,Object.assign({counter:"2"},e)),r.a.createElement(hl,null),r.a.createElement(BO,Object.assign({counter:"2.4"},e)),r.a.createElement(hl,null),r.a.createElement(ex,Object.assign({counter:"2.5"},e)),r.a.createElement(hl,null),r.a.createElement(cl,Object.assign({counter:"3",showMap:s,onShowMap:y},e)),r.a.createElement(hl,null),r.a.createElement(gl,Object.assign({counter:"4"},e)),r.a.createElement(hl,null),r.a.createElement(Bi,{counter:"4.1",record:e.customRecord}),r.a.createElement(hl,null),r.a.createElement(ol,Object.assign({counter:"5"},e)),r.a.createElement(hl,null),r.a.createElement(Ii,Object.assign({counter:"14"},e)),r.a.createElement(hl,null),r.a.createElement(Gi,Object.assign({counter:"14.1"},e)),r.a.createElement(hl,null),r.a.createElement(qi,Object.assign({counter:"14.2"},e)),r.a.createElement(hl,null),r.a.createElement(ml,Object.assign({counter:"15"},e)),r.a.createElement(hl,null),r.a.createElement(nx,Object.assign({counter:"16"},e)),r.a.createElement(hl,null),r.a.createElement(Mi,Object.assign({counter:"17"},e)),r.a.createElement(hl,null),r.a.createElement(RO,Object.assign({counter:"18"},e)))}();case 6:return r.a.createElement("div",null,r.a.createElement(Zw,Object.assign({counter:"1"},e)),r.a.createElement(hl,null),r.a.createElement(Wi,Object.assign({counter:"2"},e)),r.a.createElement(hl,null),r.a.createElement(zO,Object.assign({counter:"3"},e)),r.a.createElement(hl,null),r.a.createElement(BO,Object.assign({counter:"3.4"},e)),r.a.createElement(hl,null),r.a.createElement(cl,Object.assign({counter:"4",showMap:s,onShowMap:y},e)),r.a.createElement(hl,null),r.a.createElement(gl,Object.assign({counter:"5"},e)),r.a.createElement(hl,null),r.a.createElement(Bi,{counter:"5.1",record:e.customRecord}),r.a.createElement(hl,null),r.a.createElement(ol,Object.assign({counter:"6"},e)),r.a.createElement(hl,null),r.a.createElement(Ii,Object.assign({counter:"15"},e)),r.a.createElement(hl,null),r.a.createElement(Gi,Object.assign({counter:"15.1"},e)),r.a.createElement(hl,null),r.a.createElement(qi,Object.assign({counter:"15.2"},e)),r.a.createElement(hl,null),r.a.createElement(ml,Object.assign({counter:"16"},e)),r.a.createElement(hl,null),r.a.createElement(Mi,Object.assign({counter:"17"},e)),r.a.createElement(hl,null),r.a.createElement(RO,Object.assign({counter:"18"},e)));case 7:return function(t){var a=e.customRecord,n=(e.customBasePath,e.translate,x.a.maxBy(a.me_reports,(function(e){return e.year})));return x.a.isEmpty(n)||!t?r.a.createElement("div",null,r.a.createElement(gl,Object.assign({},e,{counter:"2"})),r.a.createElement(hl,null),r.a.createElement(Bi,{counter:"3",record:e.customRecord}),r.a.createElement(hl,null),r.a.createElement(Ii,Object.assign({},e,{counter:"4"})),r.a.createElement(hl,null),r.a.createElement(qi,Object.assign({counter:"5"},e)),r.a.createElement(hl,null),r.a.createElement(ml,Object.assign({counter:"6"},e)),r.a.createElement(hl,null),r.a.createElement(Mi,Object.assign({counter:"7"},e)),r.a.createElement(hl,null),r.a.createElement(RO,Object.assign({counter:"8"},e))):r.a.createElement("div",null,r.a.createElement(ox,e))}(t);case 8:return e.customRecord,e.customBasePath,e.translate,r.a.createElement("div",null,r.a.createElement(gl,Object.assign({},e,{counter:"2"})),r.a.createElement(hl,null),r.a.createElement(Bi,{counter:"3",record:e.customRecord}),r.a.createElement(hl,null),r.a.createElement(Ii,Object.assign({},e,{counter:"4"})),r.a.createElement(hl,null),r.a.createElement(qi,Object.assign({counter:"5"},e)),r.a.createElement(hl,null),r.a.createElement(ml,Object.assign({counter:"6"},e)),r.a.createElement(hl,null),r.a.createElement(Mi,Object.assign({counter:"7"},e)),r.a.createElement(hl,null),r.a.createElement(RO,Object.assign({counter:"8"},e)));default:return null}}(b)))},lx=function(e){var t=Object(n.useState)(),a=Object(Z.a)(t,2),r=a[0],o=a[1],i=Object(Ca.a)();return Object(n.useEffect)((function(){i.getListOfAll("parameters",{sort_field:"id"}).then((function(t){if(t&&t.data){var a=Object(w.find)(t.data,(function(t){return t.param_key===e}));a&&a.param_value&&o(a)}}))}),[i,e]),r},cx=["permissions"],sx=["ids","data","basePath"],ux=function(e){var t=e.ids,a=void 0===t?[]:t,o=e.data,i=void 0===o?[]:o,l=e.basePath,c=void 0===l?"":l,s=Object(T.a)(e,sx);a.sort();var u=Object(ee.f)((function(e){return e.user.userInfo})),d=Object(ai.a)(),m=Object(n.useState)(!1),p=Object(Z.a)(m,2),f=p[0],_=p[1],g=lx("validation");function h(){return u?u.current_role.role.phase_ids:[]}g&&localStorage.setItem("validation",JSON.stringify(g.param_value));var v=x.a.keys(i).filter((function(e){return!h()||h().includes(Number(i[e].phase_id))}));return Object(n.useMemo)((function(){if(!x.a.isEmpty(i)){var e=v&&x.a.maxBy(v.map((function(e){return i[e]})),(function(e){return Number(e.phase_id)}));_(!0),e&&s.history&&s.history.location.pathname!=="/projects/"+s.id+"/show/"+e.phase_id&&(f||d("/projects/"+s.id+"/show/"+e.phase_id))}}),[i]),f&&s.history.location.pathname==="/projects/"+s.id+"/show/"&&d("/projects"),r.a.createElement(zy.a,null,v&&v.map((function(e){var t=x.a.cloneDeep(i[e]);return t?r.a.createElement(qy.a,{key:"project-detail-tab-".concat(e),label:t.phase.name,path:"".concat(t.phase_id)},r.a.createElement(ix,{customBasePath:c,customRecord:t})):null})))},dx=function(e){var t=e.permissions,a=Object(T.a)(e,cx);return r.a.createElement(E_.a,Object.assign({},a,{actions:r.a.createElement(TO,Object.assign({},a,{permissions:t}))}),r.a.createElement(By.a,{addLabel:!1,reference:"project-details",target:"project_id",filter:{project_id:a.id}},r.a.createElement(ux,a)))};var mx=function(e,t){var a=Object(ee.f)((function(e){return e.app.appConfig})).features_config,r=Object(n.useState)(!1),o=Object(Z.a)(r,2),i=o[0],l=o[1];return Object(n.useMemo)((function(){if(a&&a[e]){if(a[e].is_global)return l(!0);t&&(x.a.isArray(a[e].step)?l(a[e].step.includes(t)):l(Number(a[e].step)===Number(t)))}}),[e,t,a]),i},px=["formData","scopedFormData","getSource"];var fx=function(e){var t=Object(pe.a)(),a=Object(_s.f)().values,o=e.record,i=mx("project_implementing_agencies_multiple"),l=mx("has_default_array_input_value"),c=B({name:"implementing_agencies"});return Object(n.useMemo)((function(){(!i||l)&&a&&a.implementing_agencies&&0===a.implementing_agencies.length&&c([{}])}),[o]),!o||o&&!o.phase_id?null:r.a.createElement(Ss.a,{source:"implementing_agencies",label:t("resources.project-details.fields.implementing_agencies")},r.a.createElement(Ps.a,{disableAdd:!i,disableRemove:!i},r.a.createElement(js.a,null,(function(t){t.formData,t.scopedFormData;var a=t.getSource;Object(T.a)(t,px);return Y("has_pimis_fields")?r.a.createElement(Gf,Object.assign({},e,{source:a("organization_id"),title:"Implementing Agencies",config:"organizational_config",reference:"organizations",field:a("organization"),level:4})):r.a.createElement(Gf,Object.assign({},e,{source:a("organization_id"),title:"Implementing Agencies",config:"organizational_config",reference:"organizations",field:a("organization"),level:Y("has_esnip_fields")?4:2}))}))))},_x=a(2044),gx=["record","projectTitle"],hx=["formData","scopedFormData","getSource"];function vx(e,t){if(e&&t&&S()(e)&&S()(e)<S()(t.start_date))return"End date must be more than start date"}var bx=function(e){var t,a=e.record,o=e.projectTitle,i=Object(T.a)(e,gx),l=Object(n.useState)(!1),c=Object(Z.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)({}),m=Object(Z.a)(d,2),p=m[0],f=m[1],_=Object(pe.a)(),g=Object(Ca.a)(),h=Object(_s.f)().values,v=Object(Na.a)(),b=Object(n.useState)([]),E=Object(Z.a)(b,2),j=(E[0],E[1]),y=Object(n.useState)([]),O=Object(Z.a)(y,2),k=O[0],P=O[1],C=Object(n.useState)([]),N=Object(Z.a)(C,2),A=N[0],D=N[1],F=Object(n.useState)([]),R=Object(Z.a)(F,2),I=(R[0],R[1],mx("project_has_proposed_funding_source",a&&a.phase_id)),M=mx("project_has_array_revenue_source",a&&a.phase_id),W=mx("project_has_revenue_source",a&&a.phase_id),L=mx("project_title_duplication_check"),z=mx("project_title_change_enable",a&&a.phase_id),q=mx("project_data_change_enable",a&&a.phase_id),U=mx("project_dates_fiscal_years"),V=mx("has_pimis_fields"),G=mx("has_esnip_fields"),H=B({name:"proposed_funding_source"}),J=B({name:"project_data_changed"}),X=B({name:"name"}),$=B({name:"start_date"}),K=B({name:"end_date"}),Q=B({name:"revenue_source"});Object(n.useEffect)((function(){s||Q([])}),[s]),Object(n.useEffect)((function(){V&&g.getListOfAll("parameters",{sort_field:"id"}).then((function(e){if(e&&e.data){var t=x.a.find(e.data,(function(e){return"procurement_modality"===e.param_key}));t&&t.param_value&&P(t.param_value.map((function(e){return{id:e,name:e}})));var a=x.a.find(e.data,(function(e){return"proposed_fund_source"===e.param_key}));a&&a.param_value&&j(a.param_value.map((function(e){return{id:e,name:e}})));var n=x.a.find(e.data,(function(e){return"revenue_source"===e.param_key}));n&&n.param_value&&D(n.param_value.map((function(e){return{id:e,name:e}})))}})),f(a.project)}),[]),Object(n.useEffect)((function(){a&&a.project&&h&&!h.name&&X(a.project.name)}),[a&&a.project]),Object(n.useEffect)((function(){if(z&&!q&&h&&h.name!==o&&J(!0),q&&h&&(h.name===p.name&&h.function_id===p.function_id&&h.program_id===p.program_id||J(!0)),I&&(h&&!0===h.proposed_funding_source_lock&&!h.proposed_funding_source&&H([{}]),h&&!0===h.proposed_funding_source_lock&&!s?(u(!0),H([{}])):h&&(!h.proposed_funding_source_lock||!1===h.proposed_funding_source_lock||h.proposed_funding_source&&h.proposed_funding_source[0]&&"Source of funding has not been identified"===h.proposed_funding_source[0])&&s&&(u(!1),h.proposed_funding_source="Source of funding has not been identified")),h&&h.additional_data&&h.additional_data.start_date_calendar){var e,t,a=S()(h.additional_data.start_date_calendar,"YYYY-MM-DD").format("MM");if(Number(a)>=4)$(S()(null===(e=h.additional_data)||void 0===e?void 0:e.start_date_calendar,"YYYY-MM-DD").startOf("year").format("YYYY-MM-DD"));else $(S()(null===(t=h.additional_data)||void 0===t?void 0:t.start_date_calendar,"YYYY-MM-DD").add("years",-1).startOf("year").format("YYYY-MM-DD"))}if(h&&h.additional_data&&h.additional_data.end_date_calendar){var n,r,i,l=S()(null===(n=h.additional_data)||void 0===n?void 0:n.end_date_calendar,"YYYY-MM-DD").format("MM");if(Number(l)>=4)K(S()(null===(r=h.additional_data)||void 0===r?void 0:r.end_date_calendar,"YYYY-MM-DD").startOf("year").format("YYYY-MM-DD"));else K(S()(null===(i=h.additional_data)||void 0===i?void 0:i.end_date_calendar,"YYYY-MM-DD").add("years",-1).startOf("year").format("YYYY-MM-DD"))}h&&h.revenue_source&&"string"===typeof h.revenue_source&&(h.revenue_source=[h.revenue_source]),h&&h.proposed_funding_source&&"string"===typeof h.proposed_funding_source&&(h.proposed_funding_source=[h.proposed_funding_source]),h&&h.procurement_modality&&"string"===typeof h.procurement_modality&&(h.procurement_modality=[h.procurement_modality]),h&&h.revenue_source&&h.revenue_source.length>0&&h.proposed_funding_source&&(ae(h.proposed_funding_source)||Q([]))}),[h]);var ee=function(e){if(e){if(1===Number(e.fund_id))return jr(Ka).filter((function(e){return 3===Number(e.id)}));if(1===Number(e.fund_id)||2===Number(e.fund_id))return jr(Ka).filter((function(e){return 0===Number(e.id)||3===Number(e.id)}))}return jr(Ka).filter((function(e){return 1===Number(e.id)||2===Number(e.id)}))},te=function(e){return!(!e||1!==Number(e.fund_id))&&(e.fund_body_type="",!0)},ae=function(e){return Object(w.find)(e,(function(e){return 1===(null===e||void 0===e?void 0:e.fund_id)}))};return r.a.createElement(n.Fragment,null,(i.isNewProject||q||z)&&r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project-details.fields.name"},r.a.createElement(ns.a,{source:"name",label:_("resources.project-details.fields.name"),validate:Object(rs.j)(),variant:"outlined",margin:"none",onBlur:L&&function(){g.custom("projects",{type:"validate-title",query:{title:h.title}}).then((function(e){e&&!e.data&&v(_("messages.duplicate_project_title"),"warning")})).catch((function(e){v(e,"warning")}))}})),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project-details.fields.summary",textArea:!0},r.a.createElement(qf,Object.assign({},i,{source:"summary",validate:dO("summary"),formValues:h,label:_("resources.project-details.fields.summary"),isRequired:Boolean(dO("summary"))}))),!i.isNewProject&&Y("has_pimis_fields")&&r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project-details.fields.project_goal",textArea:!0},r.a.createElement(qf,Object.assign({},i,{source:"project_goal",validate:dO("project_goal"),formValues:h,label:_("resources.project-details.fields.project_goal"),isRequired:Boolean(dO("project_goal"))}))),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project-details.fields.start_date"},Y("has_pimis_fields")&&r.a.createElement(ys.a,{options:{fullWidth:"true"},label:_("resources.project-details.fields.start_date"),source:"additional_data.start_date_calendar",variant:"outlined",margin:"none"}),U?Y("has_pimis_fields")?null:r.a.createElement(os.a,{options:{fullWidth:"true"},label:_("resources.project-details.fields.start_date"),source:"start_date",choices:vi(i.isNewProject?2:5),validate:dO("start_date"),variant:"outlined",margin:"none"}):r.a.createElement(ys.a,{options:{fullWidth:"true"},label:_("resources.project-details.fields.start_date"),source:"additional_data.start_date_calendar",validate:Object(rs.j)(),variant:"outlined",margin:"none"})),Y("has_project_duration_field")?r.a.createElement(r.a.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.duration",bool:!0},r.a.createElement(_x.a,{source:"duration",step:1,variant:"outlined",margin:"none",validate:[Object(rs.j)(),Object(rs.g)(0)]})),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project-details.fields.end_date"},U?r.a.createElement(os.a,{options:{fullWidth:"true",disabled:"true"},label:_("resources.project-details.fields.end_date"),source:"end_date",choices:U&&hi(h.start_date,i.isNewProject?2:5),variant:"outlined",margin:"none"}):r.a.createElement(ys.a,{options:{fullWidth:"true"},label:_("resources.project-details.fields.end_date"),source:"additional_data.end_date_calendar",validate:[Object(rs.j)(),vx],variant:"outlined",margin:"none"}))):r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project-details.fields.end_date"},Y("has_pimis_fields")&&r.a.createElement(ys.a,{options:{fullWidth:"true"},label:_("resources.project-details.fields.end_date"),source:"additional_data.end_date_calendar",variant:"outlined",margin:"none"}),U?Y("has_pimis_fields")?null:r.a.createElement(os.a,{options:{fullWidth:"true"},label:_("resources.project-details.fields.end_date"),source:"end_date",choices:U&&hi(h.start_date,i.isNewProject?2:5),variant:"outlined",margin:"none",validate:[dO("end_date"),vx]}):r.a.createElement(ys.a,{options:{fullWidth:"true"},label:_("resources.project-details.fields.end_date"),source:"additional_data.end_date_calendar",validate:Object(rs.j)(),variant:"outlined",margin:"none"})),i.isNewProject&&!V&&r.a.createElement(cs,{fullWidth:!0,tooltipText:_("tooltips.resources.project-details.fields.classification").split("|").map((function(e){return r.a.createElement("p",{key:e},e)}))},r.a.createElement(os.a,{options:{fullWidth:"true"},label:_("resources.project-details.fields.classification"),source:"classification",choices:jr(Ja),validate:dO("classification"),variant:"outlined",margin:"none"})),i.isNewProject&&G&&r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project-details.fields.classification"},r.a.createElement(os.a,{options:{fullWidth:"true"},label:_("resources.project-details.fields.classification"),source:"classification",choices:jr(tn),validate:dO("classification"),variant:"outlined",margin:"none"})),I&&!i.isNewProject&&r.a.createElement(r.a.Fragment,null,r.a.createElement(cs,{bool:!0,tooltipText:"Source of funding identified"},r.a.createElement(I_.a,{label:"Source of funding identified",source:"proposed_funding_source_lock",variant:"outlined",margin:"none"})),s&&r.a.createElement(Ss.a,{source:"proposed_funding_source",label:!1},r.a.createElement(Ps.a,null,r.a.createElement(js.a,null,(function(e){e.formData;var t=e.scopedFormData,a=e.getSource;Object(T.a)(e,hx);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Nu.a,{sort:Ra,perPage:-1,source:a("fund_id"),reference:"funds",allowEmpty:!0,label:_("resources.activities.fields.investments.fields.fund_id"),validate:[Object(rs.j)()]},r.a.createElement(os.a,{options:{fullWidth:!0},fullWidth:!0,optionText:"name",variant:"outlined",margin:"none"})),1!==(null===t||void 0===t?void 0:t.fund_id)&&r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project-details.fields.fund_body_type"},r.a.createElement(os.a,{options:{fullWidth:"true"},label:_("resources.project-details.fields.fund_body_type"),source:a("fund_body_type"),choices:ee(t),validate:[Object(rs.j)()],variant:"outlined",margin:"none",disabled:te(t)})))}))))),V&&!i.isNewProject&&M&&A&&A.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project-details.fields.revenue_source",disabled:!ae(null===h||void 0===h?void 0:h.proposed_funding_source)},r.a.createElement(Sy.a,{margin:"none",variant:"outlined",fullWidth:!0,label:_("resources.project-details.fields.revenue_source"),source:"revenue_source",choices:A,validate:ae(null===h||void 0===h?void 0:h.proposed_funding_source)&&dO("revenue_source"),shouldRenderSuggestions:!0,disabled:!ae(null===h||void 0===h?void 0:h.proposed_funding_source)}))):null,V&&!i.isNewProject&&W?r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project-details.fields.revenue_source"},r.a.createElement(os.a,{options:{fullWidth:"true"},label:_("resources.project-details.fields.revenue_source"),source:"revenue_source",choices:A,validate:dO("revenue_source"),variant:"outlined",margin:"none"})):null,h&&(null===(t=h.revenue_source)||void 0===t?void 0:t.includes("other"))&&r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project-details.fields.revenue_source_other"},r.a.createElement(ns.a,{fullWidth:!0,source:"revenue_source_other",variant:"outlined",validate:Object(rs.j)(),margin:"none"})),V&&k&&!i.isNewProject&&r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project-details.fields.procurement_modality"},r.a.createElement(Sy.a,{margin:"none",variant:"outlined",fullWidth:!0,label:_("resources.project-details.fields.procurement_modality"),source:"procurement_modality",choices:k,validate:dO("procurement_modality"),shouldRenderSuggestions:!0})))},Ex=["formData","scopedFormData","getSource"],jx=["formData","scopedFormData","getSource"];function yx(e){var t=e.scopedFormData,a=e.getSource,o=e.locationsData,i=e.formData,l=Object(pe.a)(),c=Object(n.useRef)(),s=B({name:"check_update"});function u(e){var t=x.a.filter(o,(function(t){return t.parent_id===e}));return t?t.map((function(e){return e.id})):[]}Object(n.useEffect)((function(){if(t&&t.location_parent_id){if(77===Number(t.location_parent_id))t.location_ids=[77];else{var e=u(Number(t.location_parent_id));e&&e.length&&(t.location_ids=u(Number(t.location_parent_id)))}s(!i.check_update)}}),[null===t||void 0===t?void 0:t.location_parent_id]);var d=o&&x.a.find(o,(function(e){return"00"===e.code})),m=t&&d&&Number(t.location_parent_id)===Number(d.id);return m?null:r.a.createElement("div",{ref:c},r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.locations.fields.province"},r.a.createElement(ay.a,{sort:Ra,validate:!m&&Object(rs.j)(),perPage:-1,source:a("location_ids"),reference:"locations",filter:{level:2,parent_id:t&&t.location_parent_id},allowNull:!0,format:function(e){return e||null},label:l("resources.locations.fields.province")},r.a.createElement(Sy.a,{optionText:"name",margin:"none",variant:"outlined",fullWidth:!0,shouldRenderSuggestions:!0,autoFocus:!0}))))}var Ox=function(e){var t=e.record,a=Object(n.useState)([]),o=Object(Z.a)(a,2),i=o[0],l=o[1],c=Object(n.useState)([]),s=Object(Z.a)(c,2),u=s[0],d=s[1],m=Object(pe.a)(),p=mx("project_locations_multiple"),f=mx("project_locations_geomap"),_=mx("project_locations_multiselect_input"),g=mx("has_default_array_input_value"),h=B({name:"locations"}),v=Object(Ca.a)();if(Object(n.useEffect)((function(){(Y("has_pimis_fields")||Y("has_esnip_fields"))&&v.getListOfAll("locations",{sort_field:"id"}).then((function(e){e&&e.data&&l(e.data)}))}),[]),Object(n.useMemo)((function(){(!p||g)&&t&&t.locations&&0===t.locations.length&&h([{}])}),[t]),!t||t&&!t.phase_id)return null;var b=function(e){return function(){u.includes(e)?d(u.filter((function(t){return t!==e}))):d([].concat(Object(D.a)(u),[e]))}};return _?r.a.createElement(ay.a,{validate:dO("locations"),label:"Locations",reference:"locations",source:"locations"},r.a.createElement(Sy.a,{margin:"none",variant:"outlined",fullWidth:!0,source:"location_id",parse:function(e){return{location_id:e}}})):r.a.createElement(n.Fragment,null,r.a.createElement(js.a,null,(function(t){var a=t.formData;t.scopedFormData,t.getSource,Object(T.a)(t,Ex);return Y("project_has_google_map")&&a&&function(t,a){var n=a.location_id;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,{onClick:b(n),variant:"text"},u.includes(n)?"Hide Map":"Show Map"),u.includes(n)&&r.a.createElement(Am,Object.assign({},e,{scopedFormData:a,source:t})))}("geo_location",a)})),r.a.createElement(Ss.a,{source:"locations",label:m("resources.project-details.fields.locations"),validate:[dO("locations")]},r.a.createElement(Ps.a,{disableAdd:!p,disableRemove:!p},r.a.createElement(js.a,null,(function(e){var t=e.formData,a=e.scopedFormData,o=e.getSource;Object(T.a)(e,jx);return p&&!t.locations&&(t.locations[0]={location:{},geo_location:"",location_id:""}),r.a.createElement(n.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.locations.fields.central"},r.a.createElement(Nu.a,{sort:Ra,label:m("resources.locations.fields.central"),validate:dO("locations","location_parent_id"),perPage:-1,source:o("location_parent_id"),reference:"locations",filter:{level:1}},r.a.createElement(os.a,{validate:Object(rs.j)(),optionText:"name",margin:"normal",variant:"outlined"}))),r.a.createElement(yx,{getSource:o,scopedFormData:a,locationsData:i,formData:t})),f&&r.a.createElement(n.Fragment,null,r.a.createElement(ns.a,{style:{display:"none"},options:{disabled:!0},source:o("geo_location"),variant:"outlined",margin:"none",label:m("resources.project-details.fields.geo_location")})))})))))},wx=["getSource","scopedFormData","formData"];var xx=function(e){var t=Object(pe.a)(),a=e.record;return a&&Y("project_om_cost_show",a.phase_id)?r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData;var o=e.formData;Object(T.a)(e,wx);return Y("project_om_cost_drop_down_selection",a.phase_id)?r.a.createElement(n.Fragment,null,r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(se.a,{variant:"h5"},t("resources.project-details.fields.is_omp")),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.is_omp",bool:!0},r.a.createElement(os.a,{source:"is_omp",variant:"outlined",label:!1,choices:[{id:!0,name:"Yes"},{id:!1,name:"No"}]}))),o&&o.is_omp?r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.maintenance_period"},r.a.createElement(_x.a,{source:"maintenance_period",label:t("resources.project-details.fields.maintenance_period"),step:1,validate:[Object(rs.h)(),Object(rs.g)(1),dO("maintenance_period")],variant:"outlined",margin:"none"}))):null):(o&&o.maintenance_period&&o.maintenance_period<0&&(o.maintenance_period=1),r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.is_omp",bool:!0},r.a.createElement(I_.a,{source:"is_omp",label:t("resources.project-details.fields.is_omp")})),o&&o.is_omp?r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.maintenance_period"},r.a.createElement(_x.a,{source:"maintenance_period",label:t("resources.project-details.fields.maintenance_period"),step:1,validate:[Object(rs.h)(),dO("maintenance_period")],variant:"outlined",margin:"none"}))):null))})):null},kx=["getSource","scopedFormData","formData"];var Sx=function(e){var t=Object(pe.a)(),a=e.record;return a&&Y("project_defect_liability_show",a.phase_id)?r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData;var a=e.formData;Object(T.a)(e,kx);return r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.is_dlp",bool:!0},r.a.createElement(I_.a,{source:"is_dlp",label:t("resources.project-details.fields.is_dlp")})),a&&a.is_dlp?r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.liability_period"},r.a.createElement(_x.a,{source:"liability_period",label:t("resources.project-details.fields.liability_period"),step:1,validate:[Object(rs.h)(),Object(rs.g)(1),dO("liability_period")],variant:"outlined",margin:"none"}))):null)})):null},Px=["getSource","scopedFormData","formData"];var Cx=function(e){var t=Object(pe.a)(),a=e.record;return a&&Y("project_post_evaluation_show",a.phase_id)?r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData;var a=e.formData;Object(T.a)(e,Px);return r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.is_evaluation",bool:!0},r.a.createElement(I_.a,{source:"is_evaluation",label:t("resources.project-details.fields.is_evaluation")})),a&&a.is_evaluation?r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.evaluation_period"},r.a.createElement(_x.a,{source:"evaluation_period",label:t("resources.project-details.fields.evaluation_period"),step:1,validate:[Object(rs.h)(),Object(rs.g)(1),dO("evaluation_period")],variant:"outlined",margin:"none"}))):null)})):null},Nx=["getSource","scopedFormData","formData"];var Ax=function(e){var t=Object(pe.a)(),a=e.record;return a&&Y("project_executive_summary_show",a.phase_id)?r.a.createElement(js.a,null,(function(a){a.getSource,a.scopedFormData;var n=a.formData;Object(T.a)(a,Nx);return r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.exec_management_plan",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:t("resources.project-details.fields.exec_management_plan".concat(Y("project_exec_management_plan_title_change",n.phase_id)?"_pfs":"")),source:"exec_management_plan",validate:dO("exec_management_plan"),isRequired:!0,formData:n},e)))})):null},Dx=["formData","scopedFormData","getSource"];var Tx=function(e){var t,a,o=Object(pe.a)(),i=Object(_s.f)().values,l=e.record,c=Object(ee.f)((function(e){return e.user.userInfo})),s=B({name:"executing_agencies"});return Object(n.useMemo)((function(){var e,t;(null===i||void 0===i?void 0:i.executing_agencies)&&(null===i||void 0===i?void 0:i.executing_agencies.length)>0?(null===i||void 0===i?void 0:i.executing_agencies.filter((function(e){var t;return(null===e||void 0===e?void 0:e.organization_id)===(null===c||void 0===c||null===(t=c.organization)||void 0===t?void 0:t.id)})).length)>0||s([{organization_id:null===c||void 0===c||null===(e=c.organization)||void 0===e?void 0:e.id,organization:null===c||void 0===c?void 0:c.organization}].concat(Object(D.a)(null===i||void 0===i?void 0:i.executing_agencies))):s([{organization_id:null===c||void 0===c||null===(t=c.organization)||void 0===t?void 0:t.id,organization:null===c||void 0===c?void 0:c.organization}])}),[l]),!l||l&&!l.phase_id?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,o("resources.project-details.fields.executing_agencies")),r.a.createElement("p",{style:{marginBottom:0}},"User`s Organization:"," ",r.a.createElement("b",null,null===c||void 0===c||null===(t=c.organization)||void 0===t?void 0:t.code," - ",null===c||void 0===c||null===(a=c.organization)||void 0===a?void 0:a.name)),r.a.createElement(Ss.a,{source:"executing_agencies",label:!1},r.a.createElement(Ps.a,null,r.a.createElement(js.a,null,(function(t){t.formData,t.scopedFormData;var a=t.getSource;Object(T.a)(t,Dx);return r.a.createElement(Gf,Object.assign({},e,{source:a("organization_id"),title:"Executing Agencies",config:"organizational_config",reference:"organizations",field:a("organization"),level:4}))})))))},Fx=["getSource","scopedFormData","formData"];var Rx=function(e){var t=Object(ee.f)((function(e){return e.user.userInfo})),a=Y("project_has_sectors"),o=Y("project_has_programs"),i=Y("project_has_functions"),l=Y("project_data_change_enable",e.record&&e.record.phase_id),c=Object(pe.a)(),s=B({name:"is_omp"}),u=B({name:"is_dlp"}),d=B({name:"is_evaluation"}),m=B({name:"duration"}),p=B({name:"additional_data.start_date_calendar"}),f=B({name:"additional_data.end_date_calendar"}),_=B({name:"proposed_funding_source_lock"});return r.a.createElement(js.a,null,(function(g){g.getSource,g.scopedFormData;var h=g.formData;Object(T.a)(g,Fx);if(h&&t&&t.organization_id&&(h.organization_id=t.organization_id),h){var v,b;if("undefined"==typeof h.is_dlp&&u(!(!h.liability_period||0===Number(h.liability_period))),"undefined"==typeof h.is_omp&&s(!(!h.maintenance_period||0===Number(h.maintenance_period))),"undefined"==typeof h.is_evaluation&&d(!(!h.evaluation_period||0===Number(h.evaluation_period))),!1===h.is_omp&&(h.om_costs=[],h.om_cost=null,h.maintenance_period=null,h.om_fund_id=null,h.om_costing_id=null),!1===h.is_dlp&&(h.liability_period=null),!1===h.is_evaluation&&(h.evaluation_period=null),Y("has_project_duration_field")&&(h.duration&&h.start_date&&(h.end_date=S()(h.start_date,"YYYY-MM-DD").add("years",Number(h.duration)-1).format("YYYY-MM-DD")),!h.duration&&h.end_date&&h.start_date&&m(S()(h.end_date,"YYYY-MM-DD").diff(S()(h.start_date,"YYYY-MM-DD"),"years")+1)),Y("project_has_proposed_funding_source",h&&h.phase_id)&&"undefined"===typeof h.proposed_funding_source_lock){var E=h&&h.proposed_funding_source&&("Source of funding has not been identified"===h.proposed_funding_source||h.proposed_funding_source[0]&&"Source of funding has not been identified"===h.proposed_funding_source[0]);_(!E)}h&&h.om_costs&&x.a.isEmpty(h.om_costs)&&(x.a.isEmpty(h.om_cost)||h.om_costs.push({costing:x.a.cloneDeep(h.om_costing),costing_id:h.om_costing_id,fund:x.a.cloneDeep(h.om_fund),fund_id:h.om_fund_id,costs:x.a.cloneDeep(h.om_cost)})),Y("has_pimis_fields")&&!(null===h||void 0===h||null===(v=h.additional_data)||void 0===v?void 0:v.start_date_calendar)&&p(S()(h.start_date,"YYYY-MM-DD").add("month",3).format("YYYY-MM-DD")),Y("has_pimis_fields")&&!(null===h||void 0===h||null===(b=h.additional_data)||void 0===b?void 0:b.end_date_calendar)&&f(S()(h.end_date,"YYYY-MM-DD").add("month",3).format("YYYY-MM-DD"))}return r.a.createElement(n.Fragment,null,Y("has_pimis_fields")&&r.a.createElement(bx,Object.assign({},e,{title:"Project Information",record:h,isNewProject:e.isNewProject,projectTitle:e.projectTitle})),r.a.createElement("br",null),(e.isNewProject||l)&&i&&r.a.createElement(Gf,Object.assign({},e,{isRequired:!0,source:"function_id",config:"functions_config",reference:"functions",field:"project.function",filter:Y("has_pimis_fields")?null:{organization_id:t.organization&&t.organization.parent_id}})),(e.isNewProject||l)&&o&&r.a.createElement(Gf,Object.assign({},e,{isRequired:!0,source:"program_id",config:"programs_config",reference:"programs",field:"project.program",filter:Y("has_pimis_fields")?null:{organization_id:t.organization&&t.organization.parent_id}})),a&&!e.isNewProject&&r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.ndp-sdgs.fields.ndp_outcome_ids"},r.a.createElement(ay.a,{sort:Ra,validate:dO("sector_ids"),perPage:-1,source:"sector_ids",reference:"sectors",variant:"outlined"},r.a.createElement(Sy.a,{margin:"none",variant:"outlined",fullWidth:!0,shouldRenderSuggestions:!0}))),r.a.createElement(fx,Object.assign({source:"implementing_agencies",title:"Implementing Agencies"},e,{record:h})),Y("has_pimis_fields")&&r.a.createElement(Tx,Object.assign({source:"executing_agencies",title:"Executing Agencies"},e,{record:h})),!Y("has_pimis_fields")&&r.a.createElement(bx,Object.assign({},e,{title:"Project Information",record:h,isNewProject:e.isNewProject,projectTitle:e.projectTitle})),!e.isNewProject&&!Y("has_pimis_fields")&&h.additional_data&&h.additional_data.location?r.a.createElement("div",null,r.a.createElement(se.a,{variant:"caption"},r.a.createElement("b",null,"Previous location")),gi()(h.additional_data.location)):null,r.a.createElement(Ox,Object.assign({title:"Locations"},e,{record:h})),!e.isNewProject&&r.a.createElement(xx,Object.assign({},e,{record:h})),!e.isNewProject&&r.a.createElement(Sx,Object.assign({},e,{record:h})),!e.isNewProject&&r.a.createElement(Ax,Object.assign({},e,{record:h})),!e.isNewProject&&r.a.createElement(Cx,Object.assign({},e,{record:h})),!e.isNewProject&&h&&Y("has_behaviour_form_fields",h.phase_id)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.national_scope",fullWidth:!0,textArea:!0},r.a.createElement(qf,Object.assign({label:c("resources.project-details.fields.national_scope"),source:"national_scope",formData:h,validate:[dO("national_scope")],isRequired:!0},e)))))}))},Ix=["basePath","data","record"],Mx=["classes"],Wx=function(e,t,a){return"/projects/".concat(a.id,"/show/1")},Lx=Object(ae.a)((function(e){return{button:{margin:"0 5px"},activeStep:{width:"100%",height:4,marginTop:10,backgroundColor:"#3f51b5"}}})),Yx=function(e){e.basePath,e.data;var t=e.record,a=Object(T.a)(e,Ix),n=Object(pe.a)(),o=(Object(Na.a)(),Lx(),Object(_s.f)());o.values,o.hasValidationErrors,t&&t.phase_id;return r.a.createElement(Zc.a,null,r.a.createElement(Ee.a,{onClick:function(){a.history.push("/projects")}},n("buttons.back")),r.a.createElement(Ee.a,{color:"primary",variant:"contained",onClick:function(){a.handleSubmitWithRedirect(a.redirect)}},n("buttons.create")))},Bx=function(e){e.classes;var t=Object(T.a)(e,Mx);return r.a.createElement(es.a,t,r.a.createElement(ou.a,{redirect:Wx,toolbar:r.a.createElement(Yx,t)},r.a.createElement(Rx,Object.assign({},t,{isNewProject:!0}))))},zx=a(2046),qx=a(2047),Ux=a(2045);var Vx=function(e){var t=Object(Ca.a)(),a=Object(n.useState)([]),r=Object(Z.a)(a,2),o=r[0],i=r[1];return Object(n.useEffect)((function(){t.getListOfAll("file-types",{}).then((function(t){if(t.data&&t.data.length){var a=t.data.filter((function(t){return!t.is_required&&t.phase_ids&&t.phase_ids.includes(e)}));i(a)}})).catch((function(e){console.log(e)}))}),[t,e]),o},Gx=(a(1515),["getSource","scopedFormData","formData"]),Hx=["getSource","scopedFormData","formData"];var Jx=function(e){var t=Object(pe.a)(),a=Object(n.useState)([]),o=Object(Z.a)(a,2),i=o[0],l=o[1],c=Object(n.useState)([]),s=Object(Z.a)(c,2),u=s[0],d=s[1],m=mx("project_additional_attachments"),p=mO(e.record.phase_id,"RETOOLING"===e.record.classification||"STUDIES"===e.record.classification),f=Vx(e.record.phase_id),_=Object(rr.a)();function g(){l([].concat(Object(D.a)(i),[{}]))}Object(n.useEffect)((function(){if(e.record&&e.record.files){var t=e.record.files.filter((function(e){var t=e.meta&&"string"===typeof e.meta?JSON.parse(e.meta):e.meta;return t&&t.relatedField&&t.relatedField.indexOf("attachments")>-1})),a=p.map((function(e){return e.name})),n=e.record.files.filter((function(e){var t=e.meta&&"string"===typeof e.meta?JSON.parse(e.meta):e.meta;return t.relatedField&&a.includes(t.relatedField)}));l(t),d(n)}}),[e.record,p]);var h=function(e){return function(t){e===Za?(d(u.filter((function(e){return e.id!==t}))),_()):l(i.filter((function(t,a){return a!==e})))}};function v(a){return m?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,{onClick:g,variant:"contained",startIcon:r.a.createElement(ph.a,null)},t("resources.project-details.fields.attachments.add")),r.a.createElement("br",null),r.a.createElement("br",null),i.length?function(a){return i.map((function(n,o){return r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(gp,{meta:{relatedField:"attachments_".concat(o)},resource:"project_detail",entityId:a.id,fileTypeId:0,placeholder:t("titles.drop_files"),record:a,approvedUploading:!0,onDelete:n?h():function(){},onFileUpload:function(){e.save(a,!1)}}),x.a.isEmpty(n)&&r.a.createElement(Ee.a,{variant:"contained",component:"span",onClick:h(o),startIcon:r.a.createElement(dp.a,null),style:{marginLeft:15}},t("resources.project-details.fields.attachments.remove")))}))}(a):null):null}return r.a.createElement(js.a,null,(function(a){a.getSource,a.scopedFormData;var o=a.formData;Object(T.a)(a,Hx);return r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.other_info",textArea:!0},r.a.createElement(qf,Object.assign({label:t("resources.project-details.fields.other_info"),source:"other_info",formData:o},e))),Y("has_additional_funding_source_question",null===o||void 0===o?void 0:o.phase_id)&&r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData;var t,a,n,o=e.formData;return Object(T.a)(e,Gx),!1===(null===o||void 0===o||null===(t=o.additional_data)||void 0===t?void 0:t.has_other_financing)&&(null===o||void 0===o||null===(a=o.additional_data)||void 0===a?void 0:a.other_finance_source)&&(o.additional_data.other_finance_source=""),r.a.createElement(r.a.Fragment,null,r.a.createElement(I_.a,{source:"additional_data.has_other_financing",label:"Is the project financed by other sources?"}),(null===o||void 0===o||null===(n=o.additional_data)||void 0===n?void 0:n.has_other_financing)&&r.a.createElement(os.a,{source:"additional_data.other_finance_source",variant:"outlined",label:!1,choices:rn}))})),r.a.createElement("div",null,r.a.createElement("h3",null,t("resources.project-details.fields.attachments.title")),p.length>0&&p.map((function(a){return r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(se.a,{variant:"h5",style:{marginRight:"25px"}},"".concat(a.name," ").concat(a.is_required?"*":"")),r.a.createElement(gp,{meta:{relatedField:a.name},approvedUploading:!0,resource:"project_detail",entityId:e.record.id,fileTypeId:a.id,extensions:a.extensions,placeholder:t("titles.drop_files"),record:e.record,onDelete:h(Za),onFileUpload:function(){e.save(o,!1)}}))})),f.length>0&&f.map((function(a){return r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(se.a,{variant:"h5",style:{marginRight:"25px"}},"".concat(a.name," ").concat(a.is_required?"*":"")),r.a.createElement(gp,{meta:{relatedField:a.name},approvedUploading:!0,resource:"project_detail",entityId:e.record.id,fileTypeId:a.id,extensions:a.extensions,placeholder:t("titles.drop_files"),record:e.record,onDelete:h(Za),onFileUpload:function(){e.save(o,!1)}}))}))),r.a.createElement("hr",{style:{margin:"10px auto"}}),v(o))}))},Xx=a(174),$x=["record"],Kx=["getSource","scopedFormData","formData","id"],Qx=["getSource","scopedFormData","formData"];var Zx=function(e){var t=e.record,a=Object(T.a)(e,$x),o=Object(pe.a)(),i=Object(Xx.a)({type:"getOne",resource:"projects",payload:{id:t?t.project_id:0}}),l=(i.loaded,i.error,i.data),c=mx("has_default_array_input_value"),s=mx("has_milestone_component_selector",t&&t.phase_id),u=B({name:"components"}),d=Object(_s.f)().values;return Object(n.useMemo)((function(){c&&d&&(d.components?0===d.components.length&&u([{}]):u([{}]))}),[t]),r.a.createElement(js.a,null,(function(e){Object.assign({},(Object(Pp.a)(e),e));return r.a.createElement(n.Fragment,null,r.a.createElement(Ss.a,{source:"components",label:!1},r.a.createElement(Ps.a,null,r.a.createElement(js.a,null,(function(e){var i=e.getSource,c=e.scopedFormData,u=e.formData,d=e.id;Object(T.a)(e,Kx);if(u.project){var m=Number(d.match(/\d+/)[0]),p=m+1<=9?"0".concat(m+1):"".concat(m+1);c?c.code="".concat(p,"00"):(c={}).code="".concat(p,"00")}return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6 col-m-6"},s&&r.a.createElement("h3",null,o("resources.components.fields.is_milestone")),r.a.createElement(se.a,{variant:"h4",style:{marginBottom:10}},"Component"),c&&c.code&&Y("project_has_log_frame_data_edit",u&&u.phase_id)&&r.a.createElement("h3",null,"Code: ",c.code),r.a.createElement(cs,{tooltipText:"tooltips.resources.components.fields.name",fullWidth:!0},r.a.createElement(ns.a,{validate:[dO("components","name"),Object(rs.d)(255)],variant:"outlined",margin:"none",source:i("name"),label:o("resources.components.fields.name")}))),r.a.createElement("div",{className:"col-sm-6 col-m-6"},r.a.createElement(cs,{tooltipText:"tooltips.resources.components.fields.description",fullWidth:!0,textArea:!0},r.a.createElement(qf,Object.assign({label:o("resources.components.fields.description"),source:i("description"),validate:dO("components","description"),isRequired:Boolean(dO("components","description")),formData:u},a))),r.a.createElement(cs,{tooltipText:"tooltips.resources.components.fields.vote_id",fullWidth:!0},r.a.createElement(Sy.a,{margin:"none",variant:"outlined",fullWidth:!0,label:o("resources.outputs.fields.vote_id"),source:i("organization_ids"),choices:u&&yr(u,l)||[],validate:Object(rs.j)(),shouldRenderSuggestions:!0,optionText:Or}))),r.a.createElement("br",null),u&&Y("project_result_matrix_components_investments_show",u.phase_id)&&c&&r.a.createElement(n.Fragment,null,r.a.createElement($f,Object.assign({},a,{record:u,type:"components",onSave:a.save,source:i("investments"),targetYears:Oi(t.start_date,t.end_date)})),r.a.createElement("br",null),r.a.createElement("br",null),c&&c.investments&&0!==c.investments.length&&r.a.createElement(Qf,{type:"components",formData:u,investments:c.investments}),r.a.createElement("br",null)),r.a.createElement("br",null),r.a.createElement(se.a,{variant:"h4"},"Sub-Components"),r.a.createElement(Ss.a,{source:i("subcomponents"),label:!1,validate:dO("components","subcomponents")},r.a.createElement(Ps.a,null,r.a.createElement(js.a,null,(function(e){var t=e.getSource,i=e.scopedFormData,l=e.formData;Object(T.a)(e,Qx);if(i&&!i.id){var c=String((new Date).getTime());i.id=Number(c.slice(7,c.length))}return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6 col-m-6"},r.a.createElement(cs,{tooltipText:"tooltips.resources.subcomponents.fields.name",fullWidth:!0},r.a.createElement(ns.a,{validate:[dO("components.subcomponents","name"),Object(rs.d)(255)],variant:"outlined",margin:"none",source:t("name"),label:o("resources.subcomponents.fields.name")}))),r.a.createElement("div",{className:"col-sm-6 col-m-6"},r.a.createElement(cs,{tooltipText:"tooltips.resources.subcomponents.fields.description",fullWidth:!0,textArea:!0},r.a.createElement(qf,Object.assign({label:o("resources.subcomponents.fields.description"),source:t("description"),validate:[dO("components.subcomponents","description")],isRequired:Boolean(dO("components.subcomponents","description")),formData:l},a))))))}))))))})))))}))},ek=["getSource","scopedFormData","formData"];var tk=Object(ee.c)((function(e){return{loading:e.admin.loading}}),null)((function(e){return Object(_s.f)().values,r.a.createElement(js.a,null,(function(t){t.getSource,t.scopedFormData,t.formData,Object(T.a)(t,ek);return r.a.createElement(n.Fragment,null,r.a.createElement(Zx,e))}))})),ak=["getSource","scopedFormData","formData"];var nk=function(e){var t=Object(pe.a)();return r.a.createElement(js.a,null,(function(a){a.getSource,a.scopedFormData;var o=a.formData;Object(T.a)(a,ak);return r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.evaluation_methodology",textArea:!0},r.a.createElement(If.a,null),r.a.createElement(qf,Object.assign({label:t("resources.project-details.fields.evaluation_methodology"),source:"post_evaluation.evaluation_methodology",formData:o,validate:dO("post_evaluation.evaluation_methodology"),isRequired:!0},e))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.achieved_outcomes",textArea:!0},r.a.createElement(qf,Object.assign({label:t("resources.project-details.fields.achieved_outcomes"),source:"post_evaluation.achieved_outcomes",formData:o,validate:dO("post_evaluation.achieved_outcomes"),isRequired:!0},e))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.deviation_reasons",textArea:!0},r.a.createElement(qf,Object.assign({label:t("resources.project-details.fields.deviation_reasons"),source:"deviation_reasons",formData:o,validate:dO("deviation_reasons"),isRequired:!0},e))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.measures",textArea:!0},r.a.createElement(qf,Object.assign({label:t("resources.project-details.fields.measures"),source:"post_evaluation.measures",formData:o,validate:dO("post_evaluation.measures"),isRequired:!0},e))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.lessons_learned",textArea:!0},r.a.createElement(qf,Object.assign({label:t("resources.project-details.fields.lessons_learned"),source:"post_evaluation.lessons_learned",formData:o,validate:dO("post_evaluation.lessons_learned"),isRequired:!0},e))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.deviation_reasons",textArea:!0},r.a.createElement(qf,Object.assign({label:t("resources.project-details.fields.deviation_reasons"),source:"post_evaluation.deviation_reasons",formData:o,validate:dO("post_evaluation.deviation_reasons"),isRequired:!0},e))))}))},rk=["record"],ok=["getSource","scopedFormData","formData"],ik=["getSource","scopedFormData","formData"];function lk(e){var t=e.scopedFormData,a=e.getSource,o=e.sdgData,i=e.formData,l=Object(n.useState)((null===t||void 0===t?void 0:t.ndp_sdgs_ids)||[]),c=Object(Z.a)(l,2),s=c[0],u=(c[1],Object(pe.a)()),d=B({name:"check_update_sdg"});return Object(n.useEffect)((function(){t&&t.ndp_outcome_id&&(x.a.isEqual(t.ndp_sdgs_ids,s)||(t.ndp_sdgs_ids=function(e){var t=x.a.filter(o,(function(t){return t.ndp_outcome_ids.split(",").map((function(e){return Number(e)})).includes(Number(e))}));return t?t.map((function(e){return e.id})):[]}(t.ndp_outcome_id)),d(!i.check_update_sdg))}),[null===t||void 0===t?void 0:t.ndp_outcome_id]),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project-details.fields.ndp_sdgs_id"},r.a.createElement(ay.a,{sort:Ra,label:u("resources.project-details.fields.ndp_sdgs_id"),perPage:-1,source:a("ndp_sdgs_ids"),reference:"ndp-sdgs",filter:{ndp_outcome_id:t&&t.ndp_outcome_id}},r.a.createElement(Sy.a,{optionText:"name",margin:"normal",variant:"outlined",fullWidth:!0,shouldRenderSuggestions:!0,autoFocus:!0})))}function ck(e){var t=e.scopedFormData,a=e.getSource,o=e.sdgData,i=e.formData,l=Object(n.useState)((null===t||void 0===t?void 0:t.ndp_strategy_ids)||[]),c=Object(Z.a)(l,2),s=c[0],u=(c[1],Object(pe.a)()),d=B({name:"check_update_strategy"});return Object(n.useEffect)((function(){t&&t.ndp_outcome_id&&(x.a.isEqual(t.ndp_strategy_ids,s)||(t.ndp_strategy_ids=function(e){var t=x.a.filter(o,(function(t){return t.ndp_outcome_id===e}));return t?t.map((function(e){return e.id})):[]}(t.ndp_outcome_id)),d(!i.check_update_strategy))}),[null===t||void 0===t?void 0:t.ndp_outcome_id]),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project-details.fields.ndp_sdgs_id"},r.a.createElement(ay.a,{sort:Ra,label:u("resources.project-details.fields.ndp_strategy_id"),perPage:-1,source:a("ndp_strategy_ids"),reference:"ndp-strategies",filter:{ndp_outcome_id:t&&t.ndp_outcome_id}},r.a.createElement(Sy.a,{optionText:"name",margin:"normal",variant:"outlined",fullWidth:!0,shouldRenderSuggestions:!0,autoFocus:!0})))}function sk(e){e.scopedFormData;var t=e.getSource,a=(e.sdgData,e.formData,Object(pe.a)());return r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project-details.fields.ndp_mtfs_id"},r.a.createElement(ay.a,{sort:Ra,label:a("resources.project-details.fields.ndp_mtf_id"),perPage:-1,source:t("ndp_mtfs_ids"),reference:"ndp-mtfs"},r.a.createElement(Sy.a,{optionText:"name",margin:"normal",variant:"outlined",fullWidth:!0,shouldRenderSuggestions:!0,autoFocus:!0})))}var uk=function(e){var t=e.record,a=Object(T.a)(e,rk),o=Object(n.useState)([]),i=Object(Z.a)(o,2),l=i[0],c=i[1],s=Object(n.useState)([]),u=Object(Z.a)(s,2),d=u[0],m=u[1],p=Object(_s.f)().values,f=Object(pe.a)(),_=mx("has_default_array_input_value"),g=B({name:"ndp_strategies"}),h=Object(Ca.a)();return Object(n.useEffect)((function(){(Y("has_pimis_fields")||Y("has_esnip_fields"))&&h.getListOfAll("ndp-sdgs",{sort_field:"id"}).then((function(e){e&&e.data&&c(e.data)})),h.getListOfAll("ndp-strategies",{sort_field:"id"}).then((function(e){e&&e.data&&m(e.data)}))}),[]),Object(n.useMemo)((function(){_&&p&&(p.ndp_strategies?0===p.ndp_strategies.length&&g([{}]):g([{}]))}),[t]),r.a.createElement(n.Fragment,null,r.a.createElement(Ss.a,{source:"ndp_strategies",label:null,className:"iterator",validate:dO("ndp_strategies")},r.a.createElement(Ps.a,null,r.a.createElement(js.a,null,(function(e){var t=e.getSource,a=e.scopedFormData,o=e.formData;Object(T.a)(e,ok);return r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.ndp_goal_id",fullWidth:!0},r.a.createElement(Nu.a,{sort:Ra,label:f("resources.project-details.fields.ndp_goal_id"),validate:dO("ndp_strategies","ndp_goal_id"),perPage:-1,source:t("ndp_goal_id"),reference:"ndp-goals"},r.a.createElement(os.a,{optionText:"name",margin:"normal",variant:"outlined"}))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.ndp_outcome_id",fullWidth:!0},r.a.createElement(Nu.a,{label:f("resources.project-details.fields.ndp_outcome_id"),sort:Ra,validate:dO("ndp_strategies","ndp_outcome_id"),perPage:-1,source:t("ndp_outcome_id"),reference:"ndp-outcomes",filter:{ndp_goal_id:a&&a.ndp_goal_id}},r.a.createElement(os.a,{optionText:"name",margin:"normal",variant:"outlined"}))),r.a.createElement(ck,{getSource:t,scopedFormData:a,sdgData:d,formData:o}),r.a.createElement(lk,{getSource:t,scopedFormData:a,sdgData:l,formData:o}),r.a.createElement(sk,{getSource:t,scopedFormData:a,sdgData:l,formData:o}))})))),r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData;var t=e.formData;Object(T.a)(e,ik);return r.a.createElement(r.a.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.ndp_policy_alignment",fullWidth:!0,textArea:!0},r.a.createElement(qf,Object.assign({validate:dO("ndp_policy_alignment"),label:f("resources.project-details.fields.ndp_policy_alignment"),isRequired:Boolean(dO("ndp_policy_alignment")),source:"ndp_policy_alignment",formData:t},a))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.ndp_compliance",fullWidth:!0,textArea:!0},r.a.createElement(qf,Object.assign({validate:dO("ndp_compliance"),label:f("resources.project-details.fields.ndp_compliance"),isRequired:Boolean(dO("ndp_compliance")),source:"ndp_compliance",formData:t},a))))})))},dk=["getSource","scopedFormData","formData"];var mk=function(e){var t=Object(pe.a)(),a=["Public-Private Partnerships","Joint-Venture","Joint-Venture (Unsolicited Proposal)","Public-Private Partnerships (Unsolicited Proposal)","Joint-Venture (Solicited Proposal)","Public-Private Partnerships (Solicited Proposal)"],o=["Public-Private Partnership","Joint Venture","Unsolicited Proposal"],i=e.record&&e.record.procurement_modality&&e.record.procurement_modality.filter((function(e){return a.includes(e)})).length>0;return e.record&&e.record.proposed_funding_source&&"Source of funding has not been identified"!==e.record.proposed_funding_source&&e.record.proposed_funding_source.filter((function(e){return o.includes(e)})).length>0||i?r.a.createElement(js.a,null,(function(a){a.getSource,a.scopedFormData;var o=a.formData;Object(T.a)(a,dk);return r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.ppp_similar_reference",fullWidth:!0,textArea:!0},r.a.createElement(qf,Object.assign({source:"ppp_similar_reference",formData:o,label:t("resources.project-details.fields.ppp_similar_reference"),validate:dO("ppp_similar_reference"),isRequired:!0},e))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.ppp_interest",fullWidth:!0,textArea:!0},r.a.createElement(qf,Object.assign({label:t("resources.project-details.fields.ppp_interest"),source:"ppp_interest",formData:o,validate:dO("ppp_interest"),isRequired:!0},e))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.ppp_impediments",fullWidth:!0,textArea:!0},r.a.createElement(qf,Object.assign({label:t("resources.project-details.fields.ppp_impediments"),source:"ppp_impediments",formData:o,validate:dO("ppp_impediments"),isRequired:!0},e))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.ndp_compliance",fullWidth:!0,textArea:!0},r.a.createElement(qf,Object.assign({label:t("resources.project-details.fields.ppp_risk_allocation"),source:"ppp_risk_allocation",formData:o,validate:dO("ppp_risk_allocation"),isRequired:!0},e))))})):r.a.createElement(n.Fragment,null,r.a.createElement(se.a,{variant:"h4"},"This is only for Public Private Partnership (PPP) or Joint Venture (JV) Option"))};function pk(e){return r.a.createElement(se.a,{component:"div",style:{padding:24}},e.children)}var fk=function(e){var t=Object(n.useState)(0),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(pe.a)(),c=e.formData,s=[{name:l("resources.project_options.fields.building_blocks.modules.demand_module"),id:"demand_module"},{name:l("resources.project_options.fields.building_blocks.modules.technical_module"),id:"technical_module"},{name:l("resources.project_options.fields.building_blocks.modules.environmental_module"),id:"environmental_module"},{name:l("resources.project_options.fields.building_blocks.modules.hr_module"),id:"hr_module"},{name:l("resources.project_options.fields.building_blocks.modules.legal_module"),id:"legal_module"}];function u(t){var a=e.getSource;e.formValues,e.record&&e.record.project_options&&e.record.project_options.length;return r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.building_blocks.description.".concat(s[t].id),textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({source:a("".concat(s[t].id,".description")),formData:c,validate:Object(rs.j)(),isRequired:!0,label:l("resources.project_options.fields.building_blocks.description")},e))),Y("project_options_building_blocks_show",e.record.phase_id)&&r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.building_blocks.advantage.".concat(s[t].id),fullWidth:!0,textArea:!0},r.a.createElement(qf,Object.assign({source:a("".concat(s[t].id,".advantage")),formData:c,validate:Object(rs.j)(),isRequired:!0,label:l("resources.project_options.fields.building_blocks.advantage")},e))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.building_blocks.disadvantage.".concat(s[t].id),textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({source:a("".concat(s[t].id,".disadvantage")),formData:c,validate:Object(rs.j)(),isRequired:!0,label:l("resources.project_options.fields.building_blocks.disadvantage")},e))),r.a.createElement(os.a,{style:{margin:10},validate:Object(rs.j)(),variant:"outlined",margin:"none",className:"boolean-selector",label:l("resources.project_options.fields.building_blocks.score"),source:a("".concat(s[t].id,".score")),choices:[{id:0,name:"0"},{id:1,name:"1"},{id:2,name:"2"},{id:3,name:"3"},{id:4,name:"4"},{id:5,name:"5"}]})))}return e.record,e.getSource,r.a.createElement("div",{className:"options-modules"},r.a.createElement("h5",{style:{paddingLeft:"15px",lineHeight:"45px"}},l("resources.project_options.fields.building_blocks.title")),r.a.createElement(Us.a,{value:o,onChange:function(e,t){i(t)},indicatorColor:"primary",textColor:"primary",variant:null},s.map((function(e){return r.a.createElement(Vs.a,{label:e.name})}))),0===o&&r.a.createElement(pk,null,u(o)),1===o&&r.a.createElement(pk,null,u(o)),2===o&&r.a.createElement(pk,null,u(o)),3===o&&r.a.createElement(pk,null,u(o)),4===o&&r.a.createElement(pk,null,u(o)))},_k=["getSource","scopedFormData","formData"];var gk=function(e){Object(pe.a)();var t=e.record;return r.a.createElement(Ss.a,{source:"project_options",label:null,className:"iterator"},r.a.createElement(Ps.a,{disableAdd:0!==e.activeStep||Y("project_options_disable_change",Number(t.phase_id))||e.disabled,disableRemove:e.activeStep>1||Y("project_options_disable_change",Number(t.phase_id))||e.disabled},r.a.createElement(js.a,null,(function(t){var a=t.getSource,o=t.scopedFormData,i=t.formData;Object(T.a)(t,_k);return r.a.createElement(n.Fragment,null,r.a.createElement(se.a,{variant:"h3"},r.a.createElement("b",{style:{marginLeft:10,lineHeight:"40px"}},o&&o.name)),r.a.createElement("br",null),r.a.createElement(fk,Object.assign({getSource:a,record:e.record,formData:i,scopedFormData:o},e)))}))))},hk=["getSource","scopedFormData","formData"];var vk=function(e){var t=e.getSource,a=Object(pe.a)();return r.a.createElement(Ss.a,{source:t("".concat(e.module,".criteria")),label:a("resources.project_options.fields.analytical_modules.criterias.title")},r.a.createElement(Ps.a,{disableAdd:e.disabled,disableRemove:e.disabled},r.a.createElement(js.a,null,(function(t){var n=t.getSource;t.scopedFormData,t.formData,Object(T.a)(t,hk);return r.a.createElement("div",null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.criterias.criteria_title",fullWidth:!0},r.a.createElement(ns.a,{variant:"outlined",margin:"none",options:{fullWidth:"true",disabled:e.disabled},source:n("title"),label:a("resources.project_options.fields.analytical_modules.criterias.criteria_title")})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.criterias.criteria_value",fullWidth:!0},r.a.createElement(ns.a,{variant:"outlined",margin:"none",options:{fullWidth:"true",disabled:e.disabled},source:n("criteria_value"),label:a("resources.project_options.fields.analytical_modules.criterias.criteria_value")})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.criterias.measure_unit",fullWidth:!0},r.a.createElement(ns.a,{variant:"outlined",margin:"none",options:{fullWidth:"true",disabled:e.disabled},source:n("measure_unit"),label:a("resources.project_options.fields.analytical_modules.criterias.measure_unit")})))}))))};var bk=function(e){var t=Object(pe.a)(),a=e.getSource,o=e.scopedFormData,i=e.formData;return o&&o.financial_evaluation&&o.financial_evaluation.appraisal_methodology&&"CEA"===o.financial_evaluation.appraisal_methodology&&(o.financial_evaluation.fnpv="0",o.financial_evaluation.irr="0"),o&&o.financial_evaluation&&o.financial_evaluation.appraisal_methodology&&"CBA"===o.financial_evaluation.appraisal_methodology&&(o.financial_evaluation.criterias=[]),r.a.createElement(n.Fragment,null,r.a.createElement("div",null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.financial_evaluation.appraisal_methodology",fullWidth:!0},r.a.createElement(os.a,{validate:Object(rs.j)(),variant:"outlined",margin:"none",options:{fullWidth:"true",disabled:e.disabled},className:"boolean-selector",disabled:e.disabled,label:t("resources.project_options.fields.analytical_modules.appraisal_methodology.title"),source:a("financial_evaluation.appraisal_methodology"),choices:[{id:"CBA",name:t("resources.project_options.fields.analytical_modules.appraisal_methodology.cba")},{id:"CEA",name:t("resources.project_options.fields.analytical_modules.appraisal_methodology.cea")}]})),o&&o.financial_evaluation&&o.financial_evaluation.appraisal_methodology&&"CBA"===o.financial_evaluation.appraisal_methodology?r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.financial_evaluation.fnpv",fullWidth:!0},r.a.createElement(ns.a,{variant:"outlined",margin:"none",source:a("financial_evaluation.fnpv"),label:t("resources.project_options.fields.analytical_modules.financial_evaluation.fnpv"),validate:[Object(rs.h)(),Object(rs.j)()],format:_r,parse:gr,options:{fullWidth:"true",disabled:e.disabled},disabled:e.disabled})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.financial_evaluation.irr",fullWidth:!0},r.a.createElement(ns.a,{variant:"outlined",margin:"none",source:a("financial_evaluation.irr"),label:t("resources.project_options.fields.analytical_modules.financial_evaluation.irr"),validate:[Object(rs.h)(),Object(rs.g)(-100),Object(rs.e)(100),Object(rs.j)()],options:{fullWidth:"true",disabled:e.disabled},disabled:e.disabled}))):null,o&&o.financial_evaluation&&o.financial_evaluation.appraisal_methodology&&"CEA"===o.financial_evaluation.appraisal_methodology?r.a.createElement(vk,Object.assign({},e,{module:"financial_evaluation"})):null),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.financial_evaluation.summary",textArea:!0},r.a.createElement(qf,Object.assign({},e,{source:a("financial_evaluation.summary"),formData:i,disabled:e.disabled,validate:Object(rs.j)(),label:t("resources.project_options.fields.analytical_modules.financial_evaluation.summary"),isRequired:!0}))))};var Ek=function(e){var t=Object(pe.a)(),a=e.getSource,o=e.scopedFormData,i=e.formData;return o&&o.economic_evaluation&&o.economic_evaluation.appraisal_methodology&&"CEA"===o.economic_evaluation.appraisal_methodology&&(o.economic_evaluation.enpv="0",o.economic_evaluation.err="0"),o&&o.economic_evaluation&&o.economic_evaluation.appraisal_methodology&&"CBA"===o.economic_evaluation.appraisal_methodology&&(o.economic_evaluation.criterias=[]),r.a.createElement(n.Fragment,null,r.a.createElement("div",null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.economic_evaluation.appraisal_methodology",fullWidth:!0},r.a.createElement(os.a,{validate:Object(rs.j)(),variant:"outlined",margin:"none",options:{fullWidth:"true",disabled:e.disabled},className:"boolean-selector",label:t("resources.project_options.fields.analytical_modules.appraisal_methodology.title"),source:a("economic_evaluation.appraisal_methodology"),choices:[{id:"CBA",name:t("resources.project_options.fields.analytical_modules.appraisal_methodology.cba")},{id:"CEA",name:t("resources.project_options.fields.analytical_modules.appraisal_methodology.cea")}]})),o&&o.economic_evaluation&&o.economic_evaluation.appraisal_methodology&&"CBA"===o.economic_evaluation.appraisal_methodology?r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.economic_evaluation.enpv",fullWidth:!0},r.a.createElement(ns.a,{variant:"outlined",margin:"none",source:a("economic_evaluation.enpv"),label:t("resources.project_options.fields.analytical_modules.economic_evaluation.enpv"),validate:[Object(rs.h)(),Object(rs.j)()],format:_r,parse:gr,options:{fullWidth:"true",disabled:e.disabled},disabled:e.disabled})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.economic_evaluation.err",fullWidth:!0},r.a.createElement(ns.a,{variant:"outlined",margin:"none",source:a("economic_evaluation.err"),label:t("resources.project_options.fields.analytical_modules.economic_evaluation.err"),options:{fullWidth:"true",disabled:e.disabled},validate:[Object(rs.h)(),Object(rs.g)(-100),Object(rs.e)(100),Object(rs.j)()],disabled:e.disabled}))):null,o&&o.economic_evaluation&&o.economic_evaluation.appraisal_methodology&&"CEA"===o.economic_evaluation.appraisal_methodology?r.a.createElement(vk,Object.assign({},e,{module:"economic_evaluation"})):null),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.economic_evaluation.summary",textArea:!0},r.a.createElement(qf,Object.assign({},e,{source:a("economic_evaluation.summary"),formData:i,validate:Object(rs.j)(),isRequired:!0,label:t("resources.project_options.fields.analytical_modules.economic_evaluation.summary")}))))},jk=["getSource","scopedFormData","formData"];var yk=function(e){var t=Object(pe.a)();return r.a.createElement(n.Fragment,null,r.a.createElement(Ss.a,{source:e.getSource("stakeholder_evaluations"),label:!1},r.a.createElement(Ps.a,{disableAdd:e.disabled,disableRemove:e.disabled},r.a.createElement(js.a,null,(function(a){var n,o=a.getSource,i=(a.scopedFormData,a.formData);Object(T.a)(a,jk);return r.a.createElement("div",null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.stakeholder_evaluations.name",fullWidth:!0},r.a.createElement(ns.a,{variant:"outlined",validate:Object(rs.j)(),margin:"none",options:{fullWidth:"true",disabled:e.disabled},source:o("name"),label:t("resources.project_options.fields.analytical_modules.stakeholder_evaluations.name")})),r.a.createElement("div",null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.stakeholder_evaluations.impact_sign.title",fullWidth:!0},r.a.createElement(os.a,{validate:Object(rs.j)(),options:{fullWidth:"true",disabled:e.disabled},className:"boolean-selector",label:t("resources.project_options.fields.analytical_modules.stakeholder_evaluations.impact_sign.title"),variant:"outlined",margin:"none",source:o("impact_sign"),choices:[{id:"POSITIVE",name:t("resources.project_options.fields.analytical_modules.stakeholder_evaluations.impact_sign.positive")},{id:"NEGATIVE",name:t("resources.project_options.fields.analytical_modules.stakeholder_evaluations.impact_sign.negative")}]})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.stakeholder_evaluations.beneficiary.title",fullWidth:!0},r.a.createElement(os.a,(n={validate:Object(rs.j)(),variant:"outlined",margin:"none",options:{fullWidth:"true",disabled:e.disabled},className:"boolean-selector",label:t("resources.project_options.fields.analytical_modules.stakeholder_evaluations.beneficiary.title")},Object(N.a)(n,"label","Relation"),Object(N.a)(n,"source",o("beneficiary")),Object(N.a)(n,"choices",[{id:"DIRECT",name:t("resources.project_options.fields.analytical_modules.stakeholder_evaluations.beneficiary.direct")},{id:"INDIRECT",name:t("resources.project_options.fields.analytical_modules.stakeholder_evaluations.beneficiary.indirect")}]),n)))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.stakeholder_evaluations.description",fullWidth:!0},r.a.createElement(qf,Object.assign({},e,{source:o("description"),formData:i,validate:Object(rs.j)(),isRequired:!0,label:t("resources.project_options.fields.analytical_modules.stakeholder_evaluations.description")}))))})))))},Ok=["getSource","scopedFormData","formData"];var wk=function(e){var t=Object(pe.a)();return r.a.createElement(n.Fragment,null,r.a.createElement(Ss.a,{source:e.getSource("risk_evaluations"),label:!1},r.a.createElement(Ps.a,{disableAdd:e.disabled,disableRemove:e.disabled},r.a.createElement(js.a,null,(function(a){var n=a.getSource;a.scopedFormData,a.formData,Object(T.a)(a,Ok);return r.a.createElement("div",null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.risk_evaluations.description",fullWidth:!0},r.a.createElement(ns.a,{variant:"outlined",margin:"none",options:{fullWidth:"true",disabled:e.disabled},source:n("description"),label:t("resources.project_options.fields.analytical_modules.risk_evaluations.description")})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.risk_evaluations.occurrence",fullWidth:!0},r.a.createElement(os.a,{variant:"outlined",margin:"none",options:{fullWidth:"true",disabled:e.disabled},className:"boolean-selector",label:t("resources.project_options.fields.analytical_modules.risk_evaluations.occurrence"),source:n("occurrence"),choices:[{id:"LOW",name:t("resources.project_options.fields.analytical_modules.risk_evaluations.levels.low")},{id:"MEDIUM",name:t("resources.project_options.fields.analytical_modules.risk_evaluations.levels.medium")},{id:"HIGH",name:t("resources.project_options.fields.analytical_modules.risk_evaluations.levels.high")},{id:"VERY_HIGH",name:t("resources.project_options.fields.analytical_modules.risk_evaluations.levels.very_high")}]})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.risk_evaluations.impact",fullWidth:!0},r.a.createElement(os.a,{variant:"outlined",margin:"none",options:{fullWidth:"true",disabled:e.disabled},className:"boolean-selector",label:t("resources.project_options.fields.analytical_modules.risk_evaluations.impact"),source:n("impact"),choices:[{id:"LOW",name:t("resources.project_options.fields.analytical_modules.risk_evaluations.levels.low")},{id:"MEDIUM",name:t("resources.project_options.fields.analytical_modules.risk_evaluations.levels.medium")},{id:"HIGH",name:t("resources.project_options.fields.analytical_modules.risk_evaluations.levels.high")},{id:"VERY_HIGH",name:t("resources.project_options.fields.analytical_modules.risk_evaluations.levels.very_high")}]})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.risk_evaluations.mitigation_plan",fullWidth:!0},r.a.createElement(ns.a,{variant:"outlined",margin:"none",options:{fullWidth:"true",disabled:e.disabled},source:n("mitigation_plan"),label:t("resources.project_options.fields.analytical_modules.risk_evaluations.mitigation_plan")})))})))))};Object(rs.h)();function xk(e){var t=e.children;return r.a.createElement(se.a,{component:"div",style:{padding:24}},t)}var kk=function(e){var t=Object(n.useState)(0),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(pe.a)(),c=[{name:l("resources.project_options.fields.analytical_modules.modules.financial"),id:"financial"},{name:l("resources.project_options.fields.analytical_modules.modules.economic"),id:"economic"},{name:l("resources.project_options.fields.analytical_modules.modules.distributional"),id:"distributional"},{name:l("resources.project_options.fields.analytical_modules.modules.risk"),id:"risk"}];function s(e,t){i(t)}function u(t,a){switch(t){case 0:return r.a.createElement(bk,Object.assign({},a,{disabled:e.disabled}));case 1:return r.a.createElement(Ek,Object.assign({},a,{disabled:e.disabled}));case 2:return r.a.createElement(yk,Object.assign({},a,{disabled:e.disabled}));case 3:return r.a.createElement(wk,Object.assign({},a,{disabled:e.disabled}));default:return null}}return r.a.createElement(Ss.a,{source:"project_options",label:null,className:"iterator"},r.a.createElement(Ps.a,{disableAdd:0!==e.activeStep||Y("project_options_disable_change",Number(e.record.phase_id))||e.disabled,disableRemove:e.activeStep>1||Y("project_options_disable_change",Number(e.record.phase_id))||e.disabled},r.a.createElement(js.a,null,(function(e){return e.scopedFormData&&e.scopedFormData.is_shortlisted||e.scopedFormData.is_preferred?r.a.createElement(n.Fragment,null,r.a.createElement(se.a,{variant:"h3"},r.a.createElement("b",null,e.scopedFormData&&e.scopedFormData.name)),r.a.createElement("br",null),r.a.createElement("h5",null,l("resources.project_options.fields.analytical_modules.title")),r.a.createElement(Us.a,{value:o,onChange:s,indicatorColor:"primary",textColor:"primary",variant:null},c.map((function(e){return r.a.createElement(Vs.a,{label:e.name})}))),0===o&&r.a.createElement(xk,null,u(o,e)),1===o&&r.a.createElement(xk,null,u(o,e)),2===o&&r.a.createElement(xk,null,u(o,e)),3===o&&r.a.createElement(xk,null,u(o,e))):null}))))},Sk=["getSource","scopedFormData","formData"];var Pk=function(e){var t=Object(pe.a)(),a=e.record;return r.a.createElement(Ss.a,{source:"project_options",label:null,className:"iterator"},r.a.createElement(Ps.a,{disableAdd:Y("project_options_disable_change",Number(a.phase_id)||e.disabled),disableRemove:Y("project_options_disable_change",Number(a.phase_id)||e.disabled)},r.a.createElement(js.a,null,(function(o){var i=o.getSource,l=(o.scopedFormData,o.formData);Object(T.a)(o,Sk);return Y("project_options_disable_change",Number(a.phase_id))&&0===l.project_options.length&&(l.project_options[0]={}),r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.title",fullWidth:!0},r.a.createElement(ns.a,{source:i("name"),label:t("resources.project_options.fields.title"),variant:"outlined",margin:"none"})),Y("project_options_show_description_score",e.record.phase_id)?null:r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.description",fullWidth:!0},r.a.createElement(qf,Object.assign({source:i("description"),formData:l,validate:Object(rs.j)(),isRequired:!0,label:t("resources.project_options.fields.description")},e))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.score",fullWidth:!0},r.a.createElement(ns.a,{disabled:!0,source:i("score"),label:t("resources.project_options.fields.score"),variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.cost",fullWidth:!0},r.a.createElement(ns.a,{source:i("cost"),label:t("resources.project_options.fields.cost"),validate:[Object(rs.h)()],format:_r,parse:gr,variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.funding_modality.title",fullWidth:!0},r.a.createElement(os.a,{variant:"outlined",margin:"none",options:{fullWidth:"true"},label:t("resources.project_options.fields.funding_modality.title".concat(Y("project_options_change_modality_title",e.record.phase_id)?"_pfs":"")),source:i("funding_modality"),choices:[{id:"PROCUREMENT",name:t("resources.project_options.fields.funding_modality.procurement")},{id:"PARTNERSHIP",name:t("resources.project_options.fields.funding_modality.partnership")}]}))))}))))};var Ck=function(e){var t=Object(n.useState)(null),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(pe.a)(),c=Object(_s.f)().values;function s(e){return e?x.a.findIndex(c.project_options,(function(t){return Number(t.id)===Number(e)})):null}return Object(n.useEffect)((function(){if(c&&c.project_options){var e=x.a.find(c.project_options,(function(e){return e.is_preferred}));e&&i(e.id)}}),[]),r.a.createElement(n.Fragment,null,r.a.createElement("div",{style:{marginBottom:25}},r.a.createElement(se.a,{variant:"h4"},l("resources.project_options.fields.summary.title")),r.a.createElement(oi.a,{size:"small"},r.a.createElement(ii.a,null,r.a.createElement(li.a,{className:"filled-row"},r.a.createElement(ci.a,null),r.a.createElement(ci.a,{colSpan:"3"},l("resources.project_options.fields.analytical_modules.financial_evaluation.summary")),r.a.createElement(ci.a,{colSpan:"3"},l("resources.project_options.fields.analytical_modules.economic_evaluation.summary"))),r.a.createElement(li.a,{className:"filled-row"},r.a.createElement(ci.a,null,l("resources.project_options.fields.title")),r.a.createElement(ci.a,null,l("resources.project_options.fields.analytical_modules.financial_evaluation.fnpv")),r.a.createElement(ci.a,null,l("resources.project_options.fields.analytical_modules.financial_evaluation.irr")),r.a.createElement(ci.a,null,"CEA"),r.a.createElement(ci.a,null,l("resources.project_options.fields.analytical_modules.economic_evaluation.enpv")),r.a.createElement(ci.a,null,l("resources.project_options.fields.analytical_modules.economic_evaluation.err")),r.a.createElement(ci.a,null,"CEA"))),r.a.createElement(si.a,null,c&&c.project_options&&c.project_options.filter((function(e){return e.is_shortlisted})).map((function(e,t){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e.name),r.a.createElement(ci.a,null,e.financial_evaluation&&vr(e.financial_evaluation.fnpv)),r.a.createElement(ci.a,null,e.financial_evaluation&&e.financial_evaluation.irr||"-"),r.a.createElement(ci.a,{style:{textTransform:"uppercase"}},e.financial_evaluation&&e.financial_evaluation.appraisal_methodology),r.a.createElement(ci.a,null,e.economic_evaluation&&vr(e.economic_evaluation.enpv)),r.a.createElement(ci.a,null,e.economic_evaluation&&e.economic_evaluation.err||"-"),r.a.createElement(ci.a,{style:{textTransform:"uppercase"}},e.economic_evaluation&&e.economic_evaluation.appraisal_methodology))}))))),r.a.createElement(xa.a,{fullWidth:!0,variant:"outlined",value:o,onChange:function(e){i(e.target.value),c.project_options.forEach((function(e){e.is_preferred=!1})),c.project_options[s(e.target.value)].is_preferred=!0}},e.onGetTopScoredOptions()&&e.onGetTopScoredOptions().map((function(e){return r.a.createElement(sa.a,{key:e.id,value:e.id},e.name)}))),o&&s()>-1?r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.justification",textArea:!0},r.a.createElement(qf,Object.assign({source:"project_options[".concat(s(o),"].justification"),formData:c,validate:Object(rs.j)(),isRequired:!0,label:l("resources.project_options.fields.justification")},e))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.modality_justification",textArea:!0},r.a.createElement(qf,Object.assign({source:"project_options[".concat(s(o),"].modality_justification"),formData:c,validate:Object(rs.j)(),isRequired:!0,label:l("resources.project_options.fields.modality_justification")},e)))):null)},Nk=["getSource","scopedFormData","formData"];var Ak=Object(ee.c)((function(e){return{isSaving:e.admin.saving}}),null)((function(e){var t=Object(n.useState)([]),a=Object(Z.a)(t,2),o=(a[0],a[1],Object(n.useState)(0)),i=Object(Z.a)(o,2),l=i[0],c=(i[1],Object(n.useState)(0)),s=Object(Z.a)(c,2),u=s[0],d=(s[1],Object(pe.a)()),m=Object(Na.a)(),p=Object(_s.f)().values;function f(e){if(!p)return null;if(!p.project_options||p.project_options&&0===p.project_options.length)return null;var t=p.project_options&&p.project_options.map((function(e,t){return e?{id:e.id,idx:t,name:e.name,score:(e.demand_module?e.demand_module.score:0)+(e.technical_module?e.technical_module.score:0)+(e.environmental_module?e.environmental_module.score:0)+(e.hr_module?e.hr_module.score:0)+(e.legal_module?e.legal_module.score:0)}:null})),a=x.a.sortBy(t,"score").reverse().slice(0,t.length>3?3:t.length);return p.project_options.forEach((function(e,t){e&&(e.is_preferred&&(p.is_preferred=t),e.is_shortlisted=0,e.is_preferred=0)})),x.a.isEmpty(a)||a.forEach((function(t,a){if(t&&(p.project_options[t.idx].is_shortlisted=a<3&&t.score>0?1:0,p.project_options[t.idx].score=isNaN(t.score)?0:t.score,"undefined"!==typeof e||p&&"undefined"!==typeof p.is_preferred)){var n=e||p&&p.is_preferred;p.project_options[n]&&(p.project_options[n].is_preferred=1)}})),a.filter((function(e){return!!e&&e.score>0}))}Object(n.useEffect)((function(e){if(e){var t=e.record;if(!t)return null;var a=x.a.findIndex(t.project_options,(function(e){return e.is_preferred}));t&&"undefined"!==typeof a&&(t.is_preferred=a)}}),[e.record]),Object(n.useMemo)((function(e){f(p.is_preferred)}),[p]);var _=function(t){return function(){var a,n,r,o;e.record;t>=0&&0!==(a=mr(p,d)).length?m("".concat(d("validation.empty_fields"),": ").concat(a.join(", ")),"warning"):t>1&&(p.project_options.filter((function(e){return e.is_shortlisted})),0!==(r=ur(p,d)).length)?m("".concat(d("validation.empty_fields"),": ").concat(r.join(", ")),"warning"):t>2&&(p.project_options.filter((function(e){return e.is_shortlisted})),0!==(o=dr(p,d)).length)?m("".concat(d("validation.empty_fields"),": ").concat(o.join(", ")),"warning"):(3===t&&(n=fr(p))&&x.a.keys(n).forEach((function(e){if(n[e].length>1){var t=n[e].map((function(e){return e.name})).join(", ");m("".concat(t," has the same score"),"warning")}})),e.setOptionStep(t),e.save(p,!1))}};return Y("project_options_has_single_form",e.record.phase_id)?r.a.createElement(Ss.a,{source:"project_options",label:null,className:"iterator"},r.a.createElement(Ps.a,{disableAdd:!0,disableRemove:!0},r.a.createElement(js.a,null,(function(t){var a=t.getSource,o=t.scopedFormData,i=t.formData;return Object(T.a)(t,Nk),r.a.createElement(n.Fragment,null,r.a.createElement("h5",null,r.a.createElement("b",null,o&&o.title)),r.a.createElement(gk,Object.assign({getSource:a,record:e.record,formData:i,scopedFormData:o,disabled:Y("project_options_disable_input",Number(i.phase_id))},e,{activeStep:l})),r.a.createElement(kk,Object.assign({getSource:a,record:e.record,formData:i,scopedFormData:o},e,{activeStep:l,disabled:Y("project_options_disable_input",Number(i.phase_id))})))})))):function(){var t=[d("resources.project_options.fields.stepper.description"),d("resources.project_options.fields.stepper.building_blocks"),d("resources.project_options.fields.stepper.analytical_modules"),d("resources.project_options.fields.stepper.best_option")];return r.a.createElement("div",{style:{position:"relative",minHeight:"275px"}},r.a.createElement("h4",null,d("resources.project_options.name")),r.a.createElement(ui.a,{container:!0},r.a.createElement(ui.a,{item:!0,xs:3},r.a.createElement(Ux.a,{orientation:"vertical",activeStep:e.optionsStep,style:{position:"fixed"}},t.map((function(e,t){var a={},n={};return a.isSaving&&u===t&&(n.icon=r.a.createElement(Yr.a,{size:25,thickness:2})),r.a.createElement(zx.a,Object.assign({key:e},a,{onClick:_(t)}),r.a.createElement(qx.a,n,e))})))),r.a.createElement(ui.a,{item:!0,xs:8},function(t){switch(t){case 0:return r.a.createElement(Pk,Object.assign({},e,{activeStep:t}));case 1:return r.a.createElement(gk,Object.assign({},e,{activeStep:t}));case 2:return r.a.createElement(kk,Object.assign({},e,{activeStep:t}));case 3:return r.a.createElement(Ck,Object.assign({},e,{activeStep:t,onGetTopScoredOptions:f}));default:return null}}(e.optionsStep))))}()}));function Dk(e){return r.a.createElement(se.a,{component:"div",style:{padding:24}},e.children)}var Tk=function(e){var t=Object(n.useState)(0),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(pe.a)(),c=e.formData,s=[{name:l("resources.project_options.fields.building_blocks.modules.demand_module"),id:"demand_module"},{name:l("resources.project_options.fields.building_blocks.modules.technical_module"),id:"technical_module"},{name:l("resources.project_options.fields.building_blocks.modules.environmental_module"),id:"environmental_module"},{name:l("resources.project_options.fields.building_blocks.modules.hr_module"),id:"hr_module"},{name:l("resources.project_options.fields.building_blocks.modules.legal_module"),id:"legal_module"}];function u(t){var a=e.getSource;e.formValues,e.record&&e.record.project_options&&e.record.project_options.length;return r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.building_blocks.description.".concat(s[t].id),textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({source:a("".concat(s[t].id,".description")),formData:c,validate:Object(rs.j)(),isRequired:!0,label:l("resources.project_options.fields.building_blocks.description")},e))),Y("project_options_building_blocks_show",e.record.phase_id)&&r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.building_blocks.advantage.".concat(s[t].id),fullWidth:!0,textArea:!0},r.a.createElement(qf,Object.assign({source:a("".concat(s[t].id,".advantage")),formData:c,validate:Object(rs.j)(),isRequired:!0,label:l("resources.project_options.fields.building_blocks.advantage")},e))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.building_blocks.disadvantage.".concat(s[t].id),textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({source:a("".concat(s[t].id,".disadvantage")),formData:c,validate:Object(rs.j)(),isRequired:!0,label:l("resources.project_options.fields.building_blocks.disadvantage")},e))),r.a.createElement(os.a,{style:{margin:10},validate:Object(rs.j)(),variant:"outlined",margin:"none",className:"boolean-selector",label:l("resources.project_options.fields.building_blocks.score"),source:a("".concat(s[t].id,".score")),choices:[{id:0,name:"0"},{id:1,name:"1"},{id:2,name:"2"},{id:3,name:"3"},{id:4,name:"4"},{id:5,name:"5"}]})))}return e.record,e.getSource,r.a.createElement("div",{className:"options-modules"},r.a.createElement("h5",{style:{paddingLeft:"15px",lineHeight:"45px"}},l("resources.project_options.fields.building_blocks.title")),r.a.createElement(Us.a,{value:o,onChange:function(e,t){i(t)},indicatorColor:"primary",textColor:"primary",variant:null},s.map((function(e){return r.a.createElement(Vs.a,{label:e.name})}))),0===o&&r.a.createElement(Dk,null,u(o)),1===o&&r.a.createElement(Dk,null,u(o)),2===o&&r.a.createElement(Dk,null,u(o)),3===o&&r.a.createElement(Dk,null,u(o)),4===o&&r.a.createElement(Dk,null,u(o)))},Fk=["getSource","scopedFormData","formData"];var Rk=function(e){Object(pe.a)();var t=e.record;return r.a.createElement(Ss.a,{source:"project_options",label:null,className:"iterator"},r.a.createElement(Ps.a,{disableAdd:0!==e.activeStep||Y("project_options_disable_change",Number(t.phase_id))||e.disabled,disableRemove:e.activeStep>1||Y("project_options_disable_change",Number(t.phase_id))||e.disabled},r.a.createElement(js.a,null,(function(t){var a=t.getSource,o=t.scopedFormData,i=t.formData;Object(T.a)(t,Fk);return r.a.createElement(n.Fragment,null,r.a.createElement(se.a,{variant:"h3"},r.a.createElement("b",{style:{marginLeft:10,lineHeight:"40px"}},o&&o.name)),r.a.createElement("br",null),r.a.createElement(Tk,Object.assign({getSource:a,record:e.record,formData:i,scopedFormData:o},e)))}))))},Ik=["getSource","scopedFormData","formData"];var Mk=function(e){var t=e.getSource,a=Object(pe.a)();return r.a.createElement(Ss.a,{source:t("".concat(e.module,".criteria")),label:a("resources.project_options.fields.analytical_modules.criterias.title")},r.a.createElement(Ps.a,{disableAdd:e.disabled,disableRemove:e.disabled},r.a.createElement(js.a,null,(function(t){var n=t.getSource;t.scopedFormData,t.formData,Object(T.a)(t,Ik);return r.a.createElement("div",null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.criterias.criteria_title",fullWidth:!0},r.a.createElement(ns.a,{variant:"outlined",margin:"none",options:{fullWidth:"true",disabled:e.disabled},source:n("title"),label:a("resources.project_options.fields.analytical_modules.criterias.criteria_title")})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.criterias.criteria_value",fullWidth:!0},r.a.createElement(ns.a,{variant:"outlined",margin:"none",options:{fullWidth:"true",disabled:e.disabled},source:n("criteria_value"),label:a("resources.project_options.fields.analytical_modules.criterias.criteria_value")})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.criterias.measure_unit",fullWidth:!0},r.a.createElement(ns.a,{variant:"outlined",margin:"none",options:{fullWidth:"true",disabled:e.disabled},source:n("measure_unit"),label:a("resources.project_options.fields.analytical_modules.criterias.measure_unit")})))}))))};var Wk=function(e){var t=Object(pe.a)(),a=e.getSource,o=e.scopedFormData,i=e.formData;return o&&o.financial_evaluation&&o.financial_evaluation.appraisal_methodology&&"CEA"===o.financial_evaluation.appraisal_methodology&&(o.financial_evaluation.fnpv="0",o.financial_evaluation.irr="0"),o&&o.financial_evaluation&&o.financial_evaluation.appraisal_methodology&&"CBA"===o.financial_evaluation.appraisal_methodology&&(o.financial_evaluation.criterias=[]),r.a.createElement(n.Fragment,null,r.a.createElement("div",null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.financial_evaluation.appraisal_methodology",fullWidth:!0},r.a.createElement(os.a,{validate:Object(rs.j)(),variant:"outlined",margin:"none",options:{fullWidth:"true",disabled:e.disabled},className:"boolean-selector",disabled:e.disabled,label:t("resources.project_options.fields.analytical_modules.appraisal_methodology.title"),source:a("financial_evaluation.appraisal_methodology"),choices:[{id:"CBA",name:t("resources.project_options.fields.analytical_modules.appraisal_methodology.cba")},{id:"CEA",name:t("resources.project_options.fields.analytical_modules.appraisal_methodology.cea")}]})),o&&o.financial_evaluation&&o.financial_evaluation.appraisal_methodology&&"CBA"===o.financial_evaluation.appraisal_methodology?r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.financial_evaluation.fnpv",fullWidth:!0},r.a.createElement(ns.a,{variant:"outlined",margin:"none",source:a("financial_evaluation.fnpv"),label:t("resources.project_options.fields.analytical_modules.financial_evaluation.fnpv"),validate:[Object(rs.h)(),Object(rs.j)()],format:_r,parse:gr,options:{fullWidth:"true",disabled:e.disabled},disabled:e.disabled})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.financial_evaluation.irr",fullWidth:!0},r.a.createElement(ns.a,{variant:"outlined",margin:"none",source:a("financial_evaluation.irr"),label:t("resources.project_options.fields.analytical_modules.financial_evaluation.irr"),validate:[Object(rs.h)(),Object(rs.g)(-100),Object(rs.e)(100),Object(rs.j)()],options:{fullWidth:"true",disabled:e.disabled},disabled:e.disabled}))):null,o&&o.financial_evaluation&&o.financial_evaluation.appraisal_methodology&&"CEA"===o.financial_evaluation.appraisal_methodology?r.a.createElement(Mk,Object.assign({},e,{module:"financial_evaluation"})):null),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.financial_evaluation.summary",textArea:!0},r.a.createElement(qf,Object.assign({},e,{source:a("financial_evaluation.summary"),formData:i,disabled:e.disabled,validate:Object(rs.j)(),label:t("resources.project_options.fields.analytical_modules.financial_evaluation.summary"),isRequired:!0}))))};var Lk=function(e){var t=Object(pe.a)(),a=e.getSource,o=e.scopedFormData,i=e.formData;return o&&o.economic_evaluation&&o.economic_evaluation.appraisal_methodology&&"CEA"===o.economic_evaluation.appraisal_methodology&&(o.economic_evaluation.enpv="0",o.economic_evaluation.err="0"),o&&o.economic_evaluation&&o.economic_evaluation.appraisal_methodology&&"CBA"===o.economic_evaluation.appraisal_methodology&&(o.economic_evaluation.criterias=[]),r.a.createElement(n.Fragment,null,r.a.createElement("div",null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.economic_evaluation.appraisal_methodology",fullWidth:!0},r.a.createElement(os.a,{validate:Object(rs.j)(),variant:"outlined",margin:"none",options:{fullWidth:"true",disabled:e.disabled},className:"boolean-selector",label:t("resources.project_options.fields.analytical_modules.appraisal_methodology.title"),source:a("economic_evaluation.appraisal_methodology"),choices:[{id:"CBA",name:t("resources.project_options.fields.analytical_modules.appraisal_methodology.cba")},{id:"CEA",name:t("resources.project_options.fields.analytical_modules.appraisal_methodology.cea")}]})),o&&o.economic_evaluation&&o.economic_evaluation.appraisal_methodology&&"CBA"===o.economic_evaluation.appraisal_methodology?r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.economic_evaluation.enpv",fullWidth:!0},r.a.createElement(ns.a,{variant:"outlined",margin:"none",source:a("economic_evaluation.enpv"),label:t("resources.project_options.fields.analytical_modules.economic_evaluation.enpv"),validate:[Object(rs.h)(),Object(rs.j)()],format:_r,parse:gr,options:{fullWidth:"true",disabled:e.disabled},disabled:e.disabled})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.economic_evaluation.err",fullWidth:!0},r.a.createElement(ns.a,{variant:"outlined",margin:"none",source:a("economic_evaluation.err"),label:t("resources.project_options.fields.analytical_modules.economic_evaluation.err"),options:{fullWidth:"true",disabled:e.disabled},validate:[Object(rs.h)(),Object(rs.g)(-100),Object(rs.e)(100),Object(rs.j)()],disabled:e.disabled}))):null,o&&o.economic_evaluation&&o.economic_evaluation.appraisal_methodology&&"CEA"===o.economic_evaluation.appraisal_methodology?r.a.createElement(Mk,Object.assign({},e,{module:"economic_evaluation"})):null),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.economic_evaluation.summary",textArea:!0},r.a.createElement(qf,Object.assign({},e,{source:a("economic_evaluation.summary"),formData:i,validate:Object(rs.j)(),isRequired:!0,label:t("resources.project_options.fields.analytical_modules.economic_evaluation.summary")}))))},Yk=["getSource","scopedFormData","formData"];var Bk=function(e){var t=Object(pe.a)();return r.a.createElement(n.Fragment,null,r.a.createElement(Ss.a,{source:e.getSource("stakeholder_evaluations"),label:!1},r.a.createElement(Ps.a,{disableAdd:e.disabled,disableRemove:e.disabled},r.a.createElement(js.a,null,(function(a){var n,o=a.getSource,i=(a.scopedFormData,a.formData);Object(T.a)(a,Yk);return r.a.createElement("div",null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.stakeholder_evaluations.name",fullWidth:!0},r.a.createElement(ns.a,{variant:"outlined",validate:Object(rs.j)(),margin:"none",options:{fullWidth:"true",disabled:e.disabled},source:o("name"),label:t("resources.project_options.fields.analytical_modules.stakeholder_evaluations.name")})),r.a.createElement("div",null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.stakeholder_evaluations.impact_sign.title",fullWidth:!0},r.a.createElement(os.a,{validate:Object(rs.j)(),options:{fullWidth:"true",disabled:e.disabled},className:"boolean-selector",label:t("resources.project_options.fields.analytical_modules.stakeholder_evaluations.impact_sign.title"),variant:"outlined",margin:"none",source:o("impact_sign"),choices:[{id:"POSITIVE",name:t("resources.project_options.fields.analytical_modules.stakeholder_evaluations.impact_sign.positive")},{id:"NEGATIVE",name:t("resources.project_options.fields.analytical_modules.stakeholder_evaluations.impact_sign.negative")}]})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.stakeholder_evaluations.beneficiary.title",fullWidth:!0},r.a.createElement(os.a,(n={validate:Object(rs.j)(),variant:"outlined",margin:"none",options:{fullWidth:"true",disabled:e.disabled},className:"boolean-selector",label:t("resources.project_options.fields.analytical_modules.stakeholder_evaluations.beneficiary.title")},Object(N.a)(n,"label","Relation"),Object(N.a)(n,"source",o("beneficiary")),Object(N.a)(n,"choices",[{id:"DIRECT",name:t("resources.project_options.fields.analytical_modules.stakeholder_evaluations.beneficiary.direct")},{id:"INDIRECT",name:t("resources.project_options.fields.analytical_modules.stakeholder_evaluations.beneficiary.indirect")}]),n)))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.stakeholder_evaluations.description",fullWidth:!0},r.a.createElement(qf,Object.assign({},e,{source:o("description"),formData:i,validate:Object(rs.j)(),isRequired:!0,label:t("resources.project_options.fields.analytical_modules.stakeholder_evaluations.description")}))))})))))},zk=["getSource","scopedFormData","formData"];var qk=function(e){var t=Object(pe.a)();return r.a.createElement(n.Fragment,null,r.a.createElement(Ss.a,{source:e.getSource("risk_evaluations"),label:!1},r.a.createElement(Ps.a,{disableAdd:e.disabled,disableRemove:e.disabled},r.a.createElement(js.a,null,(function(a){var n=a.getSource;a.scopedFormData,a.formData,Object(T.a)(a,zk);return r.a.createElement("div",null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.risk_evaluations.description",fullWidth:!0},r.a.createElement(ns.a,{variant:"outlined",margin:"none",options:{fullWidth:"true",disabled:e.disabled},source:n("description"),label:t("resources.project_options.fields.analytical_modules.risk_evaluations.description")})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.risk_evaluations.occurrence",fullWidth:!0},r.a.createElement(os.a,{variant:"outlined",margin:"none",options:{fullWidth:"true",disabled:e.disabled},className:"boolean-selector",label:t("resources.project_options.fields.analytical_modules.risk_evaluations.occurrence"),source:n("occurrence"),choices:[{id:"LOW",name:t("resources.project_options.fields.analytical_modules.risk_evaluations.levels.low")},{id:"MEDIUM",name:t("resources.project_options.fields.analytical_modules.risk_evaluations.levels.medium")},{id:"HIGH",name:t("resources.project_options.fields.analytical_modules.risk_evaluations.levels.high")},{id:"VERY_HIGH",name:t("resources.project_options.fields.analytical_modules.risk_evaluations.levels.very_high")}]})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.risk_evaluations.impact",fullWidth:!0},r.a.createElement(os.a,{variant:"outlined",margin:"none",options:{fullWidth:"true",disabled:e.disabled},className:"boolean-selector",label:t("resources.project_options.fields.analytical_modules.risk_evaluations.impact"),source:n("impact"),choices:[{id:"LOW",name:t("resources.project_options.fields.analytical_modules.risk_evaluations.levels.low")},{id:"MEDIUM",name:t("resources.project_options.fields.analytical_modules.risk_evaluations.levels.medium")},{id:"HIGH",name:t("resources.project_options.fields.analytical_modules.risk_evaluations.levels.high")},{id:"VERY_HIGH",name:t("resources.project_options.fields.analytical_modules.risk_evaluations.levels.very_high")}]})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.risk_evaluations.mitigation_plan",fullWidth:!0},r.a.createElement(ns.a,{variant:"outlined",margin:"none",options:{fullWidth:"true",disabled:e.disabled},source:n("mitigation_plan"),label:t("resources.project_options.fields.analytical_modules.risk_evaluations.mitigation_plan")})))})))))};Object(rs.h)();function Uk(e){var t=e.children;return r.a.createElement(se.a,{component:"div",style:{padding:24}},t)}var Vk=function(e){var t=Object(n.useState)(0),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(pe.a)(),c=[{name:l("resources.project_options.fields.analytical_modules.modules.financial"),id:"financial"},{name:l("resources.project_options.fields.analytical_modules.modules.economic"),id:"economic"},{name:l("resources.project_options.fields.analytical_modules.modules.distributional"),id:"distributional"},{name:l("resources.project_options.fields.analytical_modules.modules.risk"),id:"risk"}];function s(e,t){i(t)}function u(t,a){switch(t){case 0:return r.a.createElement(Wk,Object.assign({},a,{disabled:e.disabled}));case 1:return r.a.createElement(Lk,Object.assign({},a,{disabled:e.disabled}));case 2:return r.a.createElement(Bk,Object.assign({},a,{disabled:e.disabled}));case 3:return r.a.createElement(qk,Object.assign({},a,{disabled:e.disabled}));default:return null}}return r.a.createElement(Ss.a,{source:"project_options",label:null,className:"iterator"},r.a.createElement(Ps.a,{disableAdd:0!==e.activeStep||Y("project_options_disable_change",Number(e.record.phase_id))||e.disabled,disableRemove:e.activeStep>1||Y("project_options_disable_change",Number(e.record.phase_id))||e.disabled},r.a.createElement(js.a,null,(function(e){return e.scopedFormData&&e.scopedFormData.is_shortlisted||e.scopedFormData.is_preferred?r.a.createElement(n.Fragment,null,r.a.createElement(se.a,{variant:"h3"},r.a.createElement("b",null,e.scopedFormData&&e.scopedFormData.name)),r.a.createElement("br",null),r.a.createElement("h5",null,l("resources.project_options.fields.analytical_modules.title")),r.a.createElement(Us.a,{value:o,onChange:s,indicatorColor:"primary",textColor:"primary",variant:null},c.map((function(e){return r.a.createElement(Vs.a,{label:e.name})}))),0===o&&r.a.createElement(Uk,null,u(o,e)),1===o&&r.a.createElement(Uk,null,u(o,e)),2===o&&r.a.createElement(Uk,null,u(o,e)),3===o&&r.a.createElement(Uk,null,u(o,e))):null}))))},Gk=["getSource","scopedFormData","formData"];var Hk=function(e){var t=Object(pe.a)(),a=e.record;return r.a.createElement(Ss.a,{source:"project_options",label:null,className:"iterator"},r.a.createElement(Ps.a,{disableAdd:Y("project_options_disable_change",Number(a.phase_id)||e.disabled),disableRemove:Y("project_options_disable_change",Number(a.phase_id)||e.disabled)},r.a.createElement(js.a,null,(function(o){var i=o.getSource,l=(o.scopedFormData,o.formData);Object(T.a)(o,Gk);return Y("project_options_disable_change",Number(a.phase_id))&&0===l.project_options.length&&(l.project_options[0]={}),r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.title",fullWidth:!0},r.a.createElement(ns.a,{source:i("name"),label:t("resources.project_options.fields.title"),variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.description",fullWidth:!0},r.a.createElement(qf,Object.assign({source:i("description"),formData:l,validate:Object(rs.j)(),isRequired:!0,label:t("resources.project_options.fields.description")},e))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.cost",fullWidth:!0},r.a.createElement(ns.a,{source:i("cost"),label:t("resources.project_options.fields.cost"),validate:[Object(rs.h)()],format:_r,parse:gr,variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.funding_modality.title",fullWidth:!0},r.a.createElement(os.a,{variant:"outlined",margin:"none",options:{fullWidth:"true"},label:t("resources.project_options.fields.funding_modality.title".concat(Y("project_options_change_modality_title",e.record.phase_id)?"_pfs":"")),source:i("funding_modality"),choices:[{id:"PROCUREMENT",name:t("resources.project_options.fields.funding_modality.procurement")},{id:"PARTNERSHIP",name:t("resources.project_options.fields.funding_modality.partnership")}]})),r.a.createElement(cs,{tooltipText:t("tooltips.resources.options_appraisals.fields.is_shortlisted"),bool:!0},r.a.createElement(I_.a,{source:i("is_shortlisted"),label:t("resources.options_appraisals.fields.is_shortlisted")})))}))))};var Jk=function(e){var t=Object(n.useState)(null),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(pe.a)(),c=Object(_s.f)().values;function s(e){return e?x.a.findIndex(c.project_options,(function(t){return Number(t.id)===Number(e)})):null}return Object(n.useEffect)((function(){if(c&&c.project_options){var e=x.a.find(c.project_options,(function(e){return e.is_preferred}));e&&i(e.id)}}),[]),r.a.createElement(n.Fragment,null,r.a.createElement("div",{style:{marginBottom:25}},r.a.createElement(se.a,{variant:"h4"},l("resources.project_options.fields.summary.title")),r.a.createElement(oi.a,{size:"small"},r.a.createElement(ii.a,null,r.a.createElement(li.a,{className:"filled-row"},r.a.createElement(ci.a,null),r.a.createElement(ci.a,{colSpan:"3"},l("resources.project_options.fields.analytical_modules.financial_evaluation.summary")),r.a.createElement(ci.a,{colSpan:"3"},l("resources.project_options.fields.analytical_modules.economic_evaluation.summary"))),r.a.createElement(li.a,{className:"filled-row"},r.a.createElement(ci.a,null,l("resources.project_options.fields.title")),r.a.createElement(ci.a,null,l("resources.project_options.fields.analytical_modules.financial_evaluation.fnpv")),r.a.createElement(ci.a,null,l("resources.project_options.fields.analytical_modules.financial_evaluation.irr")),r.a.createElement(ci.a,null,"CEA"),r.a.createElement(ci.a,null,l("resources.project_options.fields.analytical_modules.economic_evaluation.enpv")),r.a.createElement(ci.a,null,l("resources.project_options.fields.analytical_modules.economic_evaluation.err")),r.a.createElement(ci.a,null,"CEA"))),r.a.createElement(si.a,null,c&&c.project_options&&c.project_options.filter((function(e){return e.is_shortlisted})).map((function(e,t){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e.name),r.a.createElement(ci.a,null,e.financial_evaluation&&vr(e.financial_evaluation.fnpv)),r.a.createElement(ci.a,null,e.financial_evaluation&&e.financial_evaluation.irr||"-"),r.a.createElement(ci.a,{style:{textTransform:"uppercase"}},e.financial_evaluation&&e.financial_evaluation.appraisal_methodology),r.a.createElement(ci.a,null,e.economic_evaluation&&vr(e.economic_evaluation.enpv)),r.a.createElement(ci.a,null,e.economic_evaluation&&e.economic_evaluation.err||"-"),r.a.createElement(ci.a,{style:{textTransform:"uppercase"}},e.economic_evaluation&&e.economic_evaluation.appraisal_methodology))}))))),r.a.createElement(xa.a,{fullWidth:!0,variant:"outlined",value:o,onChange:function(e){i(e.target.value),c.project_options.forEach((function(e){e.is_preferred=!1})),c.project_options[s(e.target.value)].is_preferred=!0}},e.onGetTopScoredOptions()&&e.onGetTopScoredOptions().map((function(e){return r.a.createElement(sa.a,{key:e.id,value:e.id},e.name)}))),o&&s()>-1?r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.justification",textArea:!0},r.a.createElement(qf,Object.assign({source:"project_options[".concat(s(o),"].justification"),formData:c,validate:Object(rs.j)(),isRequired:!0,label:l("resources.project_options.fields.justification")},e))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.modality_justification",textArea:!0},r.a.createElement(qf,Object.assign({source:"project_options[".concat(s(o),"].modality_justification"),formData:c,validate:Object(rs.j)(),isRequired:!0,label:l("resources.project_options.fields.modality_justification")},e)))):null)},Xk=["getSource","scopedFormData","formData"];var $k=Object(ee.c)((function(e){return{isSaving:e.admin.saving}}),null)((function(e){var t=Object(n.useState)([]),a=Object(Z.a)(t,2),o=(a[0],a[1],Object(n.useState)(0)),i=Object(Z.a)(o,2),l=i[0],c=(i[1],Object(n.useState)(0)),s=Object(Z.a)(c,2),u=s[0],d=(s[1],Object(pe.a)()),m=Object(Na.a)(),p=Object(_s.f)().values;function f(e){if(!p)return null;if(!p.project_options||p.project_options&&0===p.project_options.length)return null;var t=p.project_options&&p.project_options.map((function(e,t){return e?{id:e.id,idx:t,name:e.name,score:(e.demand_module?e.demand_module.score:0)+(e.technical_module?e.technical_module.score:0)+(e.environmental_module?e.environmental_module.score:0)+(e.hr_module?e.hr_module.score:0)+(e.legal_module?e.legal_module.score:0)}:null})),a=x.a.sortBy(t,"score").reverse().slice(0,t.length>3?3:t.length);return p.project_options.forEach((function(e,t){e&&(e.is_preferred&&(p.is_preferred=t),e.is_shortlisted=0,e.is_preferred=0)})),x.a.isEmpty(a)||a.forEach((function(t,a){if(t&&(p.project_options[t.idx].is_shortlisted=a<3&&t.score>0?1:0,p.project_options[t.idx].score=isNaN(t.score)?0:t.score,"undefined"!==typeof e||p&&"undefined"!==typeof p.is_preferred)){var n=e||p&&p.is_preferred;p.project_options[n]&&(p.project_options[n].is_preferred=1)}})),a.filter((function(e){return!!e&&e.score>0}))}Object(n.useEffect)((function(e){if(e){var t=e.record;if(!t)return null;var a=x.a.findIndex(t.project_options,(function(e){return e.is_preferred}));t&&"undefined"!==typeof a&&(t.is_preferred=a)}}),[e.record]),Object(n.useMemo)((function(e){f(p.is_preferred)}),[p]);var _=function(t){return function(){var a,n,r,o;e.record;t>=0&&0!==(a=mr(p,d)).length?m("".concat(d("validation.empty_fields"),": ").concat(a.join(", ")),"warning"):t>1&&(p.project_options.filter((function(e){return e.is_shortlisted})),0!==(r=ur(p,d)).length)?m("".concat(d("validation.empty_fields"),": ").concat(r.join(", ")),"warning"):t>2&&(p.project_options.filter((function(e){return e.is_shortlisted})),0!==(o=dr(p,d)).length)?m("".concat(d("validation.empty_fields"),": ").concat(o.join(", ")),"warning"):(3===t&&(n=fr(p))&&x.a.keys(n).forEach((function(e){if(n[e].length>1){var t=n[e].map((function(e){return e.name})).join(", ");m("".concat(t," has the same score"),"warning")}})),e.setOptionStep(t),e.save(p,!1))}};return Y("project_options_has_single_form",e.record.phase_id)?r.a.createElement(Ss.a,{source:"project_options",label:null,className:"iterator"},r.a.createElement(Ps.a,{disableAdd:!0,disableRemove:!0},r.a.createElement(js.a,null,(function(t){var a=t.getSource,o=t.scopedFormData,i=t.formData;return Object(T.a)(t,Xk),r.a.createElement(n.Fragment,null,r.a.createElement("h5",null,r.a.createElement("b",null,o&&o.title)),r.a.createElement(Rk,Object.assign({getSource:a,record:e.record,formData:i,scopedFormData:o,disabled:Y("project_options_disable_input",Number(i.phase_id))},e,{activeStep:l})),r.a.createElement(Vk,Object.assign({getSource:a,record:e.record,formData:i,scopedFormData:o},e,{activeStep:l,disabled:Y("project_options_disable_input",Number(i.phase_id))})))})))):function(){var t=[d("resources.project_options.fields.stepper.description"),d("resources.project_options.fields.stepper.building_blocks"),d("resources.project_options.fields.stepper.analytical_modules"),d("resources.project_options.fields.stepper.best_option")];return r.a.createElement("div",{style:{position:"relative",minHeight:"275px"}},r.a.createElement("h4",null,d("resources.project_options.name")),r.a.createElement(ui.a,{container:!0},r.a.createElement(ui.a,{item:!0,xs:3},r.a.createElement(Ux.a,{orientation:"vertical",activeStep:e.optionsStep,style:{position:"fixed"}},t.map((function(e,t){var a={},n={};return a.isSaving&&u===t&&(n.icon=r.a.createElement(Yr.a,{size:25,thickness:2})),r.a.createElement(zx.a,Object.assign({key:e},a,{onClick:_(t)}),r.a.createElement(qx.a,n,e))})))),r.a.createElement(ui.a,{item:!0,xs:8},function(t){switch(t){case 0:return r.a.createElement(Hk,Object.assign({},e,{activeStep:t}));case 1:return r.a.createElement(Rk,Object.assign({},e,{activeStep:t}));case 2:return r.a.createElement(Vk,Object.assign({},e,{activeStep:t}));case 3:return r.a.createElement(Jk,Object.assign({},e,{activeStep:t,onGetTopScoredOptions:f}));default:return null}}(e.optionsStep))))}()})),Kk=["getSource","scopedFormData","formData"];var Qk=function(e){var t=e.getSource,a=(e.record,Object(pe.a)()),o=B({name:t("".concat(e.module,".criteria"))}),i=Object(_s.f)().values;return Object(n.useMemo)((function(){Y("has_default_array_input_value")&&i&&(x.a.get(i,t("".concat(e.module,".criteria")))?0===x.a.get(i,t("".concat(e.module,".criteria"))).length&&o([{}]):o([{}]))}),[e.record]),r.a.createElement(Ss.a,{source:t("".concat(e.module,".criteria")),label:!1},r.a.createElement(Ps.a,{disableAdd:e.disabled,disableRemove:e.disabled},r.a.createElement(js.a,null,(function(t){var n=t.getSource;t.scopedFormData,t.formData,Object(T.a)(t,Kk);return r.a.createElement("div",null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.criterias.criteria_title",fullWidth:!0},r.a.createElement(ns.a,{variant:"outlined",validate:dO("project_options.criteria","title"),margin:"none",options:{fullWidth:"true",disabled:e.disabled},source:n("title"),label:a("resources.project_options.fields.analytical_modules.criterias.criteria_title")})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.criterias.criteria_value",fullWidth:!0},r.a.createElement(ns.a,{variant:"outlined",validate:dO("project_options.criteria","criteria_value"),margin:"none",options:{fullWidth:"true",disabled:e.disabled},source:n("criteria_value"),label:a("resources.project_options.fields.analytical_modules.criterias.criteria_value")})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.criterias.measure_unit",fullWidth:!0},r.a.createElement(ns.a,{validate:dO("project_options.criteria","measure_unit"),variant:"outlined",margin:"none",options:{fullWidth:"true",disabled:e.disabled},source:n("measure_unit"),label:a("resources.project_options.fields.analytical_modules.criterias.measure_unit")})))}))))};var Zk=function(e){var t=Object(pe.a)(),a=e.getSource,o=e.scopedFormData,i=e.formData;return o&&o.financial_evaluation&&o.financial_evaluation.appraisal_methodology&&"CEA"===o.financial_evaluation.appraisal_methodology&&(o.financial_evaluation.fnpv="0",o.financial_evaluation.irr="0"),o&&o.financial_evaluation&&o.financial_evaluation.appraisal_methodology&&"CBA"===o.financial_evaluation.appraisal_methodology&&(o.financial_evaluation.criterias=[]),r.a.createElement(n.Fragment,null,r.a.createElement("div",null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.financial_evaluation.appraisal_methodology",fullWidth:!0},r.a.createElement(os.a,{validate:dO("financial_evaluation","appraisal_methodology"),variant:"outlined",margin:"none",options:{fullWidth:"true",disabled:e.disabled},className:"boolean-selector",label:t("resources.project_options.fields.analytical_modules.appraisal_methodology.title"),source:a("financial_evaluation.appraisal_methodology"),choices:[{id:"CBA",name:t("resources.project_options.fields.analytical_modules.appraisal_methodology.cba")},{id:"CEA",name:t("resources.project_options.fields.analytical_modules.appraisal_methodology.cea")}]})),o&&o.financial_evaluation&&o.financial_evaluation.appraisal_methodology&&"CBA"===o.financial_evaluation.appraisal_methodology?r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.financial_evaluation.fnpv",fullWidth:!0},r.a.createElement(ns.a,{variant:"outlined",margin:"none",source:a("financial_evaluation.fnpv"),label:t("resources.project_options.fields.analytical_modules.financial_evaluation.fnpv"),validate:[dO("financial_evaluation","fnpv"),Object(rs.h)()],format:_r,parse:gr,options:{fullWidth:"true",disabled:e.disabled}})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.financial_evaluation.irr",fullWidth:!0},r.a.createElement(ns.a,{variant:"outlined",margin:"none",source:a("financial_evaluation.irr"),label:t("resources.project_options.fields.analytical_modules.financial_evaluation.irr"),validate:[Object(rs.h)(),Object(rs.g)(-100),Object(rs.e)(100),dO("financial_evaluation","irr")],options:{fullWidth:"true",disabled:e.disabled}}))):null,o&&o.financial_evaluation&&o.financial_evaluation.appraisal_methodology&&"CEA"===o.financial_evaluation.appraisal_methodology?r.a.createElement(Qk,Object.assign({},e,{module:"financial_evaluation",record:i})):null),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.financial_evaluation.summary",textArea:!0},r.a.createElement(qf,Object.assign({},e,{source:a("financial_evaluation.summary"),formData:i,isRequired:!0,validate:dO("financial_evaluation","summary"),label:t("resources.project_options.fields.analytical_modules.financial_evaluation.summary")}))))};var eS=function(e){var t=Object(pe.a)(),a=e.getSource,o=e.scopedFormData,i=e.formData;return o&&o.economic_evaluation&&o.economic_evaluation.appraisal_methodology&&"CEA"===o.economic_evaluation.appraisal_methodology&&(o.economic_evaluation.enpv="0",o.economic_evaluation.err="0"),o&&o.economic_evaluation&&o.economic_evaluation.appraisal_methodology&&"CBA"===o.economic_evaluation.appraisal_methodology&&(o.economic_evaluation.criterias=[]),r.a.createElement(n.Fragment,null,r.a.createElement("div",null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.economic_evaluation.appraisal_methodology",fullWidth:!0},r.a.createElement(os.a,{validate:dO("economic_evaluation","appraisal_methodology"),variant:"outlined",margin:"none",options:{fullWidth:"true",disabled:e.disabled},className:"boolean-selector",label:t("resources.project_options.fields.analytical_modules.appraisal_methodology.title"),source:a("economic_evaluation.appraisal_methodology"),choices:[{id:"CBA",name:t("resources.project_options.fields.analytical_modules.appraisal_methodology.cba")},{id:"CEA",name:t("resources.project_options.fields.analytical_modules.appraisal_methodology.cea")}]})),o&&o.economic_evaluation&&o.economic_evaluation.appraisal_methodology&&"CBA"===o.economic_evaluation.appraisal_methodology?r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.economic_evaluation.enpv",fullWidth:!0},r.a.createElement(ns.a,{variant:"outlined",margin:"none",source:a("economic_evaluation.enpv"),label:t("resources.project_options.fields.analytical_modules.economic_evaluation.enpv"),validate:[dO("economic_evaluation","enpv"),Object(rs.h)()],format:_r,parse:gr,options:{fullWidth:"true",disabled:e.disabled}})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.economic_evaluation.err",fullWidth:!0},r.a.createElement(ns.a,{variant:"outlined",margin:"none",source:a("economic_evaluation.err"),label:t("resources.project_options.fields.analytical_modules.economic_evaluation.err"),options:{fullWidth:"true",disabled:e.disabled},validate:[Object(rs.h)(),Object(rs.g)(-100),Object(rs.e)(100),dO("economic_evaluation","err")]}))):null,o&&o.economic_evaluation&&o.economic_evaluation.appraisal_methodology&&"CEA"===o.economic_evaluation.appraisal_methodology?r.a.createElement(Qk,Object.assign({},e,{module:"economic_evaluation",record:i})):null),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.economic_evaluation.summary",textArea:!0},r.a.createElement(qf,Object.assign({},e,{source:a("economic_evaluation.summary"),formData:i,isRequired:!0,validate:dO("economic_evaluation","summary"),label:t("resources.project_options.fields.analytical_modules.economic_evaluation.summary")}))))},tS=["getSource","scopedFormData","formData"];var aS=function(e){var t=Object(pe.a)(),a=B({name:e.getSource("stakeholder_evaluations")}),o=Object(_s.f)().values;return Object(n.useMemo)((function(){Y("has_default_array_input_value")&&o&&(x.a.get(o,e.getSource("stakeholder_evaluations"))?0===x.a.get(o,e.getSource("stakeholder_evaluations")).length&&a([{}]):a([{}]))}),[e.formData]),r.a.createElement(n.Fragment,null,r.a.createElement(Ss.a,{source:e.getSource("stakeholder_evaluations"),label:!1},r.a.createElement(Ps.a,{disableAdd:e.disabled,disableRemove:e.disabled},r.a.createElement(js.a,null,(function(a){var n,o=a.getSource,i=(a.scopedFormData,a.formData);Object(T.a)(a,tS);return r.a.createElement("div",null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.stakeholder_evaluations.name",fullWidth:!0},r.a.createElement(ns.a,{validate:dO("stakeholder_evaluations","name"),variant:"outlined",margin:"none",options:{fullWidth:"true",disabled:e.disabled},source:o("name"),label:t("resources.project_options.fields.analytical_modules.stakeholder_evaluations.name")})),r.a.createElement("div",null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.stakeholder_evaluations.impact_sign.title",fullWidth:!0},r.a.createElement(os.a,{validate:dO("stakeholder_evaluations","impact_sign"),options:{fullWidth:"true",disabled:e.disabled},className:"boolean-selector",label:t("resources.project_options.fields.analytical_modules.stakeholder_evaluations.impact_sign.title"),variant:"outlined",margin:"none",source:o("impact_sign"),choices:[{id:"POSITIVE",name:t("resources.project_options.fields.analytical_modules.stakeholder_evaluations.impact_sign.positive")},{id:"NEGATIVE",name:t("resources.project_options.fields.analytical_modules.stakeholder_evaluations.impact_sign.negative")}]})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.stakeholder_evaluations.beneficiary.title",fullWidth:!0},r.a.createElement(os.a,(n={variant:"outlined",validate:dO("stakeholder_evaluations","beneficiary"),margin:"none",options:{fullWidth:"true",disabled:e.disabled},className:"boolean-selector",label:t("resources.project_options.fields.analytical_modules.stakeholder_evaluations.beneficiary.title")},Object(N.a)(n,"label","Relation"),Object(N.a)(n,"source",o("beneficiary")),Object(N.a)(n,"choices",[{id:"DIRECT",name:t("resources.project_options.fields.analytical_modules.stakeholder_evaluations.beneficiary.direct")},{id:"INDIRECT",name:t("resources.project_options.fields.analytical_modules.stakeholder_evaluations.beneficiary.indirect")}]),n)))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.stakeholder_evaluations.description",fullWidth:!0},r.a.createElement(qf,Object.assign({},e,{formData:i,source:o("description"),validate:dO("stakeholder_evaluations","description"),label:t("resources.project_options.fields.analytical_modules.stakeholder_evaluations.description"),isRequired:!0}))))})))))};var nS=a(2113),rS=a(2077),oS=a(32),iS=a.n(oS),lS=a(1090),cS=a(576),sS=a.n(cS),uS=a(1873),dS=(a(706),a(2086)),mS=["classes","input"],pS=function(e){var t=e.classes,a=e.input,n=Object(T.a)(e,mS);return a?r.a.createElement("div",{className:Ie()("ra-input","ra-input-".concat(a.props.source),a.props.formClassName)},(a.props.addLabel,r.a.cloneElement(a,Object(u.a)({className:Ie()(Object(N.a)({},t.input,!a.props.fullWidth),a.props.className),id:a.props.id||a.props.source},n)))):null};pS.displayName="FormInput";var fS=Object(wn.a)((function(e){return Object(dS.a)({input:{width:32*e.spacing.unit}})}))(pS),_S=["source"],gS=Object(ae.a)((function(e){var t;return{root:{padding:0,marginBottom:0,"& > li:last-child":{borderBottom:"none"}},line:(t={display:"flex",listStyleType:"none",borderBottom:"solid 1px ".concat(e.palette.divider)},Object(N.a)(t,e.breakpoints.down("xs"),{display:"block"}),Object(N.a)(t,"&.fade-enter",{opacity:.01,transform:"translateX(100vw)"}),Object(N.a)(t,"&.fade-enter-active",{opacity:1,transform:"translateX(0)",transition:"all 500ms ease-in"}),Object(N.a)(t,"&.fade-exit",{opacity:1,transform:"translateX(0)"}),Object(N.a)(t,"&.fade-exit-active",{opacity:.01,transform:"translateX(100vw)",transition:"all 500ms ease-in"}),t),index:Object(N.a)({width:"5em",paddingTop:"1em"},e.breakpoints.down("sm"),{display:"none"}),form:{flex:2},action:{paddingTop:"0.5em"},leftIcon:{marginRight:e.spacing(1)}}}),{name:"RaSimpleFormIterator"}),hS=function(e){var t=gS(e),a=Object(pe.a)();return n.createElement(Ee.a,Object.assign({size:"small"},e),n.createElement(Hv.a,{className:t.leftIcon}),a("ra.action.add"))},vS=function(e){var t=gS(e),a=Object(pe.a)();return n.createElement(Ee.a,Object.assign({size:"small"},e),n.createElement(sS.a,{className:t.leftIcon}),a("ra.action.remove"))},bS=function(e){var t,a=e.addButton,r=void 0===a?n.createElement(hS,null):a,o=e.removeButton,i=void 0===o?n.createElement(vS,null):o,l=e.basePath,c=e.children,s=e.className,d=e.fields,m=e.meta,p=m.error,f=m.submitFailed,_=e.record,g=e.resource,h=e.source,v=e.disabled,b=e.disableAdd,E=e.disableRemove,j=e.variant,y=e.margin,O=e.TransitionProps,w=e.defaultValue,x=gS(e),k=Object(n.useRef)(null),S=Object(n.useRef)(d&&d.length?d.length:w?w.length:0),P=Object(n.useRef)(S.current>0?Array.from(Array(S.current).keys()):[]),C=function(e,t){return function(a){!function(e){return function(){P.current.splice(e,1),d.remove(e)}}(t)(),e&&e(a)}},N=iS()(_,h);return d?n.createElement("ul",{className:Ie()(x.root,s)},f&&"object"!==typeof p&&p&&n.createElement(lS.a,{error:!0},n.createElement(uS.a,{error:p})),n.createElement(nS.a,{component:null},d.map((function(t,a){return n.createElement(rS.a,Object.assign({nodeRef:k,key:P.current[a],timeout:500,classNames:"fade"},O),n.createElement("li",{className:x.line},n.createElement(se.a,{variant:"body1",className:x.index},e.prefix?"".concat(e.prefix," ").concat(a+1):a+1),n.createElement("section",{className:x.form},n.Children.map(c,(function(e,r){if(!Object(n.isValidElement)(e))return null;var o=e.props,i=o.source,c=Object(T.a)(o,_S);return n.createElement(fS,{basePath:e.props.basePath||l,input:Object(n.cloneElement)(e,Object(u.a)({source:i?"".concat(t,".").concat(i):t,index:i?void 0:r,label:"undefined"===typeof e.props.label?i?"resources.".concat(g,".fields.").concat(i):void 0:e.props.label,disabled:v},c)),record:N&&N[a]||{},resource:g,variant:j,margin:y})}))),!v&&!function(e,t){return"boolean"===typeof t?t:t&&t(e)}(N&&N[a]||{},E)&&n.createElement("span",{className:x.action},Object(n.cloneElement)(i,{onClick:C(i.props.onClick,a),className:Ie()("button-remove","button-remove-".concat(h,"-").concat(a))}))))}))),!v&&!b&&n.createElement("li",{className:x.line},n.createElement("span",{className:x.action},Object(n.cloneElement)(r,{onClick:(t=r.props.onClick,function(e){P.current.push(S.current++),d.push(void 0),t&&t(e)}),className:Ie()("button-add","button-add-".concat(h))})))):null};bS.defaultProps={disableAdd:!1,disableRemove:!1};var ES=bS;Object(rs.h)();function jS(e){var t=e.children;return r.a.createElement(se.a,{component:"div",style:{padding:24}},t)}var yS=function(e){var t=Object(n.useState)(0),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(pe.a)(),c=[{name:l("resources.project_options.fields.analytical_modules.modules.financial"),id:"financial"},{name:l("resources.project_options.fields.analytical_modules.modules.economic"),id:"economic"},{name:l("resources.project_options.fields.analytical_modules.modules.distributional"),id:"distributional"}];function s(e,t){i(t)}function u(e,t){switch(e){case 0:return r.a.createElement(Zk,t);case 1:return r.a.createElement(eS,t);case 2:return r.a.createElement(aS,t);default:return null}}return r.a.createElement(Ss.a,{source:"project_options",label:null,className:"iterator"},r.a.createElement(ES,{prefix:"Option",disableAdd:0!==e.activeStep||Y("project_options_disable_change",Number(e.record.phase_id)),disableRemove:e.activeStep>1||Y("project_options_disable_change",Number(e.record.phase_id))},r.a.createElement(js.a,null,(function(e){return e.scopedFormData&&e.scopedFormData.is_shortlisted?r.a.createElement(n.Fragment,null,r.a.createElement(se.a,{variant:"h4"},r.a.createElement("b",null,e.scopedFormData&&e.scopedFormData.name)),r.a.createElement("br",null),r.a.createElement("h5",null,l("resources.project_options.fields.analytical_modules.title")),r.a.createElement(Us.a,{value:o,onChange:s,indicatorColor:"primary",textColor:"primary",variant:null},c.map((function(e){return r.a.createElement(Vs.a,{label:e.name})}))),0===o&&r.a.createElement(jS,null,u(o,e)),1===o&&r.a.createElement(jS,null,u(o,e)),2===o&&r.a.createElement(jS,null,u(o,e)),3===o&&r.a.createElement(jS,null,u(o,e))):null}))))},OS=["getSource","scopedFormData","record"];var wS=function(e){var t=e.getSource,a=e.scopedFormData,o=e.record,i=(Object(T.a)(e,OS),Object(pe.a)()),l=B({name:t("has_omp")}),c=B({name:t("om_duration")}),s=B({name:t("om_start_date")}),u=B({name:t("om_end_date")}),d=B({name:t("om_cost")});Object(n.useEffect)((function(){a&&"undefined"===typeof a.has_omp&&l(!!a.om_start_date)}),[]),Object(n.useEffect)((function(){a&&"undefined"===typeof a.has_omp&&l(!!a.om_start_date),a&&a.has_omp&&a.om_start_date&&a.om_end_date&&c(S()(a.om_end_date,"YYYY-MM-DD").diff(S()(a.om_start_date,"YYYY-MM-DD"),"years")+1)}),[a]);var m=o&&Ei(o.end_date,S()(o.end_date,"YYYY-MM-DD").add(30,"years")),p=[];if(a)for(var f=0;f<a.om_duration;f++){var _=S()(a.om_start_date,"YYYY-MM-DD").add("years",f).format("YYYY");p.push(r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.om_cost"},r.a.createElement(ns.a,{label:"".concat(xi(_).name," (").concat(i("titles.currency"),")"),variant:"outlined",margin:"none",source:t("om_cost."+String(_)+"y"),validate:[Object(rs.h)()],format:_r,parse:gr})))}return r.a.createElement(r.a.Fragment,null,r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project_options.fields.has_omp"},r.a.createElement(I_.a,{label:i("resources.project_options.fields.has_omp"),source:t("has_omp"),onChange:function(e){return function(t){l(t),e&&(e.has_omp=t,e.has_omp?c(S()(e.om_end_date,"YYYY-MM-DD").diff(S()(e.om_start_date,"YYYY-MM-DD"),"years")+1):(s(null),u(null),d(null),c(null)))}}(a),variant:"outlined",margin:"none"})),a&&a.has_omp?r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.om_start_date",fullWidth:!0},r.a.createElement(os.a,{validate:dO("project_options","om_start_date"),options:{fullWidth:"true"},label:i("resources.project_options.fields.om_start_date"),source:t("om_start_date"),choices:m,variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.om_end_date",fullWidth:!0},r.a.createElement(os.a,{validate:dO("project_options","om_end_date"),options:{fullWidth:"true"},label:i("resources.project_options.fields.om_end_date"),source:t("om_end_date"),choices:m,variant:"outlined",margin:"none"})),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project_options.fields.om_duration"},r.a.createElement(_x.a,{disabled:!0,label:i("resources.project_options.fields.om_duration"),source:t("om_duration"),step:1,variant:"outlined",margin:"none",validate:[Object(rs.g)(0)]})),r.a.createElement("p",null,i("resources.project_options.fields.om_cost_title")),p&&p.length>0?p:null):null)},xS=["record","resource","accept","maxSize","minSize","multiple","tag","meta","label","onDelete"],kS=Object(ae.a)((function(e){return{dropZone:{width:250,margin:10,border:"1px dotted",background:e.palette.background.default,cursor:"pointer",padding:e.spacing(1),textAlign:"center",color:e.palette.getContrastText(e.palette.background.default)},preview:{},removeButton:{},deleteIcon:{cursor:"pointer",marginRight:10},fileItem:{lineHeight:"35px",display:"flex",alignItems:"center"}}}),{name:"RaFileInput"}),SS=function(e){var t=e.record,a=e.resource,o=e.accept,i=e.maxSize,l=e.minSize,c=e.multiple,s=(e.tag,e.meta),d=(e.label,e.onDelete),m=Object(T.a)(e,xS),p=Object(n.useState)([]),f=Object(Z.a)(p,2),_=f[0],g=f[1],h=Object(n.useState)(null),v=Object(Z.a)(h,2),b=v[0],E=v[1],j=Object(n.useState)(null),y=Object(Z.a)(j,2),O=y[0],w=y[1],k=kS(m),S=Object(Na.a)(),P=Object(rr.a)(),C=Object(_s.f)().values;Object(n.useEffect)((function(){if(t&&t.files){var e=x.a.sortBy(t.files&&t.files.filter((function(e){var t=e.meta&&"string"===typeof e.meta?JSON.parse(e.meta):e.meta;return t&&t.relatedField===s.relatedField})),"id").reverse();g(c?e:e[0]?[e[0]]:[])}}),[t]),Object(n.useEffect)((function(){b&&m.approvedUploading&&(m.onBeforeUpload&&m.onBeforeUpload(C,!1),F())}),[b,m.approvedUploading]),Object(n.useEffect)((function(){O&&I()}),[O]);var N=Object(up.a)(),A=Object(Z.a)(N,2),D=A[0],F=(A[1].loading,function(){D({type:"uploadMedia",resource:"media",payload:{data:b}},{onSuccess:function(e){e.data&&(g([e.data]),S("File uploaded!"),m.onFileUpload?m.onFileUpload(e.data):P())},onFailure:function(e){return S("Error on file uploading, please try again later! ".concat(e.message),"warning")}})}),R=pp(O,{onSuccess:function(e){var a=x.a.sortBy(t.files&&t.files.filter((function(e){var t=e.meta&&"string"===typeof e.meta?JSON.parse(e.meta):e.meta;return t&&t.relatedField===s.relatedField})),"id").reverse();S("File was deleted!","success"),P(),d(O.id),g(c?a:a[0]?[a[0]]:[])},onFailure:function(e){var t=e.error;S(t.message,"error"),S("File wasn`t deleted!","error")}}),I=Object(Z.a)(R,1)[0],M=function(e){return e instanceof File?{rawFile:e,link:URL.createObjectURL(e),title:e.name}:e},W=Object(mp.a)({accept:o,maxSize:i,minSize:l,multiple:c,onDrop:function(e,n,r){var o=function(e){return e?Array.isArray(e)?e.map(M):M(e):m.multiple?[]:null}(e);g([o[0]]),m.onFileSelect&&m.onFileSelect(!0),E({entity_id:m.entityId||t&&t.id,entity_type:a,media:o[0].rawFile,title:o[0].title,meta:s,record:t})}}),L=W.getRootProps,Y=W.getInputProps;return r.a.createElement("div",{className:k.root},0===_.length&&r.a.createElement("div",Object.assign({"data-testid":"dropzone",className:k.dropZone},L()),r.a.createElement("input",Y(Object(u.a)({},m))),m.placeholder),_&&_.map((function(e){return e?r.a.createElement("div",{className:k.fileItem},r.a.createElement(dp.a,{className:k.deleteIcon,onClick:(n=e.id,function(e){n?w({id:n,record:t,entity_type:a}):(g([]),m.onFileDelete())})}),r.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer"},e.title)):null;var n})))},PS=["getSource","scopedFormData","record"];var CS=function(e){var t=e.getSource,a=e.scopedFormData,o=(e.record,Object(T.a)(e,PS)),i=Object(pe.a)(),l=Object(Na.a)(),c=B({name:t("is_commercial")}),s=Object(_s.f)().values;Object(n.useEffect)((function(){a&&"undefined"!==typeof a.is_commercial&&c(!!u(a))}),[]),Object(n.useEffect)((function(){a&&!x.a.isEmpty(a.files)&&c(u(a))}),[a]);var u=function(e){return e&&x.a.find(e.files,(function(e){return e.meta&&"is_commercial_attachment"===e.meta.relatedField}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project_options.fields.is_commercial"},r.a.createElement(I_.a,{label:i("resources.project_options.fields.is_commercial"),source:t("is_commercial")||!1,onChange:function(e){a?(a&&a.id&&(c(e),a.is_commercial=e),e&&a&&!a.id&&(a.name?o.onSave(s,!1):(l("Please fill in option title!","warning"),a.is_commercial=!1,c(!1)))):(l("Please fill in option title!","warning"),c(!1))},variant:"outlined",margin:"none"})),a&&a.is_commercial&&a.id?r.a.createElement(SS,{meta:{relatedField:"is_commercial_attachment"},resource:"project_option",entityId:a.id,fileTypeId:0,placeholder:i("titles.drop_files"),record:a,approvedUploading:!0,onDelete:function(){},onBeforeUpload:o.onSave}):null)},NS=["getSource","scopedFormData","formData"];var AS=function(e){var t=Object(pe.a)(),a=e.record,o=Object(Ca.a)(),i=Object(n.useState)([]),l=Object(Z.a)(i,2),c=l[0],s=l[1];return Object(n.useEffect)((function(){o.getListOfAll("parameters",{sort_field:"id"}).then((function(e){if(e&&e.data){var t=x.a.find(e.data,(function(e){return"procurement_modality"===e.param_key}));t&&t.param_value&&s(t.param_value.map((function(e){return{id:e,name:e}})))}}))}),[]),r.a.createElement(Ss.a,{source:"project_options",label:null,className:"iterator"},r.a.createElement(ES,{prefix:"Option",disableAdd:Y("project_options_disable_change",Number(a.phase_id)),disableRemove:Y("project_options_disable_change",Number(a.phase_id))},r.a.createElement(js.a,null,(function(a){var o=a.getSource,i=a.scopedFormData,l=a.formData,s=(Object(T.a)(a,NS),Ei(e.record.start_date,e.record.end_date)),u=[];if(i){i.duration=S()(i.end_date,"YYYY-MM-DD").diff(S()(i.start_date,"YYYY-MM-DD"),"years")+1;for(var d=0;d<i.duration;d++){var m=S()(i.start_date,"YYYY-MM-DD").add("years",d).format("YYYY");u.push(r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.capital_expenditure"},r.a.createElement(ns.a,{label:"".concat(xi(m).name," (").concat(t("titles.currency"),")"),source:o("capital_expenditure."+String(m)+"y"),variant:"outlined",margin:"none",format:_r,parse:gr,validate:Object(rs.j)()})))}}return r.a.createElement(n.Fragment,null,r.a.createElement("h4",null,r.a.createElement("b",null,i&&i.name)),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.name",fullWidth:!0},r.a.createElement(ns.a,{label:t("resources.project_options.fields.name"),source:o("name"),variant:"outlined",margin:"none",validate:dO("project_options","name")})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.description",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({},e,{source:o("description"),formData:l,validate:dO("project_options","description"),isRequired:!0,label:t("resources.project_options.fields.description")}))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.swot_analysis",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({source:o("swot_analysis"),formData:l,isRequired:!0,validate:dO("project_options","swot_analysis"),label:t("resources.project_options.fields.swot_analysis")},e))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.funding_modality.title",fullWidth:!0},r.a.createElement(os.a,{validate:dO("project_options","funding_modality"),variant:"outlined",margin:"none",options:{fullWidth:"true"},label:t("resources.project_options.fields.funding_modality.title"),source:o("funding_modality"),choices:c})),i&&i.funding_modality&&"Regular GOJ Procurement"!==i.funding_modality?r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.value_for_money",fullWidth:!0,textArea:!0},r.a.createElement(qf,Object.assign({source:o("value_for_money"),isRequired:Boolean(dO("project_options","value_for_money")),validate:dO("project_options","value_for_money"),formData:l,label:t("resources.project_options.fields.value_for_money")},e))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.risk_allocation",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({source:o("risk_allocation"),validate:dO("project_options","risk_allocation"),isRequired:Boolean(dO("project_options","risk_allocation")),formData:l,label:t("resources.project_options.fields.risk_allocation")},e))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.contract_management",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:t("resources.project_options.fields.contract_management"),source:o("contract_management"),validate:dO("project_options","contract_management"),isRequired:Boolean(dO("project_options","contract_management")),formData:l},e))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.me_strategy",fullWidth:!0,textArea:!0},r.a.createElement(qf,Object.assign({source:o("me_strategy"),validate:dO("project_options","me_strategy"),formData:l,isRequired:Boolean(dO("project_options","me_strategy")),label:t("resources.project_options.fields.me_strategy")},e))),i&&i.id?r.a.createElement(SS,{meta:{relatedField:"financial_model"},resource:"project_option",entityId:i.id,fileTypeId:0,placeholder:t("titles.drop_files"),record:i,approvedUploading:!0,onDelete:function(){},onBeforeUpload:e.onSave}):null):null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.start_date",fullWidth:!0},r.a.createElement(os.a,{validate:dO("project_options","start_date"),options:{fullWidth:"true"},label:t("resources.project_options.fields.start_date"),source:o("start_date"),choices:s,variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.end_date",fullWidth:!0},r.a.createElement(os.a,{validate:dO("project_options","end_date"),options:{fullWidth:"true"},label:t("resources.project_options.fields.end_date"),source:o("end_date"),choices:s,variant:"outlined",margin:"none"})),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project_options.fields.duration"},r.a.createElement(_x.a,{disabled:!0,label:t("resources.project_options.fields.duration"),source:o("duration"),step:1,variant:"outlined",margin:"none"})),r.a.createElement("p",null,t("resources.project_options.fields.capex_cost_title")),u.length>0?u:null,r.a.createElement(wS,{getSource:o,scopedFormData:i,record:l}),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project_options.fields.is_shortlisted"},r.a.createElement(I_.a,{label:t("resources.project_options.fields.is_shortlisted"),source:o("is_shortlisted"),variant:"outlined",margin:"none"})),r.a.createElement(CS,{getSource:o,scopedFormData:i,record:l,onSave:e.save}))}))))};var DS=function(e){var t=Object(n.useState)(null),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(pe.a)(),c=Object(_s.f)().values;function s(e){return e?x.a.findIndex(c.project_options,(function(t){return Number(t.id)===Number(e)})):null}return Object(n.useEffect)((function(){if(c&&c.project_options){var e=x.a.find(c.project_options,(function(e){return e.is_preferred}));e&&i(e.id)}}),[]),r.a.createElement(n.Fragment,null,r.a.createElement("div",{style:{marginBottom:25}},r.a.createElement(se.a,{variant:"h4"},l("resources.project_options.fields.summary.title")),r.a.createElement(oi.a,{size:"small"},r.a.createElement(ii.a,null,r.a.createElement(li.a,{className:"filled-row"},r.a.createElement(ci.a,null),r.a.createElement(ci.a,{colSpan:"3"},l("resources.project_options.fields.analytical_modules.financial_evaluation.summary")),r.a.createElement(ci.a,{colSpan:"3"},l("resources.project_options.fields.analytical_modules.economic_evaluation.summary"))),r.a.createElement(li.a,{className:"filled-row"},r.a.createElement(ci.a,null,l("resources.project_options.fields.title")),r.a.createElement(ci.a,null,l("resources.project_options.fields.analytical_modules.financial_evaluation.fnpv")),r.a.createElement(ci.a,null,l("resources.project_options.fields.analytical_modules.financial_evaluation.irr")),r.a.createElement(ci.a,null,"CBA / CEA"),r.a.createElement(ci.a,null,l("resources.project_options.fields.analytical_modules.economic_evaluation.enpv")),r.a.createElement(ci.a,null,l("resources.project_options.fields.analytical_modules.economic_evaluation.err")),r.a.createElement(ci.a,null,"CBA / CEA"))),r.a.createElement(si.a,null,c&&c.project_options&&c.project_options.filter((function(e){return e.is_shortlisted})).map((function(e,t){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e.name),r.a.createElement(ci.a,null,e.financial_evaluation&&vr(e.financial_evaluation.fnpv)),r.a.createElement(ci.a,null,e.financial_evaluation&&e.financial_evaluation.irr||"-"),r.a.createElement(ci.a,{style:{textTransform:"uppercase"}},e.financial_evaluation&&e.financial_evaluation.appraisal_methodology),r.a.createElement(ci.a,null,e.economic_evaluation&&vr(e.economic_evaluation.enpv)),r.a.createElement(ci.a,null,e.economic_evaluation&&e.economic_evaluation.err||"-"),r.a.createElement(ci.a,{style:{textTransform:"uppercase"}},e.economic_evaluation&&e.economic_evaluation.appraisal_methodology))}))))),r.a.createElement(xa.a,{fullWidth:!0,variant:"outlined",value:o,onChange:function(e){i(e.target.value),c.project_options.forEach((function(e){e.is_preferred=!1})),c.project_options[s(e.target.value)].is_preferred=!0}},e.onGetTopScoredOptions()&&e.onGetTopScoredOptions().map((function(e){return r.a.createElement(sa.a,{key:e.id,value:e.id},e.name)}))),o&&s()>-1?r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.justification",textArea:!0},r.a.createElement(qf,Object.assign({label:l("resources.project_options.fields.justification"),source:"project_options[".concat(s(o),"].justification"),validate:[Object(rs.j)()],formData:c,isRequired:!0},e))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.modality_justification",textArea:!0},r.a.createElement(qf,Object.assign({isRequired:!0,label:l("resources.project_options.fields.modality_justification"),validate:dO("modality_justification"),source:"project_options[".concat(s(o),"].modality_justification"),formData:c},e)))):null)},TS=["getSource","scopedFormData","formData"],FS=["getSource","scopedFormData","formData"];var RS=Object(ee.c)((function(e){return{isSaving:e.admin.saving}}),null)((function(e){var t=Object(n.useState)([]),a=Object(Z.a)(t,2),o=(a[0],a[1],Object(n.useState)(0)),i=Object(Z.a)(o,2),l=i[0],c=(i[1],Object(n.useState)(0)),s=Object(Z.a)(c,2),u=s[0],d=(s[1],Object(pe.a)()),m=Object(Na.a)(),p=Object(_s.f)().values,f=mx("has_project_options_modules",e.record&&e.record.phase_id),_=B({name:"project_options"});function g(e){return p?!p.project_options||p.project_options&&0===p.project_options.length?null:p.project_options&&p.project_options.filter((function(e){return e&&e.is_shortlisted})):null}Object(n.useMemo)((function(){Y("has_default_array_input_value")&&(x.a.get(p,"project_options")?0===x.a.get(p,"project_options").length&&_([{}]):_([{}]))}),[e.record]),Object(n.useEffect)((function(e){if(e){var t=e.record;if(!t)return null;var a=x.a.findIndex(t.project_options,(function(e){return e.is_preferred}));t&&"undefined"!==typeof a&&(t.is_preferred=a)}}),[e.record]),Object(n.useMemo)((function(e){g(p.is_preferred)}),[p]);var h=function(t){return function(){var a,n;e.record;t>=0&&0!==(a=mr(p,d)).length?m("".concat(d("validation.empty_fields"),": ").concat(a.join(", ")),"warning"):t>1&&(p.project_options.filter((function(e){return e.is_shortlisted})),0!==(n=dr(p,d)).length)?m("".concat(d("validation.empty_fields"),": ").concat(n.join(", ")),"warning"):(e.setOptionStep(t),e.save(p,!1))}};return Y("project_options_has_single_form",e.record.phase_id)?r.a.createElement(Ss.a,{source:"project_options",label:null,className:"iterator"},r.a.createElement(Ps.a,{disableAdd:!0,disableRemove:!0},r.a.createElement(js.a,null,(function(t){var a=t.getSource,o=t.scopedFormData,i=t.formData;return Object(T.a)(t,TS),r.a.createElement(n.Fragment,null,r.a.createElement("h5",null,r.a.createElement("b",null,o&&o.title)),r.a.createElement(yS,Object.assign({getSource:a,record:e.record,formData:i,scopedFormData:o,disabled:i&&i.phase_id>2},e,{activeStep:l})))})))):function(){var t=f?[d("resources.project_options.fields.stepper.description"),d("resources.project_options.fields.stepper.analytical_modules"),d("resources.project_options.fields.stepper.best_option")]:[d("resources.project_options.fields.stepper.description")];return r.a.createElement("div",{style:{position:"relative",minHeight:"275px"}},r.a.createElement("h2",null,d("resources.project_options.name")),r.a.createElement(ui.a,{container:!0},r.a.createElement(ui.a,{item:!0,xs:12},r.a.createElement("h3",{style:{width:"80%",margin:10,marginBottom:25,fontStyle:"italic"}},"The project proposer is required to identify and fully describe the range of options that may be considered for achieving the objective(s) of their project. One option should always be the option of doing nothing i.e. maintaining things as they are currently with no major change. For each option, the proposer should clearly outline among other things, the strengths, weaknesses, threat and opportunities. An initial estimate of the capital and annual operation cost associated with each option should be provided. At least two of these options shall be marked as \u201cShortlisted\u201d. For these two options, users will need to provide quantitative indicators such as the Internal rate of return."),r.a.createElement(n.Fragment,null,r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData;var t=e.formData;Object(T.a)(e,FS);return t.default_option_name="Do Nothing",r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.default_option_name",fullWidth:!0},r.a.createElement(ns.a,{label:!1,source:"default_option_name",variant:"outlined",margin:"none",validate:dO("default_option_name"),placeholder:"Do Nothing",disabled:!0}))})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.default_option_description",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:d("resources.default_option_description"),source:"default_option_description",formData:p,validate:dO("default_option_description"),isRequired:Boolean(dO("default_option_description"))},e))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.default_option_description_impact",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:d("resources.default_option_description_impact"),source:"default_option_description_impact",formData:p,validate:dO("default_option_description_impact"),isRequired:Boolean(dO("default_option_description_impact"))},e))))),f&&p&&p.project_options&&p.project_options.length>0?r.a.createElement(ui.a,{item:!0,xs:3},r.a.createElement(Ux.a,{orientation:"vertical",activeStep:e.optionsStep,style:{position:"absolute"}},t.map((function(e,t){var a={},n={};return a.isSaving&&u===t&&(n.icon=r.a.createElement(Yr.a,{size:25,thickness:2})),r.a.createElement(zx.a,Object.assign({key:e},a,{onClick:h(t)}),r.a.createElement(qx.a,n,e))})))):null,r.a.createElement(ui.a,{item:!0,xs:9},function(t){switch(t){case 0:return r.a.createElement(AS,Object.assign({},e,{activeStep:t}));case 1:return r.a.createElement(yS,Object.assign({},e,{activeStep:t}));case 2:return r.a.createElement(DS,Object.assign({},e,{activeStep:t,onGetTopScoredOptions:g}));default:return null}}(e.optionsStep))))}()})),IS=function(e){return!e.indicators||e.indicators&&0===e.indicators.length?null:r.a.createElement(Fi.a,{style:{overflow:"auto",marginBottom:25,maxWidth:"960px"}},r.a.createElement(oi.a,{size:"small"},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Name"),r.a.createElement(ci.a,null,"Baseline"),e.indicators&&x.a.first(e.indicators)&&x.a.keys(x.a.first(e.indicators).targets).map((function(e){return r.a.createElement(ci.a,null,wi(e.slice(0,-1)).name)})),r.a.createElement(ci.a,null,"Verification Means"),(Y("has_pimis_fields")||"goals"!==e.type)&&[r.a.createElement(ci.a,null,"Assumptions"),r.a.createElement(ci.a,null,"Risk Factors")])),r.a.createElement(si.a,null,e.indicators&&e.indicators.map((function(t){return t?r.a.createElement(li.a,null,r.a.createElement(ci.a,null,t.name),r.a.createElement(ci.a,null,t.baseline),Y("has_pimis_fields")?r.a.createElement(ci.a,null,t.targets.project):t.targets&&x.a.keys(t.targets).map((function(e){return r.a.createElement(ci.a,null,t.targets[e])})),r.a.createElement(ci.a,null,t.verification_means),(Y("has_pimis_fields")||"goals"!==e.type)&&[r.a.createElement(ci.a,null,t.assumptions),r.a.createElement(ci.a,null,t.risk_factors)]):null})))))},MS=["record"],WS=["getSource","scopedFormData","formData"];var LS=function(e){var t=e.record,a=Object(T.a)(e,MS),o=Object(pe.a)(),i=B({name:a.source}),l=Object(_s.f)().values;return Object(n.useMemo)((function(){Y("has_default_array_input_value")&&l&&(x.a.get(l,a.source)?0===x.a.get(l,a.source).length&&i([{}]):i([{}]))}),[t]),r.a.createElement(Ss.a,{source:a.source,label:null,className:"iterator"},r.a.createElement(Ps.a,null,r.a.createElement(js.a,null,(function(e){var t=e.getSource,i=e.scopedFormData,l=e.formData;Object(T.a)(e,WS);if(a.targetYears&&i){var c=a.targetYears.map((function(e){return Number(e.id)}));x.a.keys(i.targets).forEach((function(e){var t=e.slice(0,e.length-1);c.includes(Number(t))||delete i.targets[e]}))}return r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.name",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],source:t("name"),label:o("resources.indicators.fields.name"),variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.baseline",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],source:t("baseline"),label:"".concat(o("resources.indicators.fields.baseline")," - ").concat(Si(l.baseline).name||"-"),variant:"outlined",margin:"none"})),!Y("has_pimis_fields")&&a.targetYears&&a.targetYears.map((function(e){return r.a.createElement(cs,{tooltipText:"resources.indicators.fields.target",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.h)()],label:e.name,source:t("targets."+String(e.id)+"y"),variant:"outlined",margin:"none"}))})),Y("has_pimis_fields")&&r.a.createElement(cs,{tooltipText:"resources.indicators.fields.target",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],label:"End of Project Target",source:t("targets.project"),variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.verification_means",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],source:t("verification_means"),label:o("resources.indicators.fields.verification_means"),variant:"outlined",margin:"none"})),(Y("has_pimis_fields")||a.source&&"indicators"!==a.source)&&r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.assumptions",fullWidth:!0},r.a.createElement(ns.a,{source:t("assumptions"),validate:[Object(rs.j)(),Object(rs.d)(255)],label:o("resources.indicators.fields.assumptions"),variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.risk_factors",fullWidth:!0},r.a.createElement(ns.a,{source:t("risk_factors"),validate:[Object(rs.j)(),Object(rs.d)(255)],label:o("resources.indicators.fields.risk_factors"),variant:"outlined",margin:"none"}))))}))))};var YS=function(e){var t=Object(pe.a)(),a=Object(n.useState)(null),o=Object(Z.a)(a,2),i=o[0],l=o[1],c=Object(n.useState)(!1),s=Object(Z.a)(c,2),u=s[0],d=s[1],m=Object(_s.f)(),p=m.values,f=m.hasValidationErrors,_=B({name:e.source});function g(){d(!1),_(i)}return Object(n.useEffect)((function(){l(x.a.get(e.record,e.source))}),[]),r.a.createElement(n.Fragment,null,r.a.createElement(Xn.a,{onClick:function(){d(!0)},label:t("buttons.".concat(e.type,"_indicators")),variant:"contained",style:{marginRight:30}}),r.a.createElement(Gr.a,{fullWidth:!0,maxWidth:"md",open:u,onClose:g,style:{overflow:"hidden"},disableBackdropClick:!0,disableEscapeKeyDown:!0},r.a.createElement(Hr.a,null,"Indicators"),r.a.createElement(Jr.a,null,r.a.createElement(LS,Object.assign({},e,{source:e.source,targetYears:e.targetYears}))),r.a.createElement(Xr.a,null,r.a.createElement(Xn.a,{onClick:function(){e.onSave(p,!1),l(x.a.get(p,e.source)),d(!1)},label:"Save",variant:"contained",disabled:f}),r.a.createElement(Xn.a,{onClick:g,label:"Cancel",variant:"contained"}))))},BS=["getSource","scopedFormData","formData","handleSubmit"];var zS=function(e){var t=Object(pe.a)();return r.a.createElement(js.a,null,(function(a){a.getSource,a.scopedFormData;var o=a.formData;a.handleSubmit,Object(T.a)(a,BS);return r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.goal",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],source:"goal",label:t("resources.project-details.fields.goal"),variant:"outlined",margin:"none"})),o&&Y("project_result_matrix_goals_description_show",o.phase_id)&&r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.goal_description",fullWidth:!0,textArea:!0},r.a.createElement(qf,Object.assign({label:t("resources.project-details.fields.goal_description"),source:"goal_description",validate:[Object(rs.j)()],isRequired:!0,formData:o},e))),r.a.createElement("br",null),o&&Y("project_result_matrix_goals_indicators_show",o.phase_id)&&r.a.createElement(n.Fragment,null,r.a.createElement(YS,{record:o,onSave:e.save,source:"indicators",targetYears:Oi(e.record.start_date,e.record.end_date),type:"goals"}),o.indicators&&0!==o.indicators.length&&r.a.createElement(IS,{indicators:o.indicators,type:"goals"})))}))},qS=["record"],US=["getSource","scopedFormData","formData"],VS=["getSource","scopedFormData","formData"];var GS=function(e){var t=e.record,a=Object(T.a)(e,qS),o=Object(_s.f)().values,i=Object(pe.a)(),l=mx("has_default_array_input_value"),c=B({name:"outcomes"});return Object(n.useMemo)((function(){l&&o&&(o.outcomes?0===o.outcomes.length&&c([{}]):c([{}]))}),[t]),r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData;var o,l=e.formData;Object(T.a)(e,US);return r.a.createElement(n.Fragment,null,r.a.createElement(Ss.a,{source:"outcomes",label:!1},r.a.createElement(Ps.a,{disableAdd:Y("project_result_matrix_has_max_2_outcomes")&&(o=l,o&&o.outcomes&&o.outcomes.length>=2)},r.a.createElement(js.a,null,(function(e){var o=e.getSource,l=e.scopedFormData,c=e.formData;Object(T.a)(e,VS);return r.a.createElement(n.Fragment,null,r.a.createElement("div",{style:{minWidth:"500px"}},r.a.createElement("div",null,r.a.createElement(cs,{tooltipText:"tooltips.resources.outcomes.fields.name",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],source:o("name"),label:i("resources.outcomes.fields.name"),variant:"outlined",margin:"none"})),c&&Y("project_result_matrix_outcomes_description_show",c.phase_id)&&r.a.createElement(cs,{tooltipText:"tooltips.resources.outcomes.fields.description",fullWidth:!0,textArea:!0},r.a.createElement(qf,Object.assign({label:i("resources.outcomes.fields.description"),source:o("description"),validate:[Object(rs.j)()],isRequired:!0,formData:c},a)))),r.a.createElement("br",null),c&&Y("project_result_matrix_outcomes_indicators_show",c.phase_id)?l&&r.a.createElement(n.Fragment,null,r.a.createElement(YS,{record:c,onSave:a.save,source:o("indicators"),targetYears:Oi(t.start_date,t.end_date),type:"outcomes"}),l.indicators&&0!==l.indicators.length&&r.a.createElement(IS,{indicators:l.indicators,type:"outcomes"})):null),r.a.createElement("br",null))})))))}))};var HS=["record"],JS=["getSource","scopedFormData","formData"],XS=["getSource","scopedFormData","formData"];var $S=function(e){var t=e.record,a=Object(T.a)(e,HS),o=Object(pe.a)(),i=Object(Xx.a)({type:"getOne",resource:"projects",payload:{id:t?t.project_id:0}}),l=(i.loaded,i.error,i.data),c=mx("has_ndp_strategy_selector"),s=mx("has_default_array_input_value"),u=B({name:"outputs"}),d=Object(_s.f)().values;return Object(n.useMemo)((function(){s&&d&&(d.outputs?0===d.outputs.length&&u([{}]):u([{}]))}),[t]),r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData,e.formData,Object(T.a)(e,JS);return r.a.createElement(n.Fragment,null,r.a.createElement(Ss.a,{source:"outputs",label:!1},r.a.createElement(Ps.a,null,r.a.createElement(js.a,null,(function(e){var i,s=e.getSource,u=e.scopedFormData,d=e.formData;Object(T.a)(e,XS);return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6 col-m-6"},r.a.createElement(cs,{tooltipText:"tooltips.resources.outputs.fields.name",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],variant:"outlined",margin:"none",source:s("name"),label:o("resources.outputs.fields.name")})),!Y("has_pimis_fields")&&r.a.createElement(cs,{tooltipText:"tooltips.resources.outputs.fields.output_value",fullWidth:!0},r.a.createElement(ns.a,{source:s("output_value"),label:o("resources.outputs.fields.output_value"),validate:[Object(rs.j)(),Object(rs.h)(),Object(rs.d)(255)],variant:"outlined",margin:"none"})),!Y("has_pimis_fields")&&r.a.createElement(cs,{tooltipText:"tooltips.resources.outputs.fields.unit_id",fullWidth:!0},r.a.createElement(Nu.a,{validate:[Object(rs.j)()],perPage:-1,sort:Ra,source:s("unit_id"),label:o("resources.outputs.fields.unit_id"),reference:"units"},r.a.createElement(os.a,{validate:[Object(rs.j)(),Object(rs.h)()],options:{fullWidth:"true"},optionText:"name",optionValue:"id",variant:"outlined"}))),r.a.createElement(cs,{tooltipText:"tooltips.resources.outputs.fields.outcome_ids",fullWidth:!0},Y("has_pimis_fields")?r.a.createElement(Sy.a,{margin:"none",variant:"outlined",fullWidth:!0,label:o("resources.outputs.fields.outcome_ids"),source:s("outcome_ids"),choices:d&&d.outcomes?d.outcomes:[],validate:Object(rs.j)(),shouldRenderSuggestions:!0,optionText:Or}):r.a.createElement(Tf.a,{validate:[Object(rs.j)()],options:{fullWidth:"true"},label:o("resources.outputs.fields.outcome_ids"),source:s("outcome_ids"),optionText:Or,choices:d&&d.outcomes?d.outcomes:[],variant:"outlined",margin:"none"})),Y("has_pimis_fields")&&r.a.createElement(cs,{tooltipText:"tooltips.resources.outputs.fields.component_id",fullWidth:!0},r.a.createElement(os.a,{margin:"none",variant:"outlined",fullWidth:!0,label:o("resources.outputs.fields.component_id"),source:s("component_id"),choices:d&&d.components?d.components:[],validate:Object(rs.j)(),optionText:Or})),Y("has_pimis_fields")&&r.a.createElement(cs,{tooltipText:"tooltips.resources.outputs.fields.subcomponent_id",fullWidth:!0},r.a.createElement(os.a,{disabled:!(null===u||void 0===u?void 0:u.component_id),margin:"none",variant:"outlined",fullWidth:!0,label:o("resources.outputs.fields.subcomponent_id"),source:s("subcomponent_id"),choices:d&&d.components&&u&&(null===(i=x.a.find(d.components,(function(e){return e.id===u.component_id})))||void 0===i?void 0:i.subcomponents)||[],optionText:Or})),Y("has_pimis_fields")?null:r.a.createElement(cs,{tooltipText:"tooltips.resources.outputs.fields.vote_id",fullWidth:!0},r.a.createElement(Tf.a,{validate:[Object(rs.j)()],options:{fullWidth:"true"},label:o("resources.outputs.fields.vote_id"),source:s("organization_ids"),choices:d&&yr(d,l)||[],variant:"outlined",margin:"none"})),c&&r.a.createElement(cs,{tooltipText:"tooltips.resources.outputs.fields.ndp_strategy_id",fullWidth:!0},r.a.createElement(Nu.a,{validate:[Object(rs.j)()],perPage:-1,sort:Ra,source:s("ndp_strategy_id"),label:o("resources.outputs.fields.ndp_strategy_id"),reference:"ndp-strategies",filter:{ids:d&&d.ndp_strategies&&d.ndp_strategies.map((function(e){return e&&e.ndp_strategy_id})).join(",")}},r.a.createElement(os.a,{options:{fullWidth:"true"},optionText:"name",optionValue:"id",validate:[Object(rs.j)(),Object(rs.h)()],variant:"outlined"})))),r.a.createElement("div",{className:"col-sm-6 col-m-6"},r.a.createElement(cs,{tooltipText:"tooltips.resources.outputs.fields.description",fullWidth:!0,textArea:!0},r.a.createElement(qf,Object.assign({label:o("resources.outputs.fields.description"),source:s("description"),validate:[Object(rs.j)()],isRequired:!0,formData:d},a)))),r.a.createElement("br",null),d&&Y("project_result_matrix_tech_specs_show",d.phase_id)&&u&&r.a.createElement("div",{className:"col-sm-6 col-m-6"},r.a.createElement(cs,{tooltipText:"tooltips.resources.outputs.fields.tech_specs",fullWidth:!0,textArea:!0},r.a.createElement(qf,Object.assign({source:s("tech_specs"),validate:[Object(rs.j)()],label:o("resources.outputs.fields.tech_specs"),isRequired:!0,formData:d},a))),r.a.createElement(cs,{tooltipText:"tooltips.resources.outputs.fields.alternative_specs",fullWidth:!0,textArea:!0},r.a.createElement(qf,Object.assign({label:o("resources.outputs.fields.alternative_specs"),source:s("alternative_specs"),formData:d,isRequired:!0,validate:[Object(rs.j)()]},a)))),d&&Y("project_result_matrix_outputs_indicators_show",d.phase_id)&&u&&r.a.createElement(n.Fragment,null,r.a.createElement(YS,{type:"outputs",record:d,onSave:a.save,source:s("indicators"),targetYears:Oi(t.start_date,t.end_date)}),u.indicators&&0!==u.indicators.length&&r.a.createElement(IS,{indicators:u.indicators,type:"outcomes"})),d&&Y("project_result_matrix_outputs_investments_show",d.phase_id)&&u&&r.a.createElement(n.Fragment,null,r.a.createElement($f,Object.assign({},a,{record:d,type:"outputs",onSave:a.save,source:s("investments"),targetYears:Oi(t.start_date,t.end_date)})),r.a.createElement("br",null),r.a.createElement("br",null),u&&u.investments&&0!==u.investments.length&&r.a.createElement(Qf,{type:"outputs",formData:d,investments:u.investments}),r.a.createElement("br",null))),r.a.createElement("br",null))})))))}))},KS=a(1878),QS=["getSource","scopedFormData","formData","id"];Object(KS.a)((function(){return{list:{"& li":{display:"block"}}}}));var ZS=function(e){var t=Object(pe.a)(),a=Object(_s.f)().values,o=B({name:"activities"});return Object(n.useMemo)((function(){Y("has_default_array_input_value")&&a&&(a.activities?0===a.activities.length&&o([{}]):o([{}]))}),[e.record]),r.a.createElement(n.Fragment,null,r.a.createElement(Ss.a,{source:"activities",label:!1},r.a.createElement(Ps.a,null,r.a.createElement(js.a,null,(function(a){var n,o,i,l,c=a.getSource,s=a.scopedFormData,u=a.formData,d=(a.id,Object(T.a)(a,QS),s),m=Y("project_dates_fiscal_years")?Ei(e.record.start_date,e.record.end_date):ji(e.record.start_date,e.record.end_date),p=x.a.find(u.outputs,(function(e){return s&&s.output_ids&&e.id===s.output_ids[0]}));console.log(p,"outputSelected");var f=x.a.find(u.components,(function(e){return p&&e.id===p.component_id}));if(Y("project_has_log_frame_data_edit",u&&u.phase_id)){var _=f&&s&&function(e,t,a){var n=e&&e.activities.map((function(t){var a=x.a.find(e.outputs,(function(e){return t&&t.output_ids&&e.id===t.output_ids[0]})),n=x.a.find(e.components,(function(e){return a&&e.id===a.component_id}));return{activity_id:t?t.id:"",output_id:t&&t.output_ids?t.output_ids[0]:"",component_id:n?n.id:""}})),r=x.a.groupBy(n,"component_id");return r&&r[t]?x.a.findIndex(r[t],(function(e){return e.activity_id===a})):0}(u,f.id,s.id),g=_+1<=9?"0".concat(_+1):"".concat(_+1);s?s.code=f&&"".concat(f.code&&f.code.slice(0,f.code.length-2)).concat(g):(s={}).code=f&&"".concat(f.code&&f.code.slice(0,f.code&&f.code.length-2)).concat(g)}var h=function(e,t){var a=S()(e);return S()(t).diff(a,"days")>1};return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},Y("project_has_log_frame_data_edit",u&&u.phase_id)&&r.a.createElement("h3",null,"Code: ",s.code),r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.name",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],source:c("name"),label:t("resources.activities.fields.name"),variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.start_date",fullWidth:!0},Y("has_dates_activity_interval")?r.a.createElement(ys.a,{validate:[Object(rs.j)()],variant:"outlined",margin:"none",label:t("resources.activities.fields.start_date"),source:c("start_date"),InputProps:{inputProps:{min:null===(n=e.record)||void 0===n?void 0:n.start_date,max:null===(o=e.record)||void 0===o?void 0:o.end_date}}}):r.a.createElement(os.a,{options:{fullWidth:"true"},validate:[Object(rs.j)()],label:t("resources.activities.fields.start_date"),source:c("start_date"),choices:m,variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.end_date",fullWidth:!0},Y("has_dates_activity_interval")?r.a.createElement(ys.a,{validate:[Object(rs.j)()],variant:"outlined",margin:"none",label:t("resources.activities.fields.end_date"),source:c("end_date"),InputProps:{inputProps:{min:null===(i=e.record)||void 0===i?void 0:i.start_date,max:null===(l=e.record)||void 0===l?void 0:l.end_date}}}):r.a.createElement(os.a,{options:{fullWidth:"true"},label:t("resources.activities.fields.end_date"),source:c("end_date"),choices:m,validate:[Object(rs.j)()],variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.output_id",fullWidth:!0},Y("has_pimis_fields")?r.a.createElement(os.a,{validate:[Object(rs.j)()],options:{fullWidth:"true"},label:"resources.activities.fields.output_ids",source:c("output_ids"),choices:u.outputs&&u.outputs.map((function(e){var t=x.a.find(u.components,(function(t){return e&&t.id===e.component_id})),a=t?t.name:"-";return{id:e.id,name:e.name+" / "+a}})),variant:"outlined",margin:"none",format:function(e){return[e]},parse:function(e){return[e]},SelectProps:{renderValue:function(){return p?"".concat((null===p||void 0===p?void 0:p.name)||"-"," / ").concat((null===f||void 0===f?void 0:f.name)||"-"):""}}}):r.a.createElement(Tf.a,{validate:[Object(rs.j)()],options:{fullWidth:"true"},label:"resources.activities.fields.output_ids",source:c("output_ids"),choices:u.outputs&&u.outputs.map((function(e){return{id:e.id,name:e.name}})),variant:"outlined",margin:"none"}))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.description",textArea:!0},r.a.createElement(qf,Object.assign({source:c("description"),validate:[Object(rs.j)()],label:t("resources.activities.fields.description"),isRequired:!0,formData:u},e))))),r.a.createElement("br",null),(Y("project_has_log_frame_data_edit",u.phase_id)||Y("project_result_matrix_activity_investments_show",u.phase_id))&&d&&d.start_date&&d.end_date&&h(d.start_date,d.end_date)&&r.a.createElement($f,Object.assign({},e,{record:u,onSave:e.save,type:"activities",source:c("investments"),targetYears:Oi(d.start_date,d.end_date)})),r.a.createElement("br",null),r.a.createElement("br",null),d&&d.investments&&0!==d.investments.length&&h(d.start_date,d.end_date)&&r.a.createElement(Qf,{type:"activities",formData:d,investments:d.investments}))})))))},eP=["onSaveSuccess","onClose"],tP=["details","record","onClose","onRefresh","referencedOptions"],aP=["getSource","scopedFormData","formData"],nP=function(e){var t=e.onSaveSuccess,a=e.onClose,n=Object(T.a)(e,eP);return r.a.createElement(Zc.a,{style:{width:"100%"}},r.a.createElement(Xn.a,{onClick:a,label:"Cancel",style:{marginRight:5,padding:"7px 15px"},color:"primary",variant:"contained"}),r.a.createElement(Zm.a,Object.assign({},n,{onSuccess:t,undoable:!1})))};var rP=function(e){var t=e.details,a=e.record,o=e.onClose,i=e.onRefresh,l=e.referencedOptions,c=Object(T.a)(e,tP),s=Object(pe.a)();return r.a.createElement(ru.a,{basePath:"/indicators",resource:"indicators",undoable:!1,variant:"outlined",redirect:!1,record:a,id:a.id},r.a.createElement(ou.a,{undoable:!1,variant:"outlined",redirect:!1,toolbar:r.a.createElement(nP,{onSaveSuccess:function(){i(),o()},onClose:o})},r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData;var a=e.formData;Object(T.a)(e,aP);a&&(a.project_detail_id=t.id,a.entity_type=c.type,"project_detail"===c.type&&(a.entity_id=t.id));var o="outcome"===c.type?"Outcome":"Output";return r.a.createElement(n.Fragment,null,"project_detail"!==c.type&&r.a.createElement(os.a,{margin:"none",variant:"outlined",fullWidth:!0,source:"entity_id",choices:l,validate:Object(rs.j)(),optionText:Or,label:o}),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.name",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],source:"name",label:s("resources.indicators.fields.name"),variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.baseline",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],source:"baseline",label:"".concat(s("resources.indicators.fields.baseline")," - ").concat(wi(S()(null===t||void 0===t?void 0:t.baseline,"YYYY-MM-DD")).name||""),variant:"outlined",margin:"none"})),Y("has_pimis_fields")&&r.a.createElement(cs,{tooltipText:"resources.indicators.fields.target",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],label:"End of Project Target",source:"targets.project",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.verification_means",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],source:"verification_means",label:s("resources.indicators.fields.verification_means"),variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.unit_id",fullWidth:!0},r.a.createElement(os.a,{margin:"none",variant:"outlined",fullWidth:!0,source:"unit_id",choices:c.helpers&&c.helpers.units||[],validate:Object(rs.j)(),optionText:Or})),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.format_id",fullWidth:!0},r.a.createElement(os.a,{margin:"none",variant:"outlined",fullWidth:!0,source:"format_id",choices:c.helpers&&c.helpers.formats||[],validate:Object(rs.j)(),optionText:Or})),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.kpi",fullWidth:!0},r.a.createElement(I_.a,{source:"has_kpi",variant:"outlined",label:"KPI",margin:"none"})))}))))},oP=["onSaveSuccess","onClose"],iP=["record","onClose","onRefresh","referencedOptions"],lP=["getSource","scopedFormData","formData"],cP=function(e){var t=e.onSaveSuccess,a=e.onClose,n=Object(T.a)(e,oP);Object(Na.a)();return r.a.createElement(Zc.a,{style:{width:"100%"}},r.a.createElement(Xn.a,{onClick:a,label:"Cancel",style:{marginRight:5,padding:"7px 15px"},color:"primary",variant:"contained"}),r.a.createElement(Zm.a,Object.assign({},n,{onSuccess:t})))};var sP=function(e){var t=e.record,a=e.onClose,o=e.onRefresh,i=(e.referencedOptions,Object(T.a)(e,iP)),l=Object(pe.a)(),c=Object(rr.a)();return r.a.createElement(es.a,{basePath:"/indicators",resource:"indicators",redirect:!1},r.a.createElement(ou.a,{variant:"outlined",toolbar:r.a.createElement(cP,{onSaveSuccess:function(){o(),a(),c()},onClose:a}),redirect:!1},r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData;var a,o=e.formData;Object(T.a)(e,lP);o&&(o.project_detail_id=t.id,o.entity_type=i.type,"project_detail"===i.type&&(o.entity_id=t.id));var c="outcome"===i.type?"Outcome":"Output";return r.a.createElement(n.Fragment,null,"project_detail"!==i.type&&r.a.createElement(os.a,{margin:"none",variant:"outlined",fullWidth:!0,source:"entity_id",choices:t&&t[i.reference]||[],validate:Object(rs.j)(),optionText:Or,label:c}),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.name",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],source:"name",label:l("resources.indicators.fields.name"),variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.baseline",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],source:"baseline",label:"".concat(l("resources.indicators.fields.baseline")," - ").concat(wi(S()(null===(a=i.details)||void 0===a?void 0:a.baseline,"YYYY-MM-DD")).name||""),variant:"outlined",margin:"none"})),Y("has_pimis_fields")&&r.a.createElement(cs,{tooltipText:"resources.indicators.fields.target",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],label:"End of Project Target",source:"targets.project",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.verification_means",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],source:"verification_means",label:l("resources.indicators.fields.verification_means"),variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.unit_id",fullWidth:!0},r.a.createElement(os.a,{margin:"none",variant:"outlined",fullWidth:!0,source:"unit_id",choices:i.helpers&&i.helpers.units||[],validate:Object(rs.j)(),optionText:Or})),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.format_id",fullWidth:!0},r.a.createElement(os.a,{margin:"none",variant:"outlined",fullWidth:!0,source:"format_id",choices:i.helpers&&i.helpers.formats||[],validate:Object(rs.j)(),optionText:Or})),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.kpi",fullWidth:!0},r.a.createElement(I_.a,{source:"has_kpi",label:"KPI",variant:"outlined",margin:"none"})))}))))},uP=["onRefresh","referencedOptions"];var dP=function(e){var t=e.onRefresh,a=e.referencedOptions,o=Object(T.a)(e,uP),i=(Object(pe.a)(),Object(n.useState)(!1)),l=Object(Z.a)(i,2),c=l[0],s=l[1];function u(){s(!1)}return r.a.createElement(n.Fragment,null,r.a.createElement(Ce.a,{onClick:function(e){e.stopPropagation(),s(!0)},title:o.isEdit?"Edit Indicator":"Add Indicator",color:"primary"},o.isEdit?r.a.createElement(Vv.a,{color:"primary"}):r.a.createElement(Hv.a,{color:"primary"})),c&&r.a.createElement(Gr.a,{fullWidth:!0,maxWidth:"md",open:c,onClose:u,style:{overflow:"hidden"},onClick:function(e){return e.stopPropagation()}},r.a.createElement(Hr.a,null,o.isEdit?"Edit":"Create"," Indicator"),r.a.createElement(Jr.a,null,o.isEdit?r.a.createElement(rP,Object.assign({},o,{helpers:o.helpers,source:o.source,targetYears:o.targetYears,onClose:u,onRefresh:t,referencedOptions:a,details:o.details})):r.a.createElement(sP,Object.assign({},o,{helpers:o.helpers,source:o.source,targetYears:o.targetYears,onClose:u,onRefresh:t,referencedOptions:a,details:o.details})))))},mP=["indicators","details"],pP=function(e){var t=e.indicators,a=e.details,n=Object(T.a)(e,mP),o=n.record&&n.record[n.reference]||[];return r.a.createElement(Fi.a,{style:{overflow:"auto",marginBottom:25}},r.a.createElement(oi.a,{size:"small"},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Name"),r.a.createElement(ci.a,null,"Baseline"),r.a.createElement(ci.a,null,"Target"),r.a.createElement(ci.a,null,"Verification Means"),r.a.createElement(ci.a,null,"Format"),r.a.createElement(ci.a,null,"Unit"),r.a.createElement(ci.a,null,"KPI"),r.a.createElement(ci.a,null))),r.a.createElement(si.a,null,t&&t.map((function(e){var t,i;return e?r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e.name),r.a.createElement(ci.a,{style:{width:"10%"}},br(e.baseline)),r.a.createElement(ci.a,{style:{width:"10%"}},e.targets&&br(e.targets.project)),r.a.createElement(ci.a,null,e.verification_means),r.a.createElement(ci.a,null,null===(t=e.format)||void 0===t?void 0:t.name),r.a.createElement(ci.a,null,null===(i=e.unit)||void 0===i?void 0:i.name),r.a.createElement(ci.a,{style:{verticalAlign:"middle"}},e.has_kpi&&r.a.createElement(Wn.a,null)),r.a.createElement(ci.a,{style:{verticalAlign:"middle"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(dP,Object.assign({},n,{record:e,isEdit:!0,referencedOptions:o,details:a})),r.a.createElement(xv.a,{label:!1,basePath:"/indicators",record:e,resource:"indicators",redirect:!1,undoable:!1,onSuccess:n.onRefresh})))):null})))))},fP=["getSource","scopedFormData","formData","handleSubmit"],_P=function(e){var t=e.record,a=Object(n.useState)({units:[],formats:[],frequencies:[]}),o=Object(Z.a)(a,2),i=o[0],l=o[1],c=Object(n.useState)({project_detail:[],outcome:[],output:[]}),s=Object(Z.a)(c,2),d=s[0],m=s[1],p=Object(Ca.a)();Object(n.useEffect)((function(){p.getListOfAll("formats",{}).then((function(e){e&&e.data&&l((function(t){return Object(u.a)(Object(u.a)({},t),{},{formats:e.data})}))})),p.getListOfAll("frequencies",{}).then((function(e){e&&e.data&&l((function(t){return Object(u.a)(Object(u.a)({},t),{},{frequencies:e.data})}))})),p.getListOfAll("units",{}).then((function(e){e&&e.data&&l((function(t){return Object(u.a)(Object(u.a)({},t),{},{units:e.data})}))}))}),[]);var f=function(e){t&&p.getListOfAll("indicators",{filter:{project_detail_id:Number((null===t||void 0===t?void 0:t.id)||e)}}).then((function(e){e&&e.data&&m(Object(w.groupBy)(e.data,"entity_type"))}))};Object(n.useEffect)((function(){f()}),[]);var _=e.record&&Oi(e.record.start_date,e.record.end_date);return r.a.createElement(js.a,null,(function(a){a.getSource,a.scopedFormData,a.formData,a.handleSubmit,Object(T.a)(a,fP);return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"50px"}},r.a.createElement("h2",null,"Project Indicators"),r.a.createElement(dP,{record:e.record,source:"indicators",targetYears:_,type:"project_detail",reference:"project_detail",onRefresh:f,helpers:i,details:t,referencedOptions:t.outcomes})),r.a.createElement(pP,{type:"project_detail",record:e.record,indicators:d.project_detail,targetYears:_,source:"indicators",reference:"project_detail",onRefresh:f,helpers:i,details:t})),r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"50px"}},r.a.createElement("h2",null,"Outcome Indicators"),r.a.createElement(dP,{record:e.record,targetYears:_,source:"indicators",type:"outcome",reference:"outcomes",onRefresh:f,helpers:i,details:t,referencedOptions:t.outcomes})),r.a.createElement(pP,{type:"outcome",record:e.record,indicators:d.outcome,targetYears:_,source:"indicators",reference:"outcomes",onRefresh:f,helpers:i,details:t})),r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"50px"}},r.a.createElement("h2",null,"Outputs Indicators"),r.a.createElement(dP,{record:e.record,targetYears:_,source:"indicators",type:"output",reference:"outputs",onRefresh:f,helpers:i,details:t,referencedOptions:t.outputs})),r.a.createElement(pP,{type:"output",record:e.record,indicators:d.output,targetYears:_,source:"indicators",reference:"outputs",onRefresh:f,helpers:i,details:t})))}))},gP=["getSource","scopedFormData","formData"],hP={marginRight:"10px"};function vP(e){var t=e.children;return r.a.createElement(se.a,{component:"div",style:{padding:24}},t)}var bP=Object(ee.c)((function(e){return{loading:e.admin.loading}}),null)((function(e){var t=Object(pe.a)(),a=Object(_s.f)().values,o=function(t,n){e.setMatrixStep(n),e.save(a,!1)},i=function(t){var a=0==e.loading?null:r.a.createElement(Yr.a,{style:hP,size:25,thickness:2});return t===e.matrixStep?a:null};return r.a.createElement(js.a,null,(function(a){a.getSource,a.scopedFormData;var l=a.formData;Object(T.a)(a,gP);return r.a.createElement(n.Fragment,null,l&&Y("project_result_matrix_baseline_show",l.phase_id)&&r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.baseline",fullWidth:!0},r.a.createElement(os.a,{options:{fullWidth:"true"},label:t("resources.project-details.fields.baseline"),source:"baseline",choices:bi(),variant:"outlined",margin:"none",validate:Object(rs.j)()})),r.a.createElement("br",null),r.a.createElement(Us.a,{value:e.matrixStep,onChange:o,indicatorColor:"primary",textColor:"primary",variant:null},r.a.createElement(Vs.a,{label:r.a.createElement("span",null,i(0),t("resources.project-details.fields.goals",{smart_count:2}))}),r.a.createElement(Vs.a,{label:r.a.createElement("span",null,i(1),t("resources.outcomes.name",{smart_count:2}))}),r.a.createElement(Vs.a,{label:r.a.createElement("span",null,i(2),t("resources.outputs.name",{smart_count:2}))}),Y("has_pimis_fields")&&r.a.createElement(Vs.a,{label:r.a.createElement("span",null,i(3),t("resources.indicators.name",{smart_count:2}))}),l&&Y("project_result_matrix_activity_show",l.phase_id)&&r.a.createElement(Vs.a,{label:r.a.createElement("span",null,i(4),t("resources.activities.name",{smart_count:2}))})),r.a.createElement(vP,null,function(t){if(Y("has_pimis_fields"))switch(t){case 0:return r.a.createElement(zS,e);case 1:return r.a.createElement(GS,e);case 2:return r.a.createElement($S,e);case 3:return r.a.createElement(_P,e);case 4:return r.a.createElement(ZS,e);default:return r.a.createElement(zS,e)}switch(t){case 0:return r.a.createElement(zS,e);case 1:return r.a.createElement(GS,e);case 2:return r.a.createElement($S,e);case 3:return r.a.createElement(ZS,e);default:return r.a.createElement(zS,e)}}(e.matrixStep)))}))})),EP=["getSource","scopedFormData","formData"];var jP=function(e){var t=Object(pe.a)(),a=mx("has_pimis_fields"),o=mx("has_pimis_climate_risks_table",e.record.phase_id);return r.a.createElement(js.a,null,(function(i){i.getSource,i.scopedFormData;var l=i.formData;Object(T.a)(i,EP);return r.a.createElement(n.Fragment,null,l&&Y("project_implementing_strategies_show",l.phase_id)&&r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,t("titles.implementing_strategies")),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.sustainability_plan",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({source:"sustainability_plan",label:t("resources.project-details.fields.sustainability_plan"),validate:dO("sustainability_plan"),isRequired:Boolean(dO("sustainability_plan")),formData:l},e)))),a?o?null:r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.situation_analysis",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({source:"situation_analysis",isRequired:Boolean(dO("situation_analysis")),validate:dO("situation_analysis"),formData:l,label:t("resources.project-details.fields.situation_analysis")},e))):null,a?null:r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.situation_analysis",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:t("resources.project-details.fields.situation_analysis"),isRequired:Boolean(dO("situation_analysis")),source:"situation_analysis",validate:dO("situation_analysis"),formData:l},e))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.problem_statement",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:t("resources.project-details.fields.problem_statement"),source:"problem_statement",isRequired:Boolean(dO("problem_statement")),validate:dO("problem_statement"),formData:l},e))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.problem_cause",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:t("resources.project-details.fields.problem_cause"),source:"problem_cause",validate:dO("problem_cause"),isRequired:Boolean(dO("problem_cause")),formData:l},e))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.problem_effects",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:t("resources.project-details.fields.problem_effects"),source:"problem_effects",isRequired:Boolean(dO("problem_effects")),validate:dO("problem_effects"),formData:l},e))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.justification",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:t("resources.project-details.fields.justification"),isRequired:Boolean(dO("justification")),source:"justification",validate:dO("justification"),formData:l},e))),l&&Y("has_behaviour_form_fields",l.phase_id)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.procurement_plan_description",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:t("resources.project-details.fields.procurement_plan_description"),source:"procurement_plan_description",formData:l,validate:dO("procurement_plan_description"),isRequired:Boolean(dO("procurement_plan_description"))},e))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.work_plan_description",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:t("resources.project-details.fields.work_plan_description"),source:"work_plan_description",formData:l,validate:dO("work_plan_description"),isRequired:Boolean(dO("work_plan_description"))},e)))),l&&Y("has_pimis_fields",l.phase_id)&&r.a.createElement(n.Fragment,null,Y("show_pimis_risk_assessment_table",l.phase_id)?null:r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.risk_assessment",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:t("resources.project-details.fields.risk_assessment"),source:"risk_assessment",isRequired:Boolean(dO("risk_assessment")),validate:dO("risk_assessment"),formData:l},e))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.me_strategies",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:t("resources.project-details.fields.me_strategies"),source:"me_strategies",validate:dO("me_strategies"),isRequired:Boolean(dO("me_strategies")),formData:l},e))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.governance",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:t("resources.project-details.fields.governance"),source:"governance",isRequired:Boolean(dO("governance")),validate:dO("me_strategies"),formData:l},e)))))}))},yP=["formData","scopedFormData","getSource"];var OP=function(e){var t=Object(pe.a)(),a=mx("project_MDA_government_agencies"),o=mx("project_has_government_agencies"),i=mx("has_default_array_input_value"),l=Object(_s.f)().values,c=B({name:"government_coordinations"});return Object(n.useMemo)((function(){o&&i&&l&&l.government_coordinations&&0===l.government_coordinations.length&&c([{}])}),[e.record]),o?r.a.createElement(Ss.a,{source:"government_coordinations",label:t("resources.project-details.fields.government_coordinations.title")},r.a.createElement(Ps.a,null,r.a.createElement(js.a,null,(function(o){var i=o.formData,l=o.scopedFormData,c=o.getSource;Object(T.a)(o,yP);return r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.government_agencies.name",fullWidth:!0},a?r.a.createElement(Gf,Object.assign({},e,{source:c("organization_id"),title:t("resources.project-details.fields.government_agencies.name"),config:"organizational_config",reference:"organizations",field:c("organization"),level:2})):r.a.createElement(ns.a,{label:t("resources.project-details.fields.government_agencies.name"),source:c("organization_id"),variant:"outlined",margin:"none"})),l&&!l.organization_id&&l.additional_data&&r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.government_agencies.name",fullWidth:!0},r.a.createElement(ns.a,{label:t("resources.project-details.fields.government_agencies.name"),source:c("additional_data.name"),variant:"outlined",margin:"none",disabled:!0})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.government_agencies.description",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:t("resources.project-details.fields.government_agencies.description"),source:c("description"),formData:i,validate:dO("government_coordinations","description"),isRequired:!0},e))))})))):null},wP=["getSource","scopedFormData","formData"];var xP=function(e){var t=Object(n.useState)([]),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)([]),c=Object(Z.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)([]),m=Object(Z.a)(d,2),p=m[0],f=m[1],_=Object(pe.a)(),g=Object(Ca.a)();Object(n.useEffect)((function(){g.getListOfAll("parameters",{sort_field:"id"}).then((function(e){if(e&&e.data){var t=x.a.find(e.data,(function(e){return"ndp_number"===e.param_key}));t&&i(t.param_value);var a=x.a.find(e.data,(function(e){return"focus_areas"===e.param_key}));a&&u(a.param_value)}}))}),[]),Object(n.useEffect)((function(){g.getListOfAll("interventions",{sort_field:"id",filter:{program_id:e.projectData.program_id}}).then((function(e){e&&e.data&&f(e.data)}))}),[e.projectData.program_id]);var h=[{id:"development_partners",name:_("resources.project-details.fields.other_plans.development_partners")},{id:"cabinet_directives",name:_("resources.project-details.fields.other_plans.cabinet_directives")},{id:"parliament_approval",name:_("resources.project-details.fields.other_plans.parliament_approval")},{id:"stare_owned_enterprise",name:_("resources.project-details.fields.other_plans.stare_owned_enterprise")},{id:"regional_integration_policy",name:_("resources.project-details.fields.other_plans.regional_integration_policy")},{id:"political_manifestos",name:_("resources.project-details.fields.other_plans.political_manifestos")},{id:"interest_groups_or_beneficiaries",name:_("resources.project-details.fields.other_plans.interest_groups_or_beneficiaries")},{id:"private_sponsors",name:_("resources.project-details.fields.other_plans.private_sponsors")},{id:"sustainable_development_goals",name:_("resources.project-details.fields.other_plans.sustainable_development_goals")}];return r.a.createElement(js.a,null,(function(t){t.getSource,t.scopedFormData;var a=t.formData;Object(T.a)(t,wP);return r.a.createElement(n.Fragment,null,Y("has_legacy_ndp",a.phase_id)&&r.a.createElement(n.Fragment,null,r.a.createElement("h5",null,_("resources.project-details.fields.strategic_alignment")),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.in_ndp.title",bool:!0},r.a.createElement(os.a,{label:_("resources.project-details.fields.in_ndp.title"),source:"in_ndp",choices:[{id:!0,name:_("resources.project-details.fields.in_ndp.yes")},{id:!1,name:_("resources.project-details.fields.in_ndp.other")}],options:{fullWidth:"true"},variant:"outlined",margin:"none",style:{width:250}})),a&&a.in_ndp&&r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.ndp_type.title",bool:!0},r.a.createElement(os.a,{label:_("resources.project-details.fields.ndp_type.title"),source:"ndp_type",choices:[{id:"CORE",name:_("resources.project-details.fields.ndp_type.core")},{id:"PRIORITY",name:_("resources.project-details.fields.ndp_type.priority")}],options:{fullWidth:"true"},variant:"outlined",margin:"none"})),a&&a.in_ndp&&r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.ndp_number"},r.a.createElement(os.a,{options:{fullWidth:"true"},label:_("resources.project-details.fields.ndp_number"),source:"ndp_number",choices:jr(o),validate:dO("ndp_number"),variant:"outlined",margin:"none"})),a&&a.in_ndp&&"CORE"===a.ndp_type&&r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.ndp_name",fullWidth:!0},r.a.createElement(ns.a,{label:_("resources.project-details.fields.ndp_name"),source:"ndp_name",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.ndp_page_no",fullWidth:!0},r.a.createElement(ns.a,{label:_("resources.project-details.fields.ndp_page_no"),source:"ndp_page_no",validate:Object(rs.h)(),variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.ndp_focus_area.title",bool:!0},r.a.createElement(os.a,{label:_("resources.project-details.fields.ndp_focus_area.title"),source:"ndp_focus_area",choices:jr(s),options:{fullWidth:"true"},variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.ndp_intervention",fullWidth:!0},r.a.createElement(ns.a,{label:_("resources.project-details.fields.ndp_intervention"),source:"ndp_intervention",variant:"outlined",margin:"none"})),Y("has_ibp_fields")&&r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.ndp_intervention",fullWidth:!0},r.a.createElement(Tf.a,{label:_("resources.project-details.fields.ndp_intervention"),source:"intervention_ids",choices:p,options:{fullWidth:"true"},variant:"outlined",margin:"none"}))),a&&a.in_ndp&&"PRIORITY"===a.ndp_type&&r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.ndp_focus_area.title",bool:!0},r.a.createElement(os.a,{label:_("resources.project-details.fields.ndp_focus_area.title"),source:"ndp_focus_area",choices:[{id:"wealth_creation",name:_("resources.project-details.fields.ndp_focus_area.wealth_creation")},{id:"inclusive_growth",name:_("resources.project-details.fields.ndp_focus_area.inclusive_growth")},{id:"competitiveness",name:_("resources.project-details.fields.ndp_focus_area.competitiveness")}],options:{fullWidth:"true"},variant:"outlined",margin:"none"})),Y("has_ibp_fields")&&r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.ndp_intervention",fullWidth:!0},r.a.createElement(Tf.a,{label:_("resources.project-details.fields.ndp_intervention"),source:"intervention_ids",choices:p,options:{fullWidth:"true"},variant:"outlined",margin:"none"}))),a&&!a.in_ndp&&r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.ndp_strategic_directives",bool:!0},r.a.createElement(os.a,{label:_("resources.project-details.fields.ndp_strategic_directives"),source:"ndp_strategic_directives",choices:h,options:{fullWidth:"true"},variant:"outlined",margin:"none",style:{width:250}}))),Y("has_strategic_alignment",a.phase_id)&&r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.ndp_plan_details",fullWidth:!0},r.a.createElement(qf,Object.assign({source:"ndp_plan_details",formData:a,validate:dO("ndp_plan_details"),isRequired:Boolean(dO("ndp_plan_details")),label:_("resources.project-details.fields.ndp_plan_details")},e))))}))},kP=["formData","scopedFormData","getSource"],SP=["formData","scopedFormData","getSource"],PP=["formData","scopedFormData","getSource"];var CP=function(e){var t=Object(pe.a)(),a=mx("project_stakeholders_multiple"),o=mx("has_pimis_fields"),i=mx("has_pimis_stakeholders_table",e.record.phase_id);return o&&i?null:o&&!i?r.a.createElement(js.a,null,(function(a){var n=a.formData;a.scopedFormData,a.getSource,Object(T.a)(a,kP);return r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.stakeholders_consultation",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:t("resources.project-details.fields.stakeholders_consultation"),source:"stakeholder_consultation",validate:dO("stakeholder_consultation"),isRequired:!0,formData:n},e)))})):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ss.a,{source:"stakeholders",label:t("resources.project-details.fields.stakeholders.title"),validate:dO("stakeholders")},r.a.createElement(Ps.a,{disableAdd:!a,disableRemove:!a},r.a.createElement(js.a,null,(function(o){var i=o.formData,l=(o.scopedFormData,o.getSource);Object(T.a)(o,SP);return a&&!i.stakeholders&&(i.stakeholders[0]={}),r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.stakeholder.name",fullWidth:!0},r.a.createElement(ns.a,{label:t("resources.project-details.fields.stakeholders.name"),source:l("name"),validate:dO("stakeholders","name"),variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.stakeholder.responsibilities",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({source:l("responsibilities"),validate:dO("stakeholders","responsibilities"),isRequired:!0,label:t("resources.project-details.fields.stakeholders.responsibilities"),formData:i},e))))})))),Y("has_ibp_fields")&&r.a.createElement(js.a,null,(function(a){var n=a.formData;a.scopedFormData,a.getSource,Object(T.a)(a,PP);return r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.stakeholder.affected_population",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({source:"affected_population",label:t("resources.project-details.fields.stakeholders.affected_population"),formData:n},e)))})))};var NP=function(e){var t=Y("has_pimis_fields"),a=Y("has_esnip_fields");return r.a.createElement(n.Fragment,null,t&&r.a.createElement(CP,e),r.a.createElement(jP,e),!t&&!a&&r.a.createElement(CP,e),r.a.createElement(OP,e),r.a.createElement(xP,e))},AP=["getSource","scopedFormData","formData"],DP=function(e){var t=Object(pe.a)();return r.a.createElement(js.a,null,(function(a){a.getSource,a.scopedFormData;var n=a.formData;Object(T.a)(a,AP);return r.a.createElement("div",null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.behavior_knowledge_products",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:t("resources.project-details.fields.behavior_knowledge_products"),source:"behavior_knowledge_products",validate:dO("behavior_knowledge_products"),isRequired:Boolean(dO("behavior_knowledge_products")),formData:n},e))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.behavior_project_results",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:t("resources.project-details.fields.behavior_project_results"),source:"behavior_project_results",formData:n,validate:dO("behavior_project_results"),isRequired:Boolean(dO("behavior_project_results"))},e))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.behavior_measures",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:t("resources.project-details.fields.behavior_measures"),source:"behavior_measures",formData:n,validate:dO("behavior_measures"),isRequired:Boolean(dO("behavior_measures"))},e))))}))},TP=["getSource","scopedFormData","formData"],FP=function(e){var t=Object(pe.a)(),a=function(e,a){return a&&a.beneficiary_analysis&&parseInt(a.beneficiary_analysis.population_in_poverty)>parseInt(a.beneficiary_analysis.ref_population)?t("messages.beneficiary_population"):null};return r.a.createElement(js.a,null,(function(n){n.getSource,n.scopedFormData;var o=n.formData;Object(T.a)(n,TP);return r.a.createElement(oi.a,{class:"table"},r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{colspan:"3"},r.a.createElement(cs,{tooltipText:t("tooltips.resources.project-details.fields.beneficiary_analysis.fields.ref_population"),fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.h)(),a],source:"beneficiary_analysis.ref_population",label:t("resources.project-details.fields.beneficiary_analysis.fields.ref_population"),format:_r,parse:gr,margin:"none",variant:"outlined"}))),r.a.createElement(ci.a,null," ",r.a.createElement(cs,{tooltipText:t("tooltips.resources.project-details.fields.beneficiary_analysis.fields.ref_year"),fullWidth:!0},r.a.createElement(ns.a,{validate:Object(rs.h)(),source:"beneficiary_analysis.ref_year",label:t("resources.project-details.fields.beneficiary_analysis.fields.ref_year"),margin:"none",variant:"outlined"})))),r.a.createElement(li.a,null,r.a.createElement(ci.a,{colspan:"3"},r.a.createElement(cs,{tooltipText:t("tooltips.resources.project-details.fields.beneficiary_analysis.fields.population_in_poverty"),fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.h)(),a],source:"beneficiary_analysis.population_in_poverty",label:t("resources.project-details.fields.beneficiary_analysis.fields.population_in_poverty"),format:_r,parse:gr,margin:"none",variant:"outlined"}))),r.a.createElement(ci.a,null,r.a.createElement(cs,{tooltipText:t("tooltips.resources.project-details.fields.beneficiary_analysis.fields.poverty_year"),fullWidth:!0},r.a.createElement(ns.a,{validate:Object(rs.h)(),source:"beneficiary_analysis.poverty_year",label:t("resources.project-details.fields.beneficiary_analysis.fields.poverty_year"),margin:"none",variant:"outlined"})))),r.a.createElement(li.a,null,r.a.createElement(ci.a,{colspan:"4"},r.a.createElement("h4",null,t("resources.project-details.fields.beneficiary_analysis.fields.composition")))),r.a.createElement(li.a,null,r.a.createElement(ci.a,{colspan:"2"},r.a.createElement(cs,{tooltipText:t("tooltips.resources.project-details.fields.beneficiary_analysis.fields.male"),fullWidth:!0},r.a.createElement(ns.a,{validate:Object(rs.h)(),source:"beneficiary_analysis.male",label:t("resources.project-details.fields.beneficiary_analysis.fields.male"),format:_r,parse:gr,margin:"none",variant:"outlined"}))),r.a.createElement(ci.a,{colspan:"2"},r.a.createElement(cs,{tooltipText:t("tooltips.resources.project-details.fields.beneficiary_analysis.fields.female"),fullWidth:!0},r.a.createElement(ns.a,{validate:Object(rs.h)(),source:"beneficiary_analysis.female",label:t("resources.project-details.fields.beneficiary_analysis.fields.female"),format:_r,parse:gr,margin:"none",variant:"outlined"})))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,r.a.createElement(cs,{tooltipText:t("tooltips.resources.project-details.fields.beneficiary_analysis.fields.children"),fullWidth:!0},r.a.createElement(ns.a,{validate:Object(rs.h)(),source:"beneficiary_analysis.children",label:t("resources.project-details.fields.beneficiary_analysis.fields.children"),format:_r,parse:gr,margin:"none",variant:"outlined"}))),r.a.createElement(ci.a,null,r.a.createElement(cs,{tooltipText:t("tooltips.resources.project-details.fields.beneficiary_analysis.fields.youth"),fullWidth:!0},r.a.createElement(ns.a,{validate:Object(rs.h)(),source:"beneficiary_analysis.youth",label:t("resources.project-details.fields.beneficiary_analysis.fields.youth"),format:_r,parse:gr,margin:"none",variant:"outlined"}))," "),r.a.createElement(ci.a,null,r.a.createElement(cs,{tooltipText:t("tooltips.resources.project-details.fields.beneficiary_analysis.fields.adults"),fullWidth:!0},r.a.createElement(ns.a,{validate:Object(rs.h)(),source:"beneficiary_analysis.adults",label:t("resources.project-details.fields.beneficiary_analysis.fields.adults"),format:_r,parse:gr,margin:"none",variant:"outlined"}))," "),r.a.createElement(ci.a,null,r.a.createElement(cs,{tooltipText:t("tooltips.resources.project-details.fields.beneficiary_analysis.fields.elderly"),fullWidth:!0},r.a.createElement(ns.a,{validate:Object(rs.h)(),source:"beneficiary_analysis.elderly",label:t("resources.project-details.fields.beneficiary_analysis.fields.elderly"),format:_r,parse:gr,margin:"none",variant:"outlined"}))," ")),r.a.createElement(li.a,null,r.a.createElement(ci.a,{colspan:"2"},r.a.createElement(cs,{tooltipText:t("tooltips.resources.project-details.fields.beneficiary_analysis.fields.extreme_poverty"),fullWidth:!0},r.a.createElement(ns.a,{validate:Object(rs.h)(),source:"beneficiary_analysis.extreme_poverty",label:t("resources.project-details.fields.beneficiary_analysis.fields.extreme_poverty"),format:_r,parse:gr,margin:"none",variant:"outlined"}))),r.a.createElement(ci.a,null,r.a.createElement(cs,{tooltipText:t("tooltips.resources.project-details.fields.beneficiary_analysis.fields.poor"),fullWidth:!0},r.a.createElement(ns.a,{validate:Object(rs.h)(),source:"beneficiary_analysis.poor",label:t("resources.project-details.fields.beneficiary_analysis.fields.poor"),format:_r,parse:gr,margin:"none",variant:"outlined"}))),r.a.createElement(ci.a,null,r.a.createElement(cs,{tooltipText:t("tooltips.resources.project-details.fields.beneficiary_analysis.fields.not_poor"),fullWidth:!0},r.a.createElement(ns.a,{validate:Object(rs.h)(),source:"beneficiary_analysis.not_poor",label:t("resources.project-details.fields.beneficiary_analysis.fields.not_poor"),format:_r,parse:gr,margin:"none",variant:"outlined"}))," ")),r.a.createElement(li.a,null,r.a.createElement(ci.a,{colspan:"4"},r.a.createElement(cs,{tooltipText:t("tooltips.resources.project-details.fields.beneficiary_analysis.fields.location"),fullWidth:!0},r.a.createElement(qf,Object.assign({label:t("resources.project-details.fields.beneficiary_analysis.fields.location"),source:"beneficiary_analysis.location",formData:o,validate:dO("beneficiary_analysis.location"),isRequired:Boolean(dO("beneficiary_analysis.location"))},e))))),r.a.createElement(li.a,null,r.a.createElement(ci.a,{colspan:"4"},r.a.createElement(cs,{tooltipText:t("tooltips.resources.project-details.fields.beneficiary_analysis.fields.other_aspects"),fullWidth:!0},r.a.createElement(qf,Object.assign({label:t("resources.project-details.fields.beneficiary_analysis.fields.other_aspects"),source:"beneficiary_analysis.other_aspects",validate:dO("beneficiary_analysis.other_aspects"),isRequired:Boolean(dO("beneficiary_analysis.other_aspects")),formData:o},e)))))))}))},RP=function(e){Object(bn.a)(a,e);var t=Object(En.a)(a);function a(e){var n;return Object(hn.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(vn.a)(a,[{key:"componentDidCatch",value:function(e,t){console.log("Budget Allocatio: "+e,t)}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("h1",null,"Something Went Wrong"):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(r.a.Component),IP=["getSource","formData","scopedFormData"];function MP(){MP=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(P){c=function(e,t,a){return e[t]=a}}function s(e,t,a,r){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new x(r||[]);return n(i,"_invoke",{value:j(e,a,l)}),i}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(P){return{type:"throw",arg:P}}}e.wrap=s;var d={};function m(){}function p(){}function f(){}var _={};c(_,o,(function(){return this}));var g=Object.getPrototypeOf,h=g&&g(g(k([])));h&&h!==t&&a.call(h,o)&&(_=h);var v=f.prototype=m.prototype=Object.create(_);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var r;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(r,i){!function n(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}(n,o,r,i)}))}return r=r?r.then(i,i):i()}})}function j(e,t,a){var n="suspendedStart";return function(r,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw o;return S()}for(a.method=r,a.arg=o;;){var i=a.delegate;if(i){var l=y(i,a);if(l){if(l===d)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var c=u(e,t,a);if("normal"===c.type){if(n=a.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(n="completed",a.method="throw",a.arg=c.arg)}}}function y(e,t){var a=t.method,n=e.iterator[a];if(void 0===n)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),d;var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,n(v,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,a,n,r,o){void 0===o&&(o=Promise);var i=new E(s(t,a,n,r),o);return e.isGeneratorFunction(a)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,l,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return i.type="throw",i.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),w(a),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;w(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:k(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),d}},e}var WP={};var LP=function(e){var t=Object(n.useState)(null),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=(Y("has_pimis_fields"),Object(pe.a)()),c=L(),s=Object(n.useState)(0),u=Object(Z.a)(s,2),d=u[0],m=u[1];return Object(n.useEffect)((function(){(function(e){return YP.apply(this,arguments)})(e.id).then((function(e){return e.json()})).then((function(e){console.log(e.at(-1).investment_stats.total_cost),i(e.at(-1).investment_stats.total_cost)}))}),[]),r.a.createElement(n.Fragment,null,r.a.createElement(js.a,null,(function(t){t.getSource;var a=t.formData,n=(t.scopedFormData,Object(T.a)(t,IP),Y("has_pimis_fields")?Ei(S()(),S()().add(3,"years")):Ei(e.record.start_date,e.record.end_date)),i=Y("has_pimis_fields")?dO("budget_code"):[dO("budget_code"),Object(rs.h)()],s=!(null===a||void 0===a?void 0:a.budget_code)||!(null===a||void 0===a?void 0:a.signed_date)||!a.financing_agreement_date,u=!(null===a||void 0===a?void 0:a.budget_code)||!(null===a||void 0===a?void 0:a.signed_date)||!(null===a||void 0===a?void 0:a.coordinator)||!(null===a||void 0===a?void 0:a.me_creator),p=Y("has_pimis_fields")?s:u;return r.a.createElement("div",null,r.a.createElement(Us.a,{value:d,onChange:function(e,t){return m(t)},indicatorColor:"primary",textColor:"primary",variant:null,style:{marginBottom:20,borderBottom:"1px solid #cacaca"}},r.a.createElement(Vs.a,{label:l("titles.budget_code")}),r.a.createElement(Vs.a,{label:l("titles.budget_allocation"),disabled:p})),r.a.createElement("div",{style:{display:0===d?"block":"none"}},r.a.createElement(ns.a,{source:"budget_code",label:l("resources.projects.fields.budget_code"),validate:i,variant:"outlined",margin:"none",fullWidth:!0,disabled:!Y("has_pimis_fields")&&!c("full_access"),style:{marginBottom:15}}),r.a.createElement(ys.a,{source:"signed_date",label:l("resources.projects.fields.signed_date"),validate:dO("signed_date"),variant:"outlined",margin:"none",fullWidth:!0}),Y("has_pimis_fields")&&r.a.createElement(ys.a,{source:"financing_agreement_date",label:l("resources.projects.fields.financing_agreement_date"),validate:dO("financing_agreement_date"),variant:"outlined",margin:"none",fullWidth:!0}),Y("has_budgeting_coordinator")&&r.a.createElement(r.a.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.coordinator",fullWidth:!0},r.a.createElement(ns.a,{source:"coordinator",label:"Coordinator",variant:"outlined",margin:"none",fullWidth:!0,validate:dO("coordinator")})),r.a.createElement(cs,{tooltipText:l("tooltips.resources.project-details.fields.me_creator"),label:"",fullWidth:!0},r.a.createElement(ns.a,{source:"me_creator",label:"M&E Creator",variant:"outlined",margin:"none",validate:dO("me_creator"),fullWidth:!0})))),r.a.createElement("div",{style:{display:1===d?"block":"none"}},r.a.createElement(oi.a,null,r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Budget Type"),n&&n.map((function(e){S()(e.id,"YYYY-MM-DD").format("YYYY");return r.a.createElement(ci.a,{align:"center"},"".concat(e.name," (").concat(l("titles.currency"),")"))}))),r.a.createElement(li.a,{id:"gou-allocations"},r.a.createElement(ci.a,null,"Government of Uganda"),n&&n.map((function(e){var t=S()(e.id,"YYYY-MM-DD").format("YYYY");return r.a.createElement(ci.a,{align:"center"}," ",r.a.createElement(ns.a,{defaultValue:0,id:"gou-".concat(e.name),label:!1,source:"budget_allocation.gov."+String(t)+"y",variant:"outlined",margin:"none",format:_r,parse:gr,onChange:function(t){WP["gou-".concat(e.name)]=parseInt(t.target.value.replaceAll(",","")),BP(WP)>o&&(alert("Warning! The total of amounts entered exceeds the approved total project cost(".concat(o,")")),document.getElementById("gou-".concat(e.name)).value=0)}}))}))),r.a.createElement(li.a,{id:"ext-allocations"},r.a.createElement(ci.a,null,"External financing"),n&&n.map((function(e){var t=S()(e.id,"YYYY-MM-DD").format("YYYY");return r.a.createElement(ci.a,{align:"center"}," ",r.a.createElement(ns.a,{id:"ext-".concat(e.name),defaultValue:0,label:!1,source:"budget_allocation.donor."+String(t)+"y",variant:"outlined",margin:"none",format:_r,parse:gr,onChange:function(t){WP["ext-".concat(e.name)]=parseInt(t.target.value.replaceAll(",","")),BP(WP)>o&&(alert("Warning! The total of amounts entered exceeds the approved total project cost(".concat(o,")")),document.getElementById("ext-".concat(e.name)).value="0")}}))})))))))})))};function YP(){return(YP=Object(oo.a)(MP().mark((function e(t){return MP().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(h,"/project-details?filter=%7B%22project_id%22%3A").concat(t,"%7D&page=1&per_page=-1&sort_field=id&sort_order=ASC"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem(d)),ContentType:"JSON/TEXT"},filter:{id:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function BP(e){for(var t=0,a=0,n=Object.entries(e);a<n.length;a++){var r=Object(Z.a)(n[a],2);r[0];t+=r[1]}return t}var zP=["record"],qP=["formData","scopedFormData","getSource"];var UP=function(e){var t=e.record,a=Object(T.a)(e,zP),o=Object(n.useState)([]),i=Object(Z.a)(o,2),l=i[0],c=i[1],s=Object(Ca.a)(),u=Object(pe.a)(),d=B({name:"climate_risks"}),m=Object(_s.f)().values;return Object(n.useMemo)((function(){Y("has_default_array_input_value")&&m&&(x.a.get(m,"climate_risks")?0===x.a.get(m,"climate_risks").length&&d([{}]):d([{}]))}),[t]),Object(n.useEffect)((function(){s.getListOfAll("parameters",{sort_field:"id"}).then((function(e){if(e&&e.data){var t=x.a.find(e.data,(function(e){return"climate_hazard"===e.param_key}));t&&t.param_value&&c(t.param_value.map((function(e){return{id:e,name:e}})))}}))}),[]),r.a.createElement(n.Fragment,null,r.a.createElement(Ss.a,{source:"climate_risks",label:u("resources.project-details.fields.climate_risks.name")},r.a.createElement(Ps.a,null,r.a.createElement(js.a,null,(function(e){var t=e.formData,n=e.scopedFormData,o=e.getSource;Object(T.a)(e,qP);return r.a.createElement("div",null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.climate_risks.climate_hazard",fullWidth:!0},r.a.createElement(os.a,{validate:[Object(rs.j)()],options:{fullWidth:"true"},label:u("resources.project-details.fields.climate_risks.climate_hazard"),source:o("climate_hazard"),choices:l,variant:"outlined",margin:"none"})),n&&"Other"===n.climate_hazard&&r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.climate_risks.climate_hazard_other",fullWidth:!0},r.a.createElement(ns.a,{label:u("resources.project-details.fields.climate_risks.climate_hazard_other"),validate:[Object(rs.j)()],source:o("climate_hazard_other"),variant:"outlined",margin:"none"})),r.a.createElement("div",null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.climate_risks.exposure_risk",fullWidth:!0},r.a.createElement(os.a,{validate:[Object(rs.j)()],variant:"outlined",margin:"none",options:{fullWidth:"true",disabled:a.disabled},className:"boolean-selector",label:u("resources.project-details.fields.climate_risks.exposure_risk"),source:o("exposure_risk"),choices:[{id:"LOW",name:u("resources.project_options.fields.analytical_modules.risk_evaluations.levels.low")},{id:"MEDIUM",name:u("resources.project_options.fields.analytical_modules.risk_evaluations.levels.medium")},{id:"HIGH",name:u("resources.project_options.fields.analytical_modules.risk_evaluations.levels.high")}]})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.climate_risks.vulnerability_risk",fullWidth:!0},r.a.createElement(os.a,{validate:[Object(rs.j)()],variant:"outlined",margin:"none",options:{fullWidth:"true",disabled:a.disabled},className:"boolean-selector",label:u("resources.project-details.fields.climate_risks.vulnerability_risk"),source:o("vulnerability_risk"),choices:[{id:"LOW",name:u("resources.project_options.fields.analytical_modules.risk_evaluations.levels.low")},{id:"MEDIUM",name:u("resources.project_options.fields.analytical_modules.risk_evaluations.levels.medium")},{id:"HIGH",name:u("resources.project_options.fields.analytical_modules.risk_evaluations.levels.high")}]})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.climate_risks.overall_risk",fullWidth:!0},r.a.createElement(os.a,{variant:"outlined",validate:[Object(rs.j)()],margin:"none",options:{fullWidth:"true",disabled:a.disabled},className:"boolean-selector",label:u("resources.project-details.fields.climate_risks.overall_risk"),source:o("overall_risk"),choices:[{id:"LOW",name:u("resources.project_options.fields.analytical_modules.risk_evaluations.levels.low")},{id:"MEDIUM",name:u("resources.project_options.fields.analytical_modules.risk_evaluations.levels.medium")},{id:"HIGH",name:u("resources.project_options.fields.analytical_modules.risk_evaluations.levels.high")}]}))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.climate_risks.vulnerability_impact",fullWidth:!0},r.a.createElement(qf,Object.assign({source:o("vulnerability_impact"),formData:t,label:u("resources.project-details.fields.climate_risks.vulnerability_impact"),validate:[Object(rs.j)()],isRequired:!0},a))))})))))},VP=a(2099),GP=a(2048),HP=["getSource","scopedFormData","formData"];var JP=Object(Uc.a)((function(e){var t=Object(pe.a)();return r.a.createElement(js.a,null,(function(a){a.getSource,a.scopedFormData;var o=a.formData;Object(T.a)(a,HP);return r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"Demand Analysis",textArea:!0},r.a.createElement(qf,Object.assign({source:"demand_analysis",validate:[Object(rs.j)()],label:t("resources.project-details.fields.demand_analysis"),isRequired:!0,formData:o},e))),r.a.createElement(VP.a,{source:"demand_analysis_files",options:{multiple:!0},accept:"application/pdf",label:t("resources.project-details.fields.demand_analysis_files")},r.a.createElement(GP.a,{source:"src",title:"title"})))}))})),XP=["getSource","scopedFormData","formData"];var $P=function(e){var t=Object(pe.a)();return r.a.createElement(js.a,null,(function(a){a.getSource,a.scopedFormData;var o=a.formData;Object(T.a)(a,XP);return r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"IRR %",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)()],source:"irr",label:t("resources.project-details.fields.irr")})),r.a.createElement(cs,{tooltipText:"FNPV (".concat(t("titles.currency")," bln.)"),fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)()],source:"fnpv",label:t("resources.project-details.fields.fnpv")})),r.a.createElement(cs,{tooltipText:"ERR %",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)()],source:"err",label:t("resources.project-details.fields.err")})),r.a.createElement(cs,{tooltipText:"ENPV (".concat(t("titles.currency")," bln.)"),fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)()],source:"enpv",label:t("resources.project-details.fields.enpv")})),r.a.createElement(cs,{tooltipText:"Financing Modality",fullWidth:!0},r.a.createElement(os.a,{source:"financing_modality",validate:[Object(rs.j)()],label:t("resources.project-details.fields.financing_modality"),choices:[{id:"traditional procurement",name:"Tradional Procurement"},{id:"public private partnership",name:"Public Private Partnership"}],options:{fullWidth:"true"}})),r.a.createElement(cs,{tooltipText:"Distribution Module",textArea:!0},r.a.createElement(qf,Object.assign({validate:[Object(rs.j)()],isRequired:!0,label:t("resources.project-details.fields.distributional_assessment"),source:"distributional_assessment",formData:o},e))),r.a.createElement(cs,{tooltipText:"Environmental Impact Assessment",textArea:!0},r.a.createElement(qf,Object.assign({source:"env_impact_assessment",formData:o,validate:[Object(rs.j)()],isRequired:!0,label:t("resources.project-details.fields.env_impact_assessment")},e))))}))},KP=["getSource","scopedFormData","formData"],QP=function(e){var t=Object(pe.a)();return r.a.createElement(js.a,null,(function(a){a.getSource,a.scopedFormData;var n=a.formData;Object(T.a)(a,KP);return r.a.createElement("div",null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.pcn_outcome",textArea:!0},r.a.createElement(qf,Object.assign({label:t("resources.project-details.fields.pcn_outcome"),source:"pcn_outcome",validate:[Object(rs.j)()],isRequired:!0,formData:n},e))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.pcn_interventions",textArea:!0},r.a.createElement(qf,Object.assign({label:t("resources.project-details.fields.pcn_interventions"),source:"pcn_interventions",formData:n,validate:[Object(rs.j)()],isRequired:!0},e))))}))},ZP=["getSource","scopedFormData","formData"];var eC=function(e){var t=Object(pe.a)();return r.a.createElement(js.a,null,(function(a){a.getSource,a.scopedFormData;var o=a.formData,i=(Object(T.a)(a,ZP),o&&Y("project_organization_study_phase_title",o.phase_id)?t("resources.project-details.fields.organization_study_pfs"):t("resources.project-details.fields.organization_study_fs"));return r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.rational_study",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:t("resources.project-details.fields.rational_study"),source:"rational_study",validate:dO("rational_study"),isRequired:!0,formData:o},e))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.methodology",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:t("resources.project-details.fields.methodology"),source:"methodology",validate:dO("methodology"),isRequired:!0,formData:o},e))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.organization_study",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:i,source:"organization_study",validate:dO("organization_study"),isRequired:!0,formData:o},e))))}))};var tC=function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(eC,e))},aC=["record"],nC=["getSource","scopedFormData","formData"];var rC=function(e){var t=e.record,a=Object(T.a)(e,aC),o=Object(pe.a)(),i=Object(_s.f)().values,l=B({name:"om_costs"});return Object(n.useMemo)((function(){Y("has_multiple_om_costs")&&Y("has_default_array_input_value")&&i&&i.maintenance_period&&(x.a.get(i,"om_costs")?0===x.a.get(i,"om_costs").length&&l([{}]):l([{}]))}),[t]),i&&!i.maintenance_period?r.a.createElement("h5",null,o("messages.om_cost")):((Y("has_multiple_om_costs")||i.om_costs)&&0!==i.om_costs.length||l([{}]),r.a.createElement(Ss.a,{source:"om_costs",label:o("resources.project-details.fields.om_cost")},r.a.createElement(Ps.a,{disableAdd:!Y("has_multiple_om_costs"),disableRemove:!Y("has_multiple_om_costs")},r.a.createElement(js.a,null,(function(e){var t=e.getSource,n=e.scopedFormData,i=e.formData,l=(Object(T.a)(e,nC),S()(i.end_date,"YYYY")),c=l.clone().add(1,"years"),s=l.clone().add(i.maintenance_period,"years");return n&&n.costs&&x.a.keys(n.costs).forEach((function(e){var t=e.slice(0,e.length-1);(Number(t)<Number(S()(c).format("YYYY"))||Number(t)>Number(S()(s).format("YYYY")))&&delete n.costs[e]})),r.a.createElement("div",null,i&&Y("has_om_responsible_vote",i.phase_id)&&r.a.createElement(Gf,Object.assign({},a,{source:t("responsible_organization_id"),title:"Responsible Vote",config:"organizational_config",reference:"organizations",field:t("responsible_organization"),level:2,filter:{level:1},isRequired:!0})),r.a.createElement(Gf,Object.assign({},a,{source:t("fund_id"),config:"fund_config",reference:"funds",field:t("fund"),isRequired:!0,validate:dO("om_costs","fund_id"),filter:Y("has_pimis_fields")?{is_donor:0,ids:["1"]}:null})),r.a.createElement(Gf,Object.assign({},a,{source:t("costing_id"),config:"cost_config",reference:"costings",field:t("costing"),isRequired:!0,validate:dO("om_costs","costing_id"),filter:Y("has_pimis_fields")?{is_om_applicable:1}:null})),i&&Oi(c,s).map((function(e){return r.a.createElement(cs,{tooltipText:"tooltips.resources.om_costs.om_years",fullWidth:!0},r.a.createElement(ns.a,{label:"".concat(e.name," (").concat(o("titles.currency"),")"),source:t("costs."+String(e.id)+"y"),resource:i,validate:[Object(rs.h)(),Object(rs.j)()],format:_r,parse:gr,variant:"outlined",margin:"none"}))})))})))))};var oC=function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(rC,e))},iC=["getSource","scopedFormData","formData"];var lC=function(e){var t=Object(pe.a)(),a=e.hasPimisFields?"(222)":"+256",o=e.hasPimisFields?5:4;return r.a.createElement(n.Fragment,null,r.a.createElement(Ss.a,{validate:dO("responsible_officers"),source:"responsible_officers",label:t("resources.project-details.fields.responsible_officers.header")},r.a.createElement(Ps.a,{style:{width:"100%"},disableAdd:!e.multiple,disableRemove:!e.multiple},r.a.createElement(js.a,null,(function(i){var l=i.getSource,c=i.scopedFormData,s=(i.formData,Object(T.a)(i,iC),e.hasPimisFields?{format:function(e){if(e){var t=e.replace("(","").replace(")",""),a=t.slice(0,3),n=t.slice(3,t.length+2);return"(".concat(a,")").concat(n)}return e},parse:function(e){return e?e.replace("(","").replace(")",""):e},validate:[Object(rs.h)(),Object(rs.f)(10,"Must be 10 characters"),Object(rs.d)(10,"Must be 10 characters")]}:e.hasDefaultPhoneCode?{format:function(e){return e?e.slice(0,o)===a?e:"".concat(a).concat(e):a},parse:function(e){return e.slice(o,e.length)},validate:[Object(rs.h)(),Object(rs.f)(9,"Must be 9 characters"),Object(rs.d)(9,"Must be 9 characters"),Object(rs.j)()]}:{validate:[Object(rs.h)(),Object(rs.f)(10,"Must be 10 characters"),Object(rs.d)(10,"Must be 10 characters")]});return r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.responsible_officers.title",fullWidth:!0},r.a.createElement(ns.a,{source:l("title"),validate:dO("responsible_officers","title"),label:t("resources.project-details.fields.responsible_officers.title"),variant:"outlined",margin:"none",disabled:c&&"Project Coordinator / Manager"===c.title})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.responsible_officers.name",fullWidth:!0},r.a.createElement(ns.a,{source:l("name"),validate:dO("responsible_officers","name"),label:t("resources.project-details.fields.responsible_officers.name"),variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.responsible_officers.phone",fullWidth:!0},r.a.createElement(ns.a,Object.assign({validate:dO("responsible_officers","phone"),source:l("phone"),label:t("resources.project-details.fields.responsible_officers.phone"),variant:"outlined",margin:"none"},s))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.responsible_officers.mobile_phone",fullWidth:!0},r.a.createElement(ns.a,Object.assign({source:l("mobile_phone"),validate:dO("responsible_officers","mobile_phone"),label:t("resources.project-details.fields.responsible_officers.mobile_phone"),variant:"outlined",margin:"none"},s))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.responsible_officers.email",fullWidth:!0},r.a.createElement(ns.a,{source:l("email"),label:t("resources.project-details.fields.responsible_officers.email"),validate:[dO("responsible_officers","email"),Object(rs.c)()],variant:"outlined",margin:"none"})))})))))},cC=["record"],sC=["getSource","scopedFormData","formData"];var uC=function(e){var t=e.record,a=Object(T.a)(e,cC),o=Y("has_pimis_fields"),i=Y("project_responsible_officer_has_coordinator"),l=Y("project_responsible_officer_multiple"),c=Y("project_responsible_officer_default_phone_code"),s=Y("has_default_array_input_value"),u=B({name:"responsible_officers"});return Object(n.useMemo)((function(){(l||s)&&(t&&t.responsible_officers&&0===t.responsible_officers.length||!t.responsible_officers)&&u([{}]),i&&t&&0===t.responsible_officers.length&&u([{title:""},{title:"Project Coordinator / Manager"}])}),[t]),r.a.createElement(n.Fragment,null,r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData,e.formData,Object(T.a)(e,sC);return r.a.createElement(lC,Object.assign({multiple:l,hasDefaultPhoneCode:c,hasPimisFields:o},a))})))},dC=["record"],mC=["getSource","scopedFormData","formData"];var pC=function(e){var t=e.record,a=Object(T.a)(e,dC),o=Object(pe.a)(),i=B({name:"project_risks"}),l=Object(_s.f)().values;return Object(n.useMemo)((function(){Y("has_default_array_input_value")&&l&&(x.a.get(l,"project_risks")?0===x.a.get(l,"project_risks").length&&i([{}]):i([{}]))}),[t]),r.a.createElement(n.Fragment,null,r.a.createElement(Ss.a,{source:"project_risks",label:!1},r.a.createElement(Ps.a,{disableAdd:a.disabled,disableRemove:a.disabled},r.a.createElement(js.a,null,(function(e){var t=e.getSource,n=(e.scopedFormData,e.formData);Object(T.a)(e,mC);return r.a.createElement("div",null,r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project-details.fields.project_risks.name"},r.a.createElement(ns.a,{source:t("name"),label:o("resources.project-details.fields.project_risks.name"),validate:Object(rs.j)(),variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.project_risks.impact_level",fullWidth:!0},r.a.createElement(os.a,{validate:Object(rs.j)(),variant:"outlined",margin:"none",options:{fullWidth:"true",disabled:a.disabled},className:"boolean-selector",label:o("resources.project-details.fields.project_risks.impact_level"),source:t("impact_level"),choices:[{id:"LOW",name:o("resources.project_options.fields.analytical_modules.risk_evaluations.levels.low")},{id:"MEDIUM",name:o("resources.project_options.fields.analytical_modules.risk_evaluations.levels.medium")},{id:"HIGH",name:o("resources.project_options.fields.analytical_modules.risk_evaluations.levels.high")}]})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.project_risks.probability",fullWidth:!0},r.a.createElement(os.a,{validate:Object(rs.j)(),variant:"outlined",margin:"none",options:{fullWidth:"true",disabled:a.disabled},className:"boolean-selector",label:o("resources.project-details.fields.project_risks.probability"),source:t("probability"),choices:[{id:"LOW",name:o("resources.project_options.fields.analytical_modules.risk_evaluations.levels.low")},{id:"MEDIUM",name:o("resources.project_options.fields.analytical_modules.risk_evaluations.levels.medium")},{id:"HIGH",name:o("resources.project_options.fields.analytical_modules.risk_evaluations.levels.high")}]})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.project_risks.score",fullWidth:!0},r.a.createElement(os.a,{variant:"outlined",validate:Object(rs.j)(),margin:"none",options:{fullWidth:"true",disabled:a.disabled},className:"boolean-selector",label:o("resources.project-details.fields.project_risks.score"),source:t("score"),choices:[{id:"LOW",name:o("resources.project_options.fields.analytical_modules.risk_evaluations.levels.low")},{id:"MEDIUM",name:o("resources.project_options.fields.analytical_modules.risk_evaluations.levels.medium")},{id:"HIGH",name:o("resources.project_options.fields.analytical_modules.risk_evaluations.levels.high")}]})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project-details.fields.project_risks.response",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({},a,{label:o("resources.project-details.fields.project_risks.response"),source:t("response"),formData:n,validate:[Object(rs.j)()],isRequired:!0}))),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project-details.fields.project_risks.owner"},r.a.createElement(ns.a,{source:t("owner"),label:o("resources.project-details.fields.project_risks.owner"),validate:Object(rs.j)(),variant:"outlined",margin:"none"})))})))))},fC=["record"],_C=["formData","scopedFormData","getSource"];var gC=function(e){var t=e.record,a=Object(T.a)(e,fC),o=Object(n.useState)([]),i=Object(Z.a)(o,2),l=i[0],c=i[1],s=Object(Ca.a)(),u=Object(pe.a)(),d=Y("has_pimis_fields"),m=B({name:"stakeholders"}),p=Object(_s.f)().values;return Object(n.useMemo)((function(){Y("has_default_array_input_value")&&p&&(x.a.get(p,"stakeholders")?0===x.a.get(p,"stakeholders").length&&m([{}]):m([{}]))}),[t]),Object(n.useEffect)((function(){d&&s.getListOfAll("parameters",{sort_field:"id"}).then((function(e){if(e&&e.data){var t=x.a.find(e.data,(function(e){return"engagement_frequency"===e.param_key}));t&&t.param_value&&c(t.param_value.map((function(e){return{id:e,name:e}})))}}))}),[]),r.a.createElement(n.Fragment,null,r.a.createElement(Ss.a,{source:"stakeholders",label:u("resources.project-details.fields.stakeholders.title")},r.a.createElement(Ps.a,null,r.a.createElement(js.a,null,(function(e){var t=e.formData,n=(e.scopedFormData,e.getSource);Object(T.a)(e,_C);return r.a.createElement("div",null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.stakeholder_evaluations.name",fullWidth:!0},r.a.createElement(ns.a,{variant:"outlined",margin:"none",options:{fullWidth:"true",disabled:a.disabled},validate:[Object(rs.j)()],source:n("name"),label:u("resources.project_options.fields.analytical_modules.stakeholder_evaluations.name")})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.stakeholder_evaluations.responsibilities",fullWidth:!0},r.a.createElement(qf,Object.assign({label:u("resources.project_options.fields.analytical_modules.stakeholder_evaluations.responsibilities"),source:n("responsibilities"),formData:t,validate:[Object(rs.j)()],isRequired:!0},a))),r.a.createElement("div",null,r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.stakeholder_evaluations.interest_level",fullWidth:!0},r.a.createElement(os.a,{variant:"outlined",margin:"none",validate:[Object(rs.j)()],options:{fullWidth:"true",disabled:a.disabled},className:"boolean-selector",label:u("resources.project_options.fields.analytical_modules.stakeholder_evaluations.interest_level"),source:n("interest_level"),choices:[{id:"LOW",name:u("resources.project_options.fields.analytical_modules.risk_evaluations.levels.low")},{id:"MEDIUM",name:u("resources.project_options.fields.analytical_modules.risk_evaluations.levels.medium")},{id:"HIGH",name:u("resources.project_options.fields.analytical_modules.risk_evaluations.levels.high")}]})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.stakeholder_evaluations.influence_level",fullWidth:!0},r.a.createElement(os.a,{variant:"outlined",validate:[Object(rs.j)()],margin:"none",options:{fullWidth:"true",disabled:a.disabled},className:"boolean-selector",label:u("resources.project_options.fields.analytical_modules.stakeholder_evaluations.influence_level"),source:n("influence_level"),choices:[{id:"LOW",name:u("resources.project_options.fields.analytical_modules.risk_evaluations.levels.low")},{id:"MEDIUM",name:u("resources.project_options.fields.analytical_modules.risk_evaluations.levels.medium")},{id:"HIGH",name:u("resources.project_options.fields.analytical_modules.risk_evaluations.levels.high")}]}))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.stakeholder_evaluations.communication_channel",fullWidth:!0},r.a.createElement(qf,Object.assign({source:n("communication_channel"),formData:t,validate:[Object(rs.j)()],isRequired:!0,label:u("resources.project_options.fields.analytical_modules.stakeholder_evaluations.communication_channel")},a))),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.stakeholder_evaluations.engagement_frequency",fullWidth:!0},r.a.createElement(os.a,{options:{fullWidth:"true"},validate:[Object(rs.j)()],label:u("resources.project_options.fields.analytical_modules.stakeholder_evaluations.engagement_frequency"),source:n("engagement_frequency"),choices:l,variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.project_options.fields.analytical_modules.stakeholder_evaluations.responsible_entity",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)()],variant:"outlined",margin:"none",options:{fullWidth:"true"},source:n("responsible_entity"),label:u("resources.project_options.fields.analytical_modules.stakeholder_evaluations.responsible_entity")})))})))))},hC=["getSource","scopedFormData","formData"],vC=["getSource","scopedFormData","formData"],bC=Object(Uc.a)((function(e){return r.a.createElement(js.a,null,(function(t){t.getSource,t.scopedFormData,t.formData,Object(T.a)(t,hC);return r.a.createElement("div",{style:{width:"80%"}},r.a.createElement(Ss.a,{source:"strategic_alignments",label:!1},r.a.createElement(Ps.a,null,r.a.createElement(js.a,null,(function(t){var a=t.getSource,n=t.scopedFormData;t.formData,Object(T.a)(t,vC);return r.a.createElement(r.a.Fragment,null,r.a.createElement(cs,{tooltipText:e.translate("tooltips.resources.project-details.fields.strategic_alignments.fields.plan")},r.a.createElement(os.a,{options:{fullWidth:"true"},label:e.translate("resources.project-details.fields.strategic_alignments.fields.plan"),source:a("plan"),choices:an.PLANS})),r.a.createElement(cs,{tooltipText:e.translate("tooltips.resources.project-details.fields.strategic_alignments.fields.objective_reference")},r.a.createElement(os.a,{options:{fullWidth:"true"},label:e.translate("resources.project-details.fields.strategic_alignments.fields.objective_reference"),source:a("objective_reference"),choices:n&&an.OBJECTIVES[n.plan]||[]})),r.a.createElement(cs,{fullWidth:!0,tooltipText:e.translate("resources.project-details.fields.strategic_alignments.fields.explanation")},r.a.createElement(ns.a,{source:a("explanation"),label:e.translate("resources.project-details.fields.strategic_alignments.fields.explanation")})))})))))}))})),EC=Object(ae.a)((function(e){return{button:{margin:"0 5px"},activeStep:{width:"100%",height:2,marginTop:10,backgroundColor:"#3f51b5",position:"absolute"},disabled:{color:"#000 !important",pointerEvents:"none","& .MuiStepIcon-completed":{color:"#e0e0e0 !important",pointerEvents:"none"}}}}));function jC(e){var t,a,o,i,l=Object(n.useState)(!1),c=Object(Z.a)(l,2),s=(c[0],c[1]),u=Object(n.useState)(!1),d=Object(Z.a)(u,2),m=d[0],p=d[1],f=mO(e.record.phase_id,"RETOOLING"===(null===m||void 0===m?void 0:m.classification)||"STUDIES"===(null===m||void 0===m?void 0:m.classification)),_=(Object(Na.a)(),Object(pe.a)()),g=Object(Ca.a)(),h=Object(_s.f)(),v=h.values,b=(h.hasValidationErrors,Object(ee.f)((function(e){return e.app.appConfig}))),E=Object(ee.e)(),j=Object(n.useMemo)((function(){var t,a,n,r,o="RETOOLING"===(null===(t=e.record)||void 0===t||null===(a=t.project)||void 0===a?void 0:a.classification)||"STUDIES"===(null===(n=e.record)||void 0===n||null===(r=n.project)||void 0===r?void 0:r.classification);return Y("has_esnip_fields")?e.record&&b.application_config.project_steps[e.record.project_type||"infrastructure"]:Y("has_retooling_skip_phases")&&o?b.application_config.project_steps_retooling:b.application_config.project_steps}),[e.record,b]),y=Y("has_pimis_fields"),O=Y("has_esnip_fields");Object(n.useEffect)((function(){return E(Wr([{to:"/projects",title:"Projects"},{to:"",title:_("resources.breadcrumbs.phase_".concat(e.record.phase_id))}])),function(){E(Wr([]))}}),[]),Object(n.useEffect)((function(){return E({type:"SET_PROJECT_TITLE_HEADER",payload:{data:"".concat(e.record.name||"")}}),e.record&&e.record.project_id&&g.getOne("projects",{id:e.record.project_id}).then((function(e){var t,a;(null===e||void 0===e?void 0:e.data)&&(s(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.name),p(e.data),E({type:"SET_PROJECT_TITLE_HEADER",payload:{data:"".concat((null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.name)||"")}}))})),function(){E({type:"SET_PROJECT_TITLE_HEADER",payload:{data:""}})}}),[]);var w=function(t){return function(){e.record,e.activeStep;(0,e.setActiveStep)(t),e.save(v,!1)}};var k=function(t,a,o){return t===a.length?r.a.createElement(se.a,null,_("messages.all_steps_completed")):r.a.createElement(n.Fragment,null,function(t,a){switch(j[a][t]){case Ia.SUMMARY:return r.a.createElement(Rx,Object.assign({},e,{projectData:m}));case Ia.RESPONSIBLE_OFFICER:return r.a.createElement(uC,e);case Ia.PROJECT_BACKGROUND:return r.a.createElement(NP,Object.assign({},e,{projectData:m}));case Ia.PROJECT_FRAMEWORK:return r.a.createElement(QP,e);case Ia.DEMAND_ANALYSIS:return r.a.createElement(JP,e);case Ia.INTRODUCTION:return r.a.createElement(tC,e);case Ia.STAKEHOLDERS:return r.a.createElement(gC,e);case Ia.CLIMATE_RISK_ASSESSMENT:return r.a.createElement(UP,e);case Ia.RISK_ASSESSMENT:return r.a.createElement(pC,e);case Ia.OPTIONS_ANALYSIS:return y?r.a.createElement(RS,Object.assign({},e,{optionsStep:e.optionsStep,setOptionStep:e.setOptionStep})):O?r.a.createElement($k,Object.assign({},e,{optionsStep:e.optionsStep,setOptionStep:e.setOptionStep})):r.a.createElement(Ak,Object.assign({},e,{optionsStep:e.optionsStep,setOptionStep:e.setOptionStep}));case Ia.OM_COSTS:return r.a.createElement(oC,e);case Ia.FINANCIAL_ANALYSIS:return r.a.createElement($P,e);case Ia.RESULT_MATRIX:return r.a.createElement(bP,Object.assign({},e,{matrixStep:e.matrixStep,setMatrixStep:e.setMatrixStep}));case Ia.COST_ESTIMATES:return r.a.createElement(tk,e);case Ia.ADDITIONAL_INFO:return r.a.createElement(Jx,e);case Ia.EX_POST_EVALUATION:return r.a.createElement(nk,e);case Ia.NDP:return r.a.createElement(uk,e);case Ia.PROCUREMENT:return r.a.createElement(mk,e);case Ia.BUDGET_ALLOCATION:return r.a.createElement(LP,e);case Ia.BENEFICIARY:return r.a.createElement(FP,e);case Ia.STRATEGIC_ALIGNMENT:return r.a.createElement(bC,e);case Ia.BEHAVIOR_CHANGE:return r.a.createElement(DP,e);case Ia.INDICATORS:return r.a.createElement(_P,e);default:return null}}(t,o))},S=function(t){var a=e.record,n=iO(a,t,b.application_config.prefix),r=!1;if(a&&t===Ia.ADDITIONAL_INFO&&(r=lO(a,f)),a&&t===Ia.OPTIONS_ANALYSIS&&Y("project_options_validate_preferred_item",a.phase_id)&&(v&&v.project_options&&0===v.project_options.length||v&&v.project_options&&0===v.project_options.filter((function(e){return e&&e.is_preferred})).length)&&(r=!0),a&&t===Ia.OPTIONS_ANALYSIS&&Y("project_options_validate_mandatory_fields",a.phase_id)){var o=pr(v,0,_);x.a.isString(o)&&0!==o.length&&(r=!0)}return n&&0!==n.length||r},P=function(e){if(C&&e===Ia.OM_COSTS)return!C.maintenance_period;if(C&&e===Ia.PROCUREMENT){var t=["Public-Private Partnerships","Joint-Venture","Joint-Venture (Unsolicited Proposal)","Public-Private Partnerships (Unsolicited Proposal)","Joint-Venture (Solicited Proposal)","Public-Private Partnerships (Solicited Proposal)"],a=["Public-Private Partnership","Joint Venture","Unsolicited Proposal"],n=C&&C.procurement_modality&&C.procurement_modality.filter((function(e){return t.includes(e)})).length>0;return!(C&&C.proposed_funding_source&&"Source of funding has not been identified"!==C.proposed_funding_source&&C.proposed_funding_source.filter((function(e){return a.includes(e)})).length>0||n)}return!1},C=e.record,A=e.activeStep,D=v&&v.phase_id||0,T=function(e){var t=[];return j[e].forEach((function(e){t.push(e)})),t}(D),F=EC(),R=Object(n.useRef)(),I=(null===(t=R.current)||void 0===t?void 0:t.getBoundingClientRect().width)<768,M=(null===(a=R.current)||void 0===a?void 0:a.scrollWidth)>I,W=R.current,L=Object(n.useState)(0),B=Object(Z.a)(L,2),z=B[0],q=B[1],U=(null===(o=R.current)||void 0===o?void 0:o.scrollWidth)-(null===(i=R.current)||void 0===i?void 0:i.clientWidth);return Y("has_stepper_scroll_arrows")?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{position:"relative",width:"100%"},onScroll:function(e){q(e.target.scrollLeft)}},z>0&&r.a.createElement(ye.a,{style:{position:"absolute",left:"0",top:"25px",height:"50px",background:"#fff",cursor:"pointer",zIndex:10},onClick:function(){R&&(W.scrollLeft=0,q(0))}}),T&&T.length>1?r.a.createElement(Ux.a,{activeStep:A,style:{overflowX:"hidden"},ref:R},T.map((function(e,t){return r.a.createElement(zx.a,Object.assign({key:e},{},{onClick:w(t),completed:!S(e),disabled:P(e),className:Ie()(Object(N.a)({},F.disabled,P(e)))}),r.a.createElement(qx.a,Object.assign({},{},{error:S(e),StepIconProps:{error:S(e)}}),_("projectSteps.".concat(e))),t===A?r.a.createElement("div",{className:F.activeStep}):null)}))):null,M&&z<U&&r.a.createElement(we.a,{style:{position:"absolute",right:"0",top:"25px",height:"50px",background:"#fff",cursor:"pointer",zIndex:10},onClick:function(){var e;R&&(W.scrollLeft=(null===(e=R.current)||void 0===e?void 0:e.getBoundingClientRect().width)/2)}})),r.a.createElement("div",null,k(A,T,D))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,T&&T.length>1?r.a.createElement(Ux.a,{activeStep:A,ref:R},T.map((function(e,t){return r.a.createElement(zx.a,Object.assign({key:e},{},{onClick:w(t),completed:!S(e),disabled:P(e),className:Ie()(Object(N.a)({},F.disabled,P(e)))}),r.a.createElement(qx.a,Object.assign({},{},{error:S(e),StepIconProps:{error:S(e)}}),_("projectSteps.".concat(e))),t===A?r.a.createElement("div",{className:F.activeStep}):null)}))):null),r.a.createElement("div",null,k(A,T,D)))}function yC(e){var t=Object(Na.a)(),a=Object(_s.f)(),o=a.values,i=a.hasValidationErrors,l=Object(pe.a)(),c=Object(ee.f)((function(e){return e.app.appConfig})),s=Object(n.useMemo)((function(){var t,a,n,r,o="RETOOLING"===(null===(t=e.record)||void 0===t||null===(a=t.project)||void 0===a?void 0:a.classification)||"STUDIES"===(null===(n=e.record)||void 0===n||null===(r=n.project)||void 0===r?void 0:r.classification);return Y("has_esnip_fields")?e.record&&c.application_config.project_steps[e.record.project_type||"infrastructure"]:Y("has_retooling_skip_phases")&&o?c.application_config.project_steps_retooling:c.application_config.project_steps}),[e.record,c]),u=EC(),d=e.record,m=d&&d.phase_id||0,p=s[m],f=function(){if(Y("has_saving_validation_errors")&&p[e.activeStep]===Ia.RESULT_MATRIX){var a="";if(o){if(o.outcomes&&0!==o.outcomes.length){var n=o.outcomes.filter((function(e){return!e.indicators||e.indicators&&0===e.indicators.length}));n&&n.length>0&&(a+=l("validation.outcomes_indicators_empty"))}if(o.outputs&&0!==o.outputs.length){var r=o.outputs.filter((function(e){return!e.indicators||e.indicators&&0===e.indicators.length})),i=o.outputs.filter((function(e){return!e.investments||e.investments&&0===e.investments.length}));r&&r.length>0&&(a+=l("validation.outputs_indicators_empty")),i&&i.length>0&&(a+=l("validation.outputs_investments_empty"))}if(o.activities&&0!==o.activities.length){var c=o.activities.filter((function(e){return!e.investments||e.investments&&0===e.investments.length}));c&&c.length>0&&(a+=l("validation.activities_investments_empty"))}}Y("has_pimis_fields")?e.save(o,e.redirect):a?t(a,"error"):e.handleSubmitWithRedirect(e.redirect)}else Y("has_pimis_fields")?e.save(o,e.redirect):e.handleSubmitWithRedirect(e.redirect)};return r.a.createElement(Zc.a,null,r.a.createElement(Ee.a,{className:u.button,variant:"outlined",disabled:0===e.activeStep,onClick:function(){window.scrollTo(0,0),e.setActiveStep(e.activeStep-1!==0?e.activeStep-1:0)}},l("buttons.back")),Y("project_create_submission_button_show",m)&&r.a.createElement(Ee.a,{className:u.button,variant:"contained",color:"primary",onClick:f},l("buttons.create")),e.activeStep===p.length-1?null:r.a.createElement(Ee.a,{className:u.button,variant:"contained",color:"primary",onClick:function(){window.scrollTo(0,0);var t=e.record,a=t&&t.phase_id||0,n=s[a],r=e.activeStep+1;e.setActiveStep(r),Y("project_create_submission_button_show",a)&&r===n.length?e.handleSubmit():e.handleSubmitWithRedirect(!1)}},l("buttons.next")),r.a.createElement(Ee.a,{className:u.button,color:"primary",variant:"contained",onClick:f},l("buttons.save_exit")),Y("has_validation_button")&&r.a.createElement(Ee.a,{className:u.button,color:"primary",variant:"contained",onClick:function(){var a=!!Y("project_create_submission_button_show",m)&&e.redirect;e.handleSubmitWithRedirect(a),i&&t(l("messages.project_has_validation_errors"),"error")},startIcon:r.a.createElement(cm.a,null)},l("buttons.validate")))}var OC=function(e){var t=Object(n.useState)(0),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(0),c=Object(Z.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)(0),m=Object(Z.a)(d,2),p=m[0],f=m[1];return r.a.createElement(ou.a,Object.assign({},e,{toolbar:r.a.createElement(yC,Object.assign({setActiveStep:i,activeStep:o},e)),sanitizeEmptyValues:!1}),r.a.createElement(jC,Object.assign({},e,{setActiveStep:i,activeStep:o,matrixStep:s,setMatrixStep:u,optionsStep:p,setOptionStep:f})))},wC=["classes"],xC=function(e,t,a){return"/projects/".concat(a.project_id||t,"/show/").concat(a.phase_id)},kC={list:jm,show:dx,create:Bx,edit:function(e){e.classes;var t=Object(T.a)(e,wC);return r.a.createElement(ru.a,Object.assign({},t,{undoable:!1,actions:!1,redirect:!1,transform:function(e){return function(e,t){var a=e.budget_code,n=e.signed_date,r=e.financing_agreement_date,o=e.budget_allocation,i=e.id,l=e.phase_id;return t?{budget_code:a,signed_date:n,financing_agreement_date:r,budget_allocation:o,phase_id:l,id:i}:e}(e,Y("has_budget_initiation",e.phase_id))}}),r.a.createElement(OC,Object.assign({},t,{redirect:xC})))}},SC=a(2050),PC=a(2049),CC=["meta","input"],NC=Object(ae.a)((function(e){return{small_box:{display:"flex",margin:"75px auto",alignItems:"center",justifyContent:"space-around",textAlign:"center"},main:{display:"flex",flexDirection:"column",minHeight:"100vh",alignItems:"center",justifyContent:"center",backgroundColor:"#d1bc9b"},header:{position:"absolute",left:"15px",top:"15px"},title:{marginBottom:"55px",textShadow:"2px 2px #ffffff",textAlign:"center",width:"50%"},card:{minWidth:300},avatar:{margin:"1em",textAlign:"center ",display:"flex",justifyContent:"center"},form:{padding:"0 1em 1em 1em"},input:{display:"flex"},hint:{textAlign:"center",marginTop:"1em",color:"#ccc"},footer:{position:"absolute",bottom:"15px",width:"100%",display:"flex",justifyContent:"flex-end",color:"rgba(255, 255, 255, 1.00)",textShadow:"1px 1px 2px rgba(0, 0, 0, 1.00), 0px 0px 5px rgba(0, 0, 0, 1.00)"},footerRightTitle:{paddingRight:"15px",textAlign:"center"},icon:{backgroundColor:e.palette.secondary.main},actions:{padding:"0 1em 1em 1em",display:"flex",flexDirection:"column"},bgImageleft:{backgroundSize:"cover",backgroundRepeat:"no-repeat",width:"300px",height:"305px",position:"absolute",left:"5%"},bgImageRight:Object(N.a)({backgroundSize:"cover",backgroundRepeat:"no-repeat",width:"300px",height:"305px",position:"absolute",right:"5%"},"backgroundSize","90%"),sm_bgImageLeft:{backgroundRepeat:"no-repeat",backgroundSize:"100%",width:"150px",height:"150px"},sm_bgImageRight:{backgroundRepeat:"no-repeat",backgroundSize:"90%",width:"150px",height:"150px"}}})),AC=function(e){var t=e.meta,a=void 0===t?{touched:!1,error:void 0}:t,n=a.touched,o=a.error,i=Object.assign({},(Object(Pp.a)(e.input),e.input)),l=Object(T.a)(e,CC);return r.a.createElement($n.a,Object.assign({error:!(!n||!o),helperText:n&&o},i,l,{fullWidth:!0}))};function DC(e){var t=NC();return"ug"===e?r.a.createElement("h5",{className:t.footerRightTitle},"Copyright \xa9 2019 - ".concat(S()().format("YYYY"),", Ministry of Finance, Planning and Economic Development\n               ")):r.a.createElement("h5",{className:t.footerRightTitle},"Copyright \xa9 ".concat(S()().format("YYYY"),", Pimis Development\n                 "))}function TC(e){switch(e){case"jm":return"Public Investment Management Information System";case"ug":return"Integrated Bank of Projects";case"mzb":return"Subsistema Nacional de Investimentos P\xfablicos";default:return null}}var FC=function(e){var t=Object(n.useState)(null),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(null),c=Object(Z.a)(l,2),s=c[0],d=c[1],m=Object(n.useState)(!1),p=Object(Z.a)(m,2),f=p[0],_=p[1],g=Object(n.useState)(!1),h=Object(Z.a)(g,2),v=h[0],b=h[1],E=Object(pe.a)(),j=NC(),y=Object(Na.a)(),O=Object(PC.a)(),w=Object(de.h)(),x=Object(ee.e)(),k=Object(ee.f)((function(e){return e.app.appConfig})).application_config.prefix;return r.a.createElement(n.Fragment,null,!v&&r.a.createElement(_s.b,{onSubmit:function(e){i(e.username),_(!0),O(Object(u.a)(Object(u.a)({},e),{},{success:{reset:d,dispatch:x}}),w.state?w.state.nextPathname:"/").catch((function(e){Y("is_password_expirable")&&"password_expired"===e.message?b(!0):(_(!1),y("string"===typeof e?e:"undefined"!==typeof e&&e.message?e.message:"ra.auth.sign_in_error","warning"))}))},validate:function(e){var t={};return e.username||(t.username=E("ra.validation.required")),e.password||(t.password=E("ra.validation.required")),t},render:function(e){var t=e.handleSubmit;return r.a.createElement(SC.a,{small:r.a.createElement("form",{onSubmit:t,noValidate:!0},r.a.createElement("div",{className:j.main},r.a.createElement("div",{className:j.bgImageleft,style:{backgroundImage:Y("has_pimis_fields")?"url(assets/images/".concat(k,"/coat_of_arms.png)"):"url(assets/images/".concat(k,"/logo.png)"),backgroundSize:Y("has_pimis_fields")?"contain":"50%",position:"fixed",top:0,left:0,margin:"10px auto",backgroundPosition:"center",height:175,width:"100%"}}),r.a.createElement("h2",{className:j.title,style:{width:"90%"}},TC(k)),r.a.createElement(In.a,{className:j.card},r.a.createElement("div",{className:j.avatar},r.a.createElement(An.a,{className:j.icon},r.a.createElement(Cr.a,null))),r.a.createElement("div",{className:j.form},r.a.createElement("div",{className:j.input},r.a.createElement(_s.a,{autoFocus:!0,name:"username",component:AC,label:E("ra.auth.username"),disabled:f})),r.a.createElement("div",{className:j.input},r.a.createElement(_s.a,{name:"password",component:AC,label:E("ra.auth.password"),type:"password",disabled:f}))),r.a.createElement(Cp.a,{className:j.actions},r.a.createElement(Ee.a,{variant:"contained",type:"submit",color:"primary",disabled:f,fullWidth:!0},f&&r.a.createElement(Yr.a,{size:25,thickness:2}),E("ra.auth.sign_in")))),r.a.createElement(ie.a,null),r.a.createElement("div",{className:j.footer,style:{justifyContent:"center"}},DC(k)))),medium:r.a.createElement("form",{onSubmit:t,noValidate:!0},r.a.createElement("div",{className:j.main},r.a.createElement("div",{className:j.bgImageleft,style:{backgroundImage:"url(assets/images/".concat(k,"/logo.png)"),marginTop:Y("has_pimis_fields")?"150px":0,backgroundSize:Y("has_pimis_fields")?"contain":"cover"}}),r.a.createElement("h1",{className:j.title},TC(k)),r.a.createElement(In.a,{className:j.card},r.a.createElement("div",{className:j.avatar},r.a.createElement(An.a,{className:j.icon},r.a.createElement(Cr.a,null))),r.a.createElement("div",{className:j.form},r.a.createElement("div",{className:j.input},r.a.createElement(_s.a,{autoFocus:!0,name:"username",component:AC,label:E("ra.auth.username"),disabled:f})),r.a.createElement("div",{className:j.input},r.a.createElement(_s.a,{name:"password",component:AC,label:E("ra.auth.password"),type:"password",disabled:f}))),r.a.createElement(Cp.a,{className:j.actions},r.a.createElement(Ee.a,{variant:"contained",type:"submit",color:"primary",disabled:f,fullWidth:!0},f&&r.a.createElement(Yr.a,{size:25,thickness:2}),E("ra.auth.sign_in")),Y("has_reset_password_page")&&r.a.createElement(ce.a,{href:"#/reset-password",underline:"none"},r.a.createElement(se.a,{variant:"subtitle2",style:{marginTop:10},onClick:function(){localStorage.setItem("isResetPassword","true")}},"reset password")))),r.a.createElement("div",{className:j.bgImageRight,style:{backgroundImage:"url(assets/images/".concat(k,"/coat_of_arms.png)")}}),r.a.createElement(ie.a,null),r.a.createElement("div",{className:j.footer},DC(k))))})}}),v&&r.a.createElement(RC,Object.assign({},e,{tempToken:s,tempLogin:o})))},RC=function(e){var t=Object(n.useState)(!1),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(!1),c=Object(Z.a)(l,2),s=c[0],m=c[1],p=Object(pe.a)(),f=NC(),_=Object(Na.a)(),g=Object(PC.a)(),h=(Object(oe.a)(),Object(ai.a)(),Object(Ca.a)()),v=Object(de.h)(),b=Object(ee.e)(),E=Object(ee.f)((function(e){return e.app.appConfig})).application_config.prefix;return r.a.createElement(_s.b,{onSubmit:function(t){localStorage.setItem(d,e.tempToken),i(!0),h.update("users/me",{data:{password:t.confirmPassword,id:null}}).then((function(a){i(!1),function(e){i(!0),g(Object(u.a)(Object(u.a)({},e),{},{success:{reset:function(){},dispatch:b}}),v.state?v.state.nextPathname:"/").catch((function(e){i(!1),_("string"===typeof e?e:"undefined"!==typeof e&&e.message?e.message:"ra.auth.sign_in_error","warning")}))}({password:t.confirmPassword,username:e.tempLogin})})).catch((function(e){i(!1)}))},validate:function(e){var t={};return e.newPassword!==e.confirmPassword&&(t.confirmPassword="Password confirmation incorrect"),e.newPassword||(t.newPassword=p("ra.validation.required")),e.confirmPassword||(t.confirmPassword=p("ra.validation.required")),/^(?=.*[A-Z])(?=.*[!@#$&*])(?=.*[0-9])(?=.*[a-z]).{8,}$/gm.test(e.newPassword)||(t.confirmPassword="Contain both upper- and lower-case characters (e.g., a-z, A-Z). <br/>\n      Have numbers and punctuation characters as well as letters.\n      At least eight alphanumeric characters long"),m(t.confirmPassword),t},render:function(e){var t=e.handleSubmit;return r.a.createElement("form",{onSubmit:t,noValidate:!0},r.a.createElement("div",{className:f.main},r.a.createElement("div",{className:f.bgImageleft})," ",r.a.createElement("h1",{className:f.title},TC(E)),r.a.createElement(In.a,{className:f.card},r.a.createElement("div",{className:f.avatar},r.a.createElement(An.a,{className:f.icon},r.a.createElement(Cr.a,null))),r.a.createElement("div",{className:f.form},r.a.createElement("div",{className:f.input},r.a.createElement(_s.a,{name:"newPassword",component:AC,label:"new password",type:"password",disabled:o})),r.a.createElement("div",{className:f.input},r.a.createElement(_s.a,{name:"confirmPassword",component:AC,label:"confirm password",type:"password",disabled:o}))),r.a.createElement(Cp.a,{className:f.actions},r.a.createElement(Ee.a,{variant:"contained",type:"submit",color:"primary",disabled:o||s,fullWidth:!0},o&&r.a.createElement(Yr.a,{size:25,thickness:2}),"change password"))),r.a.createElement("div",{className:f.bgImageRight}),r.a.createElement(ie.a,null)),r.a.createElement("div",{className:f.footer},DC(E)))}})},IC=function(e){return r.a.createElement(ne.a,{theme:Object(un.a)(gn)},r.a.createElement(FC,e))},MC=["meta","input"],WC=Object(ae.a)((function(e){return{small_box:{display:"flex",margin:"75px auto",alignItems:"center",justifyContent:"space-around",textAlign:"center"},container:{position:"fixed",height:"100%",width:"100%"},main:{display:"flex",boxShadow:"10px 10px 5px 0px rgba(34, 60, 80, 0.25)",alignItems:"center",justifyContent:"center",backgroundColor:"#fff",position:"absolute",top:"15%",bottom:"15%",right:"20%",left:"20%",height:"auto"},bg_image:{position:"relative",width:"120%",height:"100%",backgroundImage:"url(assets/images/jm/bg_pimis.jpeg)",backgroundSize:"cover",backgroundPosition:"center",backgroundColor:"black"},logo:{alignItems:"center",position:"absolute",display:"flex",gap:10,bottom:10,right:10},content:{width:"100%",paddingLeft:25,paddingRight:25,display:"flex",flexDirection:"column"},form:{display:"flex",flexDirection:"column",gap:20,marginTop:10},label:{display:"flex"},input:{display:"flex",flexDirection:"column",height:70,"& .MuiOutlinedInput-input":{padding:"15.5px 32px 15.5px 14px"}},hint:{textAlign:"center",marginTop:"1em",color:"#ccc"},header:{position:"absolute",left:"15px",top:"15px"},title:{marginBottom:"55px",textShadow:"2px 2px #ffffff",textAlign:"center",width:"50%"},card:{minWidth:300},avatar:{margin:"1em",textAlign:"center ",display:"flex",justifyContent:"center"},footer:{position:"absolute",bottom:"15px",width:"100%",display:"flex",justifyContent:"flex-end",color:"rgba(255, 255, 255, 1.00)",textShadow:"1px 1px 2px rgba(0, 0, 0, 1.00), 0px 0px 5px rgba(0, 0, 0, 1.00)"},footerRightTitle:{paddingRight:"15px",textAlign:"center",margin:10},icon:{backgroundColor:e.palette.secondary.main},actions:{display:"flex",flexDirection:"column",gap:10,"& .MuiButton-fullWidth":{backgroundColor:"#043875",padding:10,fontSize:16,borderRadius:15,textTransform:"capitalize"}},copyright:{position:"absolute",bottom:0,right:0}}})),LC=function(e){var t=e.meta,a=void 0===t?{touched:!1,error:void 0}:t,n=a.touched,o=a.error,i=Object.assign({},(Object(Pp.a)(e.input),e.input)),l=Object(T.a)(e,MC);return r.a.createElement($n.a,Object.assign({error:!(!n||!o),helperText:n&&o},i,l,{fullWidth:!0,variant:"outlined",inputProps:{maxLength:"username"===i.name?50:20}}))};function YC(e){var t=WC();return"ug"===e?r.a.createElement("h5",{className:t.footerRightTitle},"Copyright \xa9 2019 - ".concat(S()().format("YYYY"),", Ministry of Finance, Planning and Economic Development\n               ")):r.a.createElement("h5",{className:t.footerRightTitle},"\xa9".concat(S()().format("YYYY")," CRI"))}var BC=function(e){var t=Object(n.useState)(!1),a=Object(Z.a)(t,2),o=(a[0],a[1],Object(n.useState)(null)),i=Object(Z.a)(o,2),l=i[0],c=i[1],s=Object(n.useState)(null),d=Object(Z.a)(s,2),m=d[0],p=d[1],f=Object(n.useState)(!1),_=Object(Z.a)(f,2),g=_[0],h=_[1],v=Object(n.useState)(!1),b=Object(Z.a)(v,2),E=b[0],j=b[1],y=Object(pe.a)(),O=WC(),w=Object(Na.a)(),x=Object(PC.a)(),k=Object(de.h)(),S=Object(ee.e)(),P=Object(ee.f)((function(e){return e.app.appConfig})).application_config.prefix;return r.a.createElement(n.Fragment,null,!E&&r.a.createElement(_s.b,{onSubmit:function(e){c(e.username),h(!0),x(Object(u.a)(Object(u.a)({},e),{},{success:{reset:p,dispatch:S}}),k.state?k.state.nextPathname:"/").catch((function(e){Y("is_password_expirable")&&"password_expired"===e.message?j(!0):(h(!1),w("string"===typeof e?e:"undefined"!==typeof e&&e.message?e.message:"ra.auth.sign_in_error","warning"))}))},validate:function(e){var t={};return e.username||(t.username=y("ra.validation.required")),e.password||(t.password=y("ra.validation.required")),t},render:function(e){var t=e.handleSubmit;return r.a.createElement(SC.a,{small:r.a.createElement("form",{onSubmit:t,noValidate:!0},r.a.createElement("div",{className:O.container},r.a.createElement("div",{className:O.main},r.a.createElement("div",{className:O.content},r.a.createElement("div",{style:{marginBottom:15}},r.a.createElement(se.a,{variant:"p",style:{fontSize:22}},"Login"),r.a.createElement("br",null),r.a.createElement(se.a,{variant:"p",style:{fontSize:16,marginBottom:15}},"Welcome back! Please login to your account.")),r.a.createElement("div",{className:O.form},r.a.createElement("div",{className:O.input},r.a.createElement(se.a,{variant:"h6"},"User Name"),r.a.createElement(_s.a,{autoFocus:!0,name:"username",component:LC,label:!1,disabled:g})),r.a.createElement("div",{className:O.input},r.a.createElement(se.a,{variant:"h6"},"Password"),r.a.createElement(_s.a,{name:"password",component:LC,label:!1,type:"password",disabled:g}))),r.a.createElement("div",{className:O.actions},Y("has_reset_password_page")&&r.a.createElement(ce.a,{href:"#/reset-password",underline:"none"},r.a.createElement(se.a,{variant:"body1",style:{marginTop:10,fontSize:14,color:"#002e7b",textAlign:"right"},onClick:function(){localStorage.setItem("isResetPassword","true")}},"Forget password?")),r.a.createElement(Ee.a,{variant:"contained",type:"submit",color:"primary",disabled:g,fullWidth:!0},g&&r.a.createElement(Yr.a,{size:25,thickness:2}),"Login"),r.a.createElement(se.a,{variant:"subtitle2",style:{marginTop:10,fontSize:14},onClick:function(){localStorage.setItem("isResetPassword","true")}},"New User?",r.a.createElement("a",{href:"mailto:pimis@mof.gov.jm",style:{color:"#002e7b",textDecoration:"none",marginLeft:5}},"Sign up")))),r.a.createElement(ie.a,null),r.a.createElement("div",{className:O.copyright},YC(P))))),medium:r.a.createElement("form",{onSubmit:t,noValidate:!0},r.a.createElement("div",{className:O.container},r.a.createElement("div",{className:O.main},r.a.createElement("div",{className:O.bg_image},r.a.createElement(se.a,{variant:"p",style:{fontSize:55,lineHeight:"55px",fontWeight:900,paddingLeft:"10%",color:"#fff",top:"30%",position:"absolute",textAlign:"left",width:"100%"}},"Welcome ",r.a.createElement("br",null)," Back!"),r.a.createElement("div",{className:O.logo},r.a.createElement("div",{style:{backgroundImage:"url(assets/images/jm/logo.png)",backgroundSize:"cover",backgroundPosition:"center",height:12,width:18}}),r.a.createElement("div",{style:{color:"#fff",fontSize:"14px"}},"Government of Jamaica"))),r.a.createElement("div",{className:O.content},r.a.createElement("div",null,r.a.createElement(se.a,{variant:"p",style:{fontSize:30,fontWeight:900,color:"#043875"}},"Login"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(se.a,{variant:"p",style:{fontSize:18}},"Welcome back! Please login to your account.")),r.a.createElement("div",{className:O.form},r.a.createElement("div",{className:O.input},r.a.createElement(se.a,{variant:"h6",style:{marginBottom:5}},"User Name"),r.a.createElement(_s.a,{autoFocus:!0,name:"username",component:LC,label:!1,disabled:g})),r.a.createElement("div",{className:O.input},r.a.createElement(se.a,{variant:"h6",style:{marginBottom:5}},"Password"),r.a.createElement(_s.a,{name:"password",component:LC,label:!1,type:"password",disabled:g}))),r.a.createElement("div",{className:O.actions},Y("has_reset_password_page")&&r.a.createElement(ce.a,{href:"#/reset-password",underline:"none"},r.a.createElement(se.a,{variant:"body1",style:{marginTop:10,fontSize:14,color:"#002e7b",textAlign:"right"},onClick:function(){localStorage.setItem("isResetPassword","true")}},"Forget password?")),r.a.createElement(Ee.a,{variant:"contained",type:"submit",color:"primary",disabled:g,fullWidth:!0},g&&r.a.createElement(Yr.a,{size:25,thickness:2}),"Login"),r.a.createElement(se.a,{variant:"subtitle2",style:{marginTop:10,fontSize:14},onClick:function(){localStorage.setItem("isResetPassword","true")}},"New User?",r.a.createElement("a",{href:"mailto: test@test.te",style:{color:"#002e7b",textDecoration:"none",marginLeft:5}},"Sign up")))),r.a.createElement(ie.a,null),r.a.createElement("div",{className:O.copyright},YC(P)))))})}}),E&&r.a.createElement(zC,Object.assign({},e,{tempToken:m,tempLogin:l})))},zC=function(e){var t=Object(n.useState)(!1),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(!1),c=Object(Z.a)(l,2),s=(c[0],c[1]),m=Object(pe.a)(),p=WC(),f=Object(Na.a)(),_=Object(PC.a)(),g=(Object(oe.a)(),Object(ai.a)(),Object(Ca.a)()),h=Object(de.h)(),v=Object(ee.e)(),b=Object(ee.f)((function(e){return e.app.appConfig})).application_config.prefix;return r.a.createElement(_s.b,{onSubmit:function(t){localStorage.setItem(d,e.tempToken),i(!0),g.update("users/me",{data:{password:t.confirmPassword,id:null}}).then((function(a){i(!1),function(e){i(!0),_(Object(u.a)(Object(u.a)({},e),{},{success:{reset:function(){},dispatch:v}}),h.state?h.state.nextPathname:"/").catch((function(e){i(!1),f("string"===typeof e?e:"undefined"!==typeof e&&e.message?e.message:"ra.auth.sign_in_error","warning")}))}({password:t.confirmPassword,username:e.tempLogin})})).catch((function(e){i(!1)}))},validate:function(e){var t={};return e.newPassword!==e.confirmPassword&&(t.confirmPassword="Password confirmation incorrect"),e.newPassword||(t.newPassword=m("ra.validation.required")),e.confirmPassword||(t.confirmPassword=m("ra.validation.required")),/^(?=.*[A-Z])(?=.*[!@#$&*])(?=.*[0-9])(?=.*[a-z]).{8,}$/gm.test(e.newPassword)||(t.confirmPassword="Contain both upper- and lower-case characters (e.g., a-z, A-Z). <br/>\n      Have numbers and punctuation characters as well as letters.\n      At least eight alphanumeric characters long"),s(t.confirmPassword),t},render:function(e){var t=e.handleSubmit;return r.a.createElement("form",{onSubmit:t,noValidate:!0},r.a.createElement("div",{className:p.container},r.a.createElement("div",{className:p.main},r.a.createElement("div",{className:p.bg_image},r.a.createElement(se.a,{variant:"p",style:{fontSize:55,lineHeight:"55px",fontWeight:900,paddingLeft:"10%",color:"#fff",top:"30%",position:"absolute",textAlign:"left",width:"100%"}},"Welcome ",r.a.createElement("br",null)," Back!"),r.a.createElement("div",{className:p.logo},r.a.createElement("div",{style:{backgroundImage:"url(assets/images/jm/logo.png)",backgroundSize:"cover",backgroundPosition:"center",height:12,width:18}}),r.a.createElement("div",{style:{color:"#fff",fontSize:"14px"}},"Government of Jamaica"))),r.a.createElement("div",{className:p.content},r.a.createElement("div",null,r.a.createElement(se.a,{variant:"p",style:{fontSize:25,marginBottom:5,fontWeight:900,color:"rgb(4, 56, 117)"}},"Your password expired"),r.a.createElement("br",null),r.a.createElement(se.a,{variant:"p",style:{fontSize:18,marginBottom:15}},"Please change your password.")),r.a.createElement("div",{className:p.form},r.a.createElement("div",{className:p.input},r.a.createElement(se.a,{variant:"h6",style:{marginBottom:5}},"New Password"),r.a.createElement(_s.a,{name:"newPassword",component:LC,label:!1,type:"password",disabled:o})),r.a.createElement("div",{className:p.input},r.a.createElement(se.a,{variant:"h6",style:{marginBottom:5}},"Password Confirmation"),r.a.createElement(_s.a,{name:"confirmPassword",component:LC,label:!1,type:"password",disabled:o}))),r.a.createElement("div",{className:p.actions},r.a.createElement(Ee.a,{variant:"contained",type:"submit",color:"primary",disabled:o,fullWidth:!0},o&&r.a.createElement(Yr.a,{size:25,thickness:2}),"Change Password"))),r.a.createElement(ie.a,null),r.a.createElement("div",{className:p.copyright},YC(b)))))}})},qC=function(e){return r.a.createElement(ne.a,{theme:Object(un.a)(gn)},r.a.createElement(BC,e))},UC=function(e){var t=Object(qr.a)((function(e){return e.breakpoints.down("xs")}));return r.a.createElement(ri.a,Object.assign({},e,{bulkActionButtons:!1}),t?r.a.createElement(Su.a,{primaryText:function(e){return e.name},secondaryText:function(e){return"".concat(e.id)}}):r.a.createElement(Nl.a,{rowClick:"show"},r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Al.a,{source:"name"}),r.a.createElement(Al.a,{source:"sequence"})))},VC=function(e){return r.a.createElement(E_.a,e,r.a.createElement(j_.a,null,r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Al.a,{source:"name"}),r.a.createElement(Al.a,{source:"sequence"})))},GC=a(1053),HC=(ns.a,Al.a,_x.a,GC.a,{list:UC,show:VC,create:function(e){return r.a.createElement(es.a,e,r.a.createElement(ou.a,{redirect:"show",toolbar:r.a.createElement(s_,null)},r.a.createElement(cs,{tooltipText:"tooltips.resources.phases.fields.name",variant:"outlined",margin:"none",fullWidth:!0},r.a.createElement(ns.a,{source:"name",validate:[Object(rs.j)()],variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.roles.fields.sequence",variant:"outlined",margin:"none",fullWidth:!0},r.a.createElement(ns.a,{source:"sequence",validate:[Object(rs.j)()],variant:"outlined",margin:"none"}))))},edit:function(e){return r.a.createElement(ru.a,e,r.a.createElement(ou.a,{toolbar:r.a.createElement(s_,null)},r.a.createElement(cs,{tooltipText:"tooltips.resources.roles.fields.name",variant:"outlined",margin:"none",fullWidth:!0},r.a.createElement(ns.a,{source:"name",validate:[Object(rs.j)()],variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.roles.fields.sequence",variant:"outlined",margin:"none",fullWidth:!0},r.a.createElement(ns.a,{source:"sequence",validate:[Object(rs.j)()],variant:"outlined",margin:"none"}))))}}),JC=["formData","scopedFormData","getSource"],XC=function(e){var t=Object(ee.f)((function(e){return e.app.appConfig})),a=Object(Na.a)(),n=Object(rr.a)(),o=Object(ai.a)();if(e.location&&!e.location.state)return o("/"),null;var i=e.location.state.record,l=i.level,c=i.config,s=i.field,u=Object.keys(t[c]).map((function(e){return{id:e,name:"(".concat(e,") ").concat(t[c][e].name)}})),d=!1,m="";return e.location&&e.location.state&&e.location.state.record&&l&&(m=t[c][l],d=!0),r.a.createElement(es.a,Object.assign({onSuccess:function(e){var t=e.data;a("Record created!"),o(t.redirect),n()}},e),r.a.createElement(ou.a,{redirect:"show",toolbar:r.a.createElement(s_,null)},r.a.createElement(cs,{tooltipText:"tooltips.resources.".concat(m,".code"),fullWidth:!0},r.a.createElement(ns.a,{source:"code",validate:[Object(rs.j)()],variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.".concat(m,".name"),fullWidth:!0},r.a.createElement(ns.a,{source:"name",validate:[Object(rs.j)()],variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.roles.fields.organization_level",fullWidth:!0},r.a.createElement(os.a,{source:"level",choices:u,variant:"outlined",margin:"none",validate:[Object(rs.j)()],disabled:d})),r.a.createElement(js.a,null,(function(t){var a=t.formData;t.scopedFormData,t.getSource,Object(T.a)(t,JC);return r.a.createElement(Gf,Object.assign({},e,a,{source:"parent_id",config:c,resource:e.resource,reference:e.resource,field:s,isRequired:!0}))})),"funds"===s&&r.a.createElement(cs,{tooltipText:"tooltips.resources.roles.fields.is_donor",fullWidth:!0},r.a.createElement(I_.a,{source:"is_donor"}))))};a(2051),a(2052),Object(ae.a)({root:{height:216,flexGrow:1,maxWidth:400}});a(1054),Object(ae.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},title:{textAlign:"center",margin:"15px"}}}));var $C={organizations:"organizational_config",programs:"programs_config",functions:"functions_config",funds:"fund_config",costings:"cost_config",locations:"location_config"};var KC={list:hd,show:function(e){Object(ee.f)((function(e){return e.app.appConfig})).organizational_config;return r.a.createElement(ui.a,{container:!0,spacing:3},r.a.createElement(ui.a,{item:!0,xs:12},r.a.createElement(E_.a,e,r.a.createElement(j_.a,null,r.a.createElement(Al.a,{source:"code"}),r.a.createElement(Al.a,{source:"name"}),r.a.createElement(Dl.a,{source:"level",render:function(t){return $C[e.resource][t.level].name}}))),r.a.createElement("br",null),r.a.createElement(ri.a,Object.assign({filter:{parent_id:e.id}},e,{actions:!1,bulkActionButtons:!1,empty:!1}),r.a.createElement(Nl.a,null,r.a.createElement(Al.a,{source:"code"}),r.a.createElement(Al.a,{source:"name"})))))},create:XC},QC=function(e){Object(ai.a)();return r.a.createElement(Gs.a,null,r.a.createElement(ku.a,e))},ZC=function(e){return r.a.createElement(ed.a,Object.assign({},e,{variant:"outlined",margin:"none"}),r.a.createElement(Nu.a,{alwaysOn:!0,allowEmpty:!1,source:"workflow_instance_id",reference:"workflow-instances",variant:"outlined",margin:"none"},r.a.createElement(os.a,{variant:"outlined",margin:"none",optionText:"name",optionValue:"id",style:{width:250}})))},eN=["getSource","scopedFormData","formData"],tN=["getSource","scopedFormData","formData"],aN={list:function(e){Object(qr.a)((function(e){return e.breakpoints.down("xs")}));return r.a.createElement(ri.a,Object.assign({},e,{actions:r.a.createElement(QC,null),filters:r.a.createElement(ZC,null),bulkActionButtons:!1,filterDefaultValues:{workflow_instance_id:1}}),r.a.createElement(Nl.a,{rowClick:"edit"},r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Ub.a,{source:"role_id",reference:"roles"},r.a.createElement(Al.a,{source:"name"})),r.a.createElement(Al.a,{source:"actions"}),r.a.createElement(GC.a,{source:"step"}),r.a.createElement(Al.a,{source:"status_msg"}),r.a.createElement(Al.a,{source:"revise_to_workflow_id"}),r.a.createElement(Al.a,{source:"phases"}),r.a.createElement(Al.a,{source:"file_type_ids"}),r.a.createElement(Ub.a,{source:"workflow_instance_id",reference:"workflow-instances"},r.a.createElement(Al.a,{source:"name"}))))},show:function(e){return r.a.createElement(E_.a,e,r.a.createElement(j_.a,null,r.a.createElement(Al.a,{source:"id"})))},create:function(e){return r.a.createElement(es.a,e,r.a.createElement(ou.a,{variant:"outlined",toolbar:r.a.createElement(s_,null)},r.a.createElement(Nu.a,{source:"role_id",reference:"roles",variant:"outlined",margin:"none"},r.a.createElement(os.a,{variant:"outlined",margin:"none",optionText:"name",optionValue:"id"})),r.a.createElement(Tf.a,{variant:"outlined",margin:"none",source:"actions",choices:jr(Ma)}),r.a.createElement(_x.a,{source:"step",variant:"outlined",margin:"none"}),r.a.createElement(ns.a,{source:"status_msg",variant:"outlined",margin:"none"}),r.a.createElement(I_.a,{source:"additional_data.is_logical_framework_editable",variant:"outlined",margin:"none",label:"Edit Logical Framework"}),r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData;var t=e.formData;Object(T.a)(e,eN);return r.a.createElement(Nu.a,{source:"revise_to_workflow_id",reference:"workflows",variant:"outlined",margin:"none",filter:Y("has_pimis_fields")?{workflow_instance_id:t.workflow_instance_id}:null},r.a.createElement(os.a,{optionText:"status_msg",optionValue:"id",variant:"outlined",margin:"none"}))})),r.a.createElement(Nu.a,{source:"phases",reference:"phases",variant:"outlined",margin:"none"},r.a.createElement(Tf.a,{optionText:"name",optionValue:"id",variant:"outlined",margin:"none"})),r.a.createElement(os.a,{source:"project_status",optionText:"name",optionValue:"id",variant:"outlined",margin:"none",choices:jr(Ua)}),r.a.createElement(Nu.a,{source:"workflow_instance_id",reference:"workflow-instances",variant:"outlined",margin:"none"},r.a.createElement(os.a,{variant:"outlined",margin:"none",optionText:"name",optionValue:"id"}))))},edit:function(e){return r.a.createElement(ru.a,e,r.a.createElement(ou.a,{toolbar:r.a.createElement(s_,null)},r.a.createElement(Nu.a,{source:"role_id",reference:"roles",variant:"outlined",margin:"none"},r.a.createElement(os.a,{optionText:"name",optionValue:"id",variant:"outlined",margin:"none"})),r.a.createElement(Tf.a,{source:"actions",variant:"outlined",margin:"none",choices:jr(Ma)}),r.a.createElement(_x.a,{source:"step",variant:"outlined",margin:"none"}),r.a.createElement(ns.a,{source:"status_msg",variant:"outlined",margin:"none"}),r.a.createElement(I_.a,{source:"additional_data.is_logical_framework_editable",variant:"outlined",margin:"none",label:"Edit Logical Framework"}),r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData;var t=e.formData;Object(T.a)(e,tN);return r.a.createElement(Nu.a,{source:"revise_to_workflow_id",reference:"workflows",variant:"outlined",margin:"none",filter:Y("has_pimis_fields")?{workflow_instance_id:t.workflow_instance_id}:null},r.a.createElement(os.a,{optionText:"status_msg",optionValue:"id",variant:"outlined",margin:"none"}))})),r.a.createElement(Nu.a,{source:"phases",reference:"phases",variant:"outlined",margin:"none"},r.a.createElement(Tf.a,{optionText:"name",optionValue:"id",variant:"outlined",margin:"none"})),r.a.createElement(os.a,{source:"project_status",optionText:"name",optionValue:"id",variant:"outlined",margin:"none",choices:jr(Ua)}),r.a.createElement(Nu.a,{source:"file_type_ids",reference:"file-types",variant:"outlined",margin:"none"},r.a.createElement(Tf.a,{optionText:"name",optionValue:"id",variant:"outlined",margin:"none"})),r.a.createElement(Nu.a,{source:"workflow_instance_id",reference:"workflow-instances",variant:"outlined",margin:"none"},r.a.createElement(os.a,{variant:"outlined",margin:"none",optionText:"name",optionValue:"id"}))))}},nN=function(e){Object(ai.a)();return r.a.createElement(Gs.a,null,r.a.createElement(ku.a,e))},rN={list:function(e){Object(qr.a)((function(e){return e.breakpoints.down("xs")}));return r.a.createElement(ri.a,Object.assign({},e,{actions:r.a.createElement(nN,null),bulkActionButtons:!1}),r.a.createElement(Nl.a,{rowClick:"edit"},r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Ub.a,{source:"role_id",reference:"roles"},r.a.createElement(Al.a,{source:"name"})),r.a.createElement(Al.a,{source:"actions"}),r.a.createElement(GC.a,{source:"step"}),r.a.createElement(Al.a,{source:"status_msg"}),r.a.createElement(Al.a,{source:"report_status"}),r.a.createElement(Al.a,{source:"revise_to_me_workflow_id"}),r.a.createElement(Al.a,{source:"file_type_ids"})))},show:function(e){return r.a.createElement(E_.a,e,r.a.createElement(j_.a,null,r.a.createElement(Al.a,{source:"id"})))},create:function(e){return r.a.createElement(es.a,e,r.a.createElement(ou.a,{variant:"outlined",toolbar:r.a.createElement(s_,null)},r.a.createElement(Nu.a,{source:"role_id",reference:"roles",variant:"outlined",margin:"none"},r.a.createElement(os.a,{variant:"outlined",margin:"none",optionText:"name",optionValue:"id"})),r.a.createElement(Tf.a,{variant:"outlined",margin:"none",source:"actions",choices:jr(Wa)}),r.a.createElement(_x.a,{source:"step",variant:"outlined",margin:"none"}),r.a.createElement(ns.a,{source:"status_msg",variant:"outlined",margin:"none"}),r.a.createElement(Nu.a,{source:"revise_to_me_workflow_id",reference:"me-workflows",variant:"outlined",margin:"none"},r.a.createElement(os.a,{optionText:"step",optionValue:"id",variant:"outlined",margin:"none"})),r.a.createElement(os.a,{source:"report_status",optionText:"name",optionValue:"id",variant:"outlined",margin:"none",choices:jr(Va)}),r.a.createElement(Nu.a,{source:"file_type_ids",reference:"file-types",variant:"outlined",margin:"none"},r.a.createElement(Tf.a,{optionText:"name",optionValue:"id",variant:"outlined",margin:"none"}))))},edit:function(e){return r.a.createElement(ru.a,e,r.a.createElement(ou.a,{toolbar:r.a.createElement(s_,null)},r.a.createElement(Nu.a,{source:"role_id",reference:"roles",variant:"outlined",margin:"none"},r.a.createElement(os.a,{optionText:"name",optionValue:"id",variant:"outlined",margin:"none"})),r.a.createElement(Tf.a,{source:"actions",variant:"outlined",margin:"none",choices:jr(Wa)}),r.a.createElement(_x.a,{source:"step",variant:"outlined",margin:"none"}),r.a.createElement(ns.a,{source:"status_msg",variant:"outlined",margin:"none"}),r.a.createElement(Nu.a,{source:"revise_to_me_workflow_id",reference:"me-workflows",variant:"outlined",margin:"none"},r.a.createElement(os.a,{optionText:"step",optionValue:"id",variant:"outlined",margin:"none"})),r.a.createElement(os.a,{source:"report_status",optionText:"name",optionValue:"id",variant:"outlined",margin:"none",choices:jr(Va)}),r.a.createElement(Nu.a,{source:"file_type_ids",reference:"file-types",variant:"outlined",margin:"none"},r.a.createElement(Tf.a,{optionText:"name",optionValue:"id",variant:"outlined",margin:"none"}))))}},oN=a(1070),iN=a(1055),lN=a(1056),cN=["translate"],sN={list:function(e){e.translate;var t=Object(T.a)(e,cN);return r.a.createElement(ri.a,Object.assign({},t,{bulkActionButtons:!1,filter:{is_deleted:!1}}),r.a.createElement(Nl.a,null,r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Al.a,{source:"name"}),r.a.createElement(oN.a,{reference:"phases",source:"phase_ids"},r.a.createElement(iN.a,null,r.a.createElement(lN.a,{source:"name"}))),r.a.createElement(Al.a,{source:"extensions"}),r.a.createElement(Kp.a,{source:"is_required"}),r.a.createElement(zs.a,null),r.a.createElement(v_.a,null),r.a.createElement(xv.a,null)))},show:function(e){Object(pe.a)();return r.a.createElement(E_.a,e,r.a.createElement(j_.a,null,r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Al.a,{source:"name"}),r.a.createElement(oN.a,{reference:"phases",source:"phase_ids"},r.a.createElement(iN.a,null,r.a.createElement(lN.a,{source:"name"}))),r.a.createElement(Al.a,{source:"extensions"})))},create:function(e){var t=Object(n.useState)(en),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(pe.a)(),c=Object(Ca.a)();return Object(n.useEffect)((function(){c.getListOfAll("parameters",{sort_field:"id"}).then((function(e){if(e&&e.data){var t=x.a.find(e.data,(function(e){return"media_extensions"===e.param_key}));t&&t.param_value&&i(t.param_value.map((function(e){return{id:e,name:e}})))}}))}),[]),r.a.createElement(es.a,e,r.a.createElement(ou.a,{redirect:"list",toolbar:r.a.createElement(s_,null)},r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.file-types.fields.name"},r.a.createElement(ns.a,{source:"name",validate:Object(rs.j)(),variant:"outlined",margin:"none"})),r.a.createElement(cs,{bool:!0,tooltipText:"tooltips.resources.file-types.fields.is_required"},r.a.createElement(I_.a,{source:"is_required"})),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.file-types.fields.phase_ids"},r.a.createElement(ay.a,{label:l("resources.file-types.fields.phase_ids"),source:"phase_ids",sort:Ra,reference:"phases",linkType:"show"},r.a.createElement(Tf.a,{variant:"outlined",margin:"none",optionText:"name",options:{fullWidth:"true"}}))),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.file-types.fields.extensions"},r.a.createElement(Tf.a,{source:"extensions",choices:o,options:{fullWidth:"true"},variant:"outlined",margin:"none"}))))},edit:function(e){var t=Object(n.useState)(en),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(pe.a)(),c=Object(Ca.a)();return Object(n.useEffect)((function(){c.getListOfAll("parameters",{sort_field:"id"}).then((function(e){if(e&&e.data){var t=x.a.find(e.data,(function(e){return"media_extensions"===e.param_key}));t&&t.param_value&&i(t.param_value.map((function(e){return{id:e,name:e}})))}}))}),[]),r.a.createElement(ru.a,e,r.a.createElement(ou.a,{toolbar:r.a.createElement(s_,null)},r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.file-types.fields.name"},r.a.createElement(ns.a,{source:"name",validate:Object(rs.j)(),variant:"outlined",margin:"none"})),r.a.createElement(cs,{bool:!0,tooltipText:"tooltips.resources.file-types.fields.is_required"},r.a.createElement(I_.a,{source:"is_required"})),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.file-types.fields.phase_ids"},r.a.createElement(ay.a,{label:l("resources.file-types.fields.phase_ids"),source:"phase_ids",sort:Ra,reference:"phases",linkType:"show"},r.a.createElement(Tf.a,{optionText:"name",options:{fullWidth:"true"},variant:"outlined",margin:"none"}))),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.file-types.fields.extensions"},r.a.createElement(Tf.a,{source:"extensions",choices:o,variant:"outlined",margin:"none",options:{fullWidth:"true"}}))))}},uN=["translate"],dN={list:function(e){e.translate;var t=Object(T.a)(e,uN);return r.a.createElement(ri.a,Object.assign({},t,{bulkActionButtons:!1}),r.a.createElement(Nl.a,null,r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Al.a,{source:"code"}),r.a.createElement(Al.a,{source:"name"}),r.a.createElement(zs.a,null),r.a.createElement(v_.a,null)))},show:function(e){return r.a.createElement(E_.a,e,r.a.createElement(j_.a,null,r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Al.a,{source:"code"}),r.a.createElement(Al.a,{source:"name"})))},create:function(e){return r.a.createElement(es.a,e,r.a.createElement(ou.a,{redirect:"list",toolbar:r.a.createElement(s_,null)},r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.units.fields.code"},r.a.createElement(ns.a,{source:"code",validate:Object(rs.j)(),variant:"outlined",margin:"none"})),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.units.fields.name"},r.a.createElement(ns.a,{source:"name",validate:Object(rs.j)(),variant:"outlined",margin:"none"}))))},edit:function(e){return r.a.createElement(ru.a,e,r.a.createElement(ou.a,{toolbar:r.a.createElement(s_,null)},r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.units.fields.code"},r.a.createElement(ns.a,{source:"code",validate:Object(rs.j)(),variant:"outlined",margin:"none"})),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.units.fields.name"},r.a.createElement(ns.a,{source:"name",validate:Object(rs.j)(),variant:"outlined",margin:"none"}))))}},mN=["translate"],pN={list:function(e){e.translate;var t=Object(T.a)(e,mN);return r.a.createElement(ri.a,Object.assign({},t,{bulkActionButtons:!1}),r.a.createElement(Nl.a,null,r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Al.a,{source:"code"}),r.a.createElement(Al.a,{source:"name"}),r.a.createElement(Al.a,{source:"sign"}),r.a.createElement(zs.a,null),r.a.createElement(v_.a,null)))},show:function(e){return r.a.createElement(E_.a,e,r.a.createElement(j_.a,null,r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Al.a,{source:"code"}),r.a.createElement(Al.a,{source:"sign"})))},create:function(e){return r.a.createElement(es.a,e,r.a.createElement(ou.a,{redirect:"list",toolbar:r.a.createElement(s_,null)},r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.currencies.fields.code"},r.a.createElement(ns.a,{source:"code",validate:Object(rs.j)(),variant:"outlined",margin:"none"})),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.currencies.fields.name"},r.a.createElement(ns.a,{source:"name",validate:Object(rs.j)(),variant:"outlined",margin:"none"})),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.currencies.fields.sign"},r.a.createElement(ns.a,{source:"sign",validate:Object(rs.j)(),variant:"outlined",margin:"none"}))))},edit:function(e){return r.a.createElement(ru.a,e,r.a.createElement(ou.a,{toolbar:r.a.createElement(s_,null)},r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.currencies.fields.code"},r.a.createElement(ns.a,{source:"code",validate:Object(rs.j)(),variant:"outlined",margin:"none"})),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.currencies.fields.name"},r.a.createElement(ns.a,{source:"name",validate:Object(rs.j)(),variant:"outlined",margin:"none"})),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.currencies.fields.sign"},r.a.createElement(ns.a,{source:"sign",validate:Object(rs.j)(),variant:"outlined",margin:"none"}))))}},fN=["translate"],_N={list:function(e){e.translate;var t=Object(T.a)(e,fN);return r.a.createElement(ri.a,Object.assign({},t,{bulkActionButtons:!1}),r.a.createElement(Nl.a,null,r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Ub.a,{source:"currency_id",reference:"currencies"},r.a.createElement(Al.a,{source:"name"})),r.a.createElement(Al.a,{source:"rate"}),r.a.createElement(zs.a,null),r.a.createElement(v_.a,null)))},show:function(e){return r.a.createElement(E_.a,e,r.a.createElement(j_.a,null,r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Ub.a,{source:"currency_id",reference:"currencies"},r.a.createElement(Al.a,{source:"name"})),r.a.createElement(Al.a,{source:"rate"})))},create:function(e){return r.a.createElement(es.a,e,r.a.createElement(ou.a,{redirect:"list",toolbar:r.a.createElement(s_,null)},r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.currencyRates.fields.currency_id"},r.a.createElement(Nu.a,{validate:Object(rs.j)(),source:"currency_id",reference:"currencies"},r.a.createElement(os.a,{optionText:"name",optionValue:"id",margin:"none",variant:"outlined"}))),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.CurrencyRates.fields.rate"},r.a.createElement(ns.a,{source:"rate",validate:Object(rs.j)(),variant:"outlined",margin:"none"}))))},edit:function(e){return r.a.createElement(ru.a,e,r.a.createElement(ou.a,{toolbar:r.a.createElement(s_,null)},r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.currencyRates.fields.currency_id"},r.a.createElement(Nu.a,{validate:Object(rs.j)(),source:"currency_id",reference:"currencies"},r.a.createElement(os.a,{optionText:"name",optionValue:"id",margin:"none",variant:"outlined"}))),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.CurrencyRates.fields.rate"},r.a.createElement(ns.a,{source:"rate",validate:Object(rs.j)(),variant:"outlined",margin:"none"}))))}},gN=a(2053),hN=a(560),vN=a.n(hN),bN=function(e){var t=e.basePath,a=e.data,n=e.resource;return r.a.createElement(gN.a,null,r.a.createElement(xv.a,{basePath:t,record:a,resource:n}))},EN=function(e){var t=Object(pe.a)();return r.a.createElement(E_.a,Object.assign({actions:r.a.createElement(bN,null)},e),r.a.createElement(j_.a,null,r.a.createElement(Bs.a,{source:"created_on",showTime:!0}),r.a.createElement(Dl.a,{source:"sender",label:t("resources.notifications.fields.sender"),render:function(e){return e&&e.sender?e.sender.full_name:null}}),r.a.createElement(Dl.a,{source:"sender",label:t("resources.notifications.fields.body_html"),render:function(t){return t?gi()(function(){var t=e.record,a=t&&t.project&&"#/projects/".concat(t.project.id,"/show/").concat(t.project.phase_id);return t&&t.project&&"IN_PIPELINE"===t.project_status?"The project <b>".concat(t.project.name,"</b> has not been selected for ranking. You can check the details of the project by following\n      <a href=").concat(a,">this link</a>"):t&&t.project&&"The Project <b>".concat(t.project.name,"</b> ").concat(yN[t.project_status]," by <b>").concat(t.sender?t.sender.full_name:"","</b> at <b>").concat(S()(t.created_on).format("DD/MM/YYYY"),"</b>. You can check the details of the project by following\n      <a href=").concat(a,">this link</a>\n    ")}()):null}})))},jN=function(e,t){return{backgroundColor:e&&e.is_unread?"#efe":"white"}},yN={APPROVED:"has been submitted",DRAFT:"has been created",SUBMITTED:"has been submitted",REJECT:"has been rejected",REVISE:"has been revised",ASSIGNED:"has been assigned",COMPLETED:"has been completed",ONGOING:"is being implemented",POST_EVALUATION:"has been passed to ex-post evaluation",IN_PIPELINE:"is in pipeline"},ON=function(e){var t=e.map((function(e){var t={};return t.date=e.created_on,t.sender=e.sender?e.sender.full_name:"user",t.message="The Project ".concat(e.project?e.project.name:""," ").concat(yN[e.project_status]," by ").concat(e.sender?e.sender.full_name:"user"),t}));vN()(t,{headers:["date","sender","message"]},(function(e,t){Object(Cc.a)(t,"Notifications")}))};function wN(e){return r.a.createElement(Gs.a,null,r.a.createElement(Cu.a,Object.assign({},e,{style:{paddingTop:0,minHeight:0}})),e.showDeleted&&r.a.createElement(Xn.a,{onClick:function(){e.onSetFilter()},style:{paddingTop:0,minHeight:0},label:e.showDeleted?"Show All":"Show Unread"}))}var xN=function(e){var t=e.loading,a=e.loaded;return 0===e.total&&!t&&a?r.a.createElement(di.a,{textAlign:"center",m:1},r.a.createElement(se.a,{variant:"h4",paragraph:!0},"There are no notifications",r.a.createElement("br",null),r.a.createElement("br",null),e.showDeleted&&r.a.createElement(Xn.a,{onClick:e.onSetFilter,label:"Show All"}))):r.a.createElement("div",null)},kN=function(e){var t=Object(n.useState)(!1),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(pe.a)();function c(){i(!o)}return r.a.createElement(ri.a,Object.assign({},e,{bulkActionButtons:!1,exporter:ON,empty:r.a.createElement(xN,Object.assign({onSetFilter:c},e)),actions:r.a.createElement(wN,{onSetFilter:c,showDeleted:o}),filter:{is_unread:o}}),r.a.createElement(Nl.a,{rowStyle:jN,rowClick:"expand",expand:r.a.createElement(EN,e),bulkActionButtons:!1},r.a.createElement(Bs.a,{source:"created_on",showTime:!0}),r.a.createElement(Dl.a,{source:"sender",label:l("resources.notifications.fields.sender"),render:function(e){return e&&e.sender?e.sender.full_name:null}}),r.a.createElement(Dl.a,{source:"sender",label:l("resources.notifications.fields.body_html"),render:function(e){return e&&(null===e||void 0===e?void 0:e.project)?e&&e.project&&"IN_PIPELINE"===e.project_status?"The project ".concat(e.project.name," has not been selected for ranking."):"The Project ".concat(e.project.name," ").concat(yN[e.project_status]," by ").concat(e.sender.full_name):null}})))};var SN=["getSource","scopedFormData","formData"];var PN=function(e){var t=Object(n.useState)([]),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(pe.a)();function c(){i([].concat(Object(D.a)(o),[{}]))}Object(n.useEffect)((function(){e.record&&e.record.files&&i(e.record.files)}),[e.record]);var s=function(e){return function(t){i(o.filter((function(t,a){return a!==e})))}};function u(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,{onClick:c,variant:"contained",startIcon:r.a.createElement(ph.a,null)},l("resources.project-details.fields.attachments.add")),r.a.createElement("br",null),o.length?function(t){return o.map((function(a,n){return r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(gp,{meta:{relatedField:"me_attachment_".concat(n)},resource:"me-report",entityId:e.record.id,fileTypeId:0,placeholder:l("titles.drop_files"),record:t,approvedUploading:!0,onDelete:a?s():function(){}}),x.a.isEmpty(a)&&r.a.createElement(Ee.a,{variant:"contained",component:"span",onClick:s(n),startIcon:r.a.createElement(dp.a,null),style:{marginLeft:15}},l("resources.project-details.fields.attachments.remove")))}))}(t):null)}return r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData;var t=e.formData;Object(T.a)(e,SN);return r.a.createElement(n.Fragment,null,r.a.createElement("div",{style:{display:"flex",alignItems:"flex-start",flexDirection:"column"}},r.a.createElement(se.a,{variant:"h5",style:{marginRight:"25px"}},"Physical progress evidence"),r.a.createElement("br",null),u(t)))}))};var CN=["basePath","data","id","activeTab"],NN=["activeTab","onChangeTab","projectData"],AN=function(e,t,a){return"/me-reports/".concat(t,"/show")},DN=Object(ae.a)((function(e){return{textInput:{marginRight:10,width:"200px"}}})),TN=0,FN=function(e){e.basePath,e.data;var t=e.id,a=e.activeTab,o=Object(T.a)(e,CN),i=Object(_s.f)(),l=(i.hasValidationErrors,i.values),c=Object(rr.a)();Object(n.useEffect)((function(e){TN!==a&&(!x.a.isEmpty(l)&&a&&o.save(l,!1),TN=a)}),[a]);return r.a.createElement(Zc.a,null,r.a.createElement(Xn.a,{href:"/#/me-reports/".concat(t,"/show"),label:"Back to Report"}),r.a.createElement(Ee.a,{color:"primary",variant:"contained",onClick:function(){o.save(l,!1),c()},style:{margin:"0px 10px"}},"Save Changes"),r.a.createElement(Ee.a,{color:"primary",variant:"contained",onClick:function(){o.save(l,"/me-reports/".concat(t,"/show"))}},"Save Report and Exit"))};function RN(e){var t=e.activeTab,a=e.onChangeTab,n=e.projectData,o=Object(T.a)(e,NN),i=DN(),l=o.details,c=o.isYearReport;return r.a.createElement(ts.a,Object.assign({},o,{redirect:AN,toolbar:r.a.createElement(FN,Object.assign({},o,{activeTab:t}))}),r.a.createElement(as.a,{label:"summary",onClick:a(0)},r.a.createElement(ks,Object.assign({},o,{projectData:n,classes:i,details:l}))),r.a.createElement(as.a,{label:"Overview",onClick:a(1)},r.a.createElement(Is,Object.assign({},o,{classes:i,details:l,isYearReport:c}))),r.a.createElement(as.a,{label:"Physical",onClick:a(2)},r.a.createElement(Es,Object.assign({},o,{outputs:l.outputs,classes:i,details:l,isYearReport:c}))),r.a.createElement(as.a,{label:"Financial",onClick:a(3)},r.a.createElement(fs,Object.assign({},o,{activities:l.activities,classes:i,details:l,isYearReport:c}))),r.a.createElement(as.a,{label:"Issues",onClick:a(4)},r.a.createElement(Ds,Object.assign({},o,{classes:i,isYearReport:c}))),r.a.createElement(as.a,{label:"Conclusion",onClick:a(5)},r.a.createElement(Fs,Object.assign({},o,{classes:i,isYearReport:c}))),r.a.createElement(as.a,{label:"Attachments",onClick:a(6)},r.a.createElement(PN,Object.assign({},o,{classes:i,isYearReport:c}))))}var IN=function(e){var t=Object(n.useState)(0),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(!1),c=Object(Z.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)({}),m=Object(Z.a)(d,2),p=m[0],f=m[1],_=Object(n.useState)(),g=Object(Z.a)(_,2),h=(g[0],g[1]),v=Object(n.useState)(),b=Object(Z.a)(v,2),E=b[0],j=b[1],y=Object(n.useState)(),O=Object(Z.a)(y,2),w=(O[0],O[1],Object(Ca.a)());L();Object(n.useEffect)((function(){w.getOne("me-reports",{id:e.id}).then((function(e){e&&e.data&&(u("ANNUAL"===e.data.frequency),w.getOne("project-details",{id:e.data.project_detail_id}).then((function(e){e&&e.data&&(f(H(e.data)),h(e.data.project_id),w.getOne("projects",{id:e.data.project_id}).then((function(e){e&&e.data&&j(e.data)})))})))}))}),[]);Object(rr.a)();return r.a.createElement(ru.a,Object.assign({},e,{redirect:AN,basePath:"/me-reports",resource:"me-reports",undoable:!1}),r.a.createElement(RN,Object.assign({},e,{details:p,isYearReport:s,activeTab:o,onChangeTab:function(e){return function(){i(e)}},projectData:E})))},MN=(a(946),["humanResources","onSave","onClose"]),WN=["formData","scopedFormData","getSource"],LN=["formData","scopedFormData","getSource"],YN=["formData","scopedFormData","getSource"],BN=function(e){var t=e.humanResources,a=e.onSave,o=e.onClose;Object(T.a)(e,MN);return r.a.createElement(js.a,null,(function(e){e.formData,e.scopedFormData,e.getSource,Object(T.a)(e,WN);return r.a.createElement(Gr.a,{fullWidth:!0,maxWidth:"md",open:!0,onClose:o,style:{overflow:"hidden"}},r.a.createElement(Hr.a,null,"Project\u2019s Human Resources"),r.a.createElement(Jr.a,null,r.a.createElement(Ss.a,{source:"staff",label:!1},r.a.createElement(Ps.a,null,r.a.createElement(js.a,null,(function(e){var a=e.formData,o=e.scopedFormData,i=e.getSource;Object(T.a)(e,LN);return o&&!o.id&&(o.id=Date.now()),localStorage.setItem("staff",JSON.stringify(a.staff)),r.a.createElement(n.Fragment,null,r.a.createElement(os.a,{options:{fullWidth:!0},label:"Labor Category",variant:"outlined",margin:"none",source:i("parent"),choices:t,optionValue:"id",optionText:"text"}),r.a.createElement(ns.a,{options:{fullWidth:!0},label:"Full Name",source:i("text"),variant:"outlined",margin:"none"}),r.a.createElement(_x.a,{options:{fullWidth:!0},label:"Monthly Availability",source:i("capacity"),variant:"outlined",margin:"none",validate:[Object(rs.g)(1)]}))}))))),r.a.createElement(Xr.a,null,r.a.createElement(js.a,null,(function(e){var t=e.formData;e.scopedFormData,e.getSource,Object(T.a)(e,YN);return r.a.createElement(Xn.a,{variant:"contained",onClick:function(){return a(t),void o()},label:"Save Changes"})}))))}))},zN=["humanResources"],qN=Lc.Gantt.getGanttInstance();qN.plugins({grouping:!0,auto_scheduling:!0,critical_path:!0,overlay:!0,marker:!0});var UN,VN=!1,GN=!0,HN=!1,JN=!1,XN=!1;function $N(e){JN?(JN=!1,qN.config.show_slack=!1):(JN=!0,qN.config.show_slack=!0),qN.addTaskLayer((function(e){if(!qN.config.show_slack)return null;var t=qN.getFreeSlack(e);if(!t)return null;var a=qN.getState().drag_mode;if("resize"==a||"move"==a)return null;var n=new Date(e.end_date),r=qN.calculateEndDate(n,t),o=qN.getTaskPosition(e,n,r),i=document.createElement("div");return i.className="slack",i.style.left=o.left+"px",i.style.top=o.top+(VN?0:2)+"px",i.style.width=o.width+"px",i.style.height=o.height+"px",i})),qN.render()}function KN(){var e=!1;qN.templates.task_class=function(e,t,a){if(a.planned_end&&VN){var n=["has-baseline"];return t.getTime()>a.planned_end.getTime()&&n.push("overdue"),n.join(" ")}};var t=qN.addTaskLayer((function(t){if(VN){if(t.planned_start&&t.planned_end){t.baseline_progress||(t.baseline_progress=0);var a=qN.getTaskPosition(t,t.planned_start,t.planned_end),n=document.createElement("div");n.className="baseline",n.style.left=a.left+"px",n.style.width=a.width+"px",n.style.top=a.top+qN.config.task_height+13+"px";var r=document.createElement("div");r.className="baseline_progressbar",r.style.left=a.left+"px",r.style.width=t.baseline_progress,r.style.top=a.top+qN.config.task_height+13+"px",n.appendChild(r);var o=document.createElement("div");return o.className="baseline_progress_drag",o.style.left=t.baseline_progress,o.style.width="4px",r.appendChild(o),o.onmousedown=function(){e=!0},n.onmousemove=function(a){e&&"baseline_progress_drag"!=a.target.className&&(t.baseline_progress=a.layerX,qN.refreshTask(t.id))},n}return!1}}));VN||qN.removeTaskLayer(t)}var QN=qN.ext.overlay.addOverlay((function(e){var t=[];eA().forEach((function(e){t.push(tA(e))}));var a=function(){qN.getTaskByTime();var e=qN.getScale(),t=e.unit,a={};qN.eachTask((function(n){if(!qN.isSummaryTask(n)&&n.duration)for(var r=qN.date[e.unit+"_start"](new Date(n.start_date));r<n.end_date;){var o=r;if(r=qN.date.add(r,1,t),qN.isWorkTime({date:o,task:n,unit:t})){var i=r.valueOf();a[i]||(a[i]={planned:0,real:0}),a[i].planned+=1,o<=aA&&(a[i].real+=1*(n.progress||0)),1}}}));for(var n=[],r=[],o=[],i=0,l=0,c=eA(),s=-1,u=0,d=0;d<c.length;d++){var m=new Date(c[d]),p=(qN.date.add(m,1,t),a[m.valueOf()]||{planned:0,real:0});i=p.planned+i,n.push(i),m<=aA?(l=(p.real||0)+l,r.push(l),o.push(null)):(s<0&&(s=l/r.length,u=l,o.pop(),o.push(u)),u+=s,o.push(u))}for(d=0;d<n.length;d++)n[d]=Math.round(n[d]/i*100),void 0!==r[d]&&(r[d]=Math.round(r[d]/i*100)),null!==o[d]&&(o[d]=Math.round(o[d]/i*100));return{planned:n,real:r,predicted:o}}(),n=document.createElement("canvas"),r=document.querySelector("div.gantt_overlay_area");r.innerHTML="",r.appendChild(n),n.style.height=e.offsetHeight+"px",n.style.width=e.offsetWidth+"px";var o=n.getContext("2d");return UN&&UN.destroy(),UN=new window.Chart(o,{type:"line",data:{datasets:[{label:"Planned progress",backgroundColor:"#001eff",borderColor:"#001eff",data:a.planned,fill:!1,cubicInterpolationMode:"monotone"},{label:"Real progress",backgroundColor:"#ff5454",borderColor:"#ff5454",data:a.real,fill:!1,cubicInterpolationMode:"monotone"},{label:"Real progress (predicted)",backgroundColor:"#ff5454",borderColor:"#ff5454",data:a.predicted,borderDash:[5,10],fill:!1,cubicInterpolationMode:"monotone"}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:ZN()},onResize:function(e,t){qN.getSubtaskDates().start_date&&(e.options.layout.padding=ZN())},legend:{display:!1},tooltips:{mode:"index",intersect:!1,callbacks:{label:function(e,t){var a=t.datasets[e.datasetIndex];return a.label+": "+a.data[e.index]+"%"}}},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{labels:t,gridLines:{display:!1},ticks:{display:!1}},{position:"top",labels:t,gridLines:{display:!1},ticks:{display:!1}}],yAxes:[{display:!0,gridLines:{display:!1},ticks:{display:!0,min:0,max:100,stepSize:10,callback:function(e){return e>100?"":e+"%"}}},{display:!0,position:"right",gridLines:{display:!1},ticks:{display:!0,min:0,max:100,stepSize:10,callback:function(e){return e>100?"":e+"%"}}}]}}}),n}));function ZN(){var e=qN.getScale(),t=qN.getSubtaskDates(),a=(eA(),e.col_width,{left:0,right:0});if(t.start_date){a.left=qN.posFromDate(t.start_date)-48,a.right=e.full_width-qN.posFromDate(t.end_date)-48,a.top=qN.config.row_height-12,a.bottom=qN.config.row_height-12}return a}function eA(){var e=qN.getSubtaskDates(),t=[],a=qN.getScale();return e.start_date?(a.trace_x.forEach((function(a){a>=e.start_date&&a<=e.end_date&&t.push(a)})),t):a.trace_x}var tA=qN.date.date_to_str("%F %j, %Y"),aA=new Date;function nA(e){var t=qN.$resourcesStore;if(t){var a=e[qN.config.resource_property],n=t.getSelectedId();if(a==n||t.isChildOf(a,n))return!0}}function rA(e,t){var a=0;return e.forEach((function(e){qN.getResourceAssignments(t.id,e.id).forEach((function(e){a+=Number(e.value)}))})),a}function oA(e,t){return 1!==t.$level?-1:Number(t.capacity)||0}function iA(e){var t=qN.getState().selected_task;if(qN.isTaskExists(t)){var a=qN.getTask(t)[qN.config.resource_property];if(e.id==a)return!0;if(qN.$resourcesStore.isChildOf(a,e.id))return!0}return!1}qN.templates.grid_row_class=function(e,t,a){var n=[];return qN.hasChild(a.id)&&n.push("folder_row"),a.$virtual&&n.push("group_row"),nA(a)&&n.push("highlighted_resource"),2===a.$level&&n.push("nested_task"),a.$rendered_type===qN.config.types.task&&n.push("nested_task"),n.join(" ")},qN.templates.task_row_class=function(e,t,a){return nA(a)?"highlighted_resource":""},qN.templates.timeline_cell_class=function(e,t){return qN.isWorkTime({date:t,task:e})?"":"week_end"},qN.templates.histogram_cell_class=function(e,t,a,n){if(1===a.$level){if(rA(n,a)>oA(0,a))return"column_overload"}else if(2===a.$level)return"resource_task_cell"},qN.templates.histogram_cell_label=function(e,t,a,n){return(null===n||void 0===n?void 0:n.length)&&1===a.$level?rA(n,a)+"/"+oA(0,a):0===a.$level?"":2===a.$level&&qN.isWorkTime({date:e,task:qN.getTask(a.$task_id)})&&e.valueOf()<a.end_date.valueOf()&&t.valueOf()>a.start_date.valueOf()?qN.getResourceAssignments(a.$resource_id,a.$task_id)[0].value:"&ndash;"},qN.templates.histogram_cell_allocated=function(e,t,a,n){return rA(n,a)},qN.templates.histogram_cell_capacity=function(e,t,a,n){return qN.isWorkTime(e)?oA(0,a):0};var lA={grid_row_class:function(e,t,a){var n=[];return 0===a.$level&&(n.push("folder_row"),n.push("group_row")),iA(a)&&n.push("highlighted_resource"),n.join(" ")},task_row_class:function(e,t,a){var n=[];return iA(a)&&n.push("highlighted_resource"),0===a.$level&&n.push("group_row"),n.join(" ")}};function cA(e){var t,a=qN.getDatastore(qN.config.resource_store),n=a.getItem(e);return 0===n.$level?(t=[],a.getChildren(e).forEach((function(e){t=t.concat(qN.getResourceAssignments(e))}))):t=1===n.$level?qN.getResourceAssignments(e):qN.getResourceAssignments(n.$resource_id,n.$task_id),t}qN.locale.labels.baseline_enable_button="Set",qN.locale.labels.baseline_disable_button="Remove",qN.locale.labels.section_owner="Owner",qN.config.lightbox.sections=[{name:"description",height:38,map_to:"text",type:"textarea",focus:!0},{name:"cost",height:24,map_to:"total_cost",type:"textarea",focus:!0,label:"Cost"},{name:"owner",type:"resources",map_to:"owner",options:qN.serverList("people"),default_value:8,unassigned_value:15},{name:"time",type:"duration",map_to:"auto"},{name:"baseline",map_to:{start_date:"planned_start",end_date:"planned_end"},button:!0,type:"duration_optional"},{name:"progress",height:24,map_to:"progress",type:"select",options:[{key:"0",label:"Not started"},{key:"0.1",label:"10%"},{key:"0.2",label:"20%"},{key:"0.3",label:"30%"},{key:"0.4",label:"40%"},{key:"0.5",label:"50%"},{key:"0.6",label:"60%"},{key:"0.7",label:"70%"},{key:"0.8",label:"80%"},{key:"0.9",label:"90%"},{key:"1",label:"Complete"}]}],qN.locale.labels.section_baseline="Planned",qN.locale.labels.section_cost="Cost",qN.locale.labels.section_progress="Progress",qN.config.resource_render_empty_cells=!0,qN.config.task_height=35,qN.config.row_height=40;var sA={scale_height:30,row_height:45,scales:[{unit:"month",step:1,format:"%F"}],columns:[{name:"name",label:"Name",tree:!0,width:200,template:function(e){return e.text},resize:!0},{name:"progress",label:"Complete",align:"center",template:function(e){qN.getDatastore(qN.config.resource_store);var t=0,a=0,n=0;2==e.$level?n=100*e.progress:(cA(e.id).forEach((function(e){var n=qN.getTask(e.task_id);t+=n.duration,a+=n.duration*(n.progress||0)})),t&&(n=a/t*100));return Math.floor(n)+"%"},resize:!0},{name:"workload",label:"Workload",align:"center",template:function(e){var t=0;if(2==e.$level){var a=qN.getResourceAssignments(e.$resource_id,e.$task_id)[0];a&&(t=e.duration*a.value)}else{cA(e.id).forEach((function(e){var a=qN.getTask(e.task_id);if(e){var n=S()(a.start_date),r=S()(a.end_date).diff(n,"month");t+=Number(e.value)*r}}))}return(t||0)+"d"},resize:!0},{name:"capacity",label:"Capacity",align:"center",template:function(e){if(2==e.$level)return 8*e.duration+"d";var t=qN.getDatastore(qN.config.resource_store),a=(0===e.$level&&t.getChildren(e.id).length,qN.getState()),n=S()(a.min_date);return(S()(a.max_date).diff(n,"month")*Number(e.capacity)||0).toFixed(0)+"d"}}]};qN.config.scales=[{unit:"year",step:1,format:"%Y"},{unit:"month",format:"%F"}],qN.attachEvent("onBeforeAutoSchedule",(function(){return qN.message("Recalculating project schedule..."),!0})),qN.attachEvent("onAfterTaskAutoSchedule",(function(e,t,a,n){e&&n&&qN.message({text:"<b>"+e.text+"</b> has been rescheduled to "+qN.templates.task_date(t)+" due to <b>"+n.text+"</b> constraint",expire:4e3})})),qN.config.columns=[{name:"text",label:"Outputs / Activities",tree:!0,width:300,resize:!0},{name:"start_date",align:"center",width:80,resize:!0},{name:"total_cost",label:"Cost",align:"center",width:80,resize:!0,template:function(e){return(null===e||void 0===e?void 0:e.total_cost)?vr(e.total_cost):""}},{name:"owner",align:"center",width:100,label:"Owner",template:function(e){if(!e||e&&!e.parent||(null===e||void 0===e?void 0:e.hideResources)||"project"===(null===e||void 0===e?void 0:e.type))return"";var t=qN.getDatastore("resource"),a=e[qN.config.resource_property];if(!a||!a.length)return"Unassigned";if(1===a.length){var n=t.getItem(a[0].resource_id);return void 0!==n?n.text:""}var r="";return a.forEach((function(e){var a=t.getItem(e.resource_id);a&&(r+="<div class='owner-label' title='"+a.text+"'>"+a.text.substr(0,1)+"</div>")})),r},resize:!0},{name:"duration",width:60,align:"center",resize:!0},{name:"add",width:44}],qN.config.resource_store="resource",qN.config.resource_property="owner",qN.config.order_branch=!0,qN.config.open_tree_initially=!0,qN.config.scale_height=50,qN.config.min_duration=864e6,qN.config.auto_types=!0,qN.config.drag_project=!0,qN.config.layout={css:"gantt_container",rows:[{gravity:2,cols:[{view:"grid",group:"grids",scrollY:"scrollVer"},{resizer:!0,width:1},{view:"timeline",scrollX:"scrollHor",scrollY:"scrollVer"},{view:"scrollbar",id:"scrollVer",group:"vertical"}]},{resizer:!0,width:1,next:"resources"},{gravity:1,id:"resources",config:sA,templates:lA,cols:[{view:"resourceGrid",group:"grids",scrollY:"resourceVScroll"},{resizer:!0,width:1},{view:"resourceHistogram",capacity:24,scrollX:"scrollHor",scrollY:"resourceVScroll"},{view:"scrollbar",id:"resourceVScroll",group:"vertical"}]},{view:"scrollbar",id:"scrollHor"}]},qN.$resourcesStore=qN.createDatastore({name:qN.config.resource_store,type:"treeDatastore",fetchTasks:!0,initItem:function(e){return e.parent=e&&e.parent||qN.config.root_id,e[qN.config.resource_property]=e&&e.parent,e.open=!0,e}}),qN.$resourcesStore.attachEvent("onAfterSelect",(function(e){qN.refreshData()})),qN.attachEvent("onTaskCreated",(function(e){return qN.refreshData(),!0})),qN.attachEvent("onTaskLoading",(function(e){if(e){var t=e[qN.config.resource_property];e.$virtual||t&&Array.isArray(t)&&t.length||(e[qN.config.resource_property]=[])}return!0})),qN.$resourcesStore.attachEvent("onParse",(function(){var e=[];qN.$resourcesStore.eachItem((function(t){if(1===t.$level){var a=qN.copy(t);a.key=t.id,a.label=t.text,a.unit="days",e.push(a)}})),qN.updateCollection("people",e),qN.refreshData()})),qN.attachEvent("onTaskLoading",(function(e){return e.planned_start=qN.date.parseDate(e.planned_start,"xml_date"),e.planned_end=qN.date.parseDate(e.planned_end,"xml_date"),qN.refreshData(),!0})),qN.attachEvent("onAfterTaskAdd",(function(e,t){0===t.$level&&(t.type="project",t.duration=30)})),qN.createDataProcessor((function(e,t,a,n){var r=[];switch(localStorage[e]&&JSON.parse(localStorage[e])&&(r=JSON.parse(localStorage[e])),t){case"create":x.a.find(r,(function(e){return e.id===a.id}))||r.push(a);break;case"update":var o=r.findIndex((function(e,t){return e.id==n}));r[o]=a;break;case"delete":o=r.findIndex((function(e,t){return e.id==n}));r.splice(o,1)}localStorage[e]=JSON.stringify(r),qN.render()}));var uA=function(e){var t,a=e.humanResources,o=Object(T.a)(e,zN),i=Object(n.useState)(!1),l=Object(Z.a)(i,2),c=l[0],s=l[1],u=Object(n.useState)(!1),d=Object(Z.a)(u,2),m=d[0],p=d[1],f=Object(n.useState)(!1),_=Object(Z.a)(f,2),g=_[0],h=_[1],v=Object(n.useState)(!1),b=Object(Z.a)(v,2),E=b[0],j=b[1],y=Object(n.useState)(!1),O=Object(Z.a)(y,2),w=O[0],k=O[1],P=Object(n.useState)(!1),C=Object(Z.a)(P,2),N=C[0],A=C[1],F=(Object(de.g)(),Object(n.useRef)(null));function R(){qN.addMarker({start_date:aA,css:"today",text:"Today",title:"Today: "+tA(aA)});var e=qN.getSubtaskDates();qN.addMarker({start_date:e.end_date,text:"Project end",title:"Project end: "+tA(e.end_date)}),qN.addMarker({start_date:e.start_date,text:"Project start",title:"Project Start: "+tA(e.start_date)})}Object(n.useEffect)((function(){localStorage.removeItem("task"),localStorage.removeItem("link"),localStorage.removeItem("staff")}),[]),Object(n.useEffect)((function(){if(o&&o.task&&!x.a.isEmpty(o.task)){var e;localStorage.setItem("staff",o.staff?JSON.stringify(o.staff):"[]"),localStorage.setItem("task",o.task?JSON.stringify(o.task):"[]"),localStorage.setItem("link",o.link?JSON.stringify(o.link):"[]");var t={data:null===(e=o.task)||void 0===e?void 0:e.map((function(e){return e.open=!0,e})),links:o.link||[]};document.getElementById("pm_gantt_here")&&(qN.init("pm_gantt_here"),qN.clearAll(),qN.parse(t),qN.refreshData(),R())}else if(o&&o.project&&o.project.current_project_detail){var a,n,r,i,l,c,s,u,d,m=S()(o.project.current_project_detail.start_date),p=S()(o.project.current_project_detail.end_date).diff(m,"years")+1,f=(S()(o.project.current_project_detail.start_date).format("DD-MM-YYYY"),{id:o.project_id,text:(null===(a=o.project)||void 0===a?void 0:a.name)||"Project",parent:null,start_date:S()(null===(n=o.project)||void 0===n||null===(r=n.current_project_detail)||void 0===r?void 0:r.start_date).format("YYYY"),duration:0===p?1:p,open:!0,type:qN.config.types.task}),_=null===(i=o.project)||void 0===i||null===(l=i.current_project_detail)||void 0===l||null===(c=l.outputs)||void 0===c?void 0:c.map((function(e){var t={hideResources:!0};return t.text=e.name,t.parent=o.project_id,t.id=1e4+e.id,t.total_cost=0,t.owner=[],t.open=!0,t.parent=o.project_id,t.type=qN.config.types.project,t})),g=null===(s=o.project)||void 0===s||null===(u=s.current_project_detail)||void 0===u||null===(d=u.activities)||void 0===d?void 0:d.map((function(e){var t=S()(e.start_date),a=S()(e.end_date).diff(t,"days"),n={};return n.type=qN.config.types.task,n.progress=0,n.open=!0,n.text=e.name,n.id=1e5+e.id,n.parent=1e4+e.output_ids[0],n.start_date=S()(e.start_date).format("DD-MM-YYYY"),n.duration=0===a?365:a,n.total_cost=0,n.owner=[],n.planned_start=S()(e.start_date).format("DD-MM-YYYY"),n.planned_end=S()(e.start_date).add(0===a?365:a,"days").format("DD-MM-YYYY"),e.investments.forEach((function(e){x.a.keys(e.costs).forEach((function(t){n.total_cost+=parseFloat(e.costs[t])}))})),n})),h={data:[f].concat(Object(D.a)(_),Object(D.a)(g))};localStorage.setItem("task",JSON.stringify([f].concat(Object(D.a)(_),Object(D.a)(g)))),document.getElementById("pm_gantt_here")&&(null===g||void 0===g?void 0:g.length)>0&&(qN.init("pm_gantt_here"),qN.clearAll(),qN.parse(h),qN.refreshData(),R())}}),[]),Object(n.useEffect)((function(){o&&o.staff&&!x.a.isEmpty(o.staff)?x.a.isEmpty(o.staff.filter((function(e){return!e})))&&(qN.refreshData(),!qN.$resourcesStore||x.a.isEmpty(a)||x.a.isEmpty(o.staff)||qN.$resourcesStore.parse([].concat(Object(D.a)(a),Object(D.a)(o.staff)))):qN.$resourcesStore.parse(a)}),[o.staff]);var I=Object(ee.e)();return Object(n.useEffect)((function(){var e;return Y("has_pimis_fields")&&I({type:"SET_PROJECT_TITLE_HEADER",payload:{data:"".concat(null===o||void 0===o||null===(e=o.project)||void 0===e?void 0:e.name)}}),function(){I({type:"SET_PROJECT_TITLE_HEADER",payload:{data:""}})}}),[null===o||void 0===o||null===(t=o.project)||void 0===t?void 0:t.name]),Object(n.useEffect)((function(){return I(Wr([{to:"/gantt_chart",title:"Gantt chart"},{to:"",title:"Project Management"}])),function(){I(Wr([]))}}),[I,o.project.name]),r.a.createElement("div",{style:{width:"98%",height:"80vh"}},r.a.createElement("div",{className:"gantt_control"},r.a.createElement(Ee.a,{variant:"contained",style:{margin:10},onClick:function(e){j(!E),function(e){if(qN.$groupMode=!qN.$groupMode,GN){GN=!1;var t=qN.$resourcesStore.getItems().map((function(e){var t=qN.copy(e);return t.group_id=t.id,t.id=qN.uid(),t}));qN.groupBy({groups:t,relation_property:qN.config.resource_property,group_id:"group_id",group_text:"text",delimiter:", ",default_group_label:"Not Assigned",set_relation_value:function(e){if(e){var t=[];return e.map((function(e){t.push({resource_id:e,value:8})})),t}}})}else GN=!0,qN.groupBy(!1)}()}},E?"Project View":"Resource View"),r.a.createElement(Ee.a,{variant:"contained",style:{margin:10},onClick:function(e){h(!g),HN?(HN=!1,qN.config.highlight_critical_path=!1):(HN=!0,qN.config.highlight_critical_path=!0),qN.render()}},g?"Hide Critical Path":"Critical Path"),r.a.createElement(Ee.a,{variant:"contained",style:{margin:10},onClick:function(e){p(!m),$N()}},m?"Hide Free Time":"Free Time"),r.a.createElement(Ee.a,{variant:"contained",style:{margin:10},onClick:function(e){k(!w),VN?(VN=!1,qN.config.task_height=35,qN.config.row_height=40,KN()):(VN=!0,qN.config.task_height=20,qN.config.row_height=40,KN()),qN.render()}},w?"Hide Baseline":"Baseline"),r.a.createElement(Ee.a,{variant:"contained",style:{margin:10},onClick:function(e){s(!c),XN?(XN=!1,qN.config.auto_scheduling=!1,qN.config.auto_scheduling_strict=!1,qN.config.auto_scheduling_compatibility=!1):(XN=!0,qN.config.auto_scheduling=!0,qN.config.auto_scheduling_strict=!0,qN.config.auto_scheduling_compatibility=!0,qN.autoSchedule())}},c?"Disable Fast Tracking":"Enable Fast Tracking"),r.a.createElement(Ee.a,{variant:"contained",style:{margin:10},onClick:function(e){A(!N),qN.ext.overlay.isOverlayVisible(QN)?(qN.config.readonly=!1,qN.ext.overlay.hideOverlay(QN),qN.$root.classList.remove("overlay_visible")):(qN.config.readonly=!0,qN.ext.overlay.showOverlay(QN),qN.$root.classList.add("overlay_visible")),qN.render()}},N?"Hide Progress Line":"Progress Line")),r.a.createElement("div",{id:"pm_gantt_here",ref:F,style:{width:"100%",height:"90%"}}),o.show&&r.a.createElement(BN,Object.assign({},o,{humanResources:a,onClose:o.onClose})))},dA=["task","onClose"],mA=function(e){var t=e.task,a=e.onClose,n=(Object(T.a)(e,dA),localStorage.getItem("task")?JSON.parse(localStorage.getItem("task")):t),o=function(e){return S()(e,"DD-MM-YYYY HH:mm").format("DD-MM-YYYY")};return r.a.createElement(Gr.a,{fullWidth:!0,maxWidth:"ld",open:!0,onClose:a,style:{overflow:"hidden"}},r.a.createElement(Hr.a,null,"Variance Estimation"),r.a.createElement(Jr.a,null,r.a.createElement(Fi.a,null,r.a.createElement(oi.a,null,r.a.createElement(ii.a,null,r.a.createElement(ci.a,{style:{width:"350px"}},"Activity/Task"),r.a.createElement(ci.a,{style:{width:"150px",textAlign:"center"}},"Panned Start Date"),r.a.createElement(ci.a,{style:{width:"150px",textAlign:"center"}},"Planned Finish Date"),r.a.createElement(ci.a,{style:{width:"150px",textAlign:"center"}},"Time Period Start Date"),r.a.createElement(ci.a,{style:{width:"150px",textAlign:"center"}},"Time Period Finish Date"),r.a.createElement(ci.a,{style:{width:"150px",textAlign:"center"}},"Variance Start Date"),r.a.createElement(ci.a,{style:{width:"150px",textAlign:"center"}},"Variance End Date")),r.a.createElement(si.a,null,null===n||void 0===n?void 0:n.filter((function(e){return e&&"task"===e.type})).map((function(e){return r.a.createElement(li.a,{key:e.id},r.a.createElement(ci.a,{style:{width:"350px",textAlign:"left"}},e.text),r.a.createElement(ci.a,{style:{textAlign:"center"}},o(e.planned_start)),r.a.createElement(ci.a,{style:{textAlign:"center"}},o(e.planned_end)),r.a.createElement(ci.a,{style:{textAlign:"center"}},o(e.start_date)),r.a.createElement(ci.a,{style:{textAlign:"center"}},o(e.end_date)),r.a.createElement(ci.a,{style:{textAlign:"center"}},S()(e.start_date,"DD-MM-YYYY HH:mm").diff(S()(S()(e.planned_start,"DD-MM-YYYY HH:mm")),"days")),r.a.createElement(ci.a,{style:{textAlign:"center"}},S()(e.end_date,"DD-MM-YYYY HH:mm").diff(S()(S()(e.planned_end,"DD-MM-YYYY HH:mm")),"days")))})))))),r.a.createElement(Xr.a,null,r.a.createElement(Xn.a,{variant:"contained",onClick:a,label:"Close"})))},pA=["humanResources"],fA=!1,_A=!0,gA=!1,hA=!1,vA=!1,bA=Lc.Gantt.getGanttInstance();bA.plugins({grouping:!0,auto_scheduling:!0,critical_path:!0,overlay:!0,marker:!0});var EA={levels:[{name:"day",scale_height:27,min_column_width:80,scales:[{unit:"day",step:1,format:"%d %M"}]},{name:"week",scale_height:50,min_column_width:50,scales:[{unit:"week",step:1,format:function(e){var t=bA.date.date_to_str("%d %M"),a=bA.date.add(e,-6,"day");return"#"+bA.date.date_to_str("%W")(e)+", "+t(e)+" - "+t(a)}},{unit:"day",step:1,format:"%j %D"}]},{name:"month",scale_height:50,min_column_width:120,scales:[{unit:"month",format:"%F, %Y"},{unit:"week",format:"Week #%W"}]},{name:"quarter",height:50,min_column_width:90,scales:[{unit:"month",step:1,format:"%M"},{unit:"quarter",step:1,format:function(e){var t=bA.date.date_to_str("%M"),a=bA.date.add(bA.date.add(e,3,"month"),-1,"day");return t(e)+" - "+t(a)}}]},{name:"year",scale_height:50,min_column_width:30,scales:[{unit:"year",step:1,format:"%Y"}]}]};bA.ext.zoom.init(EA),bA.ext.zoom.setLevel("year");var jA;function yA(){bA.addTaskLayer((function(e){if(!bA.config.show_slack)return null;var t=bA.getFreeSlack(e);if(!t)return null;var a=bA.getState().drag_mode;if("resize"==a||"move"==a)return null;var n=new Date(e.end_date),r=bA.calculateEndDate(n,t),o=bA.getTaskPosition(e,n,r),i=document.createElement("div");return i.className="slack",i.style.left=o.left+"px",i.style.top=o.top+(fA?0:2)+"px",i.style.width=o.width+"px",i.style.height=o.height+"px",i}))}function OA(){console.log(fA,"SHOW_BASE_LINE");var e=!1;bA.templates.task_class=function(e,t,a){if(a.planned_end&&fA){var n=["has-baseline"];return t.getTime()>a.planned_end.getTime()&&n.push("overdue"),t.getTime()>a.planned_end.getTime()&&n.push("overdue"),n.join(" ")}};var t=bA.addTaskLayer((function(t){if(fA){if(t.planned_start&&t.planned_end){t.baseline_progress||(t.baseline_progress=0);var a=bA.getTaskPosition(t,t.planned_start,t.planned_end),n=document.createElement("div");n.className="baseline",n.style.left=a.left+"px",n.style.width=a.width+"px",n.style.top=a.top+bA.config.task_height+13+"px";var r=document.createElement("div");r.className="baseline_progressbar",r.style.left=a.left+"px",r.style.width=t.baseline_progress,r.style.top=a.top+bA.config.task_height+13+"px",n.appendChild(r);var o=document.createElement("div");return o.className="baseline_progress_drag",o.style.left=t.baseline_progress,o.style.width="4px",r.appendChild(o),o.onmousedown=function(){e=!0},n.onmousemove=function(a){e&&"baseline_progress_drag"!=a.target.className&&(t.baseline_progress=a.layerX,bA.refreshTask(t.id))},n}return!1}}));fA||bA.removeTaskLayer(t)}console.log(fA,"SHOW_BASE_LINE");var wA=bA.ext.overlay.addOverlay((function(e){var t=[];kA().forEach((function(e){t.push(SA(e))}));var a=function(){bA.getTaskByTime();var e=bA.getScale(),t=e.unit,a={};bA.eachTask((function(n){if(!bA.isSummaryTask(n)&&n.duration)for(var r=bA.date[e.unit+"_start"](new Date(n.start_date));r<n.end_date;){var o=r;if(r=bA.date.add(r,1,t),bA.isWorkTime({date:o,task:n,unit:t})){var i=r.valueOf();a[i]||(a[i]={planned:0,real:0}),a[i].planned+=1,o<=PA&&(a[i].real+=1*(n.progress||0)),1}}}));for(var n=[],r=[],o=[],i=0,l=0,c=kA(),s=-1,u=0,d=0;d<(null===c||void 0===c?void 0:c.length);d++){var m=new Date(c[d]),p=(bA.date.add(m,1,t),a[m.valueOf()]||{planned:0,real:0});i=p.planned+i,n.push(i),m<=PA?(l=(p.real||0)+l,r.push(l),o.push(null)):(s<0&&(s=l/(null===r||void 0===r?void 0:r.length),u=l,o.pop(),o.push(u)),u+=s,o.push(u))}for(d=0;d<(null===n||void 0===n?void 0:n.length);d++)n[d]=Math.round(n[d]/i*100),void 0!==r[d]&&(r[d]=Math.round(r[d]/i*100)),null!==o[d]&&(o[d]=Math.round(o[d]/i*100));return{planned:n,real:r,predicted:o}}(),n=document.createElement("canvas"),r=document.querySelector("div.gantt_overlay_area");r.innerHTML="",r.appendChild(n),n.style.height=e.offsetHeight+"px",n.style.width=e.offsetWidth+"px";var o=n.getContext("2d");return jA&&jA.destroy(),jA=new window.Chart(o,{type:"line",data:{datasets:[{label:"Planned progress",backgroundColor:"#001eff",borderColor:"#001eff",data:a.planned,fill:!1,cubicInterpolationMode:"monotone"},{label:"Real progress",backgroundColor:"#ff5454",borderColor:"#ff5454",data:a.real,fill:!1,cubicInterpolationMode:"monotone"},{label:"Real progress (predicted)",backgroundColor:"#ff5454",borderColor:"#ff5454",data:a.predicted,borderDash:[5,10],fill:!1,cubicInterpolationMode:"monotone"}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:xA()},onResize:function(e,t){bA.getSubtaskDates().start_date&&(e.options.layout.padding=xA())},legend:{display:!1},tooltips:{mode:"index",intersect:!1,callbacks:{label:function(e,t){var a=t.datasets[e.datasetIndex];return a.label+": "+a.data[e.index]+"%"}}},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{labels:t,gridLines:{display:!1},ticks:{display:!1}},{position:"top",labels:t,gridLines:{display:!1},ticks:{display:!1}}],yAxes:[{display:!0,gridLines:{display:!1},ticks:{display:!0,min:0,max:100,stepSize:10,callback:function(e){return e>100?"":e+"%"}}},{display:!0,position:"right",gridLines:{display:!1},ticks:{display:!0,min:0,max:100,stepSize:10,callback:function(e){return e>100?"":e+"%"}}}]}}}),n}));function xA(){var e=bA.getScale(),t=bA.getSubtaskDates(),a=(kA(),e.col_width,{left:0,right:0});if(t.start_date){a.left=bA.posFromDate(t.start_date)-48,a.right=e.full_width-bA.posFromDate(t.end_date)-48,a.top=bA.config.row_height-12,a.bottom=bA.config.row_height-12}return a}function kA(){var e=bA.getSubtaskDates(),t=[],a=bA.getScale();return e.start_date?(a.trace_x.forEach((function(a){a>=e.start_date&&a<=e.end_date&&t.push(a)})),t):a.trace_x}var SA=bA.date.date_to_str("%F %j, %Y"),PA=new Date;function CA(e){var t=bA.$resourcesStore;if(t){var a=e[bA.config.resource_property],n=t.getSelectedId();if(a==n||t.isChildOf(a,n))return!0}}function NA(e,t){var a=0;return e.forEach((function(e){bA.getResourceAssignments(t.id,e.id).forEach((function(e){a+=Number(e.value)}))})),a}function AA(e,t){return 1!==t.$level?-1:Number(t.capacity)||0}function DA(e){var t=bA.getState().selected_task;if(bA.isTaskExists(t)){var a=bA.getTask(t)[bA.config.resource_property];if(e.id==a)return!0;if(bA.$resourcesStore.isChildOf(a,e.id))return!0}return!1}bA.templates.grid_row_class=function(e,t,a){var n=[];return bA.hasChild(a.id)&&n.push("folder_row"),a.$virtual&&n.push("group_row"),CA(a)&&n.push("highlighted_resource"),(a.$level<2||a.$level>4)&&n.push("nested_task"),n.join(" ")},bA.templates.task_row_class=function(e,t,a){return CA(a)?"highlighted_resource":""},bA.templates.timeline_cell_class=function(e,t){return bA.isWorkTime({date:t,task:e})?"":"week_end"},bA.templates.rightside_text=function(e,t,a){if(a.type==bA.config.types.milestone)return a.text;if(a.planned_end&&t.getTime()>a.planned_end.getTime())return"<b>Overdue: "+Math.ceil(Math.abs((t.getTime()-a.planned_end.getTime())/864e5))+" days</b>";return""},bA.templates.histogram_cell_class=function(e,t,a,n){if(1===a.$level){if(NA(n,a)>AA(0,a))return"column_overload"}else if(2===a.$level)return"resource_task_cell"},bA.templates.histogram_cell_label=function(e,t,a,n){return(null===n||void 0===n?void 0:n.length)&&1===a.$level?NA(n,a)+"/"+AA(0,a):0===a.$level?"":2===a.$level&&bA.isWorkTime({date:e,task:bA.getTask(a.$task_id)})&&e.valueOf()<a.end_date.valueOf()&&t.valueOf()>a.start_date.valueOf()?bA.getResourceAssignments(a.$resource_id,a.$task_id)[0].value:"&ndash;"},bA.templates.histogram_cell_allocated=function(e,t,a,n){return NA(n,a)},bA.templates.histogram_cell_capacity=function(e,t,a,n){return bA.isWorkTime(e)?AA(0,a):0};var TA={grid_row_class:function(e,t,a){var n=[];return 0===a.$level&&(n.push("folder_row"),n.push("group_row")),DA(a)&&n.push("highlighted_resource"),n.join(" ")},task_row_class:function(e,t,a){var n=[];return DA(a)&&n.push("highlighted_resource"),0===a.$level&&n.push("group_row"),n.join(" ")}},FA=[S()().add(-20,"years").format("YYYY"),S()().add(20,"years").format("YYYY")].map((function(e){return Number(e)}));function RA(e){var t,a=bA.getDatastore(bA.config.resource_store),n=a.getItem(e);return 0===n.$level?(t=[],a.getChildren(e).forEach((function(e){t=t.concat(bA.getResourceAssignments(e))}))):t=1===n.$level?bA.getResourceAssignments(e):bA.getResourceAssignments(n.$resource_id,n.$task_id),t}bA.config.auto_scheduling=!0,bA.config.auto_scheduling_strict=!0,bA.config.auto_scheduling_compatibility=!0,bA.config.schedule_from_end=!1,bA.config.types.customType="type_id",bA.locale.labels.type_customType="New Type",bA.config.lightbox.customType_sections=[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"type",type:"typeselect",map_to:"type"}],bA.locale.labels.section_split="Display",bA.locale.labels.section_time="Time",bA.locale.labels.baseline_enable_button="Set",bA.locale.labels.baseline_disable_button="Remove",bA.locale.labels.section_owner="Owner",bA.config.lightbox.project_sections=[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"split",type:"checkbox",map_to:"render",options:[{key:"split",label:"Split Task"}]},{name:"constraint",type:"constraint"}],bA.config.lightbox.sections=[{name:"description",height:38,map_to:"text",type:"textarea",focus:!0},{name:"cost",height:24,map_to:"total_cost",type:"textarea",focus:!0,label:"Cost"},{name:"owner",type:"resources",map_to:"owner",options:bA.serverList("people"),default_value:8,unassigned_value:15},{name:"time",height:96,map_to:"auto",type:"time",year_range:FA,autofix_end:!0},{name:"baseline",map_to:{start_date:"planned_start",end_date:"planned_end"},button:!0,type:"time_optional",year_range:FA,autofix_end:!0},{name:"progress",height:24,map_to:"progress",type:"select",options:[{key:"0",label:"Not started"},{key:"0.1",label:"10%"},{key:"0.2",label:"20%"},{key:"0.3",label:"30%"},{key:"0.4",label:"40%"},{key:"0.5",label:"50%"},{key:"0.6",label:"60%"},{key:"0.7",label:"70%"},{key:"0.8",label:"80%"},{key:"0.9",label:"90%"},{key:"1",label:"Complete"}]},{name:"type",type:"typeselect",map_to:"type"},{name:"constraint",type:"constraint"}],bA.locale.labels.section_baseline="Planned",bA.locale.labels.section_cost="Cost",bA.locale.labels.section_progress="Progress",bA.config.resource_render_empty_cells=!0,bA.config.task_height=35,bA.config.row_height=40,bA.config.years_range=20;var IA={scale_height:30,row_height:45,scales:[{unit:"month",step:1,format:"%M"}],columns:[{name:"name",label:"Name",tree:!0,width:200,template:function(e){return e.text},resize:!0},{name:"progress",label:"Complete",align:"center",template:function(e){bA.getDatastore(bA.config.resource_store);var t=0,a=0,n=0;2==e.$level?n=100*e.progress:(RA(e.id).forEach((function(e){var n=bA.getTask(e.task_id);t+=n.duration,a+=n.duration*(n.progress||0)})),t&&(n=a/t*100));return Math.floor(n)+"%"},resize:!0},{name:"workload",label:"Workload",align:"center",template:function(e){var t=0;if(2==e.$level){var a=bA.getResourceAssignments(e.$resource_id,e.$task_id)[0];a&&(t=e.duration*a.value)}else{RA(e.id).forEach((function(e){var a=bA.getTask(e.task_id);if(e){var n=S()(a.start_date),r=S()(a.end_date).diff(n,"month");t+=Number(e.value)*r}}))}return(t||0)+"d"},resize:!0},{name:"capacity",label:"Capacity",align:"center",template:function(e){var t;if(2==e.$level)return 8*e.duration+"d";var a=bA.getDatastore(bA.config.resource_store),n=(0===e.$level&&(null===(t=a.getChildren(e.id))||void 0===t||t.length),bA.getState()),r=S()(n.min_date);return(S()(n.max_date).diff(r,"month")*Number(e.capacity)||0).toFixed(0)+"d"}}]};bA.config.scales=[{unit:"year",step:1,format:"%Y"},{unit:"month",format:"%M"}],bA.attachEvent("onBeforeAutoSchedule",(function(){return bA.message("Recalculating project schedule..."),!0})),bA.attachEvent("onAfterTaskAutoSchedule",(function(e,t,a,n){var r="";if(n)r=n.text;else{var o=bA.getConstraintType(e);r=bA.locale.labels[o]}n=n||{text:e.constraint_type};console.log("<b>"+e.text+"</b> has been rescheduled to "+bA.templates.task_date(t)+" due to <b>"+r+"</b> constraint")}));var MA=bA.ext.formatters.durationFormatter({enter:"day",store:"day",format:"auto",short:!0}),WA=bA.ext.formatters.linkFormatter({durationFormatter:MA}),LA={predecessors:{type:"predecessor",map_to:"auto",formatter:WA}};bA.config.auto_scheduling_project_constraint=!0,bA.addMarker&&bA.addMarker({start_date:bA.config.project_start,text:"project start"});new Date(2023,0,1),new Date(2025,0,1),bA.locale.labels.asap,bA.locale.labels.alap,bA.locale.labels.snet,bA.locale.labels.snlt,bA.locale.labels.fnet,bA.locale.labels.fnlt,bA.locale.labels.mso,bA.locale.labels.mfo,new Date(2023,0,1),new Date(2025,0,1);function YA(){var e=document.querySelector(".custom_menu");e&&(e.innerHTML=null,e.remove())}bA.config.columns=[{name:"wbs",label:"WBS",align:"left",width:90,template:bA.getWBSCode},{name:"text",label:"Project/Component/SubComponent/Output/Activity",tree:!0,width:370,resize:!0,template:function(e){var t,a;return(null===e||void 0===e||null===(t=e.text)||void 0===t?void 0:t.length)>45?"".concat(null===e||void 0===e||null===(a=e.text)||void 0===a?void 0:a.slice(0,45),"..."):null===e||void 0===e?void 0:e.text}},{name:"start_date",label:"Start date",align:"center",width:80,resize:!0},{name:"total_cost",label:"Cost",align:"center",width:80,resize:!0,template:function(e){return(null===e||void 0===e?void 0:e.total_cost)?vr(e.total_cost):""}},{name:"owner",align:"center",width:100,label:"Owner",template:function(e){if(!e||e&&!e.parent||(null===e||void 0===e?void 0:e.hideResources)||"project"===(null===e||void 0===e?void 0:e.type))return"";var t=bA.getDatastore("resource"),a=e[bA.config.resource_property];if(!a||!(null===a||void 0===a?void 0:a.length))return"Unassigned";if(1===(null===a||void 0===a?void 0:a.length)){var n=t.getItem(a[0].resource_id);return void 0!==n?n.text:""}var r="";return a.forEach((function(e){var a=t.getItem(e.resource_id);a&&(r+="<div class='owner-label' title='"+a.text+"'>"+a.text.substr(0,1)+"</div>")})),r},resize:!0},{name:"duration",label:"Duration",width:60,align:"center",resize:!0},{name:"predecessors",label:"Predecessors",width:100,align:"center",editor:LA.predecessors,resize:!0,template:function(e){for(var t=e.$target,a=[],n=0;n<t.length;n++){var r=bA.getLink(t[n]);a.push(WA.format(r))}return a.join(", ")}},{name:"constraint_type",align:"center",label:"Constraint Type",width:160,template:function(e){return bA.locale.labels[bA.getConstraintType(e)]},resize:!0},{name:"constraint_date",label:"Constraint Date",align:"center",width:120,template:function(e){var t=bA.config.constraint_types;return e.constraint_date&&e.constraint_type!=t.ASAP&&e.constraint_type!=t.ALAP?bA.templates.task_date(e.constraint_date):""},resize:!0},{name:"add",label:"Add Task Column",width:44}],bA.config.resource_store="resource",bA.config.resource_property="owner",bA.config.order_branch=!0,bA.config.open_tree_initially=!0,bA.config.scale_height=50,bA.config.min_duration=864e6,bA.config.auto_types=!0,bA.config.drag_project=!0,bA.config.layout={css:"gantt_container",rows:[{gravity:2,cols:[{view:"grid",group:"grids",scrollY:"scrollVer"},{resizer:!0,width:1},{view:"timeline",scrollX:"scrollHor",scrollY:"scrollVer"},{view:"scrollbar",id:"scrollVer",group:"vertical"}]},{resizer:!0,width:1,next:"resources"},{gravity:1,id:"resources",config:IA,templates:TA,cols:[{view:"resourceGrid",group:"grids",scrollY:"resourceVScroll"},{resizer:!0,width:1},{view:"resourceHistogram",capacity:24,scrollX:"scrollHor",scrollY:"resourceVScroll"},{view:"scrollbar",id:"resourceVScroll",group:"vertical"}]},{view:"scrollbar",id:"scrollHor"}]},bA.$resourcesStore=bA.createDatastore({name:bA.config.resource_store,type:"treeDatastore",fetchTasks:!0,initItem:function(e){return e.parent=e&&e.parent||bA.config.root_id,e[bA.config.resource_property]=e&&e.parent,e.open=!0,e}}),bA.$resourcesStore.attachEvent("onAfterSelect",(function(e){bA.refreshData()})),bA.attachEvent("onTaskCreated",(function(e){return bA.refreshData(),!0})),bA.attachEvent("onTaskLoading",(function(e){if(e){var t=e[bA.config.resource_property];e.$virtual||t&&Array.isArray(t)&&(null===t||void 0===t?void 0:t.length)||(e[bA.config.resource_property]=[])}return!0})),bA.$resourcesStore.attachEvent("onParse",(function(){var e=[];bA.$resourcesStore.eachItem((function(t){if(1===t.$level){var a=bA.copy(t);a.key=t.id,a.label=t.text,a.unit="days",e.push(a)}})),bA.updateCollection("people",e),bA.refreshData()})),bA.attachEvent("onTaskLoading",(function(e){return e.planned_start=bA.date.parseDate(e.planned_start,"xml_date"),e.planned_end=bA.date.parseDate(e.planned_end,"xml_date"),bA.refreshData(),!0})),bA.attachEvent("onAfterTaskAdd",(function(e,t){0===t.$level&&(t.type="project",t.duration=30)})),bA.createDataProcessor((function(e,t,a,n){var r=[];switch(localStorage[e]&&JSON.parse(localStorage[e])&&(r=JSON.parse(localStorage[e])),t){case"create":x.a.find(r,(function(e){return e.id===a.id}))||r.push(a);break;case"update":var o=r.findIndex((function(e,t){return e.id==n}));r[o]=a;break;case"delete":o=r.findIndex((function(e,t){return e.id==n}));r.splice(o,1)}localStorage[e]=JSON.stringify(r),bA.render()})),window.toggleColumnVisibility=function(e){bA.config.columns[e].hide=!bA.config.columns[e].hide,bA.render()},bA.attachEvent("onContextMenu",(function(e,t,a){if(YA(),bA.utils.dom.closest(a.target,".gantt_grid_scale")){var n=[];bA.config.columns.forEach((function(e){if("add"!==e.name){var t=e.label||e.name;"text"==e.name&&(t="Text");var a="checked";e.hide&&(a="");var r=bA.getColumnIndex([e.name]),o='<label style="display: flex;align-items: center;gap: 5px;">\n      <input type=checkbox data-view="grid" '.concat(a,' value="').concat(t,'" onchange="toggleColumnVisibility(\n      ').concat(r,'\n    );"><span style="font-size: 14px;"><b>').concat(t,"</b></span></label>");n.push(o)}}));var r='\n  \n  <div style="top: '.concat(a.clientY,"px;left: ").concat(a.clientX,'px; position: fixed;background: #fff; padding: 20px; display: flex;flex-direction: column;outline: 1px solid grey;\n  border-radius: 5px; gap: 5px;\n  box-shadow: 5px 5px 10px 0px rgba(0,0,0,0.35);" class=\'custom_menu\'>\n  <div class=header style="font-size: 14px;margin-bottom: 10px;"><b>Toggle column visibility:</b></div>\n  ').concat(n.join(""),"\n  </div>\n"),o=document.createElement("div");return o.innerHTML=r,document.body.appendChild(o),a.preventDefault(),!0}})),bA.attachEvent("onTaskClick",(function(e,t){return YA(),!0})),bA.attachEvent("onEmptyClick",(function(e){YA()}));var BA,zA=function(e){var t,a,o=e.humanResources,i=Object(T.a)(e,pA),l=Object(n.useState)(vA),c=Object(Z.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)(hA),m=Object(Z.a)(d,2),p=m[0],f=m[1],_=Object(n.useState)(gA),g=Object(Z.a)(_,2),h=g[0],v=g[1],b=Object(n.useState)(_A),E=Object(Z.a)(b,2),j=E[0],y=E[1],O=Object(n.useState)(fA),k=Object(Z.a)(O,2),P=k[0],C=k[1],N=Object(n.useState)(!1),A=Object(Z.a)(N,2),F=A[0],R=A[1],I=Object(n.useState)(!1),M=Object(Z.a)(I,2),W=M[0],L=M[1],B=Object(n.useState)("year"),z=Object(Z.a)(B,2),q=z[0],U=z[1],V=Object(ee.e)(),G=(Object(de.g)(),Object(n.useRef)(null));function H(){bA.addMarker({start_date:PA,css:"today",text:"Today",title:"Today: "+SA(PA)});var e=bA.getSubtaskDates();bA.addMarker({start_date:e.end_date,text:"Project end",title:"Project end: "+SA(e.end_date)}),bA.addMarker({start_date:e.start_date,text:"Project start",title:"Project Start: "+SA(e.start_date)})}function J(){L((function(e){return!e}))}function X(e){return e?{fontSize:"12px",padding:"5px 7px",boxShadow:"0px 2px 4px -1px rgba(0,0,0,0.2), 0px 4px 5px 0px rgba(0,0,0,0.14), 0px 1px 10px 0px rgba(0,0,0,0.12)",backgroundColor:"#a4ecac"}:{fontSize:"12px",padding:"5px 7px"}}return Object(n.useEffect)((function(){localStorage.removeItem("task"),localStorage.removeItem("link"),localStorage.removeItem("staff")}),[]),Object(n.useEffect)((function(){if(i&&i.task&&!x.a.isEmpty(i.task)){var e;localStorage.setItem("staff",i.staff?JSON.stringify(i.staff):"[]"),localStorage.setItem("task",i.task?JSON.stringify(i.task):"[]"),localStorage.setItem("link",i.link?JSON.stringify(i.link):"[]");var t={data:null===(e=i.task)||void 0===e?void 0:e.map((function(e){return e.open=!0,e})),links:i.link||[]};document.getElementById("pm_gantt_here")&&(bA.init("pm_gantt_here"),bA.clearAll(),bA.parse(t),bA.refreshData(),H())}else if(i&&i.project&&i.project.current_project_detail){var a,n,r,o,l,c,s,u,d,m,p,f,_=S()(i.project.current_project_detail.start_date),g=S()(i.project.current_project_detail.end_date).diff(_,"years")+1,h=S()(i.project.current_project_detail.start_date).format("DD-MM-YYYY"),v={id:i.project_id,text:(null===(a=i.project)||void 0===a?void 0:a.name)||"Project",parent:null,start_date:S()(null===(n=i.project)||void 0===n||null===(r=n.current_project_detail)||void 0===r?void 0:r.start_date).format("YYYY"),duration:0===g?1:g,open:!0,type:bA.config.types.task},b=null===(o=i.project)||void 0===o||null===(l=o.current_project_detail)||void 0===l||null===(c=l.components)||void 0===c?void 0:c.map((function(e){var t={hideResources:!0};return t.text=e.name,t.parent=i.project_id,t.id=1e4+e.id,t.total_cost=0,t.owner=[],t.open=!0,t.type=bA.config.types.project,t.subcomponents=e.subcomponents,t.start_date=h,t.duration=0,t})),E=w.concat.apply(void 0,Object(D.a)(null===b||void 0===b?void 0:b.map((function(e){var t;return Object(D.a)((null===(t=e.subcomponents)||void 0===t?void 0:t.map((function(t){var a={hideResources:!0};return a.text=t.name,a.parent=e.id,a.id=1e4+t.id,a.type=bA.config.types.project,a.start_date=h,a.duration=0,a})))||[])})))),j=null===(s=i.project)||void 0===s||null===(u=s.current_project_detail)||void 0===u||null===(d=u.outputs)||void 0===d?void 0:d.map((function(e){var t={hideResources:!0};return t.text=e.name,t.parent=i.project_id,t.id=1e4+e.id,t.total_cost=0,t.owner=[],t.open=!0,t.parent=e.subcomponent_id?1e4+e.subcomponent_id:1e4+e.component_id,t.type=bA.config.types.project,t.start_date=h,t.duration=0,t})),y=null===(m=i.project)||void 0===m||null===(p=m.current_project_detail)||void 0===p||null===(f=p.activities)||void 0===f?void 0:f.map((function(e){var t,a,n=S()(e.start_date),r=S()(e.end_date).diff(n,"days"),o={},l=Object(w.find)(null===(t=i.project)||void 0===t||null===(a=t.current_project_detail)||void 0===a?void 0:a.outputs,(function(t){return Number(t.id)===Number(e.output_ids[0])}));return o.type=bA.config.types.task,o.progress=0,o.open=!0,o.text=e.name,o.id=1e5+e.id,o.parent=1e4+e.output_ids[0],o.start_date=S()(e.start_date).format("DD-MM-YYYY"),o.has_subcomponent=Boolean(null===l||void 0===l?void 0:l.subcomponent_id),o.duration=0===r?365:r,o.total_cost=0,o.owner=[],o.planned_start=S()(e.start_date).format("DD-MM-YYYY"),o.planned_end=S()(e.start_date).add(0===r?365:r,"days").format("DD-MM-YYYY"),e.investments.forEach((function(e){x.a.keys(e.costs).forEach((function(t){o.total_cost+=parseFloat(e.costs[t])}))})),o})),O={data:[v].concat(Object(D.a)(j),Object(D.a)(y),Object(D.a)(b),Object(D.a)(E))};localStorage.setItem("task",JSON.stringify([v].concat(Object(D.a)(j),Object(D.a)(y),Object(D.a)(b),Object(D.a)(E)))),document.getElementById("pm_gantt_here")&&(null===y||void 0===y?void 0:y.length)>0&&(bA.init("pm_gantt_here"),bA.clearAll(),bA.parse(O),bA.refreshData(),H())}}),[]),Object(n.useEffect)((function(){i&&i.staff&&!x.a.isEmpty(i.staff)?x.a.isEmpty(i.staff.filter((function(e){return!e})))&&(bA.refreshData(),!bA.$resourcesStore||x.a.isEmpty(o)||x.a.isEmpty(i.staff)||bA.$resourcesStore.parse([].concat(Object(D.a)(o),Object(D.a)(i.staff)))):bA.$resourcesStore.parse(o)}),[i.staff]),Object(n.useEffect)((function(){var e;return Y("has_pimis_fields")&&V({type:"SET_PROJECT_TITLE_HEADER",payload:{data:"".concat(null===i||void 0===i||null===(e=i.project)||void 0===e?void 0:e.name)}}),function(){V({type:"SET_PROJECT_TITLE_HEADER",payload:{data:""}})}}),[null===i||void 0===i||null===(t=i.project)||void 0===t?void 0:t.name]),Object(n.useEffect)((function(){return V(Wr([{to:"/gantt_chart",title:"Gantt chart"},{to:"",title:"Project Management"}])),function(){V(Wr([]))}}),[V,i.project.name]),Object(n.useEffect)((function(){fA&&OA(),gA&&(bA.config.highlight_critical_path=!0),hA&&(bA.config.show_slack=!0,yA()),bA.render()}),[]),r.a.createElement("div",{style:{width:"98%",height:"80vh"}},r.a.createElement("div",{className:"gantt_control",style:{display:"flex",gap:"7px",marginBottom:"10px"}},r.a.createElement(Ee.a,{variant:"contained",onClick:function(e){y((function(e){return!e})),function(e){if(bA.$groupMode=!bA.$groupMode,_A){_A=!1;var t=bA.$resourcesStore.getItems().map((function(e){var t=bA.copy(e);return t.group_id=t.id,t.id=bA.uid(),t}));bA.groupBy({groups:t,relation_property:bA.config.resource_property,group_id:"group_id",group_text:"text",delimiter:", ",default_group_label:"Not Assigned",set_relation_value:function(e){if(e){var t=[];return e.map((function(e){t.push({resource_id:e,value:8})})),t}}})}else _A=!0,bA.groupBy(!1)}()},style:X(!j)},j?"Project View":"Resource View"),r.a.createElement(Ee.a,{variant:"contained",onClick:function(e){v((function(e){return!e})),gA?(gA=!1,bA.config.highlight_critical_path=!1):(gA=!0,bA.config.highlight_critical_path=!0),bA.render()},style:X(h)},"Critical Path"),r.a.createElement(Ee.a,{variant:"contained",onClick:function(e){f((function(e){return!e})),hA?(hA=!1,bA.config.show_slack=!1):(hA=!0,bA.config.show_slack=!0),yA(),bA.render()},style:X(p)},"Free Time"),r.a.createElement(Ee.a,{variant:"contained",onClick:function(e){C((function(e){return!e})),fA?(fA=!1,bA.config.task_height=35,bA.config.row_height=40,OA()):(fA=!0,bA.config.task_height=20,bA.config.row_height=40,OA()),bA.render()},style:X(P)},"Baseline"),r.a.createElement(Ee.a,{variant:"contained",onClick:function(e){u((function(e){return!e})),vA?(vA=!1,bA.config.auto_scheduling=!1,bA.config.auto_scheduling_strict=!1,bA.config.auto_scheduling_compatibility=!1):(vA=!0,bA.config.auto_scheduling=!0,bA.config.auto_scheduling_strict=!0,bA.config.auto_scheduling_compatibility=!0,bA.autoSchedule())},style:X(s)},"Fast Tracking"),r.a.createElement(Ee.a,{variant:"contained",onClick:function(e){R((function(e){return!e})),bA.ext.overlay.isOverlayVisible(wA)?(bA.config.readonly=!1,bA.ext.overlay.hideOverlay(wA),bA.$root.classList.remove("overlay_visible")):(bA.config.readonly=!0,bA.ext.overlay.showOverlay(wA),bA.$root.classList.add("overlay_visible")),bA.render()},style:X(F)},"Progress Line"),r.a.createElement(Ee.a,{variant:"contained",onClick:J,style:X(W)},"Variance Table"),r.a.createElement("div",{style:{display:"flex",gap:"12px",alignItems:"center",flexWrap:"wrap"}},r.a.createElement(se.a,{variant:"body1"},"Time Period: "),r.a.createElement(xa.a,{value:q,onChange:function(e){U(e.target.value),bA.ext.zoom.setLevel(e.target.value)},label:!1,style:{textTransform:"capitalize"}},null===EA||void 0===EA||null===(a=EA.levels)||void 0===a?void 0:a.map((function(e){return r.a.createElement(sa.a,{value:e.name,style:{textTransform:"capitalize"}},"".concat(e.name))}))))),r.a.createElement("div",{id:"pm_gantt_here",ref:G,style:{width:"100%",height:"90%"}}),i.show&&r.a.createElement(BN,Object.assign({},i,{humanResources:o,onClose:i.onClose})),W&&r.a.createElement(mA,Object.assign({},i,{onClose:J})))},qA=["basePath","data","resource","handleOpen"],UA=["show","humanResources","onSave","onClose"],VA=["formData","scopedFormData","getSource"],GA=["formData","scopedFormData","getSource"],HA=[{id:1,text:"Senior Procurement Specialist",parent:null},{id:2,text:"Procurement Specialist",parent:null},{id:3,text:"Project Manager",parent:null},{id:4,text:"Senior Engineer",parent:null},{id:5,text:"Engineer",parent:null},{id:6,text:"Surveyor",parent:null},{id:7,text:"Cost Estimator",parent:null},{id:8,text:"Works Supervisor",parent:null},{id:9,text:"Technical Advisor",parent:null},{id:10,text:"Special Advisor",parent:null},{id:11,text:"System Architect",parent:null},{id:12,text:"Data Analyst",parent:null},{id:13,text:"Licensed Training Provider",parent:null},{id:14,text:"Other",parent:null},{id:15,text:"Unassigned",parent:14,default:!0}],JA=function(e){e.basePath;var t=e.data,a=(e.resource,e.handleOpen);Object(T.a)(e,qA),Object(ai.a)();return r.a.createElement(Gs.a,null,r.a.createElement(gc,{basePath:"/projects",record:t&&t.project,label:"Back to Project Summary"}),r.a.createElement(Xn.a,{onClick:function(){return a("resources")},label:"Create Resource"},r.a.createElement(Ue.a,null)))},XA=function(e){var t=e.show,a=e.humanResources,n=e.onSave,o=e.onClose,i=Object(T.a)(e,UA);return r.a.createElement(ou.a,Object.assign({},i,{validate:!1,redirect:!1,toolbar:r.a.createElement(Zc.a,null,r.a.createElement(js.a,null,(function(e){var t=e.formData;e.scopedFormData,e.getSource,Object(T.a)(e,VA);return r.a.createElement(Xn.a,{style:{marginLeft:10,height:36,backgroundColor:"green"},variant:"contained",onClick:function(){return n(t)},label:"Save Changes"},r.a.createElement(P_.a,null))})),r.a.createElement(Xn.a,{style:{marginLeft:10,height:36,backgroundColor:"#c55c5e"},variant:"contained",onClick:function(){localStorage.removeItem("task"),localStorage.removeItem("link"),localStorage.removeItem("staff")},label:"Discard Changes"},r.a.createElement(Rn.a,null)))}),r.a.createElement(js.a,null,(function(e){var i=e.formData;e.scopedFormData,e.getSource,Object(T.a)(e,GA);return Y("has_pimis_fields")?r.a.createElement(zA,Object.assign({},i,{onSave:n,humanResources:a,show:t,onClose:o})):r.a.createElement(r.a.Fragment,null,r.a.createElement(uA,Object.assign({},i,{onSave:n,humanResources:HA,show:t,onClose:o})))})))},$A=function(e){var t=Object(n.useState)(!1),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=(Object(de.g)(),Object(Ca.a)()),c=Object(Na.a)(),s=Object(pe.a)(),d=Object(rr.a)(),m=Object(n.useState)([]),p=Object(Z.a)(m,2),f=p[0],_=p[1];Object(n.useEffect)((function(){l.getListOfAll("parameters",{sort_field:"id"}).then((function(e){if(e&&e.data){var t=Object(w.find)(e.data,(function(e){return"human_resource"===e.param_key}));t&&t.param_value&&_(t.param_value.map((function(e){return{id:Object(w.camelCase)(e),text:e,parent:null}})))}}))}),[]),Object(n.useEffect)((function(){return localStorage.removeItem("task"),localStorage.removeItem("link"),localStorage.removeItem("staff"),function(){localStorage.removeItem("task"),localStorage.removeItem("link"),localStorage.removeItem("staff")}}),[]);return r.a.createElement(ru.a,Object.assign({},e,{undoable:!1,redirect:!1,actions:r.a.createElement(JA,Object.assign({handleOpen:function(e){i(e)}},e))}),r.a.createElement(XA,Object.assign({},e,{show:o,humanResources:f,onSave:function(t){var a=localStorage.getItem("task")&&JSON.parse(localStorage.getItem("task")),n=localStorage.getItem("staff")&&JSON.parse(localStorage.getItem("staff")),r=localStorage.getItem("link")&&JSON.parse(localStorage.getItem("link")),o={data:Object(u.a)(Object(u.a)({},t),{},{task:a||(null===t||void 0===t?void 0:t.task)||[],staff:n||(null===t||void 0===t?void 0:t.staff)||[],link:r||(null===t||void 0===t?void 0:t.link)||[]}),id:e.id};l.update(e.resource,o).then((function(e){e&&(c(s("messages.project_management_saved")),d())})).catch((function(e){c(e.message,"warning")}))},onClose:function(){i(!1)}})))},KA=["translate"],QA={list:function(e){e.translate;var t=Object(T.a)(e,KA);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ri.a,Object.assign({},t,{bulkActionButtons:!1}),r.a.createElement(Nl.a,{rowClick:"edit"},r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Al.a,{source:"param_key"}),r.a.createElement(Al.a,{source:"param_value"}))))},show:function(e){return r.a.createElement(E_.a,e,r.a.createElement(j_.a,null,r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Al.a,{source:"param_key"}),r.a.createElement(Al.a,{source:"param_value"})))},edit:function(e){return r.a.createElement(ru.a,e,r.a.createElement(ou.a,{toolbar:r.a.createElement(s_,null)},r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.parameters.fields.param_key"},r.a.createElement(ns.a,{source:"param_key",validate:Object(rs.j)(),variant:"outlined",margin:"none",disabled:!0})),r.a.createElement(Ss.a,{source:"param_value",variant:"outlined",label:!1,margin:"none"},r.a.createElement(Ps.a,null,r.a.createElement(ns.a,{label:!1,validate:Object(rs.j)(),variant:"outlined",margin:"none"})))))}},ZA=a(1072),eD=["translate"],tD=function(e){return r.a.createElement(Gs.a,null,e.hasEditAccess&&r.a.createElement(ku.a,e))},aD={list:function(e){e.translate;var t=Object(T.a)(e,eD),a=L();return r.a.createElement(ri.a,Object.assign({},t,{bulkActionButtons:!1,actions:r.a.createElement(tD,Object.assign({},t,{hasEditAccess:a("edit_ndp")}))}),r.a.createElement(Nl.a,{rowClick:"edit"},r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Al.a,{source:"name"}),r.a.createElement(v_.a,null),r.a.createElement(ZA.a,null)))},show:function(e){return r.a.createElement(E_.a,e,r.a.createElement(j_.a,null,r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Al.a,{source:"name"})))},create:function(e){return r.a.createElement(es.a,e,r.a.createElement(ou.a,{redirect:"list",toolbar:r.a.createElement(s_,null)},r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.ndp-goals.fields.name"},r.a.createElement(ns.a,{source:"name",validate:Object(rs.j)(),variant:"outlined",margin:"none"}))))},edit:function(e){return r.a.createElement(ru.a,e,r.a.createElement(ou.a,{toolbar:r.a.createElement(s_,null)},r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.ndp-goals.fields.name"},r.a.createElement(ns.a,{source:"name",validate:Object(rs.j)(),variant:"outlined",margin:"none"}))))}},nD=["translate"],rD=function(e){return r.a.createElement(Gs.a,null,e.hasEditAccess&&r.a.createElement(ku.a,e))},oD={list:function(e){e.translate;var t=Object(T.a)(e,nD),a=L();return r.a.createElement(ri.a,Object.assign({},t,{bulkActionButtons:!1,actions:r.a.createElement(rD,Object.assign({},t,{hasEditAccess:a("edit_ndp")}))}),r.a.createElement(Nl.a,{rowClick:"edit"},r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Ub.a,{source:"ndp_goal_id",reference:"ndp-goals"},r.a.createElement(Al.a,{source:"name"})),r.a.createElement(Al.a,{source:"name"}),r.a.createElement(v_.a,null),r.a.createElement(ZA.a,null)))},show:function(e){return r.a.createElement(E_.a,e,r.a.createElement(j_.a,null,r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Ub.a,{source:"ndp_goal_id",reference:"ndp-goals"},r.a.createElement(Al.a,{source:"name"})),r.a.createElement(Al.a,{source:"name"})))},create:function(e){return r.a.createElement(es.a,e,r.a.createElement(ou.a,{redirect:"list",toolbar:r.a.createElement(s_,null)},r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.ndp-outcomes.fields.ndp_goal_id"},r.a.createElement(Nu.a,{sort:Ra,perPage:-1,validate:Object(rs.j)(),source:"ndp_goal_id",reference:"ndp-goals",variant:"outlined"},r.a.createElement(os.a,{optionText:"name",margin:"normal",variant:"outlined"}))),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.ndp-outcomes.fields.name"},r.a.createElement(ns.a,{source:"name",validate:Object(rs.j)(),variant:"outlined",margin:"none"}))))},edit:function(e){return r.a.createElement(ru.a,e,r.a.createElement(ou.a,{toolbar:r.a.createElement(s_,null)},r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.ndp-outcomes.fields.ndp_goal_id"},r.a.createElement(Nu.a,{sort:Ra,validate:Object(rs.j)(),perPage:-1,source:"ndp_goal_id",reference:"ndp-goals"},r.a.createElement(os.a,{optionText:"name",margin:"normal",variant:"outlined"}))),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.ndp-outcomes.fields.name"},r.a.createElement(ns.a,{source:"name",validate:Object(rs.j)(),variant:"outlined",margin:"none"}))))}},iD=["translate"],lD=function(e){return r.a.createElement(Gs.a,null,e.hasEditAccess&&r.a.createElement(ku.a,e))},cD={list:function(e){e.translate;var t=Object(T.a)(e,iD),a=L();return r.a.createElement(ri.a,Object.assign({},t,{bulkActionButtons:!1,actions:r.a.createElement(lD,Object.assign({},t,{hasEditAccess:a("edit_ndp")}))}),r.a.createElement(Nl.a,{rowClick:"edit"},r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Ub.a,{source:"ndp_outcome_id",reference:"ndp-outcomes"},r.a.createElement(Al.a,{source:"name"})),r.a.createElement(Al.a,{source:"name"}),r.a.createElement(v_.a,null),r.a.createElement(ZA.a,null)))},show:function(e){return r.a.createElement(E_.a,e,r.a.createElement(j_.a,null,r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Ub.a,{source:"ndp_outcome_id",reference:"ndp-outcomes"},r.a.createElement(Al.a,{source:"name"})),r.a.createElement(Al.a,{source:"name"})))},create:function(e){return r.a.createElement(es.a,e,r.a.createElement(ou.a,{redirect:"list",toolbar:r.a.createElement(s_,null)},r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.ndp-strategies.fields.ndp_outcome_id"},r.a.createElement(Nu.a,{sort:Ra,validate:Object(rs.j)(),perPage:-1,source:"ndp_outcome_id",reference:"ndp-outcomes",variant:"outlined"},r.a.createElement(os.a,{optionText:"name",margin:"normal",variant:"outlined"}))),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.ndp-strategies.fields.name"},r.a.createElement(ns.a,{source:"name",validate:Object(rs.j)(),variant:"outlined",margin:"none"}))))},edit:function(e){return r.a.createElement(ru.a,e,r.a.createElement(ou.a,{toolbar:r.a.createElement(s_,null)},r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.ndp-strategies.fields.ndp_outcome_id"},r.a.createElement(Nu.a,{sort:Ra,validate:Object(rs.j)(),perPage:-1,source:"ndp_outcome_id",reference:"ndp-outcomes",variant:"outlined"},r.a.createElement(os.a,{optionText:"name",margin:"normal",variant:"outlined"}))),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.ndp-strategies.fields.name"},r.a.createElement(ns.a,{source:"name",validate:Object(rs.j)(),variant:"outlined",margin:"none"}))))}},sD=["translate"],uD=function(e){return r.a.createElement(Gs.a,null,e.hasEditAccess&&r.a.createElement(ku.a,e))},dD=["getSource","scopedFormData","formData"],mD=["getSource","scopedFormData","formData"],pD={list:function(e){e.translate;var t=Object(T.a)(e,sD),a=L();return r.a.createElement(ri.a,Object.assign({},t,{bulkActionButtons:!1,actions:r.a.createElement(uD,Object.assign({},t,{hasEditAccess:a("edit_ndp")}))}),r.a.createElement(Nl.a,{rowClick:"edit"},r.a.createElement(Al.a,{source:"name"}),r.a.createElement(v_.a,null),r.a.createElement(ZA.a,null)))},show:function(e){return r.a.createElement(E_.a,e,r.a.createElement(j_.a,null,r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Ub.a,{source:"ndp_outcome_id",reference:"ndp-outcomes"},r.a.createElement(Al.a,{source:"name"})),r.a.createElement(Al.a,{source:"name"})))},create:function(e){return r.a.createElement(es.a,e,r.a.createElement(ou.a,{redirect:"list",toolbar:r.a.createElement(s_,null)},r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData;var t=e.formData;Object(T.a)(e,dD);return r.a.createElement(r.a.Fragment,null,r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.ndp-sdgs.fields.ndp_goal_id"},r.a.createElement(Nu.a,{sort:Ra,perPage:-1,source:"ndp_goal_id",reference:"ndp-goals",variant:"outlined"},r.a.createElement(os.a,{optionText:"name",margin:"normal",variant:"outlined"}))),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.ndp-sdgs.fields.ndp_outcome_ids"},r.a.createElement(ay.a,{sort:Ra,validate:Object(rs.j)(),perPage:-1,source:"ndp_outcome_ids",reference:"ndp-outcomes",variant:"outlined",filter:{ndp_goal_id:t&&t.ndp_goal_id}},r.a.createElement(Sy.a,{margin:"none",variant:"outlined",fullWidth:!0,shouldRenderSuggestions:!0}))),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.ndp-sdgs.fields.name"},r.a.createElement(ns.a,{source:"name",validate:Object(rs.j)(),variant:"outlined",margin:"none"})))}))))},edit:function(e){return r.a.createElement(ru.a,e,r.a.createElement(ou.a,{toolbar:r.a.createElement(s_,null)},r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData;var t=e.formData;Object(T.a)(e,mD);return t?r.a.createElement(r.a.Fragment,null,r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.ndp-sdgs.fields.ndp_goal_id"},r.a.createElement(Nu.a,{sort:Ra,perPage:-1,source:"ndp_goal_id",reference:"ndp-goals",variant:"outlined"},r.a.createElement(os.a,{optionText:"name",margin:"normal",variant:"outlined"}))),t&&x.a.isArray(t.ndp_outcome_ids)&&r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.ndp-sdgs.fields.ndp_outcome_ids"},r.a.createElement(ay.a,{sort:Ra,validate:Object(rs.j)(),perPage:-1,source:"ndp_outcome_ids",reference:"ndp-outcomes",variant:"outlined",filter:{ndp_goal_id:t&&t.ndp_goal_id}},r.a.createElement(Sy.a,{margin:"none",variant:"outlined",fullWidth:!0,shouldRenderSuggestions:!0}))),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.ndp-sdgs.fields.name"},r.a.createElement(ns.a,{source:"name",validate:Object(rs.j)(),variant:"outlined",margin:"none"}))):null}))))}},fD=["translate"],_D=function(e){return r.a.createElement(Gs.a,null,e.hasEditAccess&&r.a.createElement(ku.a,e))},gD=["getSource","scopedFormData","formData"],hD=["getSource","scopedFormData","formData"],vD={list:function(e){e.translate;var t=Object(T.a)(e,fD),a=L();return r.a.createElement(ri.a,Object.assign({},t,{bulkActionButtons:!1,actions:r.a.createElement(_D,Object.assign({},t,{hasEditAccess:a("edit_ndp")}))}),r.a.createElement(Nl.a,{rowClick:"edit"},r.a.createElement(Al.a,{source:"name"}),r.a.createElement(v_.a,null),r.a.createElement(ZA.a,null)))},show:function(e){return r.a.createElement(E_.a,e,r.a.createElement(j_.a,null,r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Ub.a,{source:"ndp_outcome_id",reference:"ndp-outcomes"},r.a.createElement(Al.a,{source:"name"})),r.a.createElement(Al.a,{source:"name"})))},create:function(e){return r.a.createElement(es.a,e,r.a.createElement(ou.a,{redirect:"list",toolbar:r.a.createElement(s_,null)},r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData,e.formData,Object(T.a)(e,gD);return r.a.createElement(r.a.Fragment,null,r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.ndp-sdgs.fields.name"},r.a.createElement(ns.a,{source:"name",validate:Object(rs.j)(),variant:"outlined",margin:"none"})))}))))},edit:function(e){return r.a.createElement(ru.a,e,r.a.createElement(ou.a,{toolbar:r.a.createElement(s_,null)},r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData;var t=e.formData;Object(T.a)(e,hD);return t?r.a.createElement(r.a.Fragment,null,r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.ndp-sdgs.fields.name"},r.a.createElement(ns.a,{source:"name",validate:Object(rs.j)(),variant:"outlined",margin:"none"}))):null}))))}},bD=["translate"],ED=["getSource","scopedFormData","formData"],jD={list:function(e){e.translate;var t=Object(T.a)(e,bD);L();return r.a.createElement(ri.a,Object.assign({},t,{bulkActionButtons:!1}),r.a.createElement(Nl.a,{rowClick:"edit"},r.a.createElement(Al.a,{source:"name"}),r.a.createElement(v_.a,null),r.a.createElement(ZA.a,null)))},show:function(e){return r.a.createElement(E_.a,e,r.a.createElement(j_.a,null,r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Al.a,{source:"name"})))},create:function(e){return r.a.createElement(es.a,e,r.a.createElement(ou.a,{redirect:"list",toolbar:r.a.createElement(s_,null)},r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.sectors.fields.name"},r.a.createElement(ns.a,{source:"name",validate:Object(rs.j)(),variant:"outlined",margin:"none"}))))},edit:function(e){return r.a.createElement(ru.a,e,r.a.createElement(ou.a,{toolbar:r.a.createElement(s_,null)},r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData;var t=e.formData;Object(T.a)(e,ED);return t?r.a.createElement(r.a.Fragment,null,r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.ndp-sdgs.fields.name"},r.a.createElement(ns.a,{source:"name",validate:Object(rs.j)(),variant:"outlined",margin:"none"}))):null}))))}},yD=["translate"],OD=function(e){return r.a.createElement(Gs.a,null,e.hasEditAccess&&r.a.createElement(ku.a,e))},wD=function(e){return r.a.createElement(ed.a,Object.assign({},e,{variant:"outlined",margin:"none",style:{alignItems:"center",flex:"none",marginTop:5}}),r.a.createElement(ns.a,{label:"Report Name",source:"name",alwaysOn:!0,variant:"outlined",margin:"none"}),Y("has_public_custom_report")&&r.a.createElement(I_.a,{label:"Is Public Report",source:"is_public",alwaysOn:!0,variant:"outlined",margin:"none"}))},xD=function(e){var t=e.loading,a=e.loaded,n=e.total,o=L();return 0===n&&!t&&a?r.a.createElement(di.a,{textAlign:"center",m:1},r.a.createElement(se.a,{variant:"h4",paragraph:!0},"There are no custom reports in the system",r.a.createElement("br",null),r.a.createElement("br",null),o("create_custom_report")&&r.a.createElement(ku.a,{basePath:"/custom-reports"}))):r.a.createElement("div",null)};var kD=function(e){var t=Object(n.useState)([]),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(Ca.a)(),c=Object(ee.f)((function(e){return e.app.appConfig}));return Object(n.useEffect)((function(){l.custom("reports",{type:"pivot",method:"GET"}).then((function(e){Y("has_pimis_fields")?i(pu(e.data,c)):i(fu(e.data,c))})),BA=Y("has_pimis_fields")?new window.dhx.Pivot("pivot",{fieldList:[{id:"TotalCount",label:"Total Count"},{id:"TotalCost",label:"Total Cost",cellTemplate:function(e,t,a){return Ni(e)}},{id:"Code",label:"Code"},{id:"Name",label:"Name"},{id:"Phase",label:"Phase",sortDir:"asc"},{id:"Programs",label:"Programs"},{id:"Sub Programs",label:"Sub Programs"},{id:"Function",label:"Function"},{id:"Sub Function",label:"Sub Function"},{id:"Ministry",label:"Ministry"},{id:"Status",label:"Status"},{id:"Public Body",label:"Public Body"}],fields:{rows:[],columns:[],values:[]},layout:{columnsWidth:"auto",readonly:e.isReadOnly,footer:!0},customFormat:function(e,t){return"sum"===t?Ai(e,2):e}}):new window.dhx.Pivot("pivot",{fieldList:[{id:"TotalCount",label:"Total Count"},{id:"TotalCost",label:"Total Cost",cellTemplate:function(e,t,a){return Ni(e)}},{id:"Code",label:"Code"},{id:"Name",label:"Name"},{id:"Phase",label:"Phase",sortDir:"asc"},{id:"Programs",label:"Programs"},{id:"Function",label:"Function"},{id:"Vote",label:"Vote"},{id:"Status",label:"Status"},{id:"Department",label:"Department"}],fields:{rows:[],columns:[],values:[]},layout:{columnsWidth:"auto",readonly:e.isReadOnly,footer:!0},customFormat:function(e,t){return"sum"===t?Ni(e):e}})}),[]),Object(n.useEffect)((function(){BA&&o&&(e.initialParams?(BA.setFields(Object(u.a)({},e.initialParams.fields)),BA.setFiltersValues(Object(u.a)({},e.initialParams.filters))):Y("has_pimis_fields")?BA.setFields({rows:["Ministry"],columns:["Phase"],values:[{id:"TotalCost",method:"sum"}]}):BA.setFields({rows:["Vote"],columns:["Phase"],values:[{id:"TotalCost",method:"sum"}]}),BA.setData(o))}),[o]),r.a.createElement("section",{className:"dhx_sample-container",id:"custom-report-viewer"},r.a.createElement("div",{className:"dhx_sample-container__widget",id:"pivot",style:{height:"100vh"}}))},SD=["record"],PD=function(e){var t=e.record,a=Object(T.a)(e,SD);return r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("h1",{style:{marginRight:"20px"}},"".concat(t&&t.name)," ")),r.a.createElement(kD,Object.assign({},a,{initialParams:t&&t.config,isReadOnly:!0})))},CD=function(e){var t=L();return r.a.createElement(Gs.a,null,t("save_public_custom_report")&&t("edit_custom_report")&&r.a.createElement(v_.a,Object.assign({},e,{record:e.data})))},ND=["getSource","scopedFormData","formData"],AD=["getSource","scopedFormData","formData"],DD={list:function(e){e.translate;var t=Object(T.a)(e,yD),a=L(),n=a("edit_custom_report")?"edit":!!a("view_custom_report")&&"show";return r.a.createElement(ri.a,Object.assign({},t,{empty:r.a.createElement(xD,t),bulkActionButtons:!1,actions:r.a.createElement(OD,Object.assign({},t,{hasEditAccess:a("create_custom_report")})),filters:r.a.createElement(wD,t)}),r.a.createElement(Nl.a,{rowClick:n},r.a.createElement(Al.a,{source:"name"}),Y("has_public_custom_report")&&r.a.createElement(Kp.a,{source:"is_public"}),a("view_custom_report")&&r.a.createElement(zs.a,null),r.a.createElement(Dl.a,{render:function(e){if(e)return e.is_public?a("save_public_custom_report")&&a("edit_custom_report")&&r.a.createElement(v_.a,{basePath:"custom-reports",record:e}):a("edit_custom_report")&&r.a.createElement(v_.a,{basePath:"custom-reports",record:e})}}),r.a.createElement(Dl.a,{render:function(e){if(e)return e.is_public?a("save_public_custom_report")&&a("delete_custom_report")&&r.a.createElement(ZA.a,{basePath:"custom-reports",record:e}):a("delete_custom_report")&&r.a.createElement(ZA.a,{basePath:"custom-reports",record:e})}})))},show:function(e){return r.a.createElement(E_.a,Object.assign({},e,{actions:r.a.createElement(CD,e)}),r.a.createElement(j_.a,null,r.a.createElement(PD,null)))},create:function(e){var t=L();return r.a.createElement(es.a,Object.assign({},e,{undoable:!1}),r.a.createElement(ou.a,{redirect:"list",toolbar:r.a.createElement(s_,null)},r.a.createElement("div",{style:{display:"flex",alignItems:"center",width:"100%"}},r.a.createElement(ns.a,{source:"name",validate:Object(rs.j)(),variant:"outlined",margin:"none",fullWidth:!0,style:{marginRight:"25px",width:"80%"}}),t("save_public_custom_report")&&Y("has_public_custom_report")&&r.a.createElement(I_.a,{source:"is_public",variant:"outlined",margin:"none",style:{width:"20%"}})," "),r.a.createElement(js.a,null,(function(t){t.getSource,t.scopedFormData;var a=t.formData;Object(T.a)(t,ND);return r.a.createElement(Sp,Object.assign({},e,{initialParams:a&&a.config}))}))))},edit:function(e){var t=L();return r.a.createElement(ru.a,Object.assign({},e,{actions:!1,undoable:!1}),r.a.createElement(ou.a,{toolbar:r.a.createElement(s_,null)},r.a.createElement("div",{style:{display:"flex",alignItems:"center",width:"100%"}},r.a.createElement(ns.a,{source:"name",validate:Object(rs.j)(),variant:"outlined",margin:"none",fullWidth:!0,style:{marginRight:"25px",width:"80%"}}),t("save_public_custom_report")&&Y("has_public_custom_report")&&r.a.createElement(I_.a,{source:"is_public",variant:"outlined",margin:"none"})),r.a.createElement(js.a,null,(function(t){t.getSource,t.scopedFormData;var a=t.formData;Object(T.a)(t,AD);return r.a.createElement(Sp,Object.assign({},e,{initialParams:a&&a.config}))}))))}},TD=a(2112),FD=["projectDetails","project"],RD=["getSource","scopedFormData","formData"],ID=["getSource","scopedFormData","formData"],MD=["getSource","scopedFormData","formData"],WD=["getSource","scopedFormData","formData"],LD=Object(ae.a)((function(e){return{button:{margin:"0 5px"},activeStep:{width:"100%",height:2,marginTop:10,backgroundColor:"#3f51b5",position:"absolute"},disabled:{color:"#000 !important",pointerEvents:"none","& .MuiStepIcon-completed":{color:"#e0e0e0 !important",pointerEvents:"none"}},tooltipItem:{margin:"5px 0px",display:"flex",alignItems:"center",justifyContent:"space-between"},tooltipItemKey:{display:"flex",alignItems:"center",gap:5}}}));function YD(e){var t=Object(_s.f)().values,a=Object(pe.a)(),n=[0,1],o=Object(rr.a)();return r.a.createElement(Zc.a,null,r.a.createElement(Ee.a,{style:{margin:"0 5px"},variant:"outlined",disabled:0===e.activeStep,onClick:function(){window.scrollTo(0,0),e.setActiveStep(e.activeStep-1!==0?e.activeStep-1:0)}},a("buttons.back")),e.activeStep===n.length-1?null:r.a.createElement(Ee.a,{style:{margin:"0 5px"},variant:"contained",color:"primary",onClick:function(){window.scrollTo(0,0);var t=e.activeStep+1;e.setActiveStep(t),t===n.length?(e.handleSubmit(),o()):(e.handleSubmitWithRedirect(!1),o())}},a("buttons.next")),r.a.createElement(Ee.a,{style:{margin:"0 5px"},color:"primary",variant:"contained",onClick:function(){e.save(t,"/cost-plans/".concat(e.record.id,"/show"))}},a("buttons.save_exit")))}var BD=function(e){var t=e.projectDetails,a=e.project,o=Object(T.a)(e,FD),i=Object(n.useState)(0),l=Object(Z.a)(i,2),c=l[0],s=l[1],u=["Activities","Costs"],d=LD(),m=Object(rr.a)(),p=Object(pe.a)();var f=function(){return r.a.createElement("h1",{style:{width:"100%"}},t&&t.project&&"".concat(t.project.code," - ").concat(t.project.name))};var _=function(e,t){return function(){s(e),o.save(t,!1),m()}};function g(){var e,t,n,r,i=0;(null===a||void 0===a?void 0:a.budget_allocation)&&(i+=parseFloat((null===a||void 0===a||null===(e=a.budget_allocation)||void 0===e||null===(t=e.gov)||void 0===t?void 0:t[o.record.year+"y"])||0)+parseFloat((null===a||void 0===a||null===(n=a.budget_allocation)||void 0===n||null===(r=n.donor)||void 0===r?void 0:r[o.record.year+"y"])||0));return i}function h(){var e=0,a=x.a.find(t.me_reports,(function(e){return Number(e.year)===Number(o.record.year)&&"COMPLETED"===e.report_status}))||t.me_reports[0];return a&&a.me_activities.forEach((function(t){e+=parseFloat(t.financial_execution)})),e}function v(e){var t=0;return e&&e.cost_plan_items&&e.cost_plan_items.forEach((function(e){e&&e.amount&&(t+=parseFloat(e.amount))})),t}return r.a.createElement(ou.a,Object.assign({},o,{toolbar:r.a.createElement(YD,Object.assign({setActiveStep:s,activeStep:c},o)),sanitizeEmptyValues:!1}),r.a.createElement(f,null),r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData;var t=e.formData;Object(T.a)(e,WD);return u&&u.length>1?r.a.createElement(Ux.a,{activeStep:c},u.map((function(e,a){var n={};return r.a.createElement(zx.a,Object.assign({key:e},{},{onClick:_(a,t)}),r.a.createElement(qx.a,n,e),a===c?r.a.createElement("div",{className:d.activeStep}):null)}))):null})),r.a.createElement("div",{style:{width:"max-content",minWidth:755,padding:"0px 25px"}},r.a.createElement("div",{className:"sampletitle"},function(e){switch(e){case 0:return r.a.createElement(Ss.a,{source:"cost_plan_activities",label:!1},r.a.createElement(Ps.a,null,r.a.createElement(js.a,null,(function(e){var a=e.getSource,n=(e.scopedFormData,e.formData),i=(Object(T.a)(e,RD),t?Y("project_dates_fiscal_years")?Ei(t.start_date,t.end_date):ji(t.start_date,t.end_date):[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.name",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],source:a("name"),label:p("resources.activities.fields.name"),variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.start_date",fullWidth:!0},r.a.createElement(os.a,{options:{fullWidth:"true"},validate:[Object(rs.j)()],label:p("resources.activities.fields.start_date"),source:a("start_date"),choices:i,variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.end_date",fullWidth:!0},r.a.createElement(os.a,{options:{fullWidth:"true"},label:p("resources.activities.fields.end_date"),source:a("end_date"),choices:i,validate:[Object(rs.j)()],variant:"outlined",margin:"none"})),t&&r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.output_id",fullWidth:!0},r.a.createElement(Tf.a,{validate:[Object(rs.j)()],options:{fullWidth:"true"},label:"resources.activities.fields.output_ids",source:a("output_ids"),choices:t&&t.outputs&&t.outputs.map((function(e){return{id:e.id,name:e.name}})),variant:"outlined",margin:"none"}))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.description",textArea:!0},r.a.createElement(qf,Object.assign({source:a("description"),validate:[Object(rs.j)()],label:p("resources.activities.fields.description"),isRequired:!0,formData:n},o))))))}))));case 1:return r.a.createElement(r.a.Fragment,null,r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData;var t=e.formData;Object(T.a)(e,ID);return r.a.createElement("div",{style:{position:"fixed",bottom:100,right:180,padding:"10px",outline:"1px solid #bdbdbd",borderRadius:"4px",backgroundColor:"#fff",zIdex:1}},r.a.createElement("table",null),r.a.createElement("h3",{className:d.tooltipItem},r.a.createElement("span",{className:d.tooltipItemKey},"Planned Value:",r.a.createElement(ra.a,{title:"This represents expected periodic project execution in terms of Project Spend/Disbursement determined at the Project start.",placement:"right"},r.a.createElement(la.a,{style:{fontSize:16}}))),r.a.createElement("span",null,vr(g()))),r.a.createElement("h3",{className:d.tooltipItem},r.a.createElement("span",{className:d.tooltipItemKey},"Earned Value:"," ",r.a.createElement(ra.a,{title:"This represents the actual project spent/disbursement that has been achieved at any point in time.",placement:"right"},r.a.createElement(la.a,{style:{fontSize:16}}))," "),r.a.createElement("span",{style:{float:"right",marginLeft:"10px"}},vr(h()))),r.a.createElement("h3",{className:d.tooltipItem},r.a.createElement("span",{className:d.tooltipItemKey},"Ceiling available :"," ",r.a.createElement(ra.a,{title:"This is the maximum budget for a given project",placement:"right"},r.a.createElement(la.a,{style:{fontSize:16}}))," "),r.a.createElement("span",{style:{float:"right",marginLeft:"10px",color:g()-h()<0?"red":"black"}},vr(g()-h()))),r.a.createElement("h3",{className:d.tooltipItem},r.a.createElement("span",{className:d.tooltipItemKey},"Planned expenditure:"," ",r.a.createElement(ra.a,{title:"This is the amount planned to be spent on the given activity.",placement:"right"},r.a.createElement(la.a,{style:{fontSize:16}}))," "),r.a.createElement("span",{style:{float:"right",marginLeft:"10px"}},vr(v(t)))),r.a.createElement("h3",{className:d.tooltipItem},r.a.createElement("span",{className:d.tooltipItemKey},"Balance:"," ",r.a.createElement(ra.a,{title:"This represents the actual project spent/disbursement that has been achieved at any point in time.",placement:"right"},r.a.createElement(la.a,{style:{fontSize:16}}))),r.a.createElement("span",{style:{float:"right",marginLeft:"10px",color:g()-h()-v(t)<0?"red":"black"}},vr(g()-h()-v(t)))))})),r.a.createElement("br",null),r.a.createElement(Ss.a,{source:"cost_plan_items",label:!1},r.a.createElement(Ps.a,null,r.a.createElement(js.a,null,(function(e){var t=e.getSource,a=(e.scopedFormData,e.formData);Object(T.a)(e,MD);return r.a.createElement("div",null,r.a.createElement("h3",null,"Select Activity"),r.a.createElement(os.a,{options:{fullWidth:"true"},validate:[Object(rs.j)()],label:p("resources.activities.fields.cost_plan_activities"),source:t("cost_plan_activity_id"),choices:a&&a.cost_plan_activities?a.cost_plan_activities.map((function(e){return e&&{id:e.id,name:e.name}})):[],variant:"outlined",margin:"none"}),r.a.createElement(Gf,Object.assign({},o,{source:t("fund_id"),config:"fund_config",reference:"funds",field:t("fund"),isRequired:!0,basePath:"/cost-reports"})),r.a.createElement(Gf,Object.assign({},o,{source:t("costing_id"),config:"cost_config",reference:"costings",field:t("costing"),isRequired:!0,basePath:"/cost-reports"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.procurement_method",fullWidth:!0},r.a.createElement(os.a,{options:{fullWidth:"true"},validate:[Object(rs.j)()],source:t("procurement_method"),label:p("resources.activities.fields.procurement_method"),choices:[{id:"Indirect procurement",name:"Indirect procurement"},{id:"Direct procurement",name:"Direct procurement"},{id:"Services procurement",name:"Services procurement"}],variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.procurement_start_date",fullWidth:!0},r.a.createElement(ys.a,{validate:[Object(rs.j)()],source:t("procurement_start_date"),label:p("resources.activities.fields.procurement_start_date"),variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.contract_signed_date",fullWidth:!0},r.a.createElement(ys.a,{validate:[Object(rs.j)()],source:t("contract_signed_date"),label:p("resources.activities.fields.contract_signed_date"),variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.procurement_details",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)()],source:t("procurement_details"),label:p("resources.activities.fields.procurement_details"),variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.amount",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.h)()],source:t("amount"),label:p("resources.activities.fields.amount"),variant:"outlined",margin:"none",format:_r,parse:gr})))})))));default:return null}}(c))))},zD=function(e){var t=Object(ai.a)();return r.a.createElement(Gs.a,{style:{display:"flex",justifyContent:"flex-start"}},r.a.createElement(Xn.a,{onClick:function(){t("/implementation-module/".concat(Number(e.projectDetailId),"/costed-annualized-plan"))},label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null)}))},qD={list:T_,show:w_,create:h_,edit:function(e){var t=r.a.useState(null),a=Object(Z.a)(t,2),n=a[0],o=a[1],i=r.a.useState(null),l=Object(Z.a)(i,2),c=l[0],s=l[1],d=Object(Ca.a)(),m=Object(TD.a)(e).record;return r.a.useEffect((function(){m&&d.getOne("project-details",{id:m.project_detail_id}).then((function(e){e&&e.data&&(o(H(Object(u.a)({},e.data))),d.getOne("projects",{id:e.data.project_id}).then((function(e){e&&e.data&&s(H(Object(u.a)({},e.data)))})))}))}),[m,d]),r.a.createElement(ru.a,Object.assign({},e,{actions:r.a.createElement(zD,{projectDetailId:null===n||void 0===n?void 0:n.id}),undoable:!1}),r.a.createElement(BD,{projectDetails:n,project:c}))}},UD=["onCreate","onGoBack"],VD=["translate"],GD=function(e){var t=e.onCreate,a=e.onGoBack;Object(T.a)(e,UD);return r.a.createElement(Gs.a,{style:{justifyContent:"space-between",display:"flex",alignItems:"center",width:"100%"}},r.a.createElement(Ee.a,{onClick:a,label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null)},"Back"),r.a.createElement(Ee.a,{variant:"contained",color:"primary",startIcon:r.a.createElement(k_.a,null),onClick:t},"Create"))},HD=function(e){var t=e.loading,a=e.loaded,n=e.total,o=L();return 0===n&&!t&&a?r.a.createElement(di.a,{textAlign:"center",m:1},r.a.createElement(se.a,{variant:"h4",paragraph:!0},"There are no custom reports in the system",r.a.createElement("br",null),r.a.createElement("br",null),o("create_custom_report")&&r.a.createElement(ku.a,{basePath:"/custom-reports"}))):r.a.createElement("div",null)},JD=function(e){e.translate;var t,a,n=Object(T.a)(e,VD),o=Object(Ca.a)(),i=Object(ai.a)(),l=Object(Na.a)(),c=(L(),r.a.useState(!1)),s=Object(Z.a)(c,2),u=s[0],d=s[1],m=r.a.useState(null),p=Object(Z.a)(m,2),f=p[0],_=p[1],g=Object(yf.a)("cost-plans"),h=Object(Z.a)(g,1)[0];function v(){var e=S()().startOf("year"),t=e.clone().add(1,"years");return[{id:S()(xi(e).id).format("YYYY"),name:xi(e).name},{id:S()(xi(t).id).format("YYYY"),name:xi(t).name}]}return r.a.createElement(r.a.Fragment,null,r.a.createElement(ri.a,Object.assign({},n,{empty:r.a.createElement(HD,n),bulkActionButtons:!1,actions:r.a.createElement(GD,Object.assign({},n,{onCreate:function(){var e,t;i("/".concat(n.resource,"/").concat(Number(null===(e=n.match)||void 0===e||null===(t=e.params)||void 0===t?void 0:t.id),"/create"))},onGoBack:function(){var e,t;i("/implementation-module/".concat(Number(null===(e=n.match)||void 0===e||null===(t=e.params)||void 0===t?void 0:t.id),"/costed-annualized-plan"))}})),filter:{project_detail_id:null===(t=n.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id}}),r.a.createElement(Nl.a,{rowClick:!1},r.a.createElement(Al.a,{source:"reporting_date"}),r.a.createElement(Al.a,{source:"reporting_quarter"}),r.a.createElement(Al.a,{source:"description"}),r.a.createElement(Al.a,{source:"impact"}),r.a.createElement(Al.a,{source:"score"}),r.a.createElement(zs.a,n),r.a.createElement(v_.a,n))),u&&r.a.createElement(Gr.a,{fullWidth:!0,maxWidth:"xs",open:u,onClose:function(){d(!1)},style:{overflow:"hidden"},disableBackdropClick:!0,disableEscapeKeyDown:!0},r.a.createElement(Hr.a,null,"Create Risk Asessment"),r.a.createElement(Jr.a,null,r.a.createElement(xa.a,{fullWidth:!0,variant:"outlined",value:f,onChange:function(e){_(e.target.value)}},v()&&v().map((function(e){return r.a.createElement(sa.a,{key:e.id,value:e.id},e.name)})))),r.a.createElement(Xr.a,null,r.a.createElement(Ee.a,{onClick:function(){d(!1)},label:"Cancel",variant:"outlined",color:"primary",startIcon:r.a.createElement(Rn.a,null)},"Cancel"),r.a.createElement(Ee.a,{onClick:function(){var e,t;o.getOne("project-details",{id:Number(null===(e=n.match)||void 0===e||null===(t=e.params)||void 0===t?void 0:t.id)}).then((function(e){e&&e.data&&function(e){var t,a;h({payload:{data:{year:Number(f),project_detail_id:Number(null===(t=n.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id),cost_plan_activities:Object(D.a)(e),cost_plan_items:[]}}},{onSuccess:function(e){var t=e.data;l("New Report Created",{}),i("/risk-asessments/".concat(t.id))}})}(e.data.activities.map((function(e){return e.activity_id=e.id,delete e.id,e})))}))},color:"primary",variant:"contained",startIcon:r.a.createElement(P_.a,null)},"Create"))))},XD=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),$D=function(e){var t=Object(ai.a)();return r.a.createElement(Gs.a,null,r.a.createElement(Xn.a,{onClick:function(){var a;t("".concat(e.basePath,"/").concat(Number(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.project_detail_id),"/list"))},label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null),style:{position:"absolute",left:0}}),r.a.createElement(v_.a,Object.assign({},e,{record:e.data})))},KD=["projectDetails","project"],QD=function(e){e.projectDetails,e.project;var t,a=Object(T.a)(e,KD),n=r.a.useState([]),o=Object(Z.a)(n,2),i=o[0],l=o[1],c=Object(Ca.a)();r.a.useEffect((function(){var e;c.getOne("project-details",{id:null===(e=a.record)||void 0===e?void 0:e.project_detail_id}).then((function(e){if(e&&e.data){var t=e.data,a=t.start_date,n=t.end_date;l(Oi(a,n))}}))}),[]);var s=Object(pe.a)(),u=[{id:"LOW",name:s("resources.project_options.fields.analytical_modules.risk_evaluations.levels.low")},{id:"MEDIUM",name:s("resources.project_options.fields.analytical_modules.risk_evaluations.levels.medium")},{id:"HIGH",name:s("resources.project_options.fields.analytical_modules.risk_evaluations.levels.high")}];return r.a.createElement(ou.a,Object.assign({},a,{toolbar:r.a.createElement(s_,{projectDetailId:null===(t=a.record)||void 0===t?void 0:t.project_detail_id}),sanitizeEmptyValues:!1,redirect:function(){var e;return"/stakeholder-engagements/".concat(null===(e=a.record)||void 0===e?void 0:e.project_detail_id,"/list")}}),r.a.createElement(cs,{tooltipText:"tooltips.resources.stakeholder-engagements.fields.reporting_date",fullWidth:!0},r.a.createElement(os.a,{variant:"outlined",margin:"none",options:{fullWidth:"true"},source:"reporting_date",choices:i,parse:function(e){return e&&S()(e).startOf("year").format("YYYY-MM-DD")},format:function(e){return e&&S()(e).format("YYYY")}})," "),r.a.createElement(cs,{tooltipText:"tooltips.resources.stakeholder-engagements.fields.reporting_quarter",fullWidth:!0},r.a.createElement(os.a,{variant:"outlined",margin:"none",options:{fullWidth:"true"},source:"reporting_quarter",choices:nn})),r.a.createElement(cs,{tooltipText:"tooltips.resources.stakeholder-engagements.fields.name",fullWidth:!0},r.a.createElement(ns.a,{source:"name",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.stakeholder-engagements.fields.interest_level",fullWidth:!0},r.a.createElement(os.a,{variant:"outlined",margin:"none",options:{fullWidth:"true"},source:"interest_level",choices:u})),r.a.createElement(cs,{tooltipText:"tooltips.resources.stakeholder-engagements.fields.influence_level",fullWidth:!0},r.a.createElement(os.a,{variant:"outlined",margin:"none",options:{fullWidth:"true"},source:"influence_level",choices:u})),r.a.createElement(cs,{tooltipText:"tooltips.resources.stakeholder-engagements.fields.engagement_status",fullWidth:!0},r.a.createElement(ns.a,{source:"engagement_status",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.stakeholder-engagements.fields.engagement_level",fullWidth:!0},r.a.createElement(os.a,{variant:"outlined",margin:"none",options:{fullWidth:"true"},source:"engagement_level",choices:u})),r.a.createElement(cs,{tooltipText:"tooltips.resources.stakeholder-engagements.fields.engagement_frequency",fullWidth:!0},r.a.createElement(ns.a,{source:"engagement_frequency",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.stakeholder-engagements.fields.communication_channel",fullWidth:!0},r.a.createElement(ns.a,{source:"communication_channel",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.stakeholder-engagements.fields.issues",fullWidth:!0},r.a.createElement(ns.a,{source:"issues",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.stakeholder-engagements.fields.mitigation_plan",fullWidth:!0},r.a.createElement(ns.a,{source:"mitigation_plan",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.stakeholder-engagements.fields.responsible_entity",fullWidth:!0},r.a.createElement(ns.a,{source:"responsible_entity",variant:"outlined",margin:"none"})))},ZD=function(e){var t=Object(ai.a)();return r.a.createElement(Gs.a,{style:{display:"flex",justifyContent:"flex-start"}},r.a.createElement(Xn.a,{onClick:function(){t("".concat(e.basePath,"/").concat(e.projectDetailId,"/list"))},label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null)}))},eT={list:JD,show:function(e){var t=XD(),a=Object(b_.a)(e).record;return r.a.createElement(E_.a,Object.assign({},e,{actions:r.a.createElement($D,e)}),r.a.createElement(j_.a,null,r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement(se.a,{variant:"h2",style:{marginLeft:15,marginBottom:15}},"Stakeholder Engagement"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",t.bordered,t.table)},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Reporting Date"),r.a.createElement(ci.a,null,"Reporting Quarter"),r.a.createElement(ci.a,null,"Stakeholder Name"),r.a.createElement(ci.a,null,"Interest Level"),r.a.createElement(ci.a,null,"Level of Influence"),r.a.createElement(ci.a,null,"Status of Engagement"),r.a.createElement(ci.a,null,"Level of engagement"),r.a.createElement(ci.a,null,"Engagement frequency"),r.a.createElement(ci.a,null,"Communication Channel"),r.a.createElement(ci.a,null,"Issues"),r.a.createElement(ci.a,null,"Mitigation Measures"),r.a.createElement(ci.a,null,"Responsible Entity"))),r.a.createElement(si.a,null,a&&r.a.createElement(li.a,null,r.a.createElement(ci.a,null,a&&wi(a.reporting_date)&&wi(a.reporting_date).name)," ",r.a.createElement(ci.a,null,a.reporting_quarter),r.a.createElement(ci.a,null,a.name),r.a.createElement(ci.a,null,a.interest_level),r.a.createElement(ci.a,null,a.influence_level),r.a.createElement(ci.a,null,a.engagement_status),r.a.createElement(ci.a,null,a.engagement_level),r.a.createElement(ci.a,null,a.engagement_frequency),r.a.createElement(ci.a,null,a.communication_channel),r.a.createElement(ci.a,null,a.issues),r.a.createElement(ci.a,null,a.mitigation_plan),r.a.createElement(ci.a,null,a.responsible_entity)))))))))},create:B_,edit:function(e){var t=r.a.useState(null),a=Object(Z.a)(t,2),n=a[0],o=a[1],i=r.a.useState(null),l=Object(Z.a)(i,2),c=l[0],s=l[1],d=Object(Ca.a)(),m=Object(TD.a)(e).record;return r.a.useEffect((function(){m&&d.getOne("project-details",{id:m.project_detail_id}).then((function(e){e&&e.data&&(o(H(Object(u.a)({},e.data))),d.getOne("projects",{id:e.data.project_id}).then((function(e){e&&e.data&&s(H(Object(u.a)({},e.data)))})))}))}),[m,d]),r.a.createElement(ru.a,Object.assign({},e,{actions:r.a.createElement(ZD,{projectDetailId:null===n||void 0===n?void 0:n.id}),undoable:!1}),r.a.createElement(QD,{projectDetails:n,project:c}))}},tT=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),aT=function(e){var t=Object(ai.a)();return r.a.createElement(Gs.a,null,r.a.createElement(Xn.a,{onClick:function(){var a;t("".concat(e.basePath,"/").concat(Number(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.project_detail_id),"/list"))},label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null),style:{position:"absolute",left:0}}),r.a.createElement(v_.a,Object.assign({},e,{record:e.data})))},nT=["projectDetails","project"],rT=function(e){e.projectDetails,e.project;var t,a=Object(T.a)(e,nT),n=r.a.useState([]),o=Object(Z.a)(n,2),i=o[0],l=o[1],c=Object(Ca.a)();r.a.useEffect((function(){var e;c.getOne("project-details",{id:null===(e=a.record)||void 0===e?void 0:e.project_detail_id}).then((function(e){if(e&&e.data){var t=e.data,a=t.start_date,n=t.end_date;l(Oi(a,n))}}))}),[]);var s=Object(pe.a)(),u=[{id:"LOW",name:s("resources.project_options.fields.analytical_modules.risk_evaluations.levels.low")},{id:"MEDIUM",name:s("resources.project_options.fields.analytical_modules.risk_evaluations.levels.medium")},{id:"HIGH",name:s("resources.project_options.fields.analytical_modules.risk_evaluations.levels.high")}];return r.a.createElement(ou.a,Object.assign({},a,{toolbar:r.a.createElement(s_,{projectDetailId:null===(t=a.record)||void 0===t?void 0:t.project_detail_id}),sanitizeEmptyValues:!1,redirect:"show"}),r.a.createElement(cs,{tooltipText:"tooltips.resources.human-resources.fields.reporting_date",fullWidth:!0},r.a.createElement(os.a,{variant:"outlined",margin:"none",options:{fullWidth:"true"},source:"reporting_date",choices:i,parse:function(e){return e&&S()(e).startOf("year").format("YYYY-MM-DD")},format:function(e){return e&&S()(e).format("YYYY")},validate:Object(rs.j)()})),r.a.createElement(cs,{tooltipText:"tooltips.resources.human-resources.fields.reporting_quarter",fullWidth:!0},r.a.createElement(os.a,{variant:"outlined",margin:"none",options:{fullWidth:"true"},source:"reporting_quarter",choices:nn,validate:Object(rs.j)()})),r.a.createElement(cs,{tooltipText:"tooltips.resources.human-resources.fields.name",fullWidth:!0},r.a.createElement(ns.a,{source:"name",variant:"outlined",margin:"none",validate:Object(rs.j)()})),r.a.createElement(cs,{tooltipText:"tooltips.resources.human-resources.fields.position",fullWidth:!0},r.a.createElement(ns.a,{source:"position",variant:"outlined",margin:"none",validate:Object(rs.j)()})),r.a.createElement(cs,{tooltipText:"tooltips.resources.human-resources.fields.contact_details",fullWidth:!0},r.a.createElement(ns.a,{source:"contact_details",variant:"outlined",margin:"none",validate:Object(rs.j)()})),r.a.createElement(cs,{tooltipText:"tooltips.resources.human-resources.fields.responsible_entity",fullWidth:!0},r.a.createElement(ns.a,{source:"responsible_entity",variant:"outlined",margin:"none",validate:Object(rs.j)()})),r.a.createElement(cs,{tooltipText:"tooltips.resources.human-resources.fields.involvement_level",fullWidth:!0},r.a.createElement(os.a,{variant:"outlined",margin:"none",options:{fullWidth:"true"},source:"involvement_level",choices:u,validate:Object(rs.j)()})))},oT=function(e){Object(de.g)();var t=Object(ai.a)();return r.a.createElement(Gs.a,{style:{display:"flex",justifyContent:"flex-start"}},r.a.createElement(Xn.a,{onClick:function(){t("".concat(e.basePath,"/").concat(e.projectDetailId,"/list"))},label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null)}))},iT={list:Z_,show:function(e){var t=tT(),a=Object(b_.a)(e).record;return r.a.createElement(E_.a,Object.assign({},e,{actions:r.a.createElement(aT,e)}),r.a.createElement(j_.a,null,r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement(se.a,{variant:"h2",style:{marginLeft:15,marginBottom:15}},"Human Resources"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",t.bordered,t.table)},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Reporting Date"),r.a.createElement(ci.a,null,"Reporting Quarter"),r.a.createElement(ci.a,null,"Position"),r.a.createElement(ci.a,null,"Name"),r.a.createElement(ci.a,null,"Contact Details"),r.a.createElement(ci.a,null,"Responsible Entity"),r.a.createElement(ci.a,null,"Involvement Level"))),r.a.createElement(si.a,null,a&&r.a.createElement(li.a,null,r.a.createElement(ci.a,null,a&&wi(a.reporting_date)&&wi(a.reporting_date).name)," ",r.a.createElement(ci.a,null,a.reporting_quarter),r.a.createElement(ci.a,null,a.position),r.a.createElement(ci.a,null,a.name),r.a.createElement(ci.a,null,a.contact_details),r.a.createElement(ci.a,null,a.responsible_entity),r.a.createElement(ci.a,null,a.involvement_level)))))))))},create:q_,edit:function(e){var t=r.a.useState(null),a=Object(Z.a)(t,2),n=a[0],o=a[1],i=r.a.useState(null),l=Object(Z.a)(i,2),c=l[0],s=l[1],d=Object(Ca.a)(),m=Object(TD.a)(e).record;return r.a.useEffect((function(){m&&d.getOne("project-details",{id:m.project_detail_id}).then((function(e){e&&e.data&&(o(H(Object(u.a)({},e.data))),d.getOne("projects",{id:e.data.project_id}).then((function(e){e&&e.data&&s(H(Object(u.a)({},e.data)))})))}))}),[m,d]),r.a.createElement(ru.a,Object.assign({},e,{actions:r.a.createElement(oT,{projectDetailId:null===n||void 0===n?void 0:n.id}),undoable:!1}),r.a.createElement(rT,{projectDetails:n,project:c}))}},lT=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),cT=function(e){var t=Object(ai.a)();return r.a.createElement(Gs.a,null,r.a.createElement(Xn.a,{onClick:function(){var a;t("".concat(e.basePath,"/").concat(Number(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.project_detail_id),"/list"))},label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null),style:{position:"absolute",left:0}}),r.a.createElement(v_.a,Object.assign({},e,{record:e.data})))},sT=["projectDetails","project"],uT=function(e){e.projectDetails,e.project;var t,a=Object(T.a)(e,sT),n=r.a.useState([]),o=Object(Z.a)(n,2),i=(o[0],o[1]),l=Object(Ca.a)();r.a.useEffect((function(){var e;l.getOne("project-details",{id:null===(e=a.record)||void 0===e?void 0:e.project_detail_id}).then((function(e){if(e&&e.data){var t=e.data,a=t.start_date,n=t.end_date;i(Oi(a,n))}}))}),[]);var c=Object(pe.a)();c("resources.project_options.fields.analytical_modules.risk_evaluations.levels.low"),c("resources.project_options.fields.analytical_modules.risk_evaluations.levels.medium"),c("resources.project_options.fields.analytical_modules.risk_evaluations.levels.high");return r.a.createElement(ou.a,Object.assign({},a,{toolbar:r.a.createElement(s_,{projectDetailId:null===(t=a.record)||void 0===t?void 0:t.project_detail_id}),sanitizeEmptyValues:!1,redirect:function(){var e;return"/risk-assessments/".concat(null===(e=a.record)||void 0===e?void 0:e.project_detail_id,"/list")}}),r.a.createElement(se.a,{variant:"h3",style:{margin:"5px 10px 10px 10px"}},"Risk Monitoring"),r.a.createElement(cs,{tooltipText:"tooltips.resources.risk_assessments.fields.description",fullWidth:!0},r.a.createElement(ns.a,{source:"description",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.risk_assessments.fields.has_risk_occurred",bool:!0},r.a.createElement(I_.a,{label:"is risk occurred",source:"has_risk_occurred",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.risk_assessments.fields.effects",fullWidth:!0},r.a.createElement(ns.a,{source:"effects",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.risk_assessments.fields.mitigation_response",fullWidth:!0},r.a.createElement(ns.a,{source:"mitigation_response",variant:"outlined",margin:"none"})))},dT=function(e){var t=Object(ai.a)();return r.a.createElement(Gs.a,{style:{display:"flex",justifyContent:"flex-start"}},r.a.createElement(Xn.a,{onClick:function(){t("".concat(e.basePath,"/").concat(e.projectDetailId,"/list"))},label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null)}))},mT={list:J_,show:function(e){var t=lT(),a=Object(b_.a)(e).record;return r.a.createElement(E_.a,Object.assign({},e,{actions:r.a.createElement(cT,e)}),r.a.createElement(j_.a,null,r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement(se.a,{variant:"h2",style:{marginLeft:15,marginBottom:15}},"Risk Management"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",t.bordered,t.table)},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Reporting Date"),r.a.createElement(ci.a,null,"Reporting Quarter"),r.a.createElement(ci.a,null,"Risk Description"),r.a.createElement(ci.a,null,"Likelihood of Occurrence"),r.a.createElement(ci.a,null,"Impact (Low to high)"),r.a.createElement(ci.a,null,"Mitigation plan"),r.a.createElement(ci.a,null,"Responsible Entity"),r.a.createElement(ci.a,null,"Mitigation Response"),r.a.createElement(ci.a,null,"Effects"))),r.a.createElement(si.a,null,a&&r.a.createElement(li.a,null,r.a.createElement(ci.a,null,a&&wi(a.reporting_date)&&wi(a.reporting_date).name),r.a.createElement(ci.a,null,a.reporting_quarter),r.a.createElement(ci.a,null,a.description),r.a.createElement(ci.a,null,a.occurrence),r.a.createElement(ci.a,null,a.impact),r.a.createElement(ci.a,null,a.mitigation_plan),r.a.createElement(ci.a,null,a.responsible_entity),r.a.createElement(ci.a,null,a.mitigation_response||"-"),r.a.createElement(ci.a,null,a.effects||"-")))))))))},create:L_,edit:function(e){var t=r.a.useState(null),a=Object(Z.a)(t,2),n=a[0],o=a[1],i=r.a.useState(null),l=Object(Z.a)(i,2),c=l[0],s=l[1],d=Object(Ca.a)(),m=Object(TD.a)(e).record;return r.a.useEffect((function(){m&&d.getOne("project-details",{id:m.project_detail_id}).then((function(e){e&&e.data&&(o(H(Object(u.a)({},e.data))),d.getOne("projects",{id:e.data.project_id}).then((function(e){e&&e.data&&s(H(Object(u.a)({},e.data)))})))}))}),[m,d]),r.a.createElement(ru.a,Object.assign({},e,{actions:r.a.createElement(dT,{projectDetailId:null===n||void 0===n?void 0:n.id}),undoable:!1}),r.a.createElement(uT,{projectDetails:n,project:c}))}},pT=function(e){var t=Object(Na.a)(),a=Object(ai.a)();return r.a.createElement(Zc.a,null,r.a.createElement(Xn.a,{onClick:function(){return a("".concat(e.basePath,"/").concat(e.id,"/show"))},label:"Cancel",style:{marginRight:5,padding:"7px 15px"},color:"primary",variant:"contained"}),r.a.createElement(Zm.a,Object.assign({},e,{onClick:function(){e.invalid?(window.scrollTo(0,0),t("You should input all required fields before save!","error")):e.handleSubmitWithRedirect()}})))},fT=["getSource","scopedFormData","formData"],_T=function(e){Object(de.g)();var t=Object(ai.a)();return r.a.createElement(Gs.a,{style:{display:"flex",justifyContent:"flex-start"}},r.a.createElement(Xn.a,{onClick:function(){t("".concat(e.basePath,"/").concat(e.projectDetailId,"/show"))},label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null)}))},gT=["onCreate","onGoBack"],hT=["translate"],vT=function(e){var t=e.onCreate,a=e.onGoBack;Object(T.a)(e,gT);return r.a.createElement(Gs.a,{style:{justifyContent:"space-between",display:"flex",alignItems:"center",width:"100%"}},r.a.createElement(Ee.a,{onClick:a,label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null)},"Back"),r.a.createElement(Ee.a,{variant:"contained",color:"primary",startIcon:r.a.createElement(k_.a,null),onClick:t},"Create"))},bT=function(e){var t=e.loading,a=e.loaded,n=e.total,o=L();return 0===n&&!t&&a?r.a.createElement(di.a,{textAlign:"center",m:1},r.a.createElement(se.a,{variant:"h4",paragraph:!0},"There are no custom reports in the system",r.a.createElement("br",null),r.a.createElement("br",null),o("create_custom_report")&&r.a.createElement(ku.a,{basePath:"/custom-reports"}))):r.a.createElement("div",null)},ET={list:function(e){e.translate;var t,a,n=Object(T.a)(e,hT),o=Object(ai.a)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ri.a,Object.assign({},n,{empty:r.a.createElement(bT,n),bulkActionButtons:!1,actions:r.a.createElement(vT,Object.assign({},n,{onCreate:function(){var e,t;o("/".concat(n.resource,"/").concat(Number(null===(e=n.match)||void 0===e||null===(t=e.params)||void 0===t?void 0:t.id),"/create"))},onGoBack:function(){var e,t;o("/implementation-module/".concat(Number(null===(e=n.match)||void 0===e||null===(t=e.params)||void 0===t?void 0:t.id),"/costed-annualized-plan"))}})),filter:{project_detail_id:null===(t=n.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id}}),r.a.createElement(Nl.a,{rowClick:!1},r.a.createElement(Al.a,{source:"reporting_date"}),r.a.createElement(Al.a,{source:"reporting_quarter"}),r.a.createElement(Al.a,{source:"name"}),r.a.createElement(Al.a,{source:"position"}),r.a.createElement(Al.a,{source:"interest_level"}),r.a.createElement(Al.a,{source:"position"}),r.a.createElement(zs.a,n),r.a.createElement(v_.a,n))))},show:Wg,create:wg,edit:function(e){var t=r.a.useState(null),a=Object(Z.a)(t,2),n=a[0],o=a[1],i=r.a.useState(null),l=Object(Z.a)(i,2),c=(l[0],l[1]),s=Object(Ca.a)(),d=Object(TD.a)(e).record,m=Object(pe.a)();return r.a.useEffect((function(){d&&s.getOne("projects",{id:d.project_id}).then((function(e){e&&e.data&&(c(H(Object(u.a)({},e.data))),s.getOne("project-details",{id:e.data.current_project_detail.id}).then((function(e){e&&e.data&&o(H(Object(u.a)({},e.data)))})))}))}),[d,s]),r.a.createElement(ru.a,Object.assign({},e,{actions:r.a.createElement(_T,{projectDetailId:null===d||void 0===d?void 0:d.id}),undoable:!1}),r.a.createElement(ou.a,Object.assign({},e,{toolbar:r.a.createElement(pT,{id:null===d||void 0===d?void 0:d.id}),sanitizeEmptyValues:!1,redirect:"show"}),r.a.createElement(js.a,null,(function(t){t.getSource,t.scopedFormData;var a=t.formData,o=(Object(T.a)(t,fT),a&&n&&a.actual_end_date&&S()(a.actual_end_date).diff(S()(S()(n.end_date)),"days")>=1);return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Actual dates"),r.a.createElement("div",{style:{display:"flex",gap:"25px",width:"100%"}},r.a.createElement(cs,{tooltipText:"tooltips.completionReport.actual_start_date",fullWidth:!0},r.a.createElement(ys.a,{source:"actual_start_date",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.completionReport.actual_end_date",fullWidth:!0},r.a.createElement(ys.a,{source:"actual_end_date",variant:"outlined",margin:"none"})),o&&r.a.createElement(ns.a,{source:"extension_reason",rows:3,variant:"outlined",margin:"none",fullWidth:!0,multiline:!0,rowsMax:3})),r.a.createElement("h2",null,"Physical Performance"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"small"},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Output"),r.a.createElement(ci.a,null,r.a.createElement(cs,{tooltipText:"tooltips.completionReport.actual_specifications",bool:!0},"Actual Specifications / Description")),r.a.createElement(ci.a,null,r.a.createElement(cs,{tooltipText:"tooltips.completionReport.initial_completion_date",bool:!0},"Initial Completion Date")),r.a.createElement(ci.a,null,r.a.createElement(cs,{tooltipText:"tooltips.completionReport.actual_completion_date",bool:!0},"Actual Completion Date")),r.a.createElement(ci.a,null," ",r.a.createElement(cs,{tooltipText:"tooltips.completionReport.related_challenges",bool:!0},"Specific Output Related Challenges")))),r.a.createElement(si.a,null,n&&n.outputs&&n.outputs.map((function(e,t){return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e.name),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:"outputs[".concat(t,"].specifications"),label:!1,rows:3,variant:"outlined",margin:"none",fullWidth:!0,multiline:!0,rowsMax:3})),r.a.createElement(ci.a,null,r.a.createElement(ys.a,{source:"outputs[".concat(t,"].intended_completion_date"),variant:"outlined",margin:"none",label:!1})),r.a.createElement(ci.a,null,r.a.createElement(ys.a,{source:"outputs[".concat(t,"].actual_completion_date"),variant:"outlined",margin:"none",label:!1})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{source:"outputs[".concat(t,"].related_challenges"),label:!1,rows:3,variant:"outlined",margin:"none",fullWidth:!0,multiline:!0,rowsMax:3})))}))))),r.a.createElement("h2",null,"Outcome performance"),r.a.createElement(cs,{tooltipText:"tooltips.completionReport.short_term_outcomes",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:m("resources.project-completion.fields.outcome_performance.short_term_outcomes"),source:"outcome_performance.short_term_outcomes",validate:Object(rs.j)(),isRequired:!0,formData:a},e))),r.a.createElement(cs,{tooltipText:"tooltips.completionReport.impacts",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:m("resources.project-completion.fields.outcome_performance.impact"),source:"outcome_performance.impact",validate:Object(rs.j)(),isRequired:!0,formData:a},e))),r.a.createElement("h2",null,"Challenges encountered and recommendations"),r.a.createElement(cs,{tooltipText:"tooltips.completionReport.challenges_and_recommendations",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:m("resources.project-completion.fields.challenges_recommendations"),source:"challenges_recommendations",validate:Object(rs.j)(),isRequired:!0,formData:a},e))),r.a.createElement("h2",null,"Lessons learnt"),r.a.createElement(cs,{tooltipText:"tooltips.completionReport.lessons_learnt",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:m("resources.project-completion.fields.lessons_learnt"),source:"lessons_learnt",validate:Object(rs.j)(),isRequired:!0,formData:a},e))),r.a.createElement("h2",null,"Post-project tasks / future considerations"),r.a.createElement(cs,{tooltipText:"tooltips.completionReport.future_considerations",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:m("resources.project-completion.fields.future_considerations"),source:"future_considerations",validate:Object(rs.j)(),isRequired:!0,formData:a},e))),r.a.createElement("h2",null,"Sustainability plan"),r.a.createElement(cs,{tooltipText:"tooltips.completionReport.financial_sustainability_plan",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:m("resources.project-completion.fields.financial_sustainability"),source:"financial_sustainability",validate:Object(rs.j)(),isRequired:!0,formData:a},e))),r.a.createElement(cs,{tooltipText:"tooltips.completionReport.environmental_sustainability_plan",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:m("resources.project-completion.fields.environmental_sustainability"),source:"environmental_sustainability",validate:Object(rs.j)(),isRequired:!0,formData:a},e))),r.a.createElement("h2",null,"Project achievements"),r.a.createElement(cs,{tooltipText:"tooltips.completionReport.project_achievements",textArea:!0,fullWidth:!0},r.a.createElement(qf,Object.assign({label:m("resources.project-completion.fields.achievements"),source:"achievements",validate:Object(rs.j)(),isRequired:!0,formData:a},e))))}))))}},jT=["projectDetails","project"],yT=["getSource","scopedFormData","formData"],OT=Object(ae.a)((function(e){return{button:{margin:"0 5px"},activeStep:{width:"100%",height:2,marginTop:10,backgroundColor:"#3f51b5",position:"absolute"},disabled:{color:"#000 !important",pointerEvents:"none","& .MuiStepIcon-completed":{color:"#e0e0e0 !important",pointerEvents:"none"}}}}));function wT(e){var t=Object(_s.f)().values,a=Object(pe.a)();Object(rr.a)();return r.a.createElement(Zc.a,null,r.a.createElement(Ee.a,{style:{margin:"0 5px"},variant:"outlined",disabled:0===e.activeStep,onClick:function(){e.setActiveStep(e.activeStep-1!==0?e.activeStep-1:0)}},a("buttons.back")),r.a.createElement(Ee.a,{style:{margin:"0 5px"},color:"primary",variant:"contained",onClick:function(){var a;e.save(t,"/cost-plans/".concat(null===(a=e.project)||void 0===a?void 0:a.id,"/show"))}},a("buttons.save_exit")))}var xT=function(e){var t=e.projectDetails,a=e.project,o=Object(T.a)(e,jT),i=Object(n.useState)(0),l=Object(Z.a)(i,2),c=l[0],s=l[1],u=(OT(),Object(rr.a)(),Object(pe.a)());var d=function(e){if(e){if(1===Number(e.fund_id))return jr(Ka).filter((function(e){return 3===Number(e.id)}));if(1===Number(e.fund_id)||2===Number(e.fund_id))return jr(Ka).filter((function(e){return 0===Number(e.id)||3===Number(e.id)}))}return jr(Ka).filter((function(e){return 1===Number(e.id)||2===Number(e.id)}))},m=function(e){return!(!e||1!==Number(e.fund_id))&&(e.fund_body_type="",!0)};return r.a.createElement(ou.a,Object.assign({},o,{toolbar:r.a.createElement(wT,Object.assign({},o,{setActiveStep:s,activeStep:c,project:a})),sanitizeEmptyValues:!1,redirect:"list"}),r.a.createElement(Ss.a,{source:"cost_plan_items",label:!1},r.a.createElement(Ps.a,null,r.a.createElement(js.a,null,(function(e){var a,n,i=e.getSource,l=e.scopedFormData,c=e.formData;Object(T.a)(e,yT);return c&&(c.year=S()().format("YYYY"),c.project_detail_id=null===t||void 0===t?void 0:t.id),r.a.createElement("div",null,r.a.createElement("h3",null,"Select Activity"),r.a.createElement(os.a,{options:{fullWidth:"true"},validate:[Object(rs.j)()],label:u("resources.activities.fields.work_plan_activities"),source:i("activity_id"),choices:t?t.activities.map((function(e){return{id:e.id,name:e.name}})):[],variant:"outlined",margin:"none"}),r.a.createElement(r.a.Fragment,null,r.a.createElement(Nu.a,{filter:{not_ids:null===c||void 0===c||null===(a=c.proposed_funding_source)||void 0===a||null===(n=a.map((function(e){return null===e||void 0===e?void 0:e.fund_id})))||void 0===n?void 0:n.filter((function(e){return e!==(null===l||void 0===l?void 0:l.fund_id)}))},sort:Ra,perPage:-1,source:i("fund_id"),reference:"funds",allowEmpty:!0,label:u("resources.activities.fields.investments.fields.fund_id")},r.a.createElement(os.a,{options:{fullWidth:!0},fullWidth:!0,optionText:"name",variant:"outlined",margin:"none"})),r.a.createElement(cs,{fullWidth:!0,tooltipText:"tooltips.resources.project-details.fields.fund_body_type"},r.a.createElement(os.a,{options:{fullWidth:"true"},label:u("resources.project-details.fields.fund_body_type"),source:i("fund_body_type"),choices:d(l),variant:"outlined",margin:"none",disabled:m(l)}))),r.a.createElement(Gf,Object.assign({},o,{source:i("costing_id"),config:"cost_config",reference:"costings",field:i("costing"),isRequired:!0,basePath:"/cost-reports"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.activities.fields.amount",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.h)()],source:i("amount"),label:u("resources.activities.fields.amount"),variant:"outlined",margin:"none",format:_r,parse:gr})))})))))},kT=function(e){var t=Object(ai.a)();return r.a.createElement(Gs.a,{style:{display:"flex",justifyContent:"flex-start"}},r.a.createElement(Xn.a,{onClick:function(){t("/cost-plans/".concat(e.projectId,"/show"))},label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null)}))},ST=function(e){var t,a=r.a.useState(null),o=Object(Z.a)(a,2),i=o[0],l=o[1],c=r.a.useState(null),s=Object(Z.a)(c,2),d=s[0],m=s[1],p=Object(Ca.a)(),f=Object(TD.a)(e).record,_=Object(ee.e)();return Object(n.useEffect)((function(){var e;return _({type:"SET_PROJECT_TITLE_HEADER",payload:{data:"".concat(null===i||void 0===i||null===(e=i.project)||void 0===e?void 0:e.name)}}),function(){_({type:"SET_PROJECT_TITLE_HEADER",payload:{data:""}})}}),[null===i||void 0===i||null===(t=i.project)||void 0===t?void 0:t.name]),r.a.useEffect((function(){f&&p.getOne("project-details",{id:f.project_detail_id}).then((function(e){e&&e.data&&(l(H(Object(u.a)({},e.data))),p.getOne("projects",{id:e.data.project_id}).then((function(e){e&&e.data&&m(H(Object(u.a)({},e.data)))})))}))}),[f,p]),r.a.createElement(ru.a,Object.assign({},e,{actions:r.a.createElement(kT,{projectId:null===d||void 0===d?void 0:d.id}),undoable:!1}),r.a.createElement(xT,{projectDetails:i,project:d}))},PT={list:s.a,show:Mb,create:Dh,edit:ST},CT=function(e){return r.a.createElement(Gs.a,null,r.a.createElement(ku.a,e))},NT={list:function(e){return r.a.createElement(ri.a,Object.assign({},e,{actions:r.a.createElement(CT,null),bulkActionButtons:!1}),r.a.createElement(Nl.a,{rowClick:"edit"},r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Al.a,{source:"name"}),r.a.createElement(Al.a,{source:"entity_type"}),r.a.createElement(Al.a,{source:"organization_level"})))},show:function(e){return r.a.createElement(E_.a,e,r.a.createElement(j_.a,null,r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Al.a,{source:"name"}),r.a.createElement(Al.a,{source:"entity_type"})))},create:function(e){var t=Object(ee.f)((function(e){return e.app.appConfig})).organizational_config,a=Object.keys(t).map((function(e){return{id:e,name:"(".concat(e,") ").concat(t[e].name)}}));return r.a.createElement(es.a,e,r.a.createElement(ou.a,{variant:"outlined",toolbar:r.a.createElement(s_,null)},r.a.createElement(ns.a,{source:"name",variant:"outlined",margin:"none"}),r.a.createElement(ns.a,{source:"entity_type",variant:"outlined",margin:"none"}),r.a.createElement(os.a,{source:"organization_level",choices:a,variant:"outlined",margin:"none"})))},edit:function(e){var t=Object(ee.f)((function(e){return e.app.appConfig})).organizational_config,a=Object.keys(t).map((function(e){return{id:e,name:"(".concat(e,") ").concat(t[e].name)}}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(ru.a,e,r.a.createElement(ou.a,{toolbar:r.a.createElement(s_,null)},r.a.createElement(ns.a,{source:"name",variant:"outlined",margin:"none"}),r.a.createElement(ns.a,{source:"entity_type",variant:"outlined",margin:"none"}),r.a.createElement(os.a,{source:"organization_level",choices:a,variant:"outlined",margin:"none"}))))}},AT=["translate"],DT={list:function(e){e.translate;var t=Object(T.a)(e,AT);return r.a.createElement(ri.a,Object.assign({},t,{bulkActionButtons:!1}),r.a.createElement(Nl.a,null,r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Al.a,{source:"name"}),r.a.createElement(zs.a,null),r.a.createElement(v_.a,null)))},show:function(e){return r.a.createElement(E_.a,e,r.a.createElement(j_.a,null,r.a.createElement(Al.a,{source:"id"}),r.a.createElement(Al.a,{source:"name"})))},create:function(e){return r.a.createElement(es.a,e,r.a.createElement(ou.a,{redirect:"list",toolbar:r.a.createElement(s_,null)},r.a.createElement(ns.a,{source:"name",validate:Object(rs.j)(),variant:"outlined",margin:"none",fullWidth:!0,style:{width:"100%"}})))},edit:function(e){return r.a.createElement(ru.a,e,r.a.createElement(ou.a,{toolbar:r.a.createElement(s_,null)},r.a.createElement(ns.a,{source:"name",validate:Object(rs.j)(),variant:"outlined",margin:"none",fullWidth:!0,style:{width:"100%"}})))}},TT=a(2028),FT=["onSaveSuccess","onClose"],RT=["record","onClose","onRefresh","referencedOptions"],IT=["getSource","scopedFormData","formData"],MT=function(e){var t=e.onSaveSuccess,a=e.onClose,n=Object(T.a)(e,FT);return r.a.createElement(Zc.a,{style:{width:"100%"}},r.a.createElement(Xn.a,{onClick:a,label:"Cancel",style:{marginRight:5,padding:"7px 15px"},color:"primary",variant:"contained"}),r.a.createElement(Zm.a,Object.assign({},n,{onSuccess:t})))};var WT=function(e){var t=e.record,a=e.onClose,o=e.onRefresh,i=(e.referencedOptions,Object(T.a)(e,RT)),l=Object(pe.a)();return r.a.createElement(ru.a,{basePath:"/indicators",resource:"indicators",record:t,id:t.id,redirect:!1,undoable:!1},r.a.createElement(ou.a,{undoable:!1,variant:"outlined",redirect:!1,toolbar:r.a.createElement(MT,{onSaveSuccess:function(){o(),a()},onClose:a})},r.a.createElement(js.a,null,(function(e){e.getSource;var t=e.scopedFormData,a=e.formData,o=(Object(T.a)(e,IT),i.targetYears&&i.targetYears[i.targetYears.length-1]),c=(null===t||void 0===t?void 0:t["targets.".concat(String(o.id))])?"targets.".concat(String(o.id)):"targets.".concat(String(o.id),"y");return console.log(c,"targetSource"),r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.disaggregation_type_id",fullWidth:!0},r.a.createElement(os.a,{margin:"none",variant:"outlined",fullWidth:!0,source:"disaggregation_type_id",choices:i.helpers&&i.helpers.disaggregationTypes||[],validate:Object(rs.j)(),optionText:Or})),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.name",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],source:"name",label:l("resources.indicators.fields.name"),variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.baseline",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],source:"baseline",label:"".concat(l("resources.indicators.fields.baseline")," - ").concat(Si(a.baseline).name||"-"),variant:"outlined",margin:"none"})),i.targetYears&&i.targetYears[i.targetYears.length-1]&&r.a.createElement(cs,{tooltipText:"resources.indicators.fields.target",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],label:"End of Project Target",source:"targets.project",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.verification_means",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],source:"verification_means",label:l("resources.indicators.fields.verification_means"),variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.unit_id",fullWidth:!0},r.a.createElement(os.a,{margin:"none",variant:"outlined",fullWidth:!0,source:"unit_id",choices:i.helpers&&i.helpers.units||[],validate:Object(rs.j)(),optionText:Or})),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.format_id",fullWidth:!0},r.a.createElement(os.a,{margin:"none",variant:"outlined",fullWidth:!0,source:"format_id",choices:i.helpers&&i.helpers.formats||[],validate:Object(rs.j)(),optionText:Or})))}))))},LT=["onSaveSuccess","onClose"],YT=["record","onClose","onRefresh","referencedOptions","projectDetails"],BT=["getSource","scopedFormData","formData"],zT=function(e){var t=e.onSaveSuccess,a=e.onClose,n=Object(T.a)(e,LT),o=Object(Na.a)();return r.a.createElement(Zc.a,{style:{width:"100%"}},r.a.createElement(Xn.a,{onClick:a,label:"Cancel",style:{marginRight:5,padding:"7px 15px"},color:"primary",variant:"contained"}),r.a.createElement(Zm.a,Object.assign({},n,{onClick:function(){n.invalid?(window.scrollTo(0,0),o("You should define required fields  before save!","error")):(n.handleSubmitWithRedirect(),t&&t())},onSuccess:t})))};var qT=function(e){var t=e.record,a=e.onClose,o=e.onRefresh,i=(e.referencedOptions,e.projectDetails),l=Object(T.a)(e,YT),c=Object(pe.a)();return l.targetYears&&l.targetYears[l.targetYears.length-1],r.a.createElement(es.a,{basePath:"/indicators",resource:"indicators",redirect:!1},r.a.createElement(ou.a,{variant:"outlined",toolbar:r.a.createElement(zT,{onSaveSuccess:function(){o(),a()},onClose:a}),redirect:!1},r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData;var a=e.formData;Object(T.a)(e,BT);return a&&(a.project_detail_id=i.id,a.entity_type="indicator",a.entity_id=t.id,a.parent_id=t.id),r.a.createElement(n.Fragment,null,r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.disaggregation_type_id",fullWidth:!0},r.a.createElement(os.a,{margin:"none",variant:"outlined",fullWidth:!0,source:"disaggregation_type_id",choices:l.helpers&&l.helpers.disaggregationTypes||[],validate:Object(rs.j)(),optionText:Or})),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.name",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],source:"name",label:c("resources.indicators.fields.name"),variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.baseline",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],source:"baseline",label:"".concat(c("resources.indicators.fields.baseline")," - ").concat(wi(S()(null===i||void 0===i?void 0:i.baseline,"YYYY-MM-DD")).name||""),variant:"outlined",margin:"none"})),l.targetYears&&l.targetYears[l.targetYears.length-1]&&r.a.createElement(cs,{tooltipText:"resources.indicators.fields.target",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],label:"End of Project Target",source:"targets.project",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.verification_means",fullWidth:!0},r.a.createElement(ns.a,{validate:[Object(rs.j)(),Object(rs.d)(255)],source:"verification_means",label:c("resources.indicators.fields.verification_means"),variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.unit_id",fullWidth:!0},r.a.createElement(os.a,{margin:"none",variant:"outlined",fullWidth:!0,source:"unit_id",choices:l.helpers&&l.helpers.units||[],validate:Object(rs.j)(),optionText:Or})),r.a.createElement(cs,{tooltipText:"tooltips.resources.indicators.fields.format_id",fullWidth:!0},r.a.createElement(os.a,{margin:"none",variant:"outlined",fullWidth:!0,source:"format_id",choices:l.helpers&&l.helpers.formats||[],validate:Object(rs.j)(),optionText:Or})))}))))},UT=["onRefresh","referencedOptions"];var VT=function(e){var t=e.onRefresh,a=e.referencedOptions,o=Object(T.a)(e,UT),i=(Object(pe.a)(),Object(n.useState)(!1)),l=Object(Z.a)(i,2),c=l[0],s=l[1],u=L();function d(){s(!1)}var m=o.isEdit&&u("edit_indicator"),p=!o.isEdit&&u("create_indicator");return r.a.createElement(n.Fragment,null,(m||p)&&r.a.createElement(Ce.a,{onClick:function(){s(!0)},title:o.isEdit?"Edit Sub-Indicator":"Add Sub-Indicator",color:"primary"},o.isEdit?r.a.createElement(Vv.a,{color:"primary"}):r.a.createElement(Hv.a,{color:"primary"})),c&&r.a.createElement(Gr.a,{fullWidth:!0,maxWidth:"md",open:c,onClose:d,style:{overflow:"hidden"}},r.a.createElement(Hr.a,null,o.isEdit?"Edit":"Create"," Sub-Indicator"),r.a.createElement(Jr.a,null,o.isEdit?r.a.createElement(WT,Object.assign({},o,{projectDetails:o.projectDetails,helpers:o.helpers,source:o.source,targetYears:o.targetYears,onClose:d,onRefresh:t,referencedOptions:a})):r.a.createElement(qT,Object.assign({},o,{projectDetails:o.projectDetails,helpers:o.helpers,source:o.source,targetYears:o.targetYears,onClose:d,onRefresh:t,referencedOptions:a})))))},GT=["indicators"],HT=function(e){var t=e.indicators,a=Object(T.a)(e,GT),n=L(),o=a.record&&a.record[a.reference]||[];return t&&0===t.length?r.a.createElement("h3",null,"No Sub-Indicators"):r.a.createElement(Fi.a,{style:{overflow:"auto",marginBottom:25}},r.a.createElement(oi.a,{size:"small"},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Name"),r.a.createElement(ci.a,null,"Baseline"),r.a.createElement(ci.a,null,"Target"),r.a.createElement(ci.a,null,"Progress (%)"),r.a.createElement(ci.a,null))),r.a.createElement(si.a,null,t&&t.map((function(e){var t;if(!e)return null;var i=Math.abs(Number(null===(t=e.achieved_target)||void 0===t?void 0:t.indicator_progress)-Number(e.baseline)),l=e.targets&&Math.abs(Number(e.targets.project)-Number(e.baseline)),c=l>0&&i>0?(i/l*100).toFixed(0):"-";return r.a.createElement(li.a,null,r.a.createElement(ci.a,null,e.name),r.a.createElement(ci.a,null,e.baseline),r.a.createElement(ci.a,null,e.targets&&e.targets.project),r.a.createElement(ci.a,null,c),r.a.createElement(ci.a,{style:{verticalAlign:"middle"}},!e.is_read_only&&r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(VT,Object.assign({},a,{record:e,isEdit:!0,referencedOptions:o,label:"Edit"})),n("delete_indicator")&&r.a.createElement(xv.a,{label:!1,basePath:"/indicators",record:e,resource:"indicators",redirect:!1,undoable:!1,onSuccess:a.onRefresh}))))})))))},JT=a(524),XT=a.n(JT),$T=["record"],KT=function(e){var t=e.record,a=(Object(T.a)(e,$T),Object(n.useState)({units:[],formats:[],frequencies:[],disaggregationTypes:[]})),o=Object(Z.a)(a,2),i=o[0],l=o[1],c=Object(n.useState)(null),s=Object(Z.a)(c,2),d=s[0],m=s[1],p=Object(Ca.a)(),f=Object(rr.a)(),_=L();Object(n.useEffect)((function(){p.getListOfAll("formats",{}).then((function(e){e&&e.data&&l((function(t){return Object(u.a)(Object(u.a)({},t),{},{formats:e.data})}))})),p.getListOfAll("frequencies",{}).then((function(e){e&&e.data&&l((function(t){return Object(u.a)(Object(u.a)({},t),{},{frequencies:e.data})}))})),p.getListOfAll("units",{}).then((function(e){e&&e.data&&l((function(t){return Object(u.a)(Object(u.a)({},t),{},{units:e.data})}))})),p.getListOfAll("disaggregation-types",{}).then((function(e){e&&e.data&&l((function(t){return Object(u.a)(Object(u.a)({},t),{},{disaggregationTypes:e.data})}))}))}),[]),Object(n.useEffect)((function(){t&&t.project_detail_id&&!d&&p.getOne("project-details",{id:t.project_detail_id}).then((function(e){e&&e.data&&m(e.data)}))}),[p,d,t]);var g=tb(d);return r.a.createElement(In.a,{style:{padding:"25px"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"20px",alignItems:"center"}},r.a.createElement("h2",null,"Sub-Indicators"),r.a.createElement("div",null,r.a.createElement(VT,{projectDetails:d,source:"indicators",targetYears:g,type:"indicators",reference:"indicator",onRefresh:f,helpers:i,record:t}),_("edit_indicators")&&r.a.createElement(Ce.a,{href:"/#/achieve-sub-targets/".concat(null===t||void 0===t?void 0:t.id),title:"Achieved Targets"},r.a.createElement(XT.a,{color:"primary"})))),r.a.createElement(HT,{type:"indicators",record:d,indicators:null===t||void 0===t?void 0:t.subindicators,targetYears:g,source:"indicators",reference:"indicator",onRefresh:f,helpers:i}))},QT=function(e){var t=Object(n.useState)(),a=Object(Z.a)(t,2),o=a[0],i=a[1],l=Object(ai.a)(),c=Object(Ca.a)();return Object(n.useEffect)((function(){var t;(null===(t=e.data)||void 0===t?void 0:t.project_detail_id)&&c.getOne("project-details",{id:e.data.project_detail_id}).then((function(e){(null===e||void 0===e?void 0:e.data)&&i(e.data.project_id)}))}),[e.data]),r.a.createElement(Gs.a,{style:{display:"flex",justifyContent:"flex-start"}},r.a.createElement(Xn.a,{onClick:function(){l("/project-indicators/".concat(o))},label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null),disabled:!o}))},ZT=function(e){var t,a,o,i,l,c=Object(n.useState)(),s=Object(Z.a)(c,2),u=s[0],d=s[1],m=Object(Ca.a)();console.log(e,"propspropsprops"),Object(n.useEffect)((function(){var t,a;(null===(t=e.record)||void 0===t?void 0:t.project_detail_id)&&m.getOne("project-details",{id:null===(a=e.record)||void 0===a?void 0:a.project_detail_id}).then((function(e){(null===e||void 0===e?void 0:e.data)&&d(e.data)}))}),[e.record]);var p=Object(TT.a)(),f=(p.defaultTitle,p.error),_=(p.isFetching,p.isLoading),g=p.record;p.refetch,p.resource;if(_)return r.a.createElement("div",null,"Loading...");if(f)return r.a.createElement("div",null,"Error!");var h=tb(u),v=(null===g||void 0===g?void 0:g.targets)&&g.targets.project,b=Math.abs(Number(null===(t=g.achieved_target)||void 0===t?void 0:t.indicator_progress)-Number(g.baseline)),E=Math.abs(Number(g.targets[Object.keys(null===g||void 0===g?void 0:g.targets)[Object.keys(null===g||void 0===g?void 0:g.targets).length-1]])-Number(g.baseline)),j=E>0&&b>0?(b/E*100).toFixed(0):"-";return r.a.createElement(r.a.Fragment,null,r.a.createElement(In.a,null,r.a.createElement(j_.a,null,r.a.createElement("div",null,r.a.createElement("p",null,"Name: ",r.a.createElement("b",null,null===g||void 0===g?void 0:g.name)),r.a.createElement("p",null,"Unit of Measure: ",r.a.createElement("b",null,(null===g||void 0===g||null===(a=g.unit)||void 0===a?void 0:a.name)||"-")),r.a.createElement("p",null,"Format: ",r.a.createElement("b",null,(null===g||void 0===g||null===(o=g.format)||void 0===o?void 0:o.name)||"-")),r.a.createElement("p",null,"Frequency: ",r.a.createElement("b",null,(null===g||void 0===g||null===(i=g.frequency)||void 0===i?void 0:i.name)||"-")),r.a.createElement("p",null,"Format: ",r.a.createElement("b",null,(null===g||void 0===g||null===(l=g.format)||void 0===l?void 0:l.name)||"-")),r.a.createElement("p",null,"Verification Means: ",r.a.createElement("b",null,(null===g||void 0===g?void 0:g.verification_means)||"-")),r.a.createElement("p",null,"Baseline: ",r.a.createElement("b",null,(null===g||void 0===g?void 0:g.baseline)||"-")),r.a.createElement("p",null,"Target: ",r.a.createElement("b",null,v||"-")),r.a.createElement("p",null,"Progress (%): ",r.a.createElement("b",null,j||"-")),(null===g||void 0===g?void 0:g.frequency_id)&&r.a.createElement(Dv,{frequency:null===g||void 0===g?void 0:g.frequency_id,data:null===g||void 0===g?void 0:g.intermediary_targets,years:h})))),r.a.createElement("br",null),r.a.createElement(In.a,null,r.a.createElement(KT,{record:g})))},eF=function(e){return r.a.createElement(E_.a,Object.assign({},e,{actions:r.a.createElement(QT,null)}),r.a.createElement(ZT,null))},tF=["basePath","data","resource","location","projectId","id"],aF=function(e){e.basePath;var t=e.data,a=(e.resource,e.location,e.projectId,e.id,Object(T.a)(e,tF),L(),Object(Ca.a)()),n=Object(rr.a)(),o=Object(ee.f)((function(e){return e.user.userInfo})),i=t&&t.workflow&&t.workflow.role_id,l=Object(Na.a)(),c=Object(pe.a)();function s(){if(0===[].length)d();else{var e=[].map((function(e){return c("validation.me_reports.".concat(e))})).join(", ");l("Required fields: ".concat(e),"warning")}}function u(e){var a=m(String(e).toUpperCase());"SUBMIT"===e&&t&&t.workflow&&1===t.workflow.step&&(a=s);var n={color:"SUBMIT"===e&&t&&t.workflow&&1===t.workflow.step?0===[].length?"green":"red":""},o=r.a.createElement(Zh.a,null),i=c("buttons.".concat(e.toLowerCase()));return r.a.createElement(Xn.a,{style:n,label:i,onClick:a},o)}var d=function(){var e={data:{action:"SUBMIT",reason:"decision"},id:t.id};a.action("appeals",e).then((function(e){n()}))},m=function(e){return function(){var r={data:{action:e,reason:"decision"},id:t.id};a.action("appeals",r).then((function(e){n()}))}};return!o.current_role||Number(i)!==Number(o.current_role.role_id)&&1!==Number(o.current_role.role_id)?null:t&&t.workflow&&t.workflow.actions&&t.workflow.actions.map((function(e){return u(e)}))},nF=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),rF=function(e){var t=Object(ai.a)();return r.a.createElement(Gs.a,{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},r.a.createElement(Xn.a,{onClick:function(){t("".concat(e.basePath,"/").concat(Number(null===e||void 0===e?void 0:e.projectDetailId),"/list"))},label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null),style:{justifySelf:"flex-start"}}),r.a.createElement("div",null,"DRAFT"===e.data.appeal_status&&r.a.createElement(v_.a,Object.assign({},e,{record:e.data})),"COMPLETED"!==e.data.appeal_status&&r.a.createElement(aF,e)))},oF=function(e){var t,a,o,i,l,c,s,u,d,m=Object(n.useState)(),p=Object(Z.a)(m,2),f=p[0],_=p[1],g=Object(n.useState)(),h=Object(Z.a)(g,2),v=h[0],b=h[1],E=nF(),j=Object(b_.a)(e).record,y=Object(Ca.a)();if(r.a.useEffect((function(){j&&y.getOne("projects",{id:null===j||void 0===j?void 0:j.project_id}).then((function(e){e&&e.data&&(b(e.data),y.getOne("project-details",{id:e.data.current_project_detail.id}).then((function(e){e&&e.data&&_(e.data)})))}))}),[j]),!j||!f||!v)return null;var O=Oi(S()(),j.proposed_extension_date);return r.a.createElement(E_.a,Object.assign({},e,{actions:r.a.createElement(rF,Object.assign({},e,{projectDetailId:null===f||void 0===f?void 0:f.id}))}),r.a.createElement(j_.a,null,r.a.createElement("div",{className:"Section2"},r.a.createElement("div",{className:"content-area"},r.a.createElement(se.a,{variant:"h4",style:{marginLeft:15,marginBottom:15}},f&&"".concat(null===f||void 0===f||null===(t=f.project)||void 0===t?void 0:t.code," - ").concat(null===f||void 0===f||null===(a=f.project)||void 0===a?void 0:a.name)),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",E.bordered,E.table)},r.a.createElement(si.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Implementing Agency:"),r.a.createElement(ci.a,null,(null===f||void 0===f?void 0:f.implementing_agencies)&&x.a.uniqBy(null===f||void 0===f?void 0:f.implementing_agencies,"organization_id").map((function(e){return e.organization?r.a.createElement("p",null,"".concat(e.organization.code," - ").concat(e.organization.name)):null})))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Programme:"),r.a.createElement(ci.a,null," ",null===v||void 0===v||null===(o=v.program)||void 0===o?void 0:o.code,"-",null===v||void 0===v||null===(i=v.program)||void 0===i?void 0:i.name)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Original Project Cost:"),r.a.createElement(ci.a,null," ",vr(null===f||void 0===f||null===(l=f.investment_stats)||void 0===l?void 0:l.total_cost))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Original start date:"),r.a.createElement(ci.a,null," ",Er(null===f||void 0===f?void 0:f.start_date))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Original end Date:"),r.a.createElement(ci.a,null," ",Er(null===f||void 0===f?void 0:f.end_date))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"What problem is the project addressing?"),r.a.createElement(ci.a,null,f&&gi()(null===f||void 0===f?void 0:f.summary))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Project Goal:"),r.a.createElement(ci.a,null,null===f||void 0===f?void 0:f.goal)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"What are project interventions?"),r.a.createElement(ci.a,null,j.interventions)),r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:2},"Summary Request:")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Proposed extension date:"),r.a.createElement(ci.a,null,j.proposed_extension_date)),r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Principal Reason for appeal:"),r.a.createElement(ci.a,null,function(e){return"".concat(e.is_time?"Time":""," ").concat(e.is_scope?"Scope":""," ").concat(e.is_cost?"Cost":"")}(j)))))),r.a.createElement("div",null),r.a.createElement("div",null,r.a.createElement(se.a,{variant:"h4",style:{margin:"35px 0px",textTransform:"capitalize"}},"Project Financial Performance"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",E.bordered,E.table)},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null),null===O||void 0===O?void 0:O.map((function(e){return r.a.createElement(ci.a,{colSpan:2},e.name)})),r.a.createElement(ci.a,null,"Total")),r.a.createElement(li.a,null,r.a.createElement(ci.a,null),null===O||void 0===O?void 0:O.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ci.a,null,"GoU"),r.a.createElement(ci.a,null,"Donor"))})),r.a.createElement(ci.a,null,"Total"))),r.a.createElement(si.a,null,Lg.map((function(e,t){var a=0;return r.a.createElement(li.a,{key:e.id},r.a.createElement(ci.a,null,e.name),null===O||void 0===O?void 0:O.map((function(t){var n=(null===j||void 0===j?void 0:j.financial_performance)&&j.financial_performance["fv".concat(e.id)]["".concat(t.id,"y")].gou,o=(null===j||void 0===j?void 0:j.financial_performance)&&j.financial_performance["fv".concat(e.id)]["".concat(t.id,"y")].donor;return a+=parseFloat(n)+parseFloat(o),r.a.createElement(r.a.Fragment,null,r.a.createElement(ci.a,null,n),r.a.createElement(ci.a,null,o))})),r.a.createElement(ci.a,null,Object(w.isNaN)(a)?"-":vr(a)))})))))),r.a.createElement("div",null,r.a.createElement(se.a,{variant:"h4",style:{margin:"15px 0px",textTransform:"capitalize"}},"Project Physical Performance"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",E.bordered,E.table)},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{rowSpan:2},"Outcome / Output / Indicator"),r.a.createElement(ci.a,{rowSpan:2},"Original Baseline "),r.a.createElement(ci.a,{rowSpan:2},"Original Target"),r.a.createElement(ci.a,{colSpan:5},"Assessment of cumulative physical performance")),r.a.createElement(li.a,null,null===O||void 0===O?void 0:O.map((function(e){return r.a.createElement(ci.a,null,e.name)})),r.a.createElement(ci.a,null,"Outstanding physical performance"))),r.a.createElement(si.a,null,null===f||void 0===f||null===(c=f.outcomes)||void 0===c?void 0:c.map((function(e,t){var a,n=r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:4+O.length},e.name)),o=null===e||void 0===e||null===(a=e.indicators)||void 0===a?void 0:a.map((function(e,t){var a=Object.keys(e.targets),n=e.targets[a[a.length-1]];return r.a.createElement(li.a,{key:e.id},r.a.createElement(ci.a,null,e.name),r.a.createElement(ci.a,null,e.baseline),r.a.createElement(ci.a,null,n),null===O||void 0===O?void 0:O.map((function(t){var a=j.physical_performance&&j.physical_performance["ind".concat(e.id)]["".concat(t.id,"y")];return r.a.createElement(ci.a,null,a)})),r.a.createElement(ci.a,null,j.physical_performance&&j.physical_performance["ind".concat(e.id)].performance))}));return r.a.createElement(r.a.Fragment,null,n,o)})))))),r.a.createElement("div",null,r.a.createElement(se.a,{variant:"h4",style:{margin:"15px 0px",textTransform:"capitalize"}},"Financial Requirements of Project Outputs to be Achieved During the Proposed Extension"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",E.bordered,E.table)},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:2},"Output"),null===O||void 0===O?void 0:O.map((function(e){return r.a.createElement(ci.a,null,e.name)})),r.a.createElement(ci.a,null,"Total"))),r.a.createElement(si.a,null,null===f||void 0===f||null===(s=f.outputs)||void 0===s?void 0:s.map((function(e,t){var a=0;return r.a.createElement(li.a,{key:e.id},r.a.createElement(ci.a,{style:{width:"50px"}},"1. ".concat(t+1)),r.a.createElement(ci.a,null,e.name),null===O||void 0===O?void 0:O.map((function(t){var n=j.financial_requirements&&j.financial_requirements["otp".concat(e.id)]["".concat(t.id,"y")];return a+=parseFloat(n),r.a.createElement(ci.a,null,n)})),r.a.createElement(ci.a,null,Object(w.isNaN)(a)?"-":vr(a)))}))))),r.a.createElement(se.a,{variant:"h4",style:{margin:"15px 0px",textTransform:"capitalize"}},"Implementation Plan"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",E.bordered,E.table)},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Outputs"),r.a.createElement(ci.a,null,"Start Date"),r.a.createElement(ci.a,null,"End Date"))),r.a.createElement(si.a,null,null===f||void 0===f||null===(u=f.outputs)||void 0===u?void 0:u.map((function(e,t){var a=j.implementation_plan&&j.implementation_plan["otp".concat(e.id)].start_date,n=j.implementation_plan&&j.implementation_plan["otp".concat(e.id)].end_date;return r.a.createElement(li.a,{key:e.id},r.a.createElement(ci.a,null,"Output ".concat(t+1,": ").concat(e.name)),r.a.createElement(ci.a,null,a),r.a.createElement(ci.a,null,n))})))))),r.a.createElement("div",null,r.a.createElement(se.a,{variant:"h4",style:{margin:"15px 0px",textTransform:"capitalize"}},"Major project implementation challenges"),r.a.createElement("p",null,j.challenges)),r.a.createElement("div",null,r.a.createElement(se.a,{variant:"h4",style:{margin:"15px 0px",textTransform:"capitalize"}},"Recommendations for project implementation challenges"),r.a.createElement("p",null,j.recommendations)),r.a.createElement("div",null,r.a.createElement(se.a,{variant:"h4",style:{margin:"15px 0px",textTransform:"capitalize"}},"Additional Information"),r.a.createElement("p",null,j.additional_info)),r.a.createElement("div",null,r.a.createElement(se.a,{variant:"h4",style:{margin:"15px 0px",textTransform:"capitalize"}},"Attachments"),null===(d=j.files)||void 0===d?void 0:d.map((function(e){return r.a.createElement("a",{href:e.link,id:e.id},e.title)})))))))},iF=["projectDetails","project"],lF=["getSource","scopedFormData","formData"],cF=Object(ae.a)((function(e){return{table:{minWidth:700},bordered:{border:"1px solid ".concat(e.palette.border),"& td":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"},"& th":{padding:"0.75rem",verticalAlign:"top",border:"1px solid #c8ced3"}},filledRow:{backgroundColor:e.palette.action.hover,fontWeight:"bold"}}})),sF=function(e){var t,a=e.projectDetails,n=(e.project,Object(T.a)(e,iF)),o=r.a.useState([]),i=Object(Z.a)(o,2),l=(i[0],i[1]),c=(Object(Ca.a)(),cF());r.a.useEffect((function(){if(a){var e=a.start_date,t=a.end_date;l(Oi(e,t))}}),[a]);var s=Object(pe.a)();return r.a.createElement(ou.a,Object.assign({},n,{toolbar:r.a.createElement(s_,{projectDetailId:null===(t=n.record)||void 0===t?void 0:t.project_detail_id}),sanitizeEmptyValues:!1,redirect:"show"}),r.a.createElement(cs,{tooltipText:"tooltips.resources.appeals.fields.interventions",fullWidth:!0},r.a.createElement(ns.a,{source:"interventions",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.appeals.fields.appeal_reason",fullWidth:!0},r.a.createElement(se.a,{variant:"h6"},"Appeals Reasons"),r.a.createElement("div",{style:{display:"flex",gap:"25px",marginTop:10}},r.a.createElement(I_.a,{source:"is_time",label:"Time",variant:"outlined",margin:"none"}),r.a.createElement(I_.a,{source:"is_scope",label:"Scope",variant:"outlined",margin:"none"}),r.a.createElement(I_.a,{source:"is_cost",label:"Cost",variant:"outlined",margin:"none"}))),r.a.createElement(cs,{tooltipText:"tooltips.resources.appeals.fields.challenges",fullWidth:!0},r.a.createElement(ns.a,{source:"challenges",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.appeals.fields.recommendations",fullWidth:!0},r.a.createElement(ns.a,{source:"recommendations",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.appeals.fields.additional_info",fullWidth:!0},r.a.createElement(ns.a,{source:"additional_info",variant:"outlined",margin:"none"})),r.a.createElement(cs,{tooltipText:"tooltips.resources.appeals.fields.proposed_extension_date",fullWidth:!0},r.a.createElement(ys.a,{source:"proposed_extension_date",variant:"outlined",margin:"none"})),r.a.createElement(js.a,null,(function(e){e.getSource,e.scopedFormData;var t,o,i,l=e.formData,u=(Object(T.a)(e,lF),Oi(S()(),l.proposed_extension_date));return r.a.createElement("div",null,r.a.createElement("h2",null,"PROJECT FINANCIAL PERFORMANCE"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",c.bordered,c.table)},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null),null===u||void 0===u?void 0:u.map((function(e){return r.a.createElement(ci.a,{colSpan:2},e.name)}))),r.a.createElement(li.a,null,r.a.createElement(ci.a,null),null===u||void 0===u?void 0:u.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ci.a,null,"GoU"),r.a.createElement(ci.a,null,"Donor"))})))),r.a.createElement(si.a,null,Lg.map((function(e,t){return r.a.createElement(li.a,{key:e.id},r.a.createElement(ci.a,null,e.name),null===u||void 0===u?void 0:u.map((function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ci.a,null,r.a.createElement(ns.a,{label:!1,variant:"outlined",margin:"none",source:"financial_performance.fv".concat(e.id,".").concat(t.id,"y.gou"),parse:gr,format:_r,validate:Object(rs.h)()})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{label:!1,variant:"outlined",margin:"none",source:"financial_performance.fv".concat(e.id,".").concat(t.id,"y.donor"),parse:gr,format:_r,validate:Object(rs.h)()})))})))}))))),r.a.createElement("div",null,r.a.createElement("h2",null,"PROJECT PHYSICAL PERFORMANCE "),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",c.bordered,c.table)},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{rowSpan:2},"Outcome / Output / Indicator"),r.a.createElement(ci.a,{rowSpan:2},"Original Baseline "),r.a.createElement(ci.a,{rowSpan:2},"Original Target"),r.a.createElement(ci.a,{colSpan:5},"Assessment of cumulative physical performance")),r.a.createElement(li.a,null,null===u||void 0===u?void 0:u.map((function(e){return r.a.createElement(ci.a,null,e.name)})),r.a.createElement(ci.a,null,"Outstanding physical performance"))),r.a.createElement(si.a,null,null===a||void 0===a||null===(t=a.outcomes)||void 0===t?void 0:t.map((function(e,t){var a,n=r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:4+u.length},"Outcome: ",e.name)),o=null===e||void 0===e||null===(a=e.indicators)||void 0===a?void 0:a.map((function(e,t){var a=Object.keys(e.targets),n=e.targets[a[a.length-1]];return r.a.createElement(li.a,{key:e.id},r.a.createElement(ci.a,null,e.name),r.a.createElement(ci.a,null,e.baseline),r.a.createElement(ci.a,null,n),null===u||void 0===u?void 0:u.map((function(t){return r.a.createElement(ci.a,null,r.a.createElement(ns.a,{label:!1,variant:"outlined",margin:"none",source:"physical_performance.ind".concat(e.id,".").concat(t.id,"y"),parse:gr,format:_r,validate:Object(rs.h)()}))})),r.a.createElement(ci.a,null,r.a.createElement(ns.a,{label:!1,variant:"outlined",margin:"none",source:"physical_performance.ind".concat(e.id,".performance")})))}));return r.a.createElement(r.a.Fragment,null,n,o)})))))),r.a.createElement("div",null,r.a.createElement("h2",null,"FINANCIAL REQUIREMENTS OF PROJECT OUTPUTS TO BE ACHIEVED DURING THE PROPOSED EXTENSION"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",c.bordered,c.table)},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,{colSpan:2},"Output"),null===u||void 0===u?void 0:u.map((function(e){return r.a.createElement(ci.a,null,e.name)})))),r.a.createElement(si.a,null,null===a||void 0===a||null===(o=a.outputs)||void 0===o?void 0:o.map((function(e,t){return r.a.createElement(li.a,{key:e.id},r.a.createElement(ci.a,{style:{width:"50px"}},"1. ".concat(t+1)),r.a.createElement(ci.a,null,e.name),null===u||void 0===u?void 0:u.map((function(t){return r.a.createElement(ci.a,null,r.a.createElement(ns.a,{label:!1,variant:"outlined",margin:"none",source:"financial_requirements.otp".concat(e.id,".").concat(t.id,"y"),parse:gr,format:_r,validate:Object(rs.h)()}))})))}))))),r.a.createElement("h2",null,"Implementation Plan"),r.a.createElement(Fi.a,null,r.a.createElement(oi.a,{size:"medium",className:Object(Fe.default)("bordered",c.bordered,c.table)},r.a.createElement(ii.a,null,r.a.createElement(li.a,null,r.a.createElement(ci.a,null,"Outputs"),r.a.createElement(ci.a,null,"Start Date"),r.a.createElement(ci.a,null,"End Date"))),r.a.createElement(si.a,null,null===a||void 0===a||null===(i=a.outputs)||void 0===i?void 0:i.map((function(e,t){return r.a.createElement(li.a,{key:e.id},r.a.createElement(ci.a,null,"Output ".concat(t+1,": ").concat(e.name)),r.a.createElement(ci.a,null,r.a.createElement(ys.a,{label:!1,variant:"outlined",margin:"none",source:"implementation_plan.otp".concat(e.id,".start_date")})),r.a.createElement(ci.a,null,r.a.createElement(ys.a,{label:!1,variant:"outlined",margin:"none",source:"implementation_plan.otp".concat(e.id,".end_date")})))})))))),r.a.createElement("h2",null,"Attachments"),r.a.createElement(gp,{meta:{relatedField:"appeals_".concat(n.record.id)},resource:"appeal",entityId:n.record.id,fileTypeId:0,placeholder:s("titles.drop_files"),record:l,approvedUploading:!0}))})))},uF=function(e){Object(de.g)();var t=Object(ai.a)();return r.a.createElement(Gs.a,{style:{display:"flex",justifyContent:"flex-start"}},r.a.createElement(Xn.a,{onClick:function(){t("".concat(e.basePath,"/").concat(e.projectDetailId,"/list"))},label:"Back",color:"primary",startIcon:r.a.createElement(wf.a,null)}))},dF={list:pb,show:oF,create:Ug,edit:function(e){var t=r.a.useState(null),a=Object(Z.a)(t,2),n=a[0],o=a[1],i=r.a.useState(null),l=Object(Z.a)(i,2),c=l[0],s=l[1],u=Object(Ca.a)(),d=Object(TD.a)(e).record;return r.a.useEffect((function(){d&&u.getOne("projects",{id:null===d||void 0===d?void 0:d.project_id}).then((function(e){e&&e.data&&(s(e.data),u.getOne("project-details",{id:e.data.current_project_detail.id}).then((function(e){e&&e.data&&o(e.data)})))}))}),[u,d]),r.a.createElement(ru.a,Object.assign({},e,{actions:r.a.createElement(uF,{projectDetailId:null===n||void 0===n?void 0:n.id}),undoable:!1}),r.a.createElement(sF,{projectDetails:n,project:c}))}},mF=Q(h);var pF=function(){return r.a.createElement(RP,null,r.a.createElement(l.a,{title:"AppTitle",theme:gn,dataProvider:mF,authProvider:C,i18nProvider:Gj,layout:ao,customRoutes:[r.a.createElement(de.b,{exact:!0,noLayout:!0,path:"/reset-password",render:function(e){return Y("has_reset_password_page")?Y("has_pimis_fields")?r.a.createElement(Ph,e):r.a.createElement(Fp,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/report-builder",render:function(e){return Y("has_report_management")?r.a.createElement(Sp,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/trash",render:function(){return r.a.createElement(Vm,null)}}),r.a.createElement(de.b,{exact:!0,path:"/reverted",render:function(){return r.a.createElement(qm,null)}}),r.a.createElement(de.b,{exact:!0,path:"/delegation",render:function(){return r.a.createElement(tf,null)}}),r.a.createElement(de.b,{exact:!0,path:"/archive",render:function(){return r.a.createElement(Mo,null)}}),r.a.createElement(de.b,{exact:!0,path:"/dc-matrix",render:function(){return r.a.createElement(qE,null)}}),r.a.createElement(de.b,{exact:!0,path:"/pbs-projects",render:function(){return r.a.createElement(VE,null)}}),r.a.createElement(de.b,{exact:!0,path:"/budget-allocations",render:function(){return r.a.createElement(ZE,null)}}),r.a.createElement(de.b,{exact:!0,path:"/archive-management",render:function(){return r.a.createElement(Vo,null)}}),r.a.createElement(de.b,{exact:!0,path:"/reports-annual-monitoring-projects",render:function(e){return Y("has_implementation_reports")?r.a.createElement(Qm,Object.assign({},e,{reportType:"quarter"})):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/reports-consolidated-monitoring-projects",render:function(e){return Y("has_implementation_reports")?r.a.createElement(Ev,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/reports-periodic-monitoring-projects",render:function(e){return Y("has_pimis_fields")?r.a.createElement(Od,null):Y("has_implementation_reports")?r.a.createElement(Qm,Object.assign({},e,{reportType:"periodical"})):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/reports-completion-projects",render:function(e){return Y("has_implementation_reports")?r.a.createElement(Rl,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/reports-public-investment-plan",render:function(e){return Y("has_implementation_reports")?r.a.createElement($m,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/reports-contingency-liability-report",render:function(e){return Y("has_implementation_reports")?r.a.createElement(zl,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/implementation-module",render:function(e){return Y("has_implementation_reports")?r.a.createElement(bf,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/implementation-module/:id/costed-annualized-plan",render:function(e){return Y("has_implementation_reports")?r.a.createElement(Df,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/cost-plans/:id/list",render:function(e){return Y("has_implementation_reports")?r.a.createElement(T_,Object.assign({},e,{basePath:"/cost-plans",resource:"cost-plans"})):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/cost-plans/:id/report",render:function(e){return Y("has_implementation_reports")?r.a.createElement(R_,Object.assign({},e,{basePath:"/cost-plans",resource:"cost-plans"})):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/cost-plans-history/:id/:year",render:function(e){return r.a.createElement(Xb,Object.assign({},e,{basePath:"/cost-plans",resource:"cost-plans",filter:{cost_plan_type:"ADJUSTED"},isHistory:!0}))}}),r.a.createElement(de.b,{exact:!0,path:"/cost-plans-projected/:id/show",render:function(e){return r.a.createElement(Mb,Object.assign({},e,{basePath:"/cost-plans",resource:"cost-plans",filter:{cost_plan_type:"PROJECTED"},showWorkPlan:!0}))}}),r.a.createElement(de.b,{exact:!0,path:"/cost-plans-approved/:id/show",render:function(e){return r.a.createElement(Mb,Object.assign({},e,{basePath:"/cost-plans",resource:"cost-plans",filter:{cost_plan_type:"APPROVED"},showWorkPlanApproved:!0}))}}),r.a.createElement(de.b,{exact:!0,path:"/cost-plans-adjusted/:id/show",render:function(e){return r.a.createElement(qb,Object.assign({},e,{basePath:"/cost-plans",resource:"cost-plans",filter:{cost_plan_type:"APPROVED"},showWorkPlanAdjusted:!0}))}}),r.a.createElement(de.b,{exact:!0,path:"/cost-plans-monthly/:id/show",render:function(e){return r.a.createElement(pE,Object.assign({},e,{basePath:"/cost-plans",resource:"cost-plans",showWorkPlanMonthly:!0}))}}),r.a.createElement(de.b,{exact:!0,path:"/implementation-module/:id/costed-annualized-plan/edit",render:function(e){return Y("has_implementation_reports")?r.a.createElement(o_,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/myc/:projectId/create",render:function(e){return Y("has_implementation_reports")?r.a.createElement(Oh,Object.assign({},e,{basePath:"/projects",resource:"projects"})):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/cost-plans/:projectId/create",render:function(e){return Y("has_implementation_reports")?r.a.createElement(h_,Object.assign({},e,{basePath:"/cost-plans",resource:"cost-plans"})):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/work-plans/:projectId/create",render:function(e){return Y("has_workplans")?r.a.createElement(Dh,Object.assign({},e,{basePath:"/cost-plans",resource:"cost-plans"})):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/risk-assessments/:projectId/create",render:function(e){return Y("has_implementation_reports")?r.a.createElement(L_,Object.assign({},e,{basePath:"/risk-assessments",resource:"risk-assessments"})):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/risk-assessments/:id/report",render:function(e){return Y("has_implementation_reports")?r.a.createElement(ag,Object.assign({},e,{basePath:"/risk-assessments",resource:"risk-assessments"})):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/risk-assessments/:id/list",render:function(e){return Y("has_implementation_reports")?r.a.createElement(Sv,Object.assign({},e,{basePath:"/risk-assessments",resource:"risk-assessments"})):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/human-resources/:id/report",render:function(e){return Y("has_implementation_reports")?r.a.createElement(ig,Object.assign({},e,{basePath:"/human-resources",resource:"human-resources"})):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/human-resources/:projectId/create",render:function(e){return Y("has_implementation_reports")?r.a.createElement(q_,Object.assign({},e,{basePath:"/human-resources",resource:"human-resources"})):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/human-resources/:id/list",render:function(e){return Y("has_implementation_reports")?r.a.createElement(Z_,Object.assign({},e,{basePath:"/human-resources",resource:"human-resources"})):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/stakeholder-engagements/:id/report",render:function(e){return Y("has_implementation_reports")?r.a.createElement(rg,Object.assign({},e,{basePath:"/stakeholder-engagements",resource:"stakeholder-engagements"})):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/stakeholder-engagements/:projectId/create",render:function(e){return Y("has_implementation_reports")?r.a.createElement(B_,Object.assign({},e,{basePath:"/stakeholder-engagements",resource:"stakeholder-engagements"})):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/stakeholder-engagements/:id/list",render:function(e){return Y("has_implementation_reports")?r.a.createElement(Cv,Object.assign({},e,{basePath:"/stakeholder-engagements",resource:"stakeholder-engagements"})):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/appeals/:projectId/create",render:function(e){return Y("has_implementation_reports")?r.a.createElement(Ug,Object.assign({},e,{basePath:"/appeals",resource:"appeals"})):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/appeals/:projectId/list",render:function(e){return Y("has_implementation_reports")?r.a.createElement(pb,Object.assign({},e,{basePath:"/appeals",resource:"appeals"})):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/appeals/:projectId/report",render:function(e){return Y("has_implementation_reports")?r.a.createElement(gb,Object.assign({},e,{basePath:"/appeals",resource:"appeals"})):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/appealed-projects",render:function(e){return Y("project_has_appealed_projects_report")?r.a.createElement(jm,{filter:{has_appeals:!0},basePath:"/projects",resource:"projects",disablePhaseFilter:!0,disableCreate:!0,showAppeals:!0}):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/implementation-module/:id/costed-annualized-plan/show",render:function(e){return Y("has_implementation_reports")?r.a.createElement(l_,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/reports-projects-categories",render:function(e){return Y("has_projects_categories_report")?r.a.createElement(mm,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/reports-projects-submitted",render:function(e){return Y("has_submitted_projects_report")?r.a.createElement(Up,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/reports-projects-donors",render:function(e){return Y("has_donors_projects_report")?r.a.createElement(Sc,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/reports-projects-stagnant",render:function(e){return Y("has_stagnant_projects_report")?r.a.createElement(Yp,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/reports-projects-for-action",render:function(e){return Y("has_projects_waiting_actions_report")?r.a.createElement(cf,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/reports-pipeline-projects",render:function(e){return Y("has_pipeline_report")?r.a.createElement(im,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/reports-pipeline-projects-portfolio",render:function(e){return Y("has_pipeline_portfolio_report")?r.a.createElement(nm,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/reports-fiscal-load",render:function(e){return Y("has_fiscal_load_report")?r.a.createElement(Fc,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/reports-projects-costs-chart",render:function(e){return Y("has_projects_costs_chart")?r.a.createElement(YE,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/reports-project-cost-evaluation",render:function(e){return Y("has_project_cost_evolution_report")?r.a.createElement(ac,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/reports-project-count",render:function(e){return Y("has_costs_and_counts_report")?r.a.createElement(Wp,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/reports-project-programs-count",render:function(e){return Y("has_projects_programs_report")?r.a.createElement(um,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/reports-ndp-goals",render:function(e){return Y("has_projects_ndp_goals_report")?r.a.createElement(xu,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/reports-project-functions-count",render:function(e){return Y("has_projects_functions_report")?r.a.createElement(Wc,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/reports-projects-ranking",render:function(e){return Y("has_projects_ranking_report")?r.a.createElement(wp,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/reports-project-geo-by-phases",render:function(e){return Y("has_projects_location_report")?r.a.createElement(Mm,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/reports-project-ibp-usage",render:function(e){return Y("has_ibp_usage_report")?r.a.createElement(Jc,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/reports-project-dc-report",render:function(e){return Y("has_projects_scheduled_dc_report")?r.a.createElement(Em,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/reports-projects-repeated",render:function(e){return Y("has_repeated_projects_report")?r.a.createElement(Bm,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/psip-report-view",render:function(e){return Y("has_psip_report")?r.a.createElement(yd,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/completed-report",render:function(e){return Y("has_completed_projects_report")?r.a.createElement(fi,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/me-report-view",render:function(e){return Y("has_me_report")?r.a.createElement(gu,null):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/project-portfolio",render:function(e){return Y("has_project_portfolio")?r.a.createElement(Lm,null):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/project-managment",render:function(e){return Y("has_project_management")?r.a.createElement(fm,null):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/project-resources-managment",render:function(e){return Y("has_project_resource_management")?r.a.createElement(hm,null):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/useful-links",render:function(e){return Y("has_usefull_links_page")?r.a.createElement(Xp,null):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/gantt-chart",render:function(){return r.a.createElement(Bc,{projectBased:!0})}}),r.a.createElement(de.b,{exact:!0,path:"/workflow-chart",render:function(){return r.a.createElement(_f,null)}}),r.a.createElement(de.b,{exact:!0,path:"/project/:id/myc",render:function(e){return r.a.createElement(cu,e)}}),r.a.createElement(de.b,{exact:!0,path:"/reports-myc",render:function(e){return Y("project_has_myc_report")?r.a.createElement(Ou,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/ranking",render:function(e){return Y("project_has_project_ranking_report")?r.a.createElement(op,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/reports-ranking-projects",render:function(e){return Y("project_has_project_ranking_report")?r.a.createElement(jp,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/project/:id/me-report/create/:year",render:function(e){return r.a.createElement(Ys,e)}}),r.a.createElement(de.b,{exact:!0,path:"/project/:id/me-reports/:report_type",render:function(e){return r.a.createElement(nu,e)}}),r.a.createElement(de.b,{exact:!0,path:"/project/:id/me-reports",render:function(e){return r.a.createElement(nu,e)}}),r.a.createElement(de.b,{exact:!0,path:"/project/:id/completion-report",render:function(e){return r.a.createElement(Pl,e)}}),r.a.createElement(de.b,{exact:!0,path:"/project-completion/:id/create",render:function(e){return r.a.createElement(wg,e)}}),r.a.createElement(de.b,{exact:!0,path:"/project/:id/public-investment-plan-report",render:function(e){return r.a.createElement(tm,e)}}),r.a.createElement(de.b,{exact:!0,path:"/project/:id/contingency-liability-report",render:function(e){return r.a.createElement(Gl,e)}})].concat(Object(D.a)(rj("organizational_config")),Object(D.a)(rj("cost_config")),Object(D.a)(rj("fund_config")),Object(D.a)(rj("programs_config")),Object(D.a)(rj("functions_config")),Object(D.a)(rj("location_config")),[r.a.createElement(de.b,{exact:!0,path:"/concepts",render:function(e){return r.a.createElement(jm,{filter:{phase_id:1},basePath:"/projects",resource:"projects",disablePhaseFilter:!0})}}),r.a.createElement(de.b,{exact:!0,path:"/proposals",render:function(e){return r.a.createElement(jm,{filter:{phase_id:2},basePath:"/projects",resource:"projects",disablePhaseFilter:!0,disableCreate:!0})}}),r.a.createElement(de.b,{exact:!0,path:"/budjet-proposals",render:function(e){return r.a.createElement(jm,{filter:{phase_id:3},basePath:"/projects",resource:"projects",disablePhaseFilter:!0,disableCreate:!0})}}),r.a.createElement(de.b,{exact:!0,path:"/gantt_chart",render:function(e){return r.a.createElement(jm,{filter:{phase_id:4,is_pm_enabled:!0},basePath:"/projects",resource:"projects",disablePhaseFilter:!0,disableCreate:!0,showPM:!0})}}),r.a.createElement(de.b,{exact:!0,path:"/work_plan",render:function(e){return r.a.createElement(jm,{filter:{phase_id:4,is_pm_enabled:!0},basePath:"/projects",resource:"projects",disablePhaseFilter:!0,disableCreate:!0,showWorkPlan:!0})}}),r.a.createElement(de.b,{exact:!0,path:"/work_plan_approved",render:function(e){return r.a.createElement(jm,{filter:{phase_id:4,is_pm_enabled:!0},basePath:"/projects",resource:"projects",disablePhaseFilter:!0,disableCreate:!0,showWorkPlanApproved:!0})}}),r.a.createElement(de.b,{exact:!0,path:"/work_plan_adjusted",render:function(e){return r.a.createElement(jm,{filter:{phase_id:4,is_pm_enabled:!0},basePath:"/projects",resource:"projects",disablePhaseFilter:!0,disableCreate:!0,showWorkPlanAdjusted:!0})}}),r.a.createElement(de.b,{exact:!0,path:"/work_plan_monthly",render:function(e){return r.a.createElement(jm,{filter:{phase_id:4,is_pm_enabled:!0},basePath:"/projects",resource:"projects",disablePhaseFilter:!0,disableCreate:!0,showWorkPlanMonthly:!0})}}),r.a.createElement(de.b,{exact:!0,path:"/expenditures",render:function(e){return r.a.createElement(jm,{filter:{phase_id:4,is_pm_enabled:!0},basePath:"/projects",resource:"projects",disablePhaseFilter:!0,disableCreate:!0,showExpenditures:!0})}}),r.a.createElement(de.b,{exact:!0,path:"/expenditures/:id/show",render:function(e){return r.a.createElement(WE,Object.assign({},e,{basePath:"/cost-plans",resource:"cost-plans",filter:{cost_plan_type:"APPROVED"},showExpenditures:!0}))}}),r.a.createElement(de.b,{exact:!0,path:"/cost_estimates",render:function(e){return r.a.createElement(rc,{links:[{title:"Cost Estimates",items:[{link:"/annualized",name:"Annualized",icon:r.a.createElement(yc.a,null)},{link:"/monthly",name:"Monthly",icon:r.a.createElement(Gp.a,null)}]}]})}}),r.a.createElement(de.b,{exact:!0,path:"/classifiers",render:function(e){return r.a.createElement(rc,{links:[{title:"\u0421lassifiers",items:[{link:"/ministry",name:"Ministry",icon:r.a.createElement(wc.a,null),filter:{is_hidden:0}},{link:"/departments",name:"Departments",icon:r.a.createElement(wc.a,null),filter:{is_hidden:0}},{link:"/public_body",name:"Public body",icon:r.a.createElement(ro.a,null),filter:{is_hidden:0}},{link:"/function",name:"Function",icon:r.a.createElement(Qo.a,null)},{link:"/sub_function",name:"Sub Function",icon:r.a.createElement(cm.a,null)},{link:"/programme",name:"Programme",icon:r.a.createElement($c.a,null)},{link:"/sub_programme",name:"Sub Programme",icon:r.a.createElement(vu.a,null)},{link:"/fund_sources",name:"Agencies",icon:r.a.createElement(Qc.a,null)},{link:"/cost_class",name:"Class",icon:r.a.createElement(kp.a,null)},{link:"/cost_object",name:"Object",icon:r.a.createElement(ld.a,null)},{link:"/parish",name:"Parish",icon:r.a.createElement(ll.a,null)},{link:"/constituency",name:"Constituency",icon:r.a.createElement(Ip.a,null)}]}]})}}),r.a.createElement(de.b,{exact:!0,path:"/user_mgmt",render:function(e){return r.a.createElement(rc,{links:[{title:"User Management",items:[{link:"/users",name:"Users",icon:r.a.createElement($o.a,null)},{link:"/roles",name:"Roles",icon:r.a.createElement(nf.a,null)},{link:"/delegation",name:"Delegation",icon:r.a.createElement(qc.a,null)}]}]})}}),r.a.createElement(de.b,{exact:!0,path:"/resources",render:function(e){return r.a.createElement(rc,{links:[{title:"Resources",items:[{link:"/phases",name:"Phase",icon:r.a.createElement(od.a,null)},{link:"/workflows",name:"Workflow",icon:r.a.createElement(Jp.a,null)},{name:"M&E Workflow",link:"/me-workflows",icon:r.a.createElement(ze.a,null),feature:"has_me_project_reporting",permission:"edit_workflows"},{name:"Reverted Projects",link:"/reverted",icon:r.a.createElement(He.a,null),permission:"revert_project"},{name:"Recycle bin",link:"/trash",icon:r.a.createElement(He.a,null),permission:"access_deleted_project"},{name:"File Types",link:"/file-types",icon:r.a.createElement(ei.a,null),permission:"edit_file_types"},{name:"Units",link:"/units",icon:r.a.createElement(nt.a,null),permission:"edit_units"},{name:"Currency",link:"/currencies",icon:r.a.createElement(Eu.a,null),permission:"edit_currencies"},{name:"Currency Rates",link:"/currency-rates",icon:r.a.createElement(Wt.a,null),permission:"edit_currency_rate_rates"},{name:"System Parameters",link:"/parameters",icon:r.a.createElement(xd.a,null),permission:"edit_parameters"},{name:"Sectors",link:"/sectors",icon:r.a.createElement(zp.a,null),permission:"edit_sectors"}]}]})}}),r.a.createElement(de.b,{exact:!0,path:"/reports_list",render:function(e){return r.a.createElement(rc,{isReport:!0,links:[{title:"Reports",items:[{name:"Projects in Pipeline",link:"/reports-pipeline-projects",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_pipeline_report",translation:"navigation.reports.pipeline_report"},{name:"Public Investment Portfolio",link:"/reports-pipeline-projects-portfolio",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_pipeline_portfolio_report",translation:"navigation.reports.pipeline_report_portfolio"},{name:"Projects Completed",link:"/completed-report",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_completed_projects_report",translation:"navigation.reports.completed_projects_report"},{name:"Pipline of Projects",link:"/reports-pipeline-projects",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_pipeline_of_projects_report",translation:"navigation.reports.pipeline_of_projects_report"},{name:"Fiscal Load",link:"/reports-fiscal-load",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_fiscal_load_report",translation:"navigation.reports.fiscal_load_report"},{name:"Project Cost Evolution",link:"/reports-project-cost-evaluation",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_project_cost_evolution_report",translation:"navigation.reports.project_cost_evolution_report"},{name:"Project Costs and Counts at different stages of the Development Cycle",link:"/reports-project-count",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_costs_and_counts_report",translation:"navigation.reports.costs_and_counts_report"},{name:"Projects Ranking",link:"/reports-projects-ranking",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_projects_ranking_report",translation:"navigation.reports.projects_ranking_report"},{name:"Project Locations",link:"/reports-project-geo-by-phases",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_projects_location_report",translation:"navigation.reports.projects_location_report"},{name:"IBP User Action Tracking Report",link:"/reports-project-ibp-usage",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_ibp_usage_report",translation:"navigation.reports.ibp_usage_report"},{name:"Projects Scheduled for DC",link:"/reports-project-dc-report",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_projects_scheduled_dc_report",translation:"navigation.reports.projects_scheduled_dc_report"},{name:"Projects waiting for action",link:"/reports-projects-for-action",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_projects_waiting_actions_report",translation:"navigation.reports.projects_waiting_actions_report"},{name:"Stagnant Projects",link:"/reports-projects-stagnant",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_stagnant_projects_report",translation:"navigation.reports.stagnant_projects_report"},{name:"Donor Projects",link:"/reports-projects-donors",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_donors_projects_report",translation:"navigation.reports.donors_projects_report"},{name:"Submitted Projects",link:"/reports-projects-submitted",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_submitted_projects_report",translation:"navigation.reports.submitted_projects_report"},{name:"Repeated Projects",link:"/reports-projects-repeated",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_repeated_projects_report",translation:"navigation.reports.repeated_projects_report"},{name:"Projects by Categories",link:"/reports-projects-categories",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_projects_categories_report",translation:"navigation.reports.projects_categories_report"},{name:"Project Programs Counts and Costs",link:"/reports-project-programs-count",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_projects_programs_report",translation:"navigation.reports.projects_programs_report"},{name:"Project Functions Counts and Costs",link:"/reports-project-functions-count",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_projects_functions_report",translation:"navigation.reports.projects_functions_report"},{name:"NDP goals and strategies report",link:"/reports-ndp-goals",icon:r.a.createElement(pt.a,null),permission:"list_reports",feature:"has_projects_ndp_goals_report",translation:"navigation.reports.projects_ndp_report"}]}]})}}),r.a.createElement(de.b,{exact:!0,path:"/warrant_req",render:function(e){return r.a.createElement(Od,null)}}),r.a.createElement(de.b,{exact:!0,path:"/monthly",render:function(e){return r.a.createElement(Od,null)}}),r.a.createElement(de.b,{exact:!0,path:"/annualized",render:function(e){return r.a.createElement(Od,null)}}),r.a.createElement(de.b,{exact:!0,path:"/log_frame",render:function(e){return r.a.createElement(jm,{filter:{phase_id:4,is_logical_framework_editable:!0},basePath:"/projects",resource:"projects",disablePhaseFilter:!0,disableCreate:!0})}}),r.a.createElement(de.b,{exact:!0,path:"/achieve-targets/:projectDetailsId/:achieveType",render:function(e){return r.a.createElement(cb,e)}}),r.a.createElement(de.b,{exact:!0,path:"/achieve-sub-targets/:indicatorId",render:function(e){return r.a.createElement(fb,e)}}),r.a.createElement(de.b,{exact:!0,path:"/reports-indicators-projects",render:function(e){return r.a.createElement(jm,{filter:{phase_id:4,is_indicator_editable:!0},basePath:"/projects",resource:"projects",disablePhaseFilter:!0,disableCreate:!0,showIndicators:!0})}}),r.a.createElement(de.b,{exact:!0,path:"/project-indicators/:projectId",render:function(e){return r.a.createElement(ab,e)}}),r.a.createElement(de.b,{exact:!0,path:"/independent_monitoring",render:function(e){return r.a.createElement(jm,{filter:{phase_id:4,is_pm_enabled:!0},basePath:"/projects",resource:"projects",disablePhaseFilter:!0,disableCreate:!0})}}),r.a.createElement(de.b,{exact:!0,path:"/query_builder",render:function(e){return r.a.createElement(Od,null)}}),r.a.createElement(de.b,{exact:!0,path:"/amp",render:function(e){return Y("has_integrations_amp")?r.a.createElement(ug,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/bpms",render:function(e){return Y("has_integrations_bmps")?r.a.createElement($b,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/gfms",render:function(e){return Y("has_integrations_gfms")?r.a.createElement(wE,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/gfms_data/:id/show",render:function(e){return Y("has_integrations_gfms")?r.a.createElement(kE,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/gfms_data",render:function(e){return Y("has_integrations_gfms")?r.a.createElement(jm,{filter:{phase_id:4},basePath:"/projects",resource:"projects",disablePhaseFilter:!0,disableCreate:!0,showGfmsData:!0}):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/pbs",render:function(e){return Y("has_integrations_pbs")?r.a.createElement(Eg,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/ndp",render:function(e){return Y("has_integrations_ndp")?r.a.createElement(Hg,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/ifmis",render:function(e){return Y("has_integrations_ifmis")?r.a.createElement(yg,e):r.a.createElement(se.a,null,"No Access")}}),r.a.createElement(de.b,{exact:!0,path:"/validation",render:function(e){return Y("has_validation_panel")?r.a.createElement(wv,e):r.a.createElement(se.a,null,"No Access")}})]),customReducers:{ui:Jj,user:$j,app:Qj},loginPage:Y("has_pimis_fields")?qC:IC},(function(e){var t=localStorage.getItem("isResetPassword");return e&&(!e||0!==e.length)||t?[!Y("has_pimis_fields")&&r.a.createElement(c.a,{name:"dashboard",list:Ec}),r.a.createElement(c.a,Object.assign({name:"projects"},kC)),r.a.createElement(c.a,Object.assign({name:"users"},Yy)),r.a.createElement(c.a,Object.assign({name:"roles"},ly)),r.a.createElement(c.a,{name:"countries",list:s.a}),r.a.createElement(c.a,Object.assign({name:"currencies"},pN)),r.a.createElement(c.a,Object.assign({name:"currency-rates"},_N)),r.a.createElement(c.a,{name:"cycles",list:s.a}),r.a.createElement(c.a,{name:"media",list:s.a}),r.a.createElement(c.a,Object.assign({name:"phases"},HC)),r.a.createElement(c.a,{name:"uploads",list:s.a}),r.a.createElement(c.a,{name:"interventions",list:s.a}),r.a.createElement(c.a,Object.assign({name:"workflow-instances"},NT)),r.a.createElement(c.a,Object.assign({name:"workflows"},aN)),r.a.createElement(c.a,{name:"user-roles",list:s.a}),r.a.createElement(c.a,{name:"permissions",list:s.a}),r.a.createElement(c.a,Object.assign({name:"parameters"},QA)),r.a.createElement(c.a,Object.assign({name:"project-details"},kC)),r.a.createElement(c.a,Object.assign({name:"file-types"},sN)),r.a.createElement(c.a,Object.assign({name:"units"},dN)),r.a.createElement(c.a,Object.assign({name:"disaggregation-types"},DT)),r.a.createElement(c.a,Object.assign({name:"formats"},DT)),r.a.createElement(c.a,Object.assign({name:"frequencies"},DT)),r.a.createElement(c.a,Object.assign({name:"indicators"},DT,{show:eF})),r.a.createElement(c.a,Object.assign({name:"organizations"},KC)),r.a.createElement(c.a,Object.assign({name:"programs"},KC)),r.a.createElement(c.a,Object.assign({name:"functions"},KC)),r.a.createElement(c.a,Object.assign({name:"costings"},KC)),r.a.createElement(c.a,Object.assign({name:"funds"},KC)),r.a.createElement(c.a,Object.assign({name:"locations"},KC)),r.a.createElement(c.a,{name:"reports",list:s.a}),r.a.createElement(c.a,{name:"notifications",list:kN}),r.a.createElement(c.a,Object.assign({name:"ndp-goals"},aD)),r.a.createElement(c.a,Object.assign({name:"ndp-outcomes"},oD)),r.a.createElement(c.a,Object.assign({name:"ndp-strategies"},cD)),r.a.createElement(c.a,Object.assign({name:"ndp-sdgs"},pD)),r.a.createElement(c.a,Object.assign({name:"ndp-mtfs"},vD)),r.a.createElement(c.a,Object.assign({name:"sectors"},jD)),r.a.createElement(c.a,{name:"me-reports",list:s.a,edit:IN,show:bv,create:Ys}),r.a.createElement(c.a,{name:"project-management",list:s.a,edit:$A}),r.a.createElement(c.a,Object.assign({name:"me-workflows"},rN)),Y("has_custom_reports")&&r.a.createElement(c.a,Object.assign({name:"custom-reports"},DD)),Y("has_implementation_reports")&&r.a.createElement(c.a,Object.assign({name:"cost-plans"},qD)),Y("has_workplans")&&r.a.createElement(c.a,Object.assign({name:"cost-plans"},PT)),Y("has_implementation_reports")&&r.a.createElement(c.a,Object.assign({name:"risk-assessments"},mT)),Y("has_implementation_reports")&&r.a.createElement(c.a,Object.assign({name:"stakeholder-engagements"},eT)),Y("has_implementation_reports")&&r.a.createElement(c.a,Object.assign({name:"human-resources"},iT)),Y("has_project_completion")&&r.a.createElement(c.a,Object.assign({name:"project-completion"},ET)),Y("has_appeals")&&r.a.createElement(c.a,Object.assign({name:"appeals"},dF))]:r.a.createElement(de.a,{to:"login"})})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(pF,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},404:function(e,t,a){},486:function(e,t,a){},493:function(e,t,a){},588:function(e){e.exports=JSON.parse('{"permissions":{"project":[{"id":1751,"key":"pre_inv_list_projects","name":"Pre-Investment Projects","has_level":false},{"id":175,"key":"edit_myc_data","name":"Edit MYC Data","has_level":false},{"id":148,"key":"edit_budget_allocation","name":"Edit Budget Allocation","has_level":false},{"id":147,"key":"view_ipr_actions","name":"View IPR Actions","has_level":false},{"id":145,"key":"view_project_analysis","name":"Access to Project Analysis","has_level":false},{"id":146,"key":"revert_project","name":"Access to Revert Project","has_level":false},{"id":141,"key":"list_parameters","name":"Access to System Parameters","has_level":false},{"id":142,"key":"list_project_risks","name":"Access to Project Risk Assessment","has_level":false},{"id":5,"key":"full_access","name":"Full Access Permission","has_level":false},{"id":6,"key":"submit_project","name":"Submit Project","has_level":false},{"id":7,"key":"approve_project","name":"Approve Project","has_level":false},{"id":8,"key":"revise_project","name":"Revise Project","has_level":false},{"id":9,"key":"reject_project","name":"Reject Project","has_level":false},{"id":150,"key":"assign_project","name":"Assign Project","has_level":false},{"id":76,"key":"list_projects","name":"List Projects","has_level":false},{"id":77,"key":"create_project","name":"Create Project","has_level":false},{"id":78,"key":"view_project","name":"View Project","has_level":false},{"id":79,"key":"edit_project","name":"Edit Project","has_level":false},{"id":80,"key":"delete_project","name":"Delete Project","has_level":false},{"id":45,"key":"list_implementing_agencies","name":"List Implementing Agencies","has_level":false},{"id":46,"key":"list_indicators","name":"List Indicators","has_level":false},{"id":47,"key":"list_investments","name":"List Investments","has_level":false},{"id":64,"key":"list_outcomes","name":"List Outcomes","has_level":false},{"id":65,"key":"list_outputs","name":"List Outputs","has_level":false},{"id":87,"key":"list_project_locations","name":"List Project Locations","has_level":false},{"id":88,"key":"list_project_options","name":"List Project Options","has_level":false},{"id":91,"key":"list_responsible_officers","name":"List Responsible Officers","has_level":false},{"id":98,"key":"list_stakeholders","name":"List Stakeholders","has_level":false},{"id":100,"key":"list_timeline","name":"List Timeline","has_level":false},{"id":2,"key":"list_activities","name":"List Activities","has_level":false},{"id":121,"key":"view_high_risk_badge","name":"View High Risk badge for projects","has_level":false},{"id":131,"key":"export_project_word","name":"Export Project to Word","has_level":false},{"id":153,"key":"export_project_word_always","name":"Export to word in all Statuses","has_level":false},{"id":154,"key":"export_project_html","name":"Export to HTML","has_level":false},{"id":132,"key":"export_project_pdf","name":"Export Project to PDF","has_level":false},{"id":139,"key":"access_deleted_project","name":"View and Restore Deleted Projects","has_level":false}],"implementation_module":[{"id":1752,"key":"implementation_module","name":"Implementation module","has_level":false},{"id":1752,"key":"implementation_reports","name":"Implementation Reports","has_level":false}],"comments":[{"id":149,"key":"list_comments","name":"Access to Comments List","has_level":false},{"id":150,"key":"view_comment","name":"View Comments","has_level":false},{"id":151,"key":"edit_comment","name":"Edit Comments","has_level":false},{"id":152,"key":"delete_comment","name":"Delete Comments","has_level":false},{"id":155,"key":"create_comment","name":"Create Comments","has_level":false}],"parameters":[{"id":142,"key":"list_parameters","name":"Access to System Parameters","has_level":false},{"id":143,"key":"edit_parameters","name":"Edit System Parameters","has_level":false}],"ndp":[{"id":1441,"key":"list_ndp_data","name":"List NDP Data","has_level":false},{"id":1442,"key":"view_ndp_data","name":"View NDP Data","has_level":false},{"id":1443,"key":"edit_ndp_data","name":"Edit NDP Data","has_level":false},{"id":1444,"key":"create_ndp_data","name":"Create NDP Data","has_level":false}],"country":[{"id":5,"key":"list_countries","name":"List Countries","has_level":false},{"id":14,"key":"create_country","name":"Create Country","has_level":false},{"id":15,"key":"view_country","name":"View Country","has_level":false},{"id":16,"key":"edit_country","name":"Edit Country","has_level":false},{"id":17,"key":"delete_country","name":"Delete Country","has_level":false}],"costing":[{"id":10,"key":"create_costing","name":"Create Costing","has_level":false},{"id":4,"key":"list_costings","name":"List Costings","has_level":false},{"id":11,"key":"view_costing","name":"View Costing","has_level":false},{"id":12,"key":"edit_costing","name":"Edit Costing","has_level":false},{"id":13,"key":"delete_costing","name":"Delete Costing","has_level":false}],"currency":[{"id":18,"key":"list_currencies","name":"List Currencies","has_level":false},{"id":19,"key":"create_currency","name":"Create Currency","has_level":false},{"id":20,"key":"view_currency","name":"View Currency","has_level":false},{"id":21,"key":"edit_currency","name":"Edit Currency","has_level":false},{"id":22,"key":"delete_currency","name":"Delete Currency","has_level":false},{"id":23,"key":"list_currency_rate_rates","name":"List Currency Rate Rates","has_level":false},{"id":24,"key":"create_currency_rate","name":"Create Currency Rate","has_level":false},{"id":25,"key":"view_currency_rate","name":"View Currency Rate","has_level":false},{"id":26,"key":"edit_currency_rate","name":"Edit Currency Rate","has_level":false},{"id":27,"key":"delete_currency_rate","name":"Delete Currency Rate","has_level":false}],"file type":[{"id":34,"key":"list_file_types","name":"List File Types","has_level":false},{"id":35,"key":"create_file_type","name":"Create File Type","has_level":false},{"id":36,"key":"view_file_type","name":"View File Type","has_level":false},{"id":37,"key":"edit_file_type","name":"Edit File Type","has_level":false},{"id":38,"key":"delete_file_type","name":"Delete File Type","has_level":false}],"fund":[{"id":40,"key":"list_funds","name":"List Funds","has_level":false},{"id":41,"key":"create_fund","name":"Create Fund","has_level":false},{"id":42,"key":"view_fund","name":"View Fund","has_level":false},{"id":43,"key":"edit_fund","name":"Edit Fund","has_level":false},{"id":44,"key":"delete_fund","name":"Delete Fund","has_level":false}],"location":[{"id":48,"key":"list_locations","name":"List Locations","has_level":false},{"id":49,"key":"create_location","name":"Create Location","has_level":false},{"id":50,"key":"view_location","name":"View Location","has_level":false},{"id":51,"key":"edit_location","name":"Edit Location","has_level":false},{"id":52,"key":"delete_location","name":"Delete Location","has_level":false}],"media":[{"id":53,"key":"upload_media","name":"Upload Media","has_level":false},{"id":54,"key":"update_media","name":"Update Media","has_level":false},{"id":55,"key":"delete_media","name":"Delete Media","has_level":false}],"notification":[{"id":56,"key":"list_notifications","name":"List Notifications","has_level":false},{"id":57,"key":"view_notification","name":"View Notification","has_level":false},{"id":58,"key":"delete_notification","name":"Delete Notification","has_level":false}],"organization":[{"id":59,"key":"list_organizations","name":"List Organizations","has_level":false},{"id":60,"key":"create_organization","name":"Create Organization","has_level":false},{"id":61,"key":"view_organization","name":"View Organization","has_level":false},{"id":62,"key":"edit_organization","name":"Edit Organization","has_level":false},{"id":63,"key":"delete_organization","name":"Delete Organization","has_level":false}],"phase":[{"id":66,"key":"list_phases","name":"List Phases","has_level":false},{"id":67,"key":"create_phase","name":"Create Phase","has_level":false},{"id":68,"key":"view_phase","name":"View Phase","has_level":false},{"id":69,"key":"edit_phase","name":"Edit Phase","has_level":false},{"id":70,"key":"delete_phase","name":"Delete Phase","has_level":false}],"interventions":[{"id":661,"key":"list_interventions","name":"List Interventions","has_level":false},{"id":671,"key":"create_intervention","name":"Create Interventions","has_level":false},{"id":681,"key":"view_intervention","name":"View Intervention","has_level":false},{"id":691,"key":"edit_intervention","name":"Edit Intervention","has_level":false},{"id":701,"key":"delete_intervention","name":"Delete Intervention","has_level":false}],"program":[{"id":71,"key":"list_programs","name":"List Programs","has_level":false},{"id":72,"key":"create_program","name":"Create Program","has_level":false},{"id":73,"key":"view_program","name":"View Program","has_level":false},{"id":74,"key":"edit_program","name":"Edit Program","has_level":false},{"id":75,"key":"delete_program","name":"Delete Program","has_level":false}],"function":[{"id":143,"key":"list_functions","name":"List Functions","has_level":false},{"id":144,"key":"create_function","name":"Create Function","has_level":false},{"id":145,"key":"view_function","name":"View Function","has_level":false},{"id":146,"key":"edit_function","name":"Edit Function","has_level":false},{"id":147,"key":"delete_function","name":"Delete Function","has_level":false}],"options":[{"id":3,"key":"list_building_blocks","name":"List Building Blocks","has_level":false},{"id":33,"key":"list_economic_evaluations","name":"List Economic Evaluations","has_level":false},{"id":39,"key":"list_financial_evaluations","name":"List Financial Evaluations","has_level":false},{"id":92,"key":"list_risk_evaluations","name":"List Risk Evaluations","has_level":false},{"id":99,"key":"list_stakeholder_evaluations","name":"List Stakeholder Evaluations","has_level":false}],"role":[{"id":93,"key":"list_roles","name":"List Roles","has_level":false},{"id":94,"key":"create_role","name":"Create Role","has_level":false},{"id":95,"key":"view_role","name":"View Role","has_level":false},{"id":96,"key":"edit_role","name":"Edit Role","has_level":false},{"id":97,"key":"delete_role","name":"Delete Role","has_level":false}],"user":[{"id":106,"key":"list_users","name":"List Users","has_level":false},{"id":107,"key":"create_user","name":"Create User","has_level":false},{"id":108,"key":"view_user","name":"View User","has_level":false},{"id":109,"key":"edit_user","name":"Edit User","has_level":false},{"id":110,"key":"delete_user","name":"Delete User","has_level":false},{"id":111,"key":"list_user_roles","name":"List User Roles","has_level":false},{"id":112,"key":"create_user_role","name":"Create User Role","has_level":false},{"id":113,"key":"view_user_role","name":"View User Role","has_level":false},{"id":114,"key":"edit_user_role","name":"Edit User Role","has_level":false},{"id":115,"key":"delete_user_role","name":"Delete User Role","has_level":false},{"id":134,"key":"edit_permissions","name":"Edit User Permissions","has_level":false},{"id":135,"key":"edit_vacations","name":"Edit User`s Vacations","has_level":false},{"id":136,"key":"edit_profile","name":"Edit User`s Profile","has_level":false},{"id":137,"key":"view_profile","name":"View User`s Profile","has_level":false},{"id":138,"key":"user_role_select","name":"Change User Role","has_level":false},{"id":139,"key":"reset_user_password","name":"Reset User Password","has_level":false},{"id":140,"key":"edit_delegation","name":"Edit Delegation","has_level":false},{"id":151,"key":"edit_resources","name":"Edit Resources","has_level":false}],"workflow":[{"id":116,"key":"list_workflows","name":"List Workflows","has_level":false},{"id":117,"key":"create_workflow","name":"Create Workflow","has_level":false},{"id":118,"key":"view_workflow","name":"View Workflow","has_level":false},{"id":119,"key":"edit_workflow","name":"Edit Workflow","has_level":false},{"id":120,"key":"delete_workflow","name":"Delete Workflow","has_level":false},{"id":129,"key":"upload_file_to_project","name":"Upload File To Project","has_level":false},{"id":130,"key":"upload_file_to_timeline","name":"Upload File To Timeline","has_level":false}],"report":[{"id":89,"key":"view_report_builder","name":"View Report Builder","has_level":false},{"id":90,"key":"view_project_count_report","name":"View Project Count Report","has_level":false},{"id":122,"key":"export","name":"Export Data","has_level":false},{"id":123,"key":"view_psip_report","name":"View PSIP report","has_level":false}],"project_management":[{"id":124,"key":"list_project_management","name":"View Gantt Charts List","has_level":false},{"id":125,"key":"create_project_management","name":"Create Gantt Charts","has_level":false},{"id":126,"key":"view_project_management","name":"View Gantt Charts","has_level":false},{"id":127,"key":"edit_project_management","name":"Edit Gantt Charts","has_level":false},{"id":140,"key":"list_reports","name":"View Projects Reports","has_level":false}],"me_report":[{"id":207,"key":"me_actions_report","name":"Report Actions","has_level":false},{"id":2011,"key":"list_me_reports","name":"View List M&E Reports","has_level":false},{"id":2012,"key":"create_me_report","name":"Create M&E Report","has_level":false},{"id":2013,"key":"view_me_report","name":"View M&E Report","has_level":false},{"id":2014,"key":"edit_me_report","name":"Edit M&E Report","has_level":false},{"id":2014,"key":"delete_me_report","name":"Delete M&E Report","has_level":false},{"id":2017,"key":"me_create_periodical_report","name":"Create Periodical Report","has_level":false},{"id":2018,"key":"approve_me_report","name":"Approve M&E Report","has_level":false},{"id":2019,"key":"submit_me_report","name":"Submit M&E Report","has_level":false},{"id":2020,"key":"revise_me_report","name":"Revise M&E Report","has_level":false},{"id":202,"key":"me_create_year_report","name":"Create Annual Report","has_level":false},{"id":203,"key":"me_export_report","name":"Export Report","has_level":false},{"id":204,"key":"me_edit_report","name":"Edit Report","has_level":false},{"id":205,"key":"me_show_periodical_report","name":"Show Periodical Report","has_level":false},{"id":206,"key":"me_show_year_report","name":"Show Annual Report","has_level":false},{"id":208,"key":"me_list_periodical_report","name":"View List of Periodical Reports","has_level":false},{"id":209,"key":"me_list_year_report","name":"View List of Year Reports","has_level":false}],"report_builder":[{"id":210,"key":"create_custom_report","name":"Create Custom Report","has_level":false},{"id":211,"key":"list_custom_reports","name":"List Custom Report","has_level":false},{"id":212,"key":"view_custom_report","name":"View Custom Report","has_level":false},{"id":213,"key":"edit_custom_report","name":"Edit Custom Report","has_level":false},{"id":214,"key":"delete_custom_report","name":"Delete Custom Report","has_level":false},{"id":215,"key":"save_public_custom_report","name":"Save Public Custom Report","has_level":false}],"unit":[{"id":101,"key":"list_units","name":"List Units","has_level":false},{"id":102,"key":"create_unit","name":"Create Unit","has_level":false},{"id":103,"key":"view_unit","name":"View Unit","has_level":false},{"id":104,"key":"edit_unit","name":"Edit Unit","has_level":false},{"id":105,"key":"delete_unit","name":"Delete Unit","has_level":false}],"indicators":[{"id":1016,"key":"list_indicators","name":"List Indicators","has_level":false},{"id":1017,"key":"create_indicator","name":"Create Indicator","has_level":false},{"id":1018,"key":"view_indicator","name":"View Indicator","has_level":false},{"id":1019,"key":"edit_indicator","name":"Edit Indicator","has_level":false},{"id":1020,"key":"delete_indicator","name":"Delete Indicator","has_level":false}],"cost_plans":[{"id":4100,"key":"list_cost_plans","name":"List Cost Plans","has_level":false},{"id":4101,"key":"view_cost_plan","name":"View Cost Plan","has_level":false},{"id":4102,"key":"edit_cost_plan","name":"Edit Cost Plan","has_level":false},{"id":4103,"key":"create_cost_plan","name":"Create Cost Plan","has_level":false}],"gantt_chart":[{"id":4050,"key":"gantt_chart_view","name":"Gantt Chart View","has_level":false},{"id":4051,"key":"gantt_chart_update","name":"Gantt Chart Update","has_level":false}],"stakeholder_engagements":[{"id":900,"key":"list_stakeholder_engagements","name":"List Stakeholder Engagements","has_level":false},{"id":4101,"key":"view_stakeholder_engagement","name":"View Stakeholder Engagement","has_level":false},{"id":4102,"key":"edit_stakeholder_engagement","name":"Edit Stakeholder Engagement","has_level":false},{"id":4103,"key":"create_stakeholder_engagement","name":"Create Stakeholder Engagement","has_level":false}],"risk_assessments":[{"id":900,"key":"list_risk_assessments","name":"List Risk Assessments","has_level":false},{"id":4101,"key":"view_risk_assessment","name":"View Risk Assessment","has_level":false},{"id":4102,"key":"edit_risk_assessment","name":"Edit Risk Assessment","has_level":false},{"id":4103,"key":"create_risk_assessment","name":"Create Risk Assessment","has_level":false}],"human_resources":[{"id":900,"key":"list_human_resources","name":"List Human Resources","has_level":false},{"id":4101,"key":"view_human_resource","name":"View Human Resource","has_level":false},{"id":4102,"key":"edit_human_resource","name":"Edit Human Resource","has_level":false},{"id":4103,"key":"create_human_resource","name":"Create Human Resource","has_level":false}],"appeals":[{"id":900,"key":"list_appeals","name":"List Appeals","has_level":false},{"id":4101,"key":"view_appeal","name":"View Appeal","has_level":false},{"id":4102,"key":"edit_appeal","name":"Edit Appeal","has_level":false},{"id":4103,"key":"create_appeal","name":"Create Appeal","has_level":false}],"amp":[{"id":5010,"key":"list_amp_data","name":"View AMP data","has_level":false},{"id":5001,"key":"sync_amp_data","name":"Upload AMP data","has_level":false}],"archive":[{"id":7001,"key":"manage_archive","name":"Upload Documents to Archive","has_level":false},{"id":7010,"key":"access_archive","name":"View Arvhived Documents","has_level":false}]}}')},589:function(e){e.exports=JSON.parse('{"permissions":{"project":[{"id":1751,"key":"pre_inv_list_projects","name":"Pre-Investment Projects","has_level":false},{"id":175,"key":"edit_myc_data","name":"Edit MYC Data","has_level":false},{"id":148,"key":"edit_budget_allocation","name":"Edit Budget Allocation","has_level":false},{"id":147,"key":"view_ipr_actions","name":"View IPR Actions","has_level":false},{"id":145,"key":"view_project_analysis","name":"Access to Project Analysis","has_level":false},{"id":146,"key":"revert_project","name":"Access to Revert Project","has_level":false},{"id":141,"key":"list_parameters","name":"Access to System Parameters","has_level":false},{"id":142,"key":"list_project_risks","name":"Access to Project Risk Assessment","has_level":false},{"id":5,"key":"full_access","name":"Full Access Permission","has_level":false},{"id":6,"key":"submit_project","name":"Submit Project","has_level":false},{"id":7,"key":"approve_project","name":"Approve Project","has_level":false},{"id":8,"key":"revise_project","name":"Revise Project","has_level":false},{"id":9,"key":"reject_project","name":"Reject Project","has_level":false},{"id":150,"key":"assign_project","name":"Assign Project","has_level":false},{"id":76,"key":"list_projects","name":"List Projects","has_level":false},{"id":77,"key":"create_project","name":"Create Project","has_level":false},{"id":78,"key":"view_project","name":"View Project","has_level":false},{"id":79,"key":"edit_project","name":"Edit Project","has_level":false},{"id":80,"key":"delete_project","name":"Delete Project","has_level":false},{"id":45,"key":"list_implementing_agencies","name":"List Implementing Agencies","has_level":false},{"id":46,"key":"list_indicators","name":"List Indicators","has_level":false},{"id":47,"key":"list_investments","name":"List Investments","has_level":false},{"id":64,"key":"list_outcomes","name":"List Outcomes","has_level":false},{"id":65,"key":"list_outputs","name":"List Outputs","has_level":false},{"id":87,"key":"list_project_locations","name":"List Project Locations","has_level":false},{"id":88,"key":"list_project_options","name":"List Project Options","has_level":false},{"id":91,"key":"list_responsible_officers","name":"List Responsible Officers","has_level":false},{"id":98,"key":"list_stakeholders","name":"List Stakeholders","has_level":false},{"id":100,"key":"list_timeline","name":"List Timeline","has_level":false},{"id":2,"key":"list_activities","name":"List Activities","has_level":false},{"id":121,"key":"view_high_risk_badge","name":"View High Risk badge for projects","has_level":false},{"id":131,"key":"export_project_word","name":"Export Project to Word","has_level":false},{"id":153,"key":"export_project_word_always","name":"Export to word in all Statuses","has_level":false},{"id":154,"key":"export_project_html","name":"Export to HTML","has_level":false},{"id":132,"key":"export_project_pdf","name":"Export Project to PDF","has_level":false},{"id":139,"key":"access_deleted_project","name":"View and Restore Deleted Projects","has_level":false}],"comments":[{"id":149,"key":"list_comments","name":"Access to Comments List","has_level":false},{"id":150,"key":"view_comment","name":"View Comments","has_level":false},{"id":151,"key":"edit_comment","name":"Edit Comments","has_level":false},{"id":152,"key":"delete_comment","name":"Delete Comments","has_level":false},{"id":155,"key":"create_comment","name":"Create Comments","has_level":false}],"parameters":[{"id":142,"key":"list_parameters","name":"Access to System Parameters","has_level":false},{"id":143,"key":"edit_parameters","name":"Edit System Parameters","has_level":false}],"ndp":[{"id":1441,"key":"list_ndp_data","name":"List NDP Data","has_level":false},{"id":1442,"key":"view_ndp_data","name":"View NDP Data","has_level":false},{"id":1443,"key":"edit_ndp_data","name":"Edit NDP Data","has_level":false},{"id":1444,"key":"create_ndp_data","name":"Create NDP Data","has_level":false}],"country":[{"id":5,"key":"list_countries","name":"List Countries","has_level":false},{"id":14,"key":"create_country","name":"Create Country","has_level":false},{"id":15,"key":"view_country","name":"View Country","has_level":false},{"id":16,"key":"edit_country","name":"Edit Country","has_level":false},{"id":17,"key":"delete_country","name":"Delete Country","has_level":false}],"costing":[{"id":10,"key":"create_costing","name":"Create Costing","has_level":false},{"id":4,"key":"list_costings","name":"List Costings","has_level":false},{"id":11,"key":"view_costing","name":"View Costing","has_level":false},{"id":12,"key":"edit_costing","name":"Edit Costing","has_level":false},{"id":13,"key":"delete_costing","name":"Delete Costing","has_level":false}],"currency":[{"id":18,"key":"list_currencies","name":"List Currencies","has_level":false},{"id":19,"key":"create_currency","name":"Create Currency","has_level":false},{"id":20,"key":"view_currency","name":"View Currency","has_level":false},{"id":21,"key":"edit_currency","name":"Edit Currency","has_level":false},{"id":22,"key":"delete_currency","name":"Delete Currency","has_level":false},{"id":23,"key":"list_currency_rate_rates","name":"List Currency Rate Rates","has_level":false},{"id":24,"key":"create_currency_rate","name":"Create Currency Rate","has_level":false},{"id":25,"key":"view_currency_rate","name":"View Currency Rate","has_level":false},{"id":26,"key":"edit_currency_rate","name":"Edit Currency Rate","has_level":false},{"id":27,"key":"delete_currency_rate","name":"Delete Currency Rate","has_level":false}],"cycle":[{"id":28,"key":"list_cycles","name":"List Cycles","has_level":false},{"id":29,"key":"create_cycle","name":"Create Cycle","has_level":false},{"id":30,"key":"view_cycle","name":"View Cycle","has_level":false},{"id":31,"key":"edit_cycle","name":"Edit Cycle","has_level":false},{"id":32,"key":"delete_cycle","name":"Delete Cycle","has_level":false}],"file type":[{"id":34,"key":"list_file_types","name":"List File Types","has_level":false},{"id":35,"key":"create_file_type","name":"Create File Type","has_level":false},{"id":36,"key":"view_file_type","name":"View File Type","has_level":false},{"id":37,"key":"edit_file_type","name":"Edit File Type","has_level":false},{"id":38,"key":"delete_file_type","name":"Delete File Type","has_level":false}],"fund":[{"id":40,"key":"list_funds","name":"List Funds","has_level":false},{"id":41,"key":"create_fund","name":"Create Fund","has_level":false},{"id":42,"key":"view_fund","name":"View Fund","has_level":false},{"id":43,"key":"edit_fund","name":"Edit Fund","has_level":false},{"id":44,"key":"delete_fund","name":"Delete Fund","has_level":false}],"location":[{"id":48,"key":"list_locations","name":"List Locations","has_level":false},{"id":49,"key":"create_location","name":"Create Location","has_level":false},{"id":50,"key":"view_location","name":"View Location","has_level":false},{"id":51,"key":"edit_location","name":"Edit Location","has_level":false},{"id":52,"key":"delete_location","name":"Delete Location","has_level":false}],"media":[{"id":53,"key":"upload_media","name":"Upload Media","has_level":false},{"id":54,"key":"update_media","name":"Update Media","has_level":false},{"id":55,"key":"delete_media","name":"Delete Media","has_level":false}],"notification":[{"id":56,"key":"list_notifications","name":"List Notifications","has_level":false},{"id":57,"key":"view_notification","name":"View Notification","has_level":false},{"id":58,"key":"delete_notification","name":"Delete Notification","has_level":false}],"organization":[{"id":59,"key":"list_organizations","name":"List Organizations","has_level":false},{"id":60,"key":"create_organization","name":"Create Organization","has_level":false},{"id":61,"key":"view_organization","name":"View Organization","has_level":false},{"id":62,"key":"edit_organization","name":"Edit Organization","has_level":false},{"id":63,"key":"delete_organization","name":"Delete Organization","has_level":false}],"phase":[{"id":66,"key":"list_phases","name":"List Phases","has_level":false},{"id":67,"key":"create_phase","name":"Create Phase","has_level":false},{"id":68,"key":"view_phase","name":"View Phase","has_level":false},{"id":69,"key":"edit_phase","name":"Edit Phase","has_level":false},{"id":70,"key":"delete_phase","name":"Delete Phase","has_level":false}],"program":[{"id":71,"key":"list_programs","name":"List Programs","has_level":false},{"id":72,"key":"create_program","name":"Create Program","has_level":false},{"id":73,"key":"view_program","name":"View Program","has_level":false},{"id":74,"key":"edit_program","name":"Edit Program","has_level":false},{"id":75,"key":"delete_program","name":"Delete Program","has_level":false}],"function":[{"id":143,"key":"list_functions","name":"List Functions","has_level":false},{"id":144,"key":"create_function","name":"Create Function","has_level":false},{"id":145,"key":"view_function","name":"View Function","has_level":false},{"id":146,"key":"edit_function","name":"Edit Function","has_level":false},{"id":147,"key":"delete_function","name":"Delete Function","has_level":false}],"options":[{"id":3,"key":"list_building_blocks","name":"List Building Blocks","has_level":false},{"id":33,"key":"list_economic_evaluations","name":"List Economic Evaluations","has_level":false},{"id":39,"key":"list_financial_evaluations","name":"List Financial Evaluations","has_level":false},{"id":92,"key":"list_risk_evaluations","name":"List Risk Evaluations","has_level":false},{"id":99,"key":"list_stakeholder_evaluations","name":"List Stakeholder Evaluations","has_level":false}],"role":[{"id":93,"key":"list_roles","name":"List Roles","has_level":false},{"id":94,"key":"create_role","name":"Create Role","has_level":false},{"id":95,"key":"view_role","name":"View Role","has_level":false},{"id":96,"key":"edit_role","name":"Edit Role","has_level":false},{"id":97,"key":"delete_role","name":"Delete Role","has_level":false}],"user":[{"id":106,"key":"list_users","name":"List Users","has_level":false},{"id":107,"key":"create_user","name":"Create User","has_level":false},{"id":108,"key":"view_user","name":"View User","has_level":false},{"id":109,"key":"edit_user","name":"Edit User","has_level":false},{"id":110,"key":"delete_user","name":"Delete User","has_level":false},{"id":111,"key":"list_user_roles","name":"List User Roles","has_level":false},{"id":112,"key":"create_user_role","name":"Create User Role","has_level":false},{"id":113,"key":"view_user_role","name":"View User Role","has_level":false},{"id":114,"key":"edit_user_role","name":"Edit User Role","has_level":false},{"id":115,"key":"delete_user_role","name":"Delete User Role","has_level":false},{"id":134,"key":"edit_permissions","name":"Edit User Permissions","has_level":false},{"id":135,"key":"edit_vacations","name":"Edit User`s Vacations","has_level":false},{"id":136,"key":"edit_profile","name":"Edit User`s Profile","has_level":false},{"id":137,"key":"view_profile","name":"View User`s Profile","has_level":false},{"id":138,"key":"user_role_select","name":"Change User Role","has_level":false},{"id":139,"key":"reset_user_password","name":"Reset User Password","has_level":false},{"id":140,"key":"edit_delegation","name":"Edit Delegation","has_level":false},{"id":151,"key":"edit_resources","name":"Edit Resources","has_level":false}],"workflow":[{"id":116,"key":"list_workflows","name":"List Workflows","has_level":false},{"id":117,"key":"create_workflow","name":"Create Workflow","has_level":false},{"id":118,"key":"view_workflow","name":"View Workflow","has_level":false},{"id":119,"key":"edit_workflow","name":"Edit Workflow","has_level":false},{"id":120,"key":"delete_workflow","name":"Delete Workflow","has_level":false},{"id":129,"key":"upload_file_to_project","name":"Upload File To Project","has_level":false},{"id":130,"key":"upload_file_to_timeline","name":"Upload File To Timeline","has_level":false}],"report":[{"id":89,"key":"view_report_builder","name":"View Report Builder","has_level":false},{"id":90,"key":"view_project_count_report","name":"View Project Count Report","has_level":false},{"id":122,"key":"export","name":"Export Data","has_level":false},{"id":123,"key":"view_psip_report","name":"View PSIP report","has_level":false}],"project_management":[{"id":124,"key":"list_project_management","name":"View Gantt Charts List","has_level":false},{"id":125,"key":"create_project_management","name":"Create Gantt Charts","has_level":false},{"id":126,"key":"view_project_management","name":"View Gantt Charts","has_level":false},{"id":127,"key":"edit_project_management","name":"Edit Gantt Charts","has_level":false},{"id":140,"key":"list_reports","name":"View Projects Reports","has_level":false}],"me_report":[{"id":2011,"key":"list_me_reports","name":"View List M&E Reports","has_level":false},{"id":2012,"key":"create_me_report","name":"Create M&E Report","has_level":false},{"id":2013,"key":"view_me_report","name":"View M&E Report","has_level":false},{"id":2014,"key":"edit_me_report","name":"Edit M&E Report","has_level":false},{"id":2015,"key":"view_limited_me_report_list","name":"View List Limited Reports","has_level":false},{"id":2016,"key":"view_all_me_report_list","name":"View List All Reports","has_level":false},{"id":2017,"key":"me_create_periodical_report","name":"Create Periodical Report","has_level":false},{"id":2018,"key":"approve_me_report","name":"Approve M&E Report","has_level":false},{"id":2019,"key":"submit_me_report","name":"Submit M&E Report","has_level":false},{"id":2020,"key":"revise_me_report","name":"Revise M&E Report","has_level":false},{"id":202,"key":"me_create_year_report","name":"Create Annual Report","has_level":false},{"id":203,"key":"me_export_report","name":"Export Report","has_level":false},{"id":204,"key":"me_edit_report","name":"Edit Report","has_level":false},{"id":205,"key":"me_show_periodical_report","name":"Show Periodical Report","has_level":false},{"id":206,"key":"me_show_year_report","name":"Show Annual Report","has_level":false},{"id":207,"key":"me_actions_report","name":"Report Actions","has_level":false},{"id":208,"key":"me_list_periodical_report","name":"View List of Periodical Reports","has_level":false},{"id":209,"key":"me_list_year_report","name":"View List of Year Reports","has_level":false}],"report_builder":[{"id":210,"key":"create_custom_report","name":"Create Custom Report","has_level":false},{"id":211,"key":"list_custom_reports","name":"List Custom Report","has_level":false},{"id":212,"key":"view_custom_report","name":"View Custom Report","has_level":false},{"id":213,"key":"edit_custom_report","name":"Edit Custom Report","has_level":false},{"id":214,"key":"delete_custom_report","name":"Delete Custom Report","has_level":false},{"id":215,"key":"save_public_custom_report","name":"Save Public Custom Report","has_level":false}],"unit":[{"id":101,"key":"list_units","name":"List Units","has_level":false},{"id":102,"key":"create_unit","name":"Create Unit","has_level":false},{"id":103,"key":"view_unit","name":"View Unit","has_level":false},{"id":104,"key":"edit_unit","name":"Edit Unit","has_level":false},{"id":105,"key":"delete_unit","name":"Delete Unit","has_level":false}],"frequencies":[{"id":1001,"key":"list_frequencies","name":"List Frequencies","has_level":false},{"id":1002,"key":"create_frequency","name":"Create Frequency","has_level":false},{"id":1003,"key":"view_frequency","name":"View Frequency","has_level":false},{"id":1004,"key":"edit_frequency","name":"Edit Frequency","has_level":false},{"id":1005,"key":"delete_frequency","name":"Delete Frequency","has_level":false}],"disaggregation-types":[{"id":1006,"key":"list_disaggregation_types","name":"List Disaggregation Types","has_level":false},{"id":1007,"key":"create_disaggregation_type","name":"Create Disaggregation Type","has_level":false},{"id":1008,"key":"view_disaggregation_type","name":"View Disaggregation Type","has_level":false},{"id":1009,"key":"edit_disaggregation_type","name":"Edit Disaggregation Type","has_level":false},{"id":1010,"key":"delete_disaggregation_type","name":"Delete Disaggregation Type","has_level":false}],"formats":[{"id":1011,"key":"list_formats","name":"List Formats","has_level":false},{"id":1012,"key":"create_format","name":"Create Format","has_level":false},{"id":1013,"key":"view_format","name":"View Format","has_level":false},{"id":1014,"key":"edit_format","name":"Edit Format","has_level":false},{"id":1015,"key":"delete_format","name":"Delete Format","has_level":false}],"indicators":[{"id":1016,"key":"list_indicators","name":"List Indicators","has_level":false},{"id":1017,"key":"create_indicator","name":"Create Indicator","has_level":false},{"id":1018,"key":"view_indicator","name":"View Indicator","has_level":false},{"id":1019,"key":"edit_indicator","name":"Edit Indicator","has_level":false},{"id":1020,"key":"delete_indicator","name":"Delete Indicator","has_level":false}],"cost_plans":[{"id":4100,"key":"list_cost_plans","name":"List Cost Plans","has_level":false},{"id":4101,"key":"view_cost_plan","name":"View Cost Plan","has_level":false},{"id":4102,"key":"edit_cost_plan","name":"Edit Cost Plan","has_level":false},{"id":4103,"key":"create_cost_plan","name":"Create Cost Plan","has_level":false}],"projected_cash_flow":[{"id":4000,"key":"list_projected_cash_flow","name":"List Projected Cash Flow","has_level":false},{"id":4001,"key":"view_projected_cash_flow","name":"View Projected Cash Flow","has_level":false},{"id":4002,"key":"add_projected_cash_flow","name":"Add Projected Cash Flow","has_level":false},{"id":4003,"key":"update_projected_cash_flow","name":"Update Projected Cash Flow","has_level":false},{"id":4004,"key":"publish_projected_cash_flow","name":"Publish Projected Cash Flow","has_level":false}],"approved_cash_flow":[{"id":4010,"key":"list_approved_cash_flow","name":"List approved Cash Flow","has_level":false},{"id":4011,"key":"view_approved_cash_flow","name":"View Approved Cash Flow","has_level":false},{"id":4012,"key":"add_approved_cash_flow","name":"Add Approved Cash Flow","has_level":false},{"id":4013,"key":"update_approved_cash_flow","name":"Update Approved Cash Flow","has_level":false},{"id":4014,"key":"publish_approved_cash_flow","name":"Publish Approved Cash Flow","has_level":false}],"adjusted_cash_flow":[{"id":4020,"key":"list_adjusted_cash_flow","name":"List adjusted Cash Flow","has_level":false},{"id":4021,"key":"view_adjusted_cash_flow","name":"View adjusted Cash Flow","has_level":false},{"id":4022,"key":"add_adjusted_cash_flow","name":"Add adjusted Cash Flow","has_level":false},{"id":4023,"key":"update_adjusted_cash_flow","name":"Update adjusted Cash Flow","has_level":false},{"id":4024,"key":"publish_adjusted_cash_flow","name":"Publish adjusted Cash Flow","has_level":false}],"warrant_request":[{"id":4030,"key":"list_warrant_request","name":"List warrant_request","has_level":false},{"id":4031,"key":"view_warrant_request","name":"View warrant_request","has_level":false},{"id":4032,"key":"add_warrant_request","name":"Add warrant_request","has_level":false},{"id":4033,"key":"update_warrant_request","name":"Update warrant_request","has_level":false},{"id":4034,"key":"publish_warrant_request","name":"Publish warrant_request","has_level":false}],"log_frame":[{"id":4040,"key":"list_log_frame","name":"List Log Frame","has_level":false},{"id":4041,"key":"edit_log_frame","name":"Edit Log Frame","has_level":false},{"id":4042,"key":"approve_log_frame","name":"Approve Log Frame","has_level":false},{"id":4043,"key":"view_log_frame","name":"View Log Frame","has_level":false}],"gantt_chart":[{"id":4050,"key":"gantt_chart_view","name":"Gantt Chart View","has_level":false},{"id":4051,"key":"gantt_chart_update","name":"Gantt Chart Update","has_level":false}],"gfms":[{"id":5000,"key":"list_gfms_data","name":"View GFMS data","has_level":false},{"id":5001,"key":"sync_gfms_data","name":"Upload GFMS data","has_level":false}],"bpms":[{"id":5010,"key":"list_bpms_data","name":"View BPMS data","has_level":false},{"id":5001,"key":"sync_bpms_data","name":"Upload BPMS data","has_level":false}],"expenditures":[{"id":6010,"key":"list_expenditures_data","name":"View Expenditures data","has_level":false},{"id":6001,"key":"sync_expenditures_data","name":"Upload Expenditures data","has_level":false}]}}')},857:function(e,t,a){},882:function(e,t,a){},946:function(e,t,a){},952:function(e){e.exports=JSON.parse('{"organizational_config":{"1":{"id":"sector","name":"sector","translation_key":"sectors"},"2":{"id":"vote","name":"vote","translation_key":"votes"},"3":{"id":"vote-function","name":"vote-function","translation_key":"vote-functions"}},"functions_config":{"1":{"id":"function","name":"Directorate","translation_key":"function"}},"programs_config":{"1":{"id":"program","name":"Programs","translation_key":"program"}},"fund_config":{"1":{"id":"fund","name":"Fund","translation_key":"fund"},"2":{"id":"fund_source","name":"Fund Source","translation_key":"fund_source"}},"cost_config":{"1":{"id":"cost_category","name":"Cost Category","translation_key":"cost_category"},"2":{"id":"cost_classification","name":"Cost Classification","translation_key":"cost_classification"}},"location_config":{"1":{"id":"central","name":"Location Name","translation_key":"central"}},"permissions_config":{"approve_project":"approve_project","create_costing":"create_costing","create_country":"create_country","create_currency":"create_currency","create_currency_rate":"create_currency_rate","create_cycle":"create_cycle","create_file_type":"create_file_type","create_fund":"create_fund","create_location":"create_location","create_organization":"create_organization","create_phase":"create_phase","create_program":"create_program","create_project":"create_project","create_role":"create_role","create_unit":"create_unit","create_user":"create_user","create_user_role":"create_user_role","create_workflow":"create_workflow","delete_costing":"delete_costing","delete_country":"delete_country","delete_currency":"delete_currency","delete_currency_rate":"delete_currency_rate","delete_cycle":"delete_cycle","delete_file_type":"delete_file_type","delete_fund":"delete_fund","delete_location":"delete_location","delete_media":"delete_media","delete_notification":"delete_notification","delete_organization":"delete_organization","delete_phase":"delete_phase","delete_program":"delete_program","delete_project":"delete_project","delete_role":"delete_role","delete_unit":"delete_unit","delete_user":"delete_user","delete_user_role":"delete_user_role","delete_workflow":"delete_workflow","edit_costing":"edit_costing","edit_country":"edit_country","edit_currency":"edit_currency","edit_currency_rate":"edit_currency_rate","edit_cycle":"edit_cycle","edit_file_type":"edit_file_type","edit_fund":"edit_fund","edit_location":"edit_location","edit_organization":"edit_organization","edit_phase":"edit_phase","edit_program":"edit_program","edit_project":"edit_project","edit_role":"edit_role","edit_unit":"edit_unit","edit_user":"edit_user","edit_user_role":"edit_user_role","edit_workflow":"edit_workflow","list_activities":"list_activities","list_building_blocks":"list_building_blocks","list_costings":"list_costings","list_countries":"list_countries","list_currencies":"list_currencies","list_currency_rate_rates":"list_currency_rate_rates","list_cycles":"list_cycles","list_economic_evaluations":"list_economic_evaluations","list_file_types":"list_file_types","list_financial_evaluations":"list_financial_evaluations","list_funds":"list_funds","list_implementing_agencies":"list_implementing_agencies","list_indicators":"list_indicators","list_investments":"list_investments","list_locations":"list_locations","list_notifications":"list_notifications","list_organizations":"list_organizations","list_outcomes":"list_outcomes","list_outputs":"list_outputs","list_phases":"list_phases","list_programs":"list_programs","list_project_locations":"list_project_locations","list_project_options":"list_project_options","list_projects":"list_projects","list_responsible_officers":"list_responsible_officers","list_risk_evaluations":"list_risk_evaluations","list_roles":"list_roles","list_stakeholder_evaluations":"list_stakeholder_evaluations","list_stakeholders":"list_stakeholders","list_timeline":"list_timeline","list_units":"list_units","list_user_roles":"list_user_roles","list_users":"list_users","list_workflows":"list_workflows","reject_project":"reject_project","revise_project":"revise_project","submit_project":"submit_project","update_media":"update_media","upload_media":"upload_media","view_costing":"view_costing","view_country":"view_country","view_currency":"view_currency","view_currency_rate":"view_currency_rate","view_cycle":"view_cycle","view_file_type":"view_file_type","view_fund":"view_fund","view_high_risk_badge":"view_high_risk_badge","view_location":"view_location","view_notification":"view_notification","view_organization":"view_organization","view_phase":"view_phase","view_program":"view_program","view_project":"view_project","view_project_count_report":"view_project_count_report","view_report_builder":"view_report_builder","view_role":"view_role","view_unit":"view_unit","view_user":"view_user","view_user_role":"view_user_role","view_workflow":"view_workflow","list_me_reports":"list_me_reports","create_me_report":"create_me_report","view_me_report":"view_me_report","edit_me_report":"edit_me_report","list_me_outputs":"list_me_outputs","list_me_activities":"list_me_activities","list_me_releases":"list_me_releases","list_reports":"list_reports","view_gantt_chart":"view_gantt_chart","view_report_viewer":"view_report_viewer","view_project_report":"view_project_report"},"modules_config":{},"application_config":{"prefix":"mzb","project_steps":{"infrastructure":{"0":["SUMMARY"],"1":["SUMMARY","RESPONSIBLE_OFFICER","BENEFICIARY","PROJECT_BACKGROUND","STRATEGIC_ALIGNMENT","RESULT_MATRIX","ADDITIONAL_INFO"],"2":["SUMMARY","RESPONSIBLE_OFFICER","BENEFICIARY","PROJECT_BACKGROUND","STRATEGIC_ALIGNMENT","RESULT_MATRIX","ADDITIONAL_INFO"],"3":["SUMMARY","RESPONSIBLE_OFFICER","BENEFICIARY","PROJECT_BACKGROUND","STRATEGIC_ALIGNMENT","INTRODUCTION","OPTIONS_ANALYSIS","RESULT_MATRIX","ADDITIONAL_INFO"],"4":["SUMMARY","RESPONSIBLE_OFFICER","BENEFICIARY","PROJECT_BACKGROUND","STRATEGIC_ALIGNMENT","INTRODUCTION","OPTIONS_ANALYSIS","OM_COSTS","RESULT_MATRIX","ADDITIONAL_INFO"],"5":["SUMMARY","RESPONSIBLE_OFFICER","BENEFICIARY","PROJECT_BACKGROUND","STRATEGIC_ALIGNMENT","INTRODUCTION","OPTIONS_ANALYSIS","OM_COSTS","RESULT_MATRIX","ADDITIONAL_INFO"],"6":["EX_POST_EVALUATION"]},"simple_acquisition":{"0":["SUMMARY"],"1":["SUMMARY","RESULT_MATRIX","STRATEGIC_ALIGNMENT","OPTIONS_APPRAISAL","OM_COSTS"]}}},"features_config":{"project_title_duplication_ckeck":{"is_global":false},"project_result_matrix_has_max_2_outcomes":{"is_global":true},"project_implementing_agencies_multiple":{"is_global":true},"project_additional_attachments":{"is_global":true},"project_stakeholders_multiple":{"is_global":true},"project_organization_study_phase_title":{"step":3},"project_options_building_blocks_show":{"step":[3]},"project_options_disable_change":{"step":[4,5]},"project_options_disable_input":{"step":[5]},"project_options_change_modality_title":{"step":[2,3,4,5]},"project_result_matrix_indicators_show":{"step":1},"project_result_matrix_outputs_investments_show":{"step":1},"project_result_matrix_goals_indicators_show":{"step":[2,3,4,5]},"project_result_matrix_outcomes_indicators_show":{"step":[2,3,4,5]},"project_result_matrix_outputs_indicators_show":{"step":[2,3,4,5]},"project_result_matrix_activity_show":{"step":[1,2,3,4,5]},"report_submission_dates_show":{"step":[2,3,4,5]},"project_report_total_cost_show":{"step":[2,3,4,5]},"project_report_submission_dates_for_phases":{"step":[3,4,5]},"project_report_organization_study_change_title":{"step":3},"project_report_me_form_report_select_show":{"step":6},"project_actions_create_me_form":{"step":6},"project_options_best_item_validation":{"step":[3,4,5]},"project_options_validate_preferred_item":{"step":[3,4,5]},"project_options_validate_mandatory_fields":{"step":[3,4,5]},"project_create_submission_button_show":{"step":0},"project_options_max_three_shortlisted_items":{"step":2},"project_options_max_one_preferred_items":{"step":3},"project_actions_export":{"is_global":true},"project_actions_timeline":{"is_global":true},"mandatory_files_in_timeline":{"step":[1]},"project_result_matrix_baseline_show":{"step":[2,3,4,5]},"validate_options":{"step":[3,4,5]},"validate_option_modules":{"step":[3,4,5]},"project_stakeholders_show":{"step":[2,3,4,5]},"project_om_cost_show":{"step":[4,5]},"project_defect_liability_show":{"step":[4,5]},"project_executive_summary_show":{"step":[3,4,5]},"export_project_word":{"is_global":true},"project_actions_comments":{"is_global":true},"is_password_expirable":{"is_global":true,"params":{"expiration_period":30}},"project_MDA_government_agencies":{"is_global":true},"project_has_government_agencies":{"is_global":true},"project_locations_multiple":{"is_global":true},"project_show_high_risk_alert":{"is_global":true},"project_change_step_label_option":{"step":[3,4,5]},"project_exec_management_plan_title_change":{"step":[2,3,4,5]},"project_implementing_strategies_show":{"step":6},"project_has_programs":{"is_global":true},"has_topbar_information_block":{"is_global":true},"has_projects_pipeline_report":{"is_global":true},"has_project_cost_evolution_report":{"is_global":true},"has_costs_and_counts_report":{"is_global":true},"has_projects_ranking_report":{"is_global":true},"has_projects_waiting_actions_report":{"is_global":true},"has_stagnant_projects_report":{"is_global":true},"has_repeated_projects_report":{"is_global":true},"has_ibp_usage_report":{"is_global":true},"has_projects_scheduled_dc_report":{"is_global":true},"has_projects_for_pap_report":{"is_global":true},"has_donors_projects_report":{"is_global":true},"has_submitted_projects_report":{"is_global":true},"project_om_cost_drop_down_selection":{"is_global":true},"project_options_has_single_form":{"step":[4,5]},"has_waiting_projects_report":{"is_global":true},"project_options_validate_options":{"step":[3,4,5]},"project_has_functions":{"is_global":true},"project_show_capital_current_ratio":{"step":[2,3,4,5]},"has_projects_categories_report":{"is_global":true},"has_reset_password_page":{"is_global":true},"has_pipeline_report":{"is_global":true,"value":4},"has_multiple_om_costs":{"is_global":true},"project_title_change_enable":{"step":[1,2]},"project_responsible_officer_multiple":{"is_global":true},"has_esnip_fields":{"is_global":true}}}')},953:function(e){e.exports=JSON.parse('{"organizational_config":{"1":{"id":"vote","name":"Vote","translation_key":"votes"},"2":{"id":"department","name":"Department","translation_key":"departments"}},"functions_config":{"1":{"id":"function","name":"Directorate","translation_key":"function"}},"programs_config":{"1":{"id":"program","name":"Programs","translation_key":"program"}},"fund_config":{"1":{"id":"fund","name":"Fund","translation_key":"fund"},"2":{"id":"fund_source","name":"Fund Source","translation_key":"fund_source"}},"cost_config":{"1":{"id":"cost_category","name":"Cost Category","translation_key":"cost_category"},"2":{"id":"cost_classification","name":"Cost Classification","translation_key":"cost_classification"}},"location_config":{"1":{"id":"region","name":"Region Name","translation_key":"region"},"2":{"id":"central","name":"Location Name","translation_key":"central"}},"permissions_config":{"approve_project":"approve_project","create_costing":"create_costing","create_country":"create_country","create_currency":"create_currency","create_currency_rate":"create_currency_rate","create_cycle":"create_cycle","create_file_type":"create_file_type","create_fund":"create_fund","create_location":"create_location","create_organization":"create_organization","create_phase":"create_phase","create_program":"create_program","create_project":"create_project","create_role":"create_role","create_unit":"create_unit","create_user":"create_user","create_user_role":"create_user_role","create_workflow":"create_workflow","delete_costing":"delete_costing","delete_country":"delete_country","delete_currency":"delete_currency","delete_currency_rate":"delete_currency_rate","delete_cycle":"delete_cycle","delete_file_type":"delete_file_type","delete_fund":"delete_fund","delete_location":"delete_location","delete_media":"delete_media","delete_notification":"delete_notification","delete_organization":"delete_organization","delete_phase":"delete_phase","delete_program":"delete_program","delete_project":"delete_project","delete_role":"delete_role","delete_unit":"delete_unit","delete_user":"delete_user","delete_user_role":"delete_user_role","delete_workflow":"delete_workflow","edit_costing":"edit_costing","edit_country":"edit_country","edit_currency":"edit_currency","edit_currency_rate":"edit_currency_rate","edit_cycle":"edit_cycle","edit_file_type":"edit_file_type","edit_fund":"edit_fund","edit_location":"edit_location","edit_organization":"edit_organization","edit_phase":"edit_phase","edit_program":"edit_program","edit_project":"edit_project","edit_role":"edit_role","edit_unit":"edit_unit","edit_user":"edit_user","edit_user_role":"edit_user_role","edit_workflow":"edit_workflow","list_activities":"list_activities","list_building_blocks":"list_building_blocks","list_costings":"list_costings","list_countries":"list_countries","list_currencies":"list_currencies","list_currency_rate_rates":"list_currency_rate_rates","list_cycles":"list_cycles","list_economic_evaluations":"list_economic_evaluations","list_file_types":"list_file_types","list_financial_evaluations":"list_financial_evaluations","list_funds":"list_funds","list_implementing_agencies":"list_implementing_agencies","list_indicators":"list_indicators","list_investments":"list_investments","list_locations":"list_locations","list_notifications":"list_notifications","list_organizations":"list_organizations","list_outcomes":"list_outcomes","list_outputs":"list_outputs","list_phases":"list_phases","list_programs":"list_programs","list_project_locations":"list_project_locations","list_project_options":"list_project_options","list_projects":"list_projects","list_responsible_officers":"list_responsible_officers","list_risk_evaluations":"list_risk_evaluations","list_roles":"list_roles","list_stakeholder_evaluations":"list_stakeholder_evaluations","list_stakeholders":"list_stakeholders","list_timeline":"list_timeline","list_units":"list_units","list_user_roles":"list_user_roles","list_users":"list_users","list_workflows":"list_workflows","reject_project":"reject_project","revise_project":"revise_project","submit_project":"submit_project","update_media":"update_media","upload_media":"upload_media","view_costing":"view_costing","view_country":"view_country","view_currency":"view_currency","view_currency_rate":"view_currency_rate","view_cycle":"view_cycle","view_file_type":"view_file_type","view_fund":"view_fund","view_high_risk_badge":"view_high_risk_badge","view_location":"view_location","view_notification":"view_notification","view_organization":"view_organization","view_phase":"view_phase","view_program":"view_program","view_project":"view_project","view_project_count_report":"view_project_count_report","view_report_builder":"view_report_builder","view_role":"view_role","view_unit":"view_unit","view_user":"view_user","view_user_role":"view_user_role","view_workflow":"view_workflow","list_me_reports":"list_me_reports","create_me_report":"create_me_report","view_me_report":"view_me_report","edit_me_report":"edit_me_report","list_me_outputs":"list_me_outputs","list_me_activities":"list_me_activities","list_me_releases":"list_me_releases","list_reports":"list_reports","view_gantt_chart":"view_gantt_chart","view_report_viewer":"view_report_viewer","view_project_report":"view_project_report","access_archive":"access_archive"},"modules_config":{},"application_config":{"prefix":"ug","project_steps":{"0":["SUMMARY"],"1":["SUMMARY","RESPONSIBLE_OFFICER","PROJECT_BACKGROUND","RESULT_MATRIX","ADDITIONAL_INFO"],"2":["SUMMARY","RESPONSIBLE_OFFICER","PROJECT_BACKGROUND","RESULT_MATRIX","ADDITIONAL_INFO"],"3":["SUMMARY","RESPONSIBLE_OFFICER","PROJECT_BACKGROUND","INTRODUCTION","RESULT_MATRIX","OPTIONS_ANALYSIS","ADDITIONAL_INFO"],"4":["SUMMARY","RESPONSIBLE_OFFICER","PROJECT_BACKGROUND","INTRODUCTION","OM_COSTS","RESULT_MATRIX","OPTIONS_ANALYSIS","ADDITIONAL_INFO"],"5":["SUMMARY","RESPONSIBLE_OFFICER","PROJECT_BACKGROUND","BEHAVIOR_CHANGE","OM_COSTS","RESULT_MATRIX","OPTIONS_ANALYSIS","ADDITIONAL_INFO"],"6":["BUDGET_ALLOCATION"],"7":["SUMMARY"],"8":["EX_POST_EVALUATION"]},"project_steps_retooling":{"0":["SUMMARY"],"1":["SUMMARY","RESPONSIBLE_OFFICER","PROJECT_BACKGROUND","RESULT_MATRIX","ADDITIONAL_INFO"],"2":["SUMMARY","RESPONSIBLE_OFFICER","PROJECT_BACKGROUND","RESULT_MATRIX","ADDITIONAL_INFO"],"5":["SUMMARY","RESPONSIBLE_OFFICER","PROJECT_BACKGROUND","RESULT_MATRIX","ADDITIONAL_INFO"],"6":["BUDGET_ALLOCATION"],"7":["SUMMARY"],"8":["EX_POST_EVALUATION"]}},"features_config":{"project_responsible_officer_default_phone_code":{"is_global":true},"project_responsible_officer_has_coordinator":{"is_global":true},"project_title_duplication_ckeck":{"is_global":false},"project_dates_fiscal_years":{"is_global":true},"project_result_matrix_has_max_2_outcomes":{"is_global":true},"project_implementing_agencies_multiple":{"is_global":true},"project_additional_attachments":{"is_global":true},"project_stakeholders_multiple":{"is_global":true},"project_organization_study_phase_title":{"step":3},"project_options_building_blocks_show":{"step":[3]},"project_options_disable_change":{"step":[4,5]},"project_options_disable_input":{"step":[5]},"project_options_change_modality_title":{"step":[2,3,4,5]},"project_result_matrix_indicators_show":{"step":1},"project_result_matrix_outputs_investments_show":{"step":1},"project_result_matrix_activity_investments_show":{"step":[2,3,4,5]},"project_result_matrix_goals_indicators_show":{"step":[2,3,4,5]},"project_result_matrix_outcomes_indicators_show":{"step":[2,3,4,5]},"project_result_matrix_outputs_indicators_show":{"step":[2,3,4,5]},"project_result_matrix_activity_show":{"step":[2,3,4,5]},"report_submission_dates_show":{"step":[2,3,4,5]},"project_report_total_cost_show":{"step":[2,3,4,5]},"project_report_submission_dates_for_phases":{"step":[3,4,5]},"project_report_organization_study_change_title":{"step":3},"project_report_me_form_report_select_show":{"step":7},"project_actions_create_me_form":{"step":7},"project_options_best_item_validation":{"step":[3,4,5]},"project_options_validate_preferred_item":{"step":[3,4,5]},"project_options_validate_mandatory_fields":{"step":[3,4,5]},"project_create_submission_button_show":{"step":0},"project_options_max_three_shortlisted_items":{"step":2},"project_options_max_one_preferred_items":{"step":3},"project_actions_export":{"is_global":true},"project_actions_timeline":{"is_global":true},"has_legacy_ndp":{"step":[1,2,3,4,5]},"mandatory_files_in_timeline":{"step":[1]},"project_result_matrix_baseline_show":{"step":[2,3,4,5]},"validate_options":{"step":[3,4,5]},"validate_option_modules":{"step":[3,4,5]},"project_stakeholders_show":{"step":[2,3,4,5]},"project_om_cost_show":{"step":[4,5]},"project_defect_liability_show":{"step":[4,5]},"project_executive_summary_show":{"step":[3,4,5]},"export_project_word":{"is_global":true},"project_actions_comments":{"is_global":true},"is_password_expirable":{"is_global":true,"params":{"expiration_period":30}},"project_MDA_government_agencies":{"is_global":true},"project_has_government_agencies":{"is_global":true},"project_locations_multiple":{"is_global":true},"project_show_high_risk_alert":{"is_global":true},"project_change_step_label_option":{"step":[3,4,5]},"project_exec_management_plan_title_change":{"step":[2,3,4,5]},"project_implementing_strategies_show":{"step":7},"project_has_programs":{"is_global":true},"has_strategic_alignment":{"step":[1,2,3,4,5]},"has_topbar_information_block":{"is_global":true},"has_projects_pipeline_report":{"is_global":true},"has_fiscal_load_report":{"is_global":true},"has_project_cost_evolution_report":{"is_global":true},"has_costs_and_counts_report":{"is_global":true},"has_projects_ranking_report":{"is_global":true},"has_projects_waiting_actions_report":{"is_global":true},"has_stagnant_projects_report":{"is_global":true},"has_repeated_projects_report":{"is_global":true},"has_ibp_usage_report":{"is_global":true},"has_projects_scheduled_dc_report":{"is_global":true},"has_projects_for_pap_report":{"is_global":true},"has_donors_projects_report":{"is_global":true},"has_submitted_projects_report":{"is_global":true},"project_om_cost_drop_down_selection":{"is_global":true},"project_options_has_single_form":{"step":[4,5]},"has_waiting_projects_report":{"is_global":true},"project_options_validate_options":{"step":[3,4,5]},"project_has_functions":{"is_global":true},"project_show_capital_current_ratio":{"step":[2,3,4,5]},"has_project_duration_field":{"is_global":true},"project_has_google_map":{"is_global":true},"project_locations_geomap":{"is_global":true},"has_projects_categories_report":{"is_global":true},"has_reset_password_page":{"is_global":true},"has_pipeline_report":{"is_global":true,"value":5},"has_pipeline_report_step":{"is_global":true,"value":18},"has_multiple_om_costs":{"is_global":true},"has_projects_location_report":{"is_global":true},"project_title_change_enable":{"step":[1,2]},"me_project_export":{"is_global":true},"has_me_project_reporting":{"is_global":true},"project_has_budget_allocation":{"step":6},"project_actions_edit_project_management":{"step":7},"project_post_evaluation_show":{"step":[3,4,5,6,7]},"has_completion_report":{"step":[7,8]},"has_expost_report":{"step":[7,8]},"has_ibp_fields":{"is_global":true},"project_has_myc_data_entry":{"step":7},"project_has_myc_report":{"is_global":true},"project_has_project_ranking":{"is_global":true},"project_has_project_ranking_report":{"is_global":true},"has_implementation_reports":{"is_global":true},"has_completion_report_show":{"step":7},"has_report_management":{"is_global":true},"has_integrations_amp":{"is_global":true},"has_integrations_pbs":{"is_global":true},"has_integrations_ifmis":{"is_global":true},"has_custom_reports":{"is_global":true},"has_project_completion":{"is_global":true},"has_behaviour_form_fields":{"step":[5]},"project_has_amp_data":{"step":[7]},"has_integrations_ndp":{"is_global":true},"has_supervisor_manager":{"is_global":true},"has_om_responsible_vote":{"step":4},"has_budgeting_coordinator":{"is_global":true},"has_retooling_project_attachment":{"step":1,"value":17},"has_roles_organization_level":{"is_global":true},"has_additional_funding_source_question":{"step":5},"has_appeals":{"is_global":true},"project_has_appealed_projects_report":{"is_global":true},"has_retooling_skip_phases":{"is_global":true},"has_projects_costs_chart":{"is_global":true}}}')},954:function(e){e.exports=JSON.parse('{"organizational_config":{"1":{"id":"ministry","name":"Ministry","translation_key":"ministry"},"2":{"id":"departments","name":"Departments","translation_key":"departments"},"3":{"id":"public_body","name":"Other Organizations","translation_key":"public_body"}},"programs_config":{"1":{"id":"program","name":"Programs","translation_key":"program"},"2":{"id":"sub_program","name":"Sub Programs","translation_key":"sub_program"}},"functions_config":{"1":{"id":"function","name":"Function","translation_key":"function"},"2":{"id":"sub_function","name":"Sub Function","translation_key":"sub_function"}},"fund_config":{"1":{"id":"fund","name":"Fund Source","translation_key":"fund"}},"cost_config":{"1":{"id":"cost_class","name":"Cost Class","translation_key":"cost_class"},"2":{"id":"cost_object","name":"Cost Object","translation_key":"cost_object"},"3":{"id":"cost_sub_object","name":"Cost Sub-Object","translation_key":"cost_sub_object"},"4":{"id":"cost_detail_sub_object","name":"Cost Detailed Sub-Object","translation_key":"cost_detail_sub_object"}},"location_config":{"1":{"id":"central","name":"Parish","translation_key":"central"},"2":{"id":"province","name":"Constituency","translation_key":"province"}},"permissions_config":{"approve_project":"approve_project","create_costing":"create_costing","create_country":"create_country","create_currency":"create_currency","create_currency_rate":"create_currency_rate","create_cycle":"create_cycle","create_file_type":"create_file_type","create_fund":"create_fund","create_location":"create_location","create_organization":"create_organization","create_phase":"create_phase","create_program":"create_program","create_project":"create_project","create_role":"create_role","create_unit":"create_unit","create_user":"create_user","create_user_role":"create_user_role","create_workflow":"create_workflow","delete_costing":"delete_costing","delete_country":"delete_country","delete_currency":"delete_currency","delete_currency_rate":"delete_currency_rate","delete_cycle":"delete_cycle","delete_file_type":"delete_file_type","delete_fund":"delete_fund","delete_location":"delete_location","delete_media":"delete_media","delete_notification":"delete_notification","delete_organization":"delete_organization","delete_phase":"delete_phase","delete_program":"delete_program","delete_project":"delete_project","delete_role":"delete_role","delete_unit":"delete_unit","delete_user":"delete_user","delete_user_role":"delete_user_role","delete_workflow":"delete_workflow","edit_costing":"edit_costing","edit_country":"edit_country","edit_currency":"edit_currency","edit_currency_rate":"edit_currency_rate","edit_cycle":"edit_cycle","edit_file_type":"edit_file_type","edit_fund":"edit_fund","edit_location":"edit_location","edit_organization":"edit_organization","edit_phase":"edit_phase","edit_program":"edit_program","edit_project":"edit_project","edit_role":"edit_role","edit_unit":"edit_unit","edit_user":"edit_user","edit_user_role":"edit_user_role","edit_workflow":"edit_workflow","list_activities":"list_activities","list_building_blocks":"list_building_blocks","list_costings":"list_costings","list_countries":"list_countries","list_currencies":"list_currencies","list_currency_rate_rates":"list_currency_rate_rates","list_cycles":"list_cycles","list_economic_evaluations":"list_economic_evaluations","list_file_types":"list_file_types","list_financial_evaluations":"list_financial_evaluations","list_funds":"list_funds","list_implementing_agencies":"list_implementing_agencies","list_indicators":"list_indicators","list_investments":"list_investments","list_locations":"list_locations","list_notifications":"list_notifications","list_organizations":"list_organizations","list_outcomes":"list_outcomes","list_outputs":"list_outputs","list_phases":"list_phases","list_programs":"list_programs","list_project_locations":"list_project_locations","list_project_options":"list_project_options","list_projects":"list_projects","list_responsible_officers":"list_responsible_officers","list_risk_evaluations":"list_risk_evaluations","list_roles":"list_roles","list_stakeholder_evaluations":"list_stakeholder_evaluations","list_stakeholders":"list_stakeholders","list_timeline":"list_timeline","list_units":"list_units","list_user_roles":"list_user_roles","list_users":"list_users","list_workflows":"list_workflows","reject_project":"reject_project","revise_project":"revise_project","submit_project":"submit_project","update_media":"update_media","upload_media":"upload_media","view_costing":"view_costing","view_country":"view_country","view_currency":"view_currency","view_currency_rate":"view_currency_rate","view_cycle":"view_cycle","view_file_type":"view_file_type","view_fund":"view_fund","view_high_risk_badge":"view_high_risk_badge","view_location":"view_location","view_notification":"view_notification","view_organization":"view_organization","view_phase":"view_phase","view_program":"view_program","view_project":"view_project","view_project_count_report":"view_project_count_report","view_report_builder":"view_report_builder","view_role":"view_role","view_unit":"view_unit","view_user":"view_user","view_user_role":"view_user_role","view_workflow":"view_workflow","list_me_reports":"list_me_reports","create_me_report":"create_me_report","view_me_report":"view_me_report","edit_me_report":"edit_me_report","list_me_outputs":"list_me_outputs","list_me_activities":"list_me_activities","list_me_releases":"list_me_releases","list_reports":"list_reports","view_gantt_chart":"view_gantt_chart","view_report_viewer":"view_report_viewer","view_project_report":"view_project_report"},"modules_config":{},"application_config":{"prefix":"jm","project_steps":{"0":["SUMMARY"],"1":["SUMMARY","PROJECT_BACKGROUND","NDP","COST_ESTIMATES","PROCUREMENT","OPTIONS_ANALYSIS","ADDITIONAL_INFO"],"2":["SUMMARY","PROJECT_BACKGROUND","RISK_ASSESSMENT","CLIMATE_RISK_ASSESSMENT","STAKEHOLDERS","NDP","COST_ESTIMATES","RESULT_MATRIX","OM_COSTS","PROCUREMENT","OPTIONS_ANALYSIS","ADDITIONAL_INFO"],"3":["BUDGET_ALLOCATION"],"4":["COST_ESTIMATES","RESULT_MATRIX"]}},"features_config":{"project_title_duplication_ckeck":{"is_global":false},"project_dates_fiscal_years":{"is_global":true},"project_implementing_agencies_multiple":{"is_global":true},"project_additional_attachments":{"is_global":true},"project_stakeholders_multiple":{"is_global":true},"project_organization_study_phase_title":{"step":3},"project_options_building_blocks_show":{"step":[2,3,4,5]},"project_options_disable_change":{"step":[3,4,5]},"project_options_change_modality_title":{"step":[2,3,4,5]},"project_result_matrix_indicators_show":{"step":1},"project_result_matrix_components_investments_show":{"step":[1,2]},"report_submission_dates_show":{"step":[2,3,4,5]},"project_report_total_cost_show":{"step":[2,3,4,5]},"project_report_submission_dates_for_phases":{"step":3},"project_report_organization_study_change_title":{"step":3},"project_report_me_form_report_select_show":{"step":4},"project_actions_create_me_form":{"step":4},"project_actions_edit_project_management":{"step":4},"project_options_best_item_validation":{"step":[3,4,5]},"project_options_validate_preferred_item":{"step":[3,4,5]},"project_options_validate_mandatory_fields":{"step":[3,4,5]},"project_create_submission_button_show":{"step":0},"project_options_max_three_shortlisted_items":{"step":2},"project_options_max_one_preferred_items":{"step":3},"project_actions_export":{"is_global":true},"project_actions_timeline":{"is_global":true},"validate_options":{"step":[2,3,4,5]},"validate_option_modules":{"step":[1,2,3,4,5]},"project_stakeholders_show":{"step":[1,2,3,4,5]},"project_om_cost_show":{"step":[2,3,4,5]},"project_defect_liability_show":{"step":[4,5]},"project_post_evaluation_show":{"step":[3,4,5]},"project_executive_summary_show":{"step":[3,4,5]},"export_project_word":{"is_global":true},"project_actions_comments":{"is_global":true},"is_password_expirable":{"is_global":true,"params":{"expiration_period":30}},"project_MDA_government_agencies":{"is_global":true},"project_show_high_risk_alert":{"is_global":true},"project_change_step_label_option":{"step":[3,4,5]},"project_exec_management_plan_title_change":{"step":[2,3,4,5]},"project_implementing_strategies_show":{"step":6},"project_responsible_officer_multiple":{"is_global":true},"project_locations_multiple":{"is_global":true},"project_has_programs":{"is_global":true},"has_report_management":{"is_global":true},"has_project_management":{"is_global":true},"has_project_portfolio":{"is_global":true},"has_pimis_fields":{"is_global":true},"has_project_options_modules":{"step":[2]},"show_pimis_risk_assessment_table":{"step":[2]},"has_pimis_stakeholders_table":{"step":[2]},"has_pimis_climate_risks_table":{"step":[2]},"hasNdpStrategySelector":{"is_global":true},"project_result_matrix_baseline_show":{"step":[1,2,4]},"has_completed_projects_report":{"is_global":true},"has_project_cost_evolution_report":{"is_global":true},"has_costs_and_counts_report":{"is_global":true},"has_projects_ranking_report":{"is_global":true},"has_projects_waiting_actions_report":{"is_global":true},"has_repeated_projects_report":{"is_global":true},"has_project_resource_management":{"is_global":true},"has_me_report":{"is_global":true},"project_has_budget_allocation":{"step":3},"has_pipeline_report":{"is_global":true,"value":3},"has_pipeline_portfolio_report":{"is_global":true},"has_barchart_dashboard":{"is_global":true},"has_reset_password_page":{"is_global":true},"has_validation_button":{"is_global":true},"has_default_array_input_value":{"is_global":true},"has_multiple_om_costs":{"is_global":true},"has_saving_validation_errors":{"is_global":true},"project_has_functions":{"is_global":true},"has_projects_programs_report":{"is_global":true},"has_projects_functions_report":{"is_global":true},"has_usefull_links_page":{"is_global":true},"has_projects_ndp_goals_report":{"is_global":true},"project_data_change_enable":{"step":[1,2]},"project_has_proposed_funding_source":{"step":[1,2]},"me_project_export":{"is_global":true},"has_me_project_reporting":{"is_global":true},"has_completion_report":{"step":[4,5]},"has_expost_report":{"step":[4,5]},"has_user_reset_password_button":{"is_global":true},"project_has_array_revenue_source":{"is_global":true},"has_milestone_component_selector":{"step":[1]},"project_result_matrix_goals_description_show":{"is_global":true},"project_result_matrix_outcomes_description_show":{"is_global":true},"has_components_total_cost":{"step":[1]},"has_outputs_total_cost":{"step":[2,3,4,5]},"project_has_sectors":{"is_global":true},"has_filter_panel":{"is_global":true},"has_custom_reports":{"is_global":true},"project_has_log_frame_data_edit":{"step":[4]},"project_indicators_edit":{"step":[4]},"project_has_log_frame_data_edit_form":{"is_global":true},"project_result_matrix_activity_show":{"step":[4]},"has_dates_activity_interval":{"is_global":true},"has_budget_initiation":{"step":[3]},"has_workplans":{"is_global":true},"workplans_create_period":{"is_global":true,"value":"01/08-30/08"},"fiscal_year_start_date":{"is_global":true,"value":"01/04"},"has_filtered_fund_body_type":{"is_global":true},"has_stepper_scroll_arrows":{"is_global":true},"has_public_custom_report":{"is_global":true},"has_validation_panel":{"is_global":true},"has_integrations_bmps":{"is_global":true},"has_integrations_gfms":{"is_global":true},"project_has_bpms_data":{"step":[3,4,5]},"project_has_gfms_data":{"is_global":true}}}')}},[[1152,1,2]]]);
//# sourceMappingURL=main.7ad101e0.chunk.js.map